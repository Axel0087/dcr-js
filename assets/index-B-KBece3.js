(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ua(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ON(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),n}var zy={exports:{}},Lc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function RN(){if(Wb)return Lc;Wb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,s){var u=null;if(s!==void 0&&(u=""+s),a.key!==void 0&&(u=""+a.key),"key"in a){s={};for(var l in a)l!=="key"&&(s[l]=a[l])}else s=a;return a=s.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:s}}return Lc.Fragment=e,Lc.jsx=n,Lc.jsxs=n,Lc}var Qb;function NN(){return Qb||(Qb=1,zy.exports=RN()),zy.exports}var J=NN(),Uy={exports:{}},ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb;function DN(){if(Jb)return ae;Jb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(G){return G===null||typeof G!="object"?null:(G=g&&G[g]||G["@@iterator"],typeof G=="function"?G:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,M={};function O(G,H,K){this.props=G,this.context=H,this.refs=M,this.updater=K||_}O.prototype.isReactComponent={},O.prototype.setState=function(G,H){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,H,"setState")},O.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function S(){}S.prototype=O.prototype;function x(G,H,K){this.props=G,this.context=H,this.refs=M,this.updater=K||_}var m=x.prototype=new S;m.constructor=x,E(m,O.prototype),m.isPureReactComponent=!0;var w=Array.isArray,C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function B(G,H,K,nt,tt,xt){return K=xt.ref,{$$typeof:t,type:G,key:H,ref:K!==void 0?K:null,props:xt}}function P(G,H){return B(G.type,H,void 0,void 0,void 0,G.props)}function T(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function j(G){var H={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(K){return H[K]})}var z=/\/+/g;function I(G,H){return typeof G=="object"&&G!==null&&G.key!=null?j(""+G.key):H.toString(36)}function F(){}function at(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(F,F):(G.status="pending",G.then(function(H){G.status==="pending"&&(G.status="fulfilled",G.value=H)},function(H){G.status==="pending"&&(G.status="rejected",G.reason=H)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function Et(G,H,K,nt,tt){var xt=typeof G;(xt==="undefined"||xt==="boolean")&&(G=null);var wt=!1;if(G===null)wt=!0;else switch(xt){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(G.$$typeof){case t:case e:wt=!0;break;case p:return wt=G._init,Et(wt(G._payload),H,K,nt,tt)}}if(wt)return tt=tt(G),wt=nt===""?"."+I(G,0):nt,w(tt)?(K="",wt!=null&&(K=wt.replace(z,"$&/")+"/"),Et(tt,H,K,"",function(W){return W})):tt!=null&&(T(tt)&&(tt=P(tt,K+(tt.key==null||G&&G.key===tt.key?"":(""+tt.key).replace(z,"$&/")+"/")+wt)),H.push(tt)),1;wt=0;var k=nt===""?".":nt+":";if(w(G))for(var L=0;L<G.length;L++)nt=G[L],xt=k+I(nt,L),wt+=Et(nt,H,K,xt,tt);else if(L=v(G),typeof L=="function")for(G=L.call(G),L=0;!(nt=G.next()).done;)nt=nt.value,xt=k+I(nt,L++),wt+=Et(nt,H,K,xt,tt);else if(xt==="object"){if(typeof G.then=="function")return Et(at(G),H,K,nt,tt);throw H=String(G),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return wt}function it(G,H,K){if(G==null)return G;var nt=[],tt=0;return Et(G,nt,"","",function(xt){return H.call(K,xt,tt++)}),nt}function lt(G){if(G._status===-1){var H=G._result;H=H(),H.then(function(K){(G._status===0||G._status===-1)&&(G._status=1,G._result=K)},function(K){(G._status===0||G._status===-1)&&(G._status=2,G._result=K)}),G._status===-1&&(G._status=0,G._result=H)}if(G._status===1)return G._result.default;throw G._result}var Mt=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)};function zt(){}return ae.Children={map:it,forEach:function(G,H,K){it(G,function(){H.apply(this,arguments)},K)},count:function(G){var H=0;return it(G,function(){H++}),H},toArray:function(G){return it(G,function(H){return H})||[]},only:function(G){if(!T(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},ae.Component=O,ae.Fragment=n,ae.Profiler=a,ae.PureComponent=x,ae.StrictMode=r,ae.Suspense=f,ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,ae.act=function(){throw Error("act(...) is not supported in production builds of React.")},ae.cache=function(G){return function(){return G.apply(null,arguments)}},ae.cloneElement=function(G,H,K){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var nt=E({},G.props),tt=G.key,xt=void 0;if(H!=null)for(wt in H.ref!==void 0&&(xt=void 0),H.key!==void 0&&(tt=""+H.key),H)!A.call(H,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&H.ref===void 0||(nt[wt]=H[wt]);var wt=arguments.length-2;if(wt===1)nt.children=K;else if(1<wt){for(var k=Array(wt),L=0;L<wt;L++)k[L]=arguments[L+2];nt.children=k}return B(G.type,tt,void 0,void 0,xt,nt)},ae.createContext=function(G){return G={$$typeof:u,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:s,_context:G},G},ae.createElement=function(G,H,K){var nt,tt={},xt=null;if(H!=null)for(nt in H.key!==void 0&&(xt=""+H.key),H)A.call(H,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(tt[nt]=H[nt]);var wt=arguments.length-2;if(wt===1)tt.children=K;else if(1<wt){for(var k=Array(wt),L=0;L<wt;L++)k[L]=arguments[L+2];tt.children=k}if(G&&G.defaultProps)for(nt in wt=G.defaultProps,wt)tt[nt]===void 0&&(tt[nt]=wt[nt]);return B(G,xt,void 0,void 0,null,tt)},ae.createRef=function(){return{current:null}},ae.forwardRef=function(G){return{$$typeof:l,render:G}},ae.isValidElement=T,ae.lazy=function(G){return{$$typeof:p,_payload:{_status:-1,_result:G},_init:lt}},ae.memo=function(G,H){return{$$typeof:h,type:G,compare:H===void 0?null:H}},ae.startTransition=function(G){var H=C.T,K={};C.T=K;try{var nt=G(),tt=C.S;tt!==null&&tt(K,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(zt,Mt)}catch(xt){Mt(xt)}finally{C.T=H}},ae.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},ae.use=function(G){return C.H.use(G)},ae.useActionState=function(G,H,K){return C.H.useActionState(G,H,K)},ae.useCallback=function(G,H){return C.H.useCallback(G,H)},ae.useContext=function(G){return C.H.useContext(G)},ae.useDebugValue=function(){},ae.useDeferredValue=function(G,H){return C.H.useDeferredValue(G,H)},ae.useEffect=function(G,H){return C.H.useEffect(G,H)},ae.useId=function(){return C.H.useId()},ae.useImperativeHandle=function(G,H,K){return C.H.useImperativeHandle(G,H,K)},ae.useInsertionEffect=function(G,H){return C.H.useInsertionEffect(G,H)},ae.useLayoutEffect=function(G,H){return C.H.useLayoutEffect(G,H)},ae.useMemo=function(G,H){return C.H.useMemo(G,H)},ae.useOptimistic=function(G,H){return C.H.useOptimistic(G,H)},ae.useReducer=function(G,H,K){return C.H.useReducer(G,H,K)},ae.useRef=function(G){return C.H.useRef(G)},ae.useState=function(G){return C.H.useState(G)},ae.useSyncExternalStore=function(G,H,K){return C.H.useSyncExternalStore(G,H,K)},ae.useTransition=function(){return C.H.useTransition()},ae.version="19.0.0",ae}var tE;function kv(){return tE||(tE=1,Uy.exports=DN()),Uy.exports}var Pt=kv();const ye=ua(Pt);var Hy={exports:{}},Pc={},Fy={exports:{}},Xy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eE;function LN(){return eE||(eE=1,function(t){function e(it,lt){var Mt=it.length;it.push(lt);t:for(;0<Mt;){var zt=Mt-1>>>1,G=it[zt];if(0<a(G,lt))it[zt]=lt,it[Mt]=G,Mt=zt;else break t}}function n(it){return it.length===0?null:it[0]}function r(it){if(it.length===0)return null;var lt=it[0],Mt=it.pop();if(Mt!==lt){it[0]=Mt;t:for(var zt=0,G=it.length,H=G>>>1;zt<H;){var K=2*(zt+1)-1,nt=it[K],tt=K+1,xt=it[tt];if(0>a(nt,Mt))tt<G&&0>a(xt,nt)?(it[zt]=xt,it[tt]=Mt,zt=tt):(it[zt]=nt,it[K]=Mt,zt=K);else if(tt<G&&0>a(xt,Mt))it[zt]=xt,it[tt]=Mt,zt=tt;else break t}}return lt}function a(it,lt){var Mt=it.sortIndex-lt.sortIndex;return Mt!==0?Mt:it.id-lt.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,l=u.now();t.unstable_now=function(){return u.now()-l}}var f=[],h=[],p=1,g=null,v=3,_=!1,E=!1,M=!1,O=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function m(it){for(var lt=n(h);lt!==null;){if(lt.callback===null)r(h);else if(lt.startTime<=it)r(h),lt.sortIndex=lt.expirationTime,e(f,lt);else break;lt=n(h)}}function w(it){if(M=!1,m(it),!E)if(n(f)!==null)E=!0,at();else{var lt=n(h);lt!==null&&Et(w,lt.startTime-it)}}var C=!1,A=-1,B=5,P=-1;function T(){return!(t.unstable_now()-P<B)}function j(){if(C){var it=t.unstable_now();P=it;var lt=!0;try{t:{E=!1,M&&(M=!1,S(A),A=-1),_=!0;var Mt=v;try{e:{for(m(it),g=n(f);g!==null&&!(g.expirationTime>it&&T());){var zt=g.callback;if(typeof zt=="function"){g.callback=null,v=g.priorityLevel;var G=zt(g.expirationTime<=it);if(it=t.unstable_now(),typeof G=="function"){g.callback=G,m(it),lt=!0;break e}g===n(f)&&r(f),m(it)}else r(f);g=n(f)}if(g!==null)lt=!0;else{var H=n(h);H!==null&&Et(w,H.startTime-it),lt=!1}}break t}finally{g=null,v=Mt,_=!1}lt=void 0}}finally{lt?z():C=!1}}}var z;if(typeof x=="function")z=function(){x(j)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,F=I.port2;I.port1.onmessage=j,z=function(){F.postMessage(null)}}else z=function(){O(j,0)};function at(){C||(C=!0,z())}function Et(it,lt){A=O(function(){it(t.unstable_now())},lt)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(it){it.callback=null},t.unstable_continueExecution=function(){E||_||(E=!0,at())},t.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<it?Math.floor(1e3/it):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(it){switch(v){case 1:case 2:case 3:var lt=3;break;default:lt=v}var Mt=v;v=lt;try{return it()}finally{v=Mt}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(it,lt){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var Mt=v;v=it;try{return lt()}finally{v=Mt}},t.unstable_scheduleCallback=function(it,lt,Mt){var zt=t.unstable_now();switch(typeof Mt=="object"&&Mt!==null?(Mt=Mt.delay,Mt=typeof Mt=="number"&&0<Mt?zt+Mt:zt):Mt=zt,it){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=Mt+G,it={id:p++,callback:lt,priorityLevel:it,startTime:Mt,expirationTime:G,sortIndex:-1},Mt>zt?(it.sortIndex=Mt,e(h,it),n(f)===null&&it===n(h)&&(M?(S(A),A=-1):M=!0,Et(w,Mt-zt))):(it.sortIndex=G,e(f,it),E||_||(E=!0,at())),it},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(it){var lt=v;return function(){var Mt=v;v=lt;try{return it.apply(this,arguments)}finally{v=Mt}}}}(Xy)),Xy}var nE;function PN(){return nE||(nE=1,Fy.exports=LN()),Fy.exports}var qy={exports:{}},In={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function BN(){if(rE)return In;rE=1;var t=kv();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return In.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,In.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},In.flushSync=function(f){var h=u.T,p=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=h,r.p=p,r.d.f()}},In.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},In.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},In.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=l(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:_}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},In.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=l(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},In.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=l(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},In.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=l(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},In.requestFormReset=function(f){r.d.r(f)},In.unstable_batchedUpdates=function(f,h){return f(h)},In.useFormState=function(f,h,p){return u.H.useFormState(f,h,p)},In.useFormStatus=function(){return u.H.useHostTransitionStatus()},In.version="19.0.0",In}var iE;function kN(){if(iE)return qy.exports;iE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qy.exports=BN(),qy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function IN(){if(oE)return Pc;oE=1;var t=PN(),e=kv(),n=kN();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var s=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),_=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),w=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function A(i){return i===null||typeof i!="object"?null:(i=C&&i[C]||i["@@iterator"],typeof i=="function"?i:null)}var B=Symbol.for("react.client.reference");function P(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===B?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case f:return"Fragment";case l:return"Portal";case p:return"Profiler";case h:return"StrictMode";case M:return"Suspense";case O:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case _:return(i.displayName||"Context")+".Provider";case v:return(i._context.displayName||"Context")+".Consumer";case E:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case S:return o=i.displayName||null,o!==null?o:P(i.type)||"Memo";case x:o=i._payload,i=i._init;try{return P(i(o))}catch{}}return null}var T=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=Object.assign,z,I;function F(i){if(z===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||"",I=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+z+i+I}var at=!1;function Et(i,o){if(!i||at)return"";at=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var At=function(){throw Error()};if(Object.defineProperty(At.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(At,[])}catch(vt){var pt=vt}Reflect.construct(i,[],At)}else{try{At.call()}catch(vt){pt=vt}i.call(At.prototype)}}else{try{throw Error()}catch(vt){pt=vt}(At=i())&&typeof At.catch=="function"&&At.catch(function(){})}}catch(vt){if(vt&&pt&&typeof vt.stack=="string")return[vt.stack,pt.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),D=b[0],X=b[1];if(D&&X){var Z=D.split(`
`),ot=X.split(`
`);for(y=d=0;d<Z.length&&!Z[d].includes("DetermineComponentFrameRoot");)d++;for(;y<ot.length&&!ot[y].includes("DetermineComponentFrameRoot");)y++;if(d===Z.length||y===ot.length)for(d=Z.length-1,y=ot.length-1;1<=d&&0<=y&&Z[d]!==ot[y];)y--;for(;1<=d&&0<=y;d--,y--)if(Z[d]!==ot[y]){if(d!==1||y!==1)do if(d--,y--,0>y||Z[d]!==ot[y]){var bt=`
`+Z[d].replace(" at new "," at ");return i.displayName&&bt.includes("<anonymous>")&&(bt=bt.replace("<anonymous>",i.displayName)),bt}while(1<=d&&0<=y);break}}}finally{at=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?F(c):""}function it(i){switch(i.tag){case 26:case 27:case 5:return F(i.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 15:return i=Et(i.type,!1),i;case 11:return i=Et(i.type.render,!1),i;case 1:return i=Et(i.type,!0),i;default:return""}}function lt(i){try{var o="";do o+=it(i),i=i.return;while(i);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Mt(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function zt(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function G(i){if(Mt(i)!==i)throw Error(r(188))}function H(i){var o=i.alternate;if(!o){if(o=Mt(i),o===null)throw Error(r(188));return o!==i?null:i}for(var c=i,d=o;;){var y=c.return;if(y===null)break;var b=y.alternate;if(b===null){if(d=y.return,d!==null){c=d;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===c)return G(y),i;if(b===d)return G(y),o;b=b.sibling}throw Error(r(188))}if(c.return!==d.return)c=y,d=b;else{for(var D=!1,X=y.child;X;){if(X===c){D=!0,c=y,d=b;break}if(X===d){D=!0,d=y,c=b;break}X=X.sibling}if(!D){for(X=b.child;X;){if(X===c){D=!0,c=b,d=y;break}if(X===d){D=!0,d=b,c=y;break}X=X.sibling}if(!D)throw Error(r(189))}}if(c.alternate!==d)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:o}function K(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=K(i),o!==null)return o;i=i.sibling}return null}var nt=Array.isArray,tt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xt={pending:!1,data:null,method:null,action:null},wt=[],k=-1;function L(i){return{current:i}}function W(i){0>k||(i.current=wt[k],wt[k]=null,k--)}function q(i,o){k++,wt[k]=i.current,i.current=o}var Tt=L(null),Rt=L(null),Ct=L(null),dt=L(null);function mt(i,o){switch(q(Ct,o),q(Rt,i),q(Tt,null),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?Cb(o):0;break;default:if(i=i===8?o.parentNode:o,o=i.tagName,i=i.namespaceURI)i=Cb(i),o=Mb(i,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}W(Tt),q(Tt,o)}function kt(){W(Tt),W(Rt),W(Ct)}function Lt(i){i.memoizedState!==null&&q(dt,i);var o=Tt.current,c=Mb(o,i.type);o!==c&&(q(Rt,i),q(Tt,c))}function Bt(i){Rt.current===i&&(W(Tt),W(Rt)),dt.current===i&&(W(dt),Ac._currentValue=xt)}var te=Object.prototype.hasOwnProperty,It=t.unstable_scheduleCallback,Xt=t.unstable_cancelCallback,Vt=t.unstable_shouldYield,fe=t.unstable_requestPaint,Dt=t.unstable_now,jt=t.unstable_getCurrentPriorityLevel,Zn=t.unstable_ImmediatePriority,U=t.unstable_UserBlockingPriority,R=t.unstable_NormalPriority,N=t.unstable_LowPriority,Y=t.unstable_IdlePriority,et=t.log,ht=t.unstable_setDisableYieldValue,_t=null,qt=null;function Me(i){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(_t,i,void 0,(i.current.flags&128)===128)}catch{}}function he(i){if(typeof et=="function"&&ht(i),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(_t,i)}catch{}}var re=Math.clz32?Math.clz32:vs,ie=Math.log,ms=Math.LN2;function vs(i){return i>>>=0,i===0?32:31-(ie(i)/ms|0)|0}var ui=128,Nn=4194304;function ir(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ri(i,o){var c=i.pendingLanes;if(c===0)return 0;var d=0,y=i.suspendedLanes,b=i.pingedLanes,D=i.warmLanes;i=i.finishedLanes!==0;var X=c&134217727;return X!==0?(c=X&~y,c!==0?d=ir(c):(b&=X,b!==0?d=ir(b):i||(D=X&~D,D!==0&&(d=ir(D))))):(X=c&~y,X!==0?d=ir(X):b!==0?d=ir(b):i||(D=c&~D,D!==0&&(d=ir(D)))),d===0?0:o!==0&&o!==d&&!(o&y)&&(y=d&-d,D=o&-o,y>=D||y===32&&(D&4194176)!==0)?o:d}function ci(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function bo(i,o){switch(i){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ba(){var i=ui;return ui<<=1,!(ui&4194176)&&(ui=128),i}function _s(){var i=Nn;return Nn<<=1,!(Nn&62914560)&&(Nn=4194304),i}function Bu(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function Ea(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function xs(i,o,c,d,y,b){var D=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var X=i.entanglements,Z=i.expirationTimes,ot=i.hiddenUpdates;for(c=D&~c;0<c;){var bt=31-re(c),At=1<<bt;X[bt]=0,Z[bt]=-1;var pt=ot[bt];if(pt!==null)for(ot[bt]=null,bt=0;bt<pt.length;bt++){var vt=pt[bt];vt!==null&&(vt.lane&=-536870913)}c&=~At}d!==0&&zl(i,d,0),b!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=b&~(D&~o))}function zl(i,o,c){i.pendingLanes|=o,i.suspendedLanes&=~o;var d=31-re(o);i.entangledLanes|=o,i.entanglements[d]=i.entanglements[d]|1073741824|c&4194218}function Ul(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var d=31-re(c),y=1<<d;y&o|i[d]&o&&(i[d]|=o),c&=~y}}function ku(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function bs(){var i=tt.p;return i!==0?i:(i=window.event,i===void 0?32:qb(i.type))}function zp(i,o){var c=tt.p;try{return tt.p=i,o()}finally{tt.p=c}}var Yr=Math.random().toString(36).slice(2),gn="__reactFiber$"+Yr,Tn="__reactProps$"+Yr,Ni="__reactContainer$"+Yr,Es="__reactEvents$"+Yr,Hl="__reactListeners$"+Yr,Iu="__reactHandles$"+Yr,li="__reactResources$"+Yr,Kr="__reactMarker$"+Yr;function Di(i){delete i[gn],delete i[Tn],delete i[Es],delete i[Hl],delete i[Iu]}function Er(i){var o=i[gn];if(o)return o;for(var c=i.parentNode;c;){if(o=c[Ni]||c[gn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=Rb(i);i!==null;){if(c=i[gn])return c;i=Rb(i)}return o}i=c,c=i.parentNode}return null}function fi(i){if(i=i[gn]||i[Ni]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function wa(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function Eo(i){var o=i[li];return o||(o=i[li]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function je(i){i[Kr]=!0}var Un=new Set,Li={};function Dn(i,o){Ln(i,o),Ln(i+"Capture",o)}function Ln(i,o){for(Li[i]=o,i=0;i<o.length;i++)Un.add(o[i])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tr={},ju={};function Fl(i){return te.call(ju,i)?!0:te.call(Tr,i)?!1:wr.test(i)?ju[i]=!0:(Tr[i]=!0,!1)}function Pi(i,o,c){if(Fl(o))if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+c)}}function Pn(i,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+c)}}function Wn(i,o,c,d){if(d===null)i.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(o,c,""+d)}}function Bn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ws(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function $u(i){var o=ws(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,b=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(D){d=""+D,b.call(this,D)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(D){d=""+D},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function wo(i){i._valueTracker||(i._valueTracker=$u(i))}function Ta(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),d="";return i&&(d=ws(i)?i.checked?"true":"false":i.value),i=d,i!==c?(o.setValue(i),!0):!1}function or(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Up=/[\n"\\]/g;function Fn(i){return i.replace(Up,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Sa(i,o,c,d,y,b,D,X){i.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.type=D:i.removeAttribute("type"),o!=null?D==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Bn(o)):i.value!==""+Bn(o)&&(i.value=""+Bn(o)):D!=="submit"&&D!=="reset"||i.removeAttribute("value"),o!=null?Uu(i,D,Bn(o)):c!=null?Uu(i,D,Bn(c)):d!=null&&i.removeAttribute("value"),y==null&&b!=null&&(i.defaultChecked=!!b),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?i.name=""+Bn(X):i.removeAttribute("name")}function zu(i,o,c,d,y,b,D,X){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),o!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||o!=null))return;c=c!=null?""+Bn(c):"",o=o!=null?""+Bn(o):c,X||o===i.value||(i.value=o),i.defaultValue=o}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=X?i.checked:!!d,i.defaultChecked=!!d,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(i.name=D)}function Uu(i,o,c){o==="number"&&or(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function To(i,o,c,d){if(i=i.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<i.length;c++)y=o.hasOwnProperty("$"+i[c].value),i[c].selected!==y&&(i[c].selected=y),y&&d&&(i[c].defaultSelected=!0)}else{for(c=""+Bn(c),o=null,y=0;y<i.length;y++){if(i[y].value===c){i[y].selected=!0,d&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function $(i,o,c){if(o!=null&&(o=""+Bn(o),o!==i.value&&(i.value=o),c==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=c!=null?""+Bn(c):""}function V(i,o,c,d){if(o==null){if(d!=null){if(c!=null)throw Error(r(92));if(nt(d)){if(1<d.length)throw Error(r(93));d=d[0]}c=d}c==null&&(c=""),o=c}c=Bn(o),i.defaultValue=c,d=i.textContent,d===c&&d!==""&&d!==null&&(i.value=d)}function Q(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var gt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ot(i,o,c){var d=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":d?i.setProperty(o,c):typeof c!="number"||c===0||gt.has(o)?o==="float"?i.cssFloat=c:i[o]=(""+c).trim():i[o]=c+"px"}function $t(i,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var y in o)d=o[y],o.hasOwnProperty(y)&&c[y]!==d&&Ot(i,y,d)}else for(var b in o)o.hasOwnProperty(b)&&Ot(i,b,o[b])}function oe(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Je=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tn(i){return cn.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Qn=null;function Hp(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ts=null,Ss=null;function k1(i){var o=fi(i);if(o&&(i=o.stateNode)){var c=i[Tn]||null;t:switch(i=o.stateNode,o.type){case"input":if(Sa(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Fn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var d=c[o];if(d!==i&&d.form===i.form){var y=d[Tn]||null;if(!y)throw Error(r(90));Sa(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)d=c[o],d.form===i.form&&Ta(d)}break t;case"textarea":$(i,c.value,c.defaultValue);break t;case"select":o=c.value,o!=null&&To(i,!!c.multiple,o,!1)}}}var Fp=!1;function I1(i,o,c){if(Fp)return i(o,c);Fp=!0;try{var d=i(o);return d}finally{if(Fp=!1,(Ts!==null||Ss!==null)&&(Mf(),Ts&&(o=Ts,i=Ss,Ss=Ts=null,k1(o),i)))for(o=0;o<i.length;o++)k1(i[o])}}function Hu(i,o){var c=i.stateNode;if(c===null)return null;var d=c[Tn]||null;if(d===null)return null;c=d[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break t;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Xp=!1;if(Hn)try{var Fu={};Object.defineProperty(Fu,"passive",{get:function(){Xp=!0}}),window.addEventListener("test",Fu,Fu),window.removeEventListener("test",Fu,Fu)}catch{Xp=!1}var So=null,qp=null,Xl=null;function j1(){if(Xl)return Xl;var i,o=qp,c=o.length,d,y="value"in So?So.value:So.textContent,b=y.length;for(i=0;i<c&&o[i]===y[i];i++);var D=c-i;for(d=1;d<=D&&o[c-d]===y[b-d];d++);return Xl=y.slice(i,1<d?1-d:void 0)}function ql(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Gl(){return!0}function $1(){return!1}function Jn(i){function o(c,d,y,b,D){this._reactName=c,this._targetInst=y,this.type=d,this.nativeEvent=b,this.target=D,this.currentTarget=null;for(var X in i)i.hasOwnProperty(X)&&(c=i[X],this[X]=c?c(b):b[X]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Gl:$1,this.isPropagationStopped=$1,this}return j(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),o}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vl=Jn(Ca),Xu=j({},Ca,{view:0,detail:0}),OO=Jn(Xu),Gp,Vp,qu,Yl=j({},Xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kp,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==qu&&(qu&&i.type==="mousemove"?(Gp=i.screenX-qu.screenX,Vp=i.screenY-qu.screenY):Vp=Gp=0,qu=i),Gp)},movementY:function(i){return"movementY"in i?i.movementY:Vp}}),z1=Jn(Yl),RO=j({},Yl,{dataTransfer:0}),NO=Jn(RO),DO=j({},Xu,{relatedTarget:0}),Yp=Jn(DO),LO=j({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),PO=Jn(LO),BO=j({},Ca,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),kO=Jn(BO),IO=j({},Ca,{data:0}),U1=Jn(IO),jO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$O={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UO(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=zO[i])?!!o[i]:!1}function Kp(){return UO}var HO=j({},Xu,{key:function(i){if(i.key){var o=jO[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=ql(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?$O[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kp,charCode:function(i){return i.type==="keypress"?ql(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ql(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),FO=Jn(HO),XO=j({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H1=Jn(XO),qO=j({},Xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kp}),GO=Jn(qO),VO=j({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),YO=Jn(VO),KO=j({},Yl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ZO=Jn(KO),WO=j({},Ca,{newState:0,oldState:0}),QO=Jn(WO),JO=[9,13,27,32],Zp=Hn&&"CompositionEvent"in window,Gu=null;Hn&&"documentMode"in document&&(Gu=document.documentMode);var tR=Hn&&"TextEvent"in window&&!Gu,F1=Hn&&(!Zp||Gu&&8<Gu&&11>=Gu),X1=" ",q1=!1;function G1(i,o){switch(i){case"keyup":return JO.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V1(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Cs=!1;function eR(i,o){switch(i){case"compositionend":return V1(o);case"keypress":return o.which!==32?null:(q1=!0,X1);case"textInput":return i=o.data,i===X1&&q1?null:i;default:return null}}function nR(i,o){if(Cs)return i==="compositionend"||!Zp&&G1(i,o)?(i=j1(),Xl=qp=So=null,Cs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return F1&&o.locale!=="ko"?null:o.data;default:return null}}var rR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y1(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!rR[i.type]:o==="textarea"}function K1(i,o,c,d){Ts?Ss?Ss.push(d):Ss=[d]:Ts=d,o=Df(o,"onChange"),0<o.length&&(c=new Vl("onChange","change",null,c,d),i.push({event:c,listeners:o}))}var Vu=null,Yu=null;function iR(i){bb(i,0)}function Kl(i){var o=wa(i);if(Ta(o))return i}function Z1(i,o){if(i==="change")return o}var W1=!1;if(Hn){var Wp;if(Hn){var Qp="oninput"in document;if(!Qp){var Q1=document.createElement("div");Q1.setAttribute("oninput","return;"),Qp=typeof Q1.oninput=="function"}Wp=Qp}else Wp=!1;W1=Wp&&(!document.documentMode||9<document.documentMode)}function J1(){Vu&&(Vu.detachEvent("onpropertychange",t_),Yu=Vu=null)}function t_(i){if(i.propertyName==="value"&&Kl(Yu)){var o=[];K1(o,Yu,i,Hp(i)),I1(iR,o)}}function oR(i,o,c){i==="focusin"?(J1(),Vu=o,Yu=c,Vu.attachEvent("onpropertychange",t_)):i==="focusout"&&J1()}function aR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Kl(Yu)}function sR(i,o){if(i==="click")return Kl(o)}function uR(i,o){if(i==="input"||i==="change")return Kl(o)}function cR(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var ar=typeof Object.is=="function"?Object.is:cR;function Ku(i,o){if(ar(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),d=Object.keys(o);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var y=c[d];if(!te.call(o,y)||!ar(i[y],o[y]))return!1}return!0}function e_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function n_(i,o){var c=e_(i);i=0;for(var d;c;){if(c.nodeType===3){if(d=i+c.textContent.length,i<=o&&d>=o)return{node:c,offset:o-i};i=d}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=e_(c)}}function r_(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?r_(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function i_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=or(i.document);o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=or(i.document)}return o}function Jp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function lR(i,o){var c=i_(o);o=i.focusedElem;var d=i.selectionRange;if(c!==o&&o&&o.ownerDocument&&r_(o.ownerDocument.documentElement,o)){if(d!==null&&Jp(o)){if(i=d.start,c=d.end,c===void 0&&(c=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(c,o.value.length);else if(c=(i=o.ownerDocument||document)&&i.defaultView||window,c.getSelection){c=c.getSelection();var y=o.textContent.length,b=Math.min(d.start,y);d=d.end===void 0?b:Math.min(d.end,y),!c.extend&&b>d&&(y=d,d=b,b=y),y=n_(o,b);var D=n_(o,d);y&&D&&(c.rangeCount!==1||c.anchorNode!==y.node||c.anchorOffset!==y.offset||c.focusNode!==D.node||c.focusOffset!==D.offset)&&(i=i.createRange(),i.setStart(y.node,y.offset),c.removeAllRanges(),b>d?(c.addRange(i),c.extend(D.node,D.offset)):(i.setEnd(D.node,D.offset),c.addRange(i)))}}for(i=[],c=o;c=c.parentNode;)c.nodeType===1&&i.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)c=i[o],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var fR=Hn&&"documentMode"in document&&11>=document.documentMode,Ms=null,tg=null,Zu=null,eg=!1;function o_(i,o,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;eg||Ms==null||Ms!==or(d)||(d=Ms,"selectionStart"in d&&Jp(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Zu&&Ku(Zu,d)||(Zu=d,d=Df(tg,"onSelect"),0<d.length&&(o=new Vl("onSelect","select",null,o,c),i.push({event:o,listeners:d}),o.target=Ms)))}function Ma(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var As={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},ng={},a_={};Hn&&(a_=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Aa(i){if(ng[i])return ng[i];if(!As[i])return i;var o=As[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in a_)return ng[i]=o[c];return i}var s_=Aa("animationend"),u_=Aa("animationiteration"),c_=Aa("animationstart"),dR=Aa("transitionrun"),hR=Aa("transitionstart"),pR=Aa("transitioncancel"),l_=Aa("transitionend"),f_=new Map,d_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Zr(i,o){f_.set(i,o),Dn(o,[i])}var Sr=[],Os=0,rg=0;function Zl(){for(var i=Os,o=rg=Os=0;o<i;){var c=Sr[o];Sr[o++]=null;var d=Sr[o];Sr[o++]=null;var y=Sr[o];Sr[o++]=null;var b=Sr[o];if(Sr[o++]=null,d!==null&&y!==null){var D=d.pending;D===null?y.next=y:(y.next=D.next,D.next=y),d.pending=y}b!==0&&h_(c,y,b)}}function Wl(i,o,c,d){Sr[Os++]=i,Sr[Os++]=o,Sr[Os++]=c,Sr[Os++]=d,rg|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function ig(i,o,c,d){return Wl(i,o,c,d),Ql(i)}function Co(i,o){return Wl(i,null,null,o),Ql(i)}function h_(i,o,c){i.lanes|=c;var d=i.alternate;d!==null&&(d.lanes|=c);for(var y=!1,b=i.return;b!==null;)b.childLanes|=c,d=b.alternate,d!==null&&(d.childLanes|=c),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(y=!0)),i=b,b=b.return;y&&o!==null&&i.tag===3&&(b=i.stateNode,y=31-re(c),b=b.hiddenUpdates,i=b[y],i===null?b[y]=[o]:i.push(o),o.lane=c|536870912)}function Ql(i){if(50<bc)throw bc=0,ly=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Rs={},p_=new WeakMap;function Cr(i,o){if(typeof i=="object"&&i!==null){var c=p_.get(i);return c!==void 0?c:(o={value:i,source:o,stack:lt(o)},p_.set(i,o),o)}return{value:i,source:o,stack:lt(o)}}var Ns=[],Ds=0,Jl=null,tf=0,Mr=[],Ar=0,Oa=null,Bi=1,ki="";function Ra(i,o){Ns[Ds++]=tf,Ns[Ds++]=Jl,Jl=i,tf=o}function g_(i,o,c){Mr[Ar++]=Bi,Mr[Ar++]=ki,Mr[Ar++]=Oa,Oa=i;var d=Bi;i=ki;var y=32-re(d)-1;d&=~(1<<y),c+=1;var b=32-re(o)+y;if(30<b){var D=y-y%5;b=(d&(1<<D)-1).toString(32),d>>=D,y-=D,Bi=1<<32-re(o)+y|c<<y|d,ki=b+i}else Bi=1<<b|c<<y|d,ki=i}function og(i){i.return!==null&&(Ra(i,1),g_(i,1,0))}function ag(i){for(;i===Jl;)Jl=Ns[--Ds],Ns[Ds]=null,tf=Ns[--Ds],Ns[Ds]=null;for(;i===Oa;)Oa=Mr[--Ar],Mr[Ar]=null,ki=Mr[--Ar],Mr[Ar]=null,Bi=Mr[--Ar],Mr[Ar]=null}var Xn=null,Sn=null,Ee=!1,Wr=null,di=!1,sg=Error(r(519));function Na(i){var o=Error(r(418,""));throw Ju(Cr(o,i)),sg}function y_(i){var o=i.stateNode,c=i.type,d=i.memoizedProps;switch(o[gn]=i,o[Tn]=d,c){case"dialog":_e("cancel",o),_e("close",o);break;case"iframe":case"object":case"embed":_e("load",o);break;case"video":case"audio":for(c=0;c<wc.length;c++)_e(wc[c],o);break;case"source":_e("error",o);break;case"img":case"image":case"link":_e("error",o),_e("load",o);break;case"details":_e("toggle",o);break;case"input":_e("invalid",o),zu(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),wo(o);break;case"select":_e("invalid",o);break;case"textarea":_e("invalid",o),V(o,d.value,d.defaultValue,d.children),wo(o)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||d.suppressHydrationWarning===!0||Sb(o.textContent,c)?(d.popover!=null&&(_e("beforetoggle",o),_e("toggle",o)),d.onScroll!=null&&_e("scroll",o),d.onScrollEnd!=null&&_e("scrollend",o),d.onClick!=null&&(o.onclick=Lf),o=!0):o=!1,o||Na(i)}function m_(i){for(Xn=i.return;Xn;)switch(Xn.tag){case 3:case 27:di=!0;return;case 5:case 13:di=!1;return;default:Xn=Xn.return}}function Wu(i){if(i!==Xn)return!1;if(!Ee)return m_(i),Ee=!0,!1;var o=!1,c;if((c=i.tag!==3&&i.tag!==27)&&((c=i.tag===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||My(i.type,i.memoizedProps)),c=!c),c&&(o=!0),o&&Sn&&Na(i),m_(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(c=i.data,c==="/$"){if(o===0){Sn=Jr(i.nextSibling);break t}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;i=i.nextSibling}Sn=null}}else Sn=Xn?Jr(i.stateNode.nextSibling):null;return!0}function Qu(){Sn=Xn=null,Ee=!1}function Ju(i){Wr===null?Wr=[i]:Wr.push(i)}var tc=Error(r(460)),v_=Error(r(474)),ug={then:function(){}};function __(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ef(){}function x_(i,o,c){switch(c=i[c],c===void 0?i.push(o):c!==o&&(o.then(ef,ef),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,i===tc?Error(r(483)):i;default:if(typeof o.status=="string")o.then(ef,ef);else{if(i=Ne,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(d){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=d}},function(d){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,i===tc?Error(r(483)):i}throw ec=o,tc}}var ec=null;function b_(){if(ec===null)throw Error(r(459));var i=ec;return ec=null,i}var Ls=null,nc=0;function nf(i){var o=nc;return nc+=1,Ls===null&&(Ls=[]),x_(Ls,i,o)}function rc(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function rf(i,o){throw o.$$typeof===s?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function E_(i){var o=i._init;return o(i._payload)}function w_(i){function o(ut,rt){if(i){var ct=ut.deletions;ct===null?(ut.deletions=[rt],ut.flags|=16):ct.push(rt)}}function c(ut,rt){if(!i)return null;for(;rt!==null;)o(ut,rt),rt=rt.sibling;return null}function d(ut){for(var rt=new Map;ut!==null;)ut.key!==null?rt.set(ut.key,ut):rt.set(ut.index,ut),ut=ut.sibling;return rt}function y(ut,rt){return ut=jo(ut,rt),ut.index=0,ut.sibling=null,ut}function b(ut,rt,ct){return ut.index=ct,i?(ct=ut.alternate,ct!==null?(ct=ct.index,ct<rt?(ut.flags|=33554434,rt):ct):(ut.flags|=33554434,rt)):(ut.flags|=1048576,rt)}function D(ut){return i&&ut.alternate===null&&(ut.flags|=33554434),ut}function X(ut,rt,ct,St){return rt===null||rt.tag!==6?(rt=ny(ct,ut.mode,St),rt.return=ut,rt):(rt=y(rt,ct),rt.return=ut,rt)}function Z(ut,rt,ct,St){var Ut=ct.type;return Ut===f?bt(ut,rt,ct.props.children,St,ct.key):rt!==null&&(rt.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===x&&E_(Ut)===rt.type)?(rt=y(rt,ct.props),rc(rt,ct),rt.return=ut,rt):(rt=Ef(ct.type,ct.key,ct.props,null,ut.mode,St),rc(rt,ct),rt.return=ut,rt)}function ot(ut,rt,ct,St){return rt===null||rt.tag!==4||rt.stateNode.containerInfo!==ct.containerInfo||rt.stateNode.implementation!==ct.implementation?(rt=ry(ct,ut.mode,St),rt.return=ut,rt):(rt=y(rt,ct.children||[]),rt.return=ut,rt)}function bt(ut,rt,ct,St,Ut){return rt===null||rt.tag!==7?(rt=Ua(ct,ut.mode,St,Ut),rt.return=ut,rt):(rt=y(rt,ct),rt.return=ut,rt)}function At(ut,rt,ct){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return rt=ny(""+rt,ut.mode,ct),rt.return=ut,rt;if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case u:return ct=Ef(rt.type,rt.key,rt.props,null,ut.mode,ct),rc(ct,rt),ct.return=ut,ct;case l:return rt=ry(rt,ut.mode,ct),rt.return=ut,rt;case x:var St=rt._init;return rt=St(rt._payload),At(ut,rt,ct)}if(nt(rt)||A(rt))return rt=Ua(rt,ut.mode,ct,null),rt.return=ut,rt;if(typeof rt.then=="function")return At(ut,nf(rt),ct);if(rt.$$typeof===_)return At(ut,_f(ut,rt),ct);rf(ut,rt)}return null}function pt(ut,rt,ct,St){var Ut=rt!==null?rt.key:null;if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return Ut!==null?null:X(ut,rt,""+ct,St);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case u:return ct.key===Ut?Z(ut,rt,ct,St):null;case l:return ct.key===Ut?ot(ut,rt,ct,St):null;case x:return Ut=ct._init,ct=Ut(ct._payload),pt(ut,rt,ct,St)}if(nt(ct)||A(ct))return Ut!==null?null:bt(ut,rt,ct,St,null);if(typeof ct.then=="function")return pt(ut,rt,nf(ct),St);if(ct.$$typeof===_)return pt(ut,rt,_f(ut,ct),St);rf(ut,ct)}return null}function vt(ut,rt,ct,St,Ut){if(typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint")return ut=ut.get(ct)||null,X(rt,ut,""+St,Ut);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case u:return ut=ut.get(St.key===null?ct:St.key)||null,Z(rt,ut,St,Ut);case l:return ut=ut.get(St.key===null?ct:St.key)||null,ot(rt,ut,St,Ut);case x:var pe=St._init;return St=pe(St._payload),vt(ut,rt,ct,St,Ut)}if(nt(St)||A(St))return ut=ut.get(ct)||null,bt(rt,ut,St,Ut,null);if(typeof St.then=="function")return vt(ut,rt,ct,nf(St),Ut);if(St.$$typeof===_)return vt(ut,rt,ct,_f(rt,St),Ut);rf(rt,St)}return null}function Ht(ut,rt,ct,St){for(var Ut=null,pe=null,Gt=rt,Zt=rt=0,vn=null;Gt!==null&&Zt<ct.length;Zt++){Gt.index>Zt?(vn=Gt,Gt=null):vn=Gt.sibling;var we=pt(ut,Gt,ct[Zt],St);if(we===null){Gt===null&&(Gt=vn);break}i&&Gt&&we.alternate===null&&o(ut,Gt),rt=b(we,rt,Zt),pe===null?Ut=we:pe.sibling=we,pe=we,Gt=vn}if(Zt===ct.length)return c(ut,Gt),Ee&&Ra(ut,Zt),Ut;if(Gt===null){for(;Zt<ct.length;Zt++)Gt=At(ut,ct[Zt],St),Gt!==null&&(rt=b(Gt,rt,Zt),pe===null?Ut=Gt:pe.sibling=Gt,pe=Gt);return Ee&&Ra(ut,Zt),Ut}for(Gt=d(Gt);Zt<ct.length;Zt++)vn=vt(Gt,ut,Zt,ct[Zt],St),vn!==null&&(i&&vn.alternate!==null&&Gt.delete(vn.key===null?Zt:vn.key),rt=b(vn,rt,Zt),pe===null?Ut=vn:pe.sibling=vn,pe=vn);return i&&Gt.forEach(function(qo){return o(ut,qo)}),Ee&&Ra(ut,Zt),Ut}function ee(ut,rt,ct,St){if(ct==null)throw Error(r(151));for(var Ut=null,pe=null,Gt=rt,Zt=rt=0,vn=null,we=ct.next();Gt!==null&&!we.done;Zt++,we=ct.next()){Gt.index>Zt?(vn=Gt,Gt=null):vn=Gt.sibling;var qo=pt(ut,Gt,we.value,St);if(qo===null){Gt===null&&(Gt=vn);break}i&&Gt&&qo.alternate===null&&o(ut,Gt),rt=b(qo,rt,Zt),pe===null?Ut=qo:pe.sibling=qo,pe=qo,Gt=vn}if(we.done)return c(ut,Gt),Ee&&Ra(ut,Zt),Ut;if(Gt===null){for(;!we.done;Zt++,we=ct.next())we=At(ut,we.value,St),we!==null&&(rt=b(we,rt,Zt),pe===null?Ut=we:pe.sibling=we,pe=we);return Ee&&Ra(ut,Zt),Ut}for(Gt=d(Gt);!we.done;Zt++,we=ct.next())we=vt(Gt,ut,Zt,we.value,St),we!==null&&(i&&we.alternate!==null&&Gt.delete(we.key===null?Zt:we.key),rt=b(we,rt,Zt),pe===null?Ut=we:pe.sibling=we,pe=we);return i&&Gt.forEach(function(AN){return o(ut,AN)}),Ee&&Ra(ut,Zt),Ut}function qe(ut,rt,ct,St){if(typeof ct=="object"&&ct!==null&&ct.type===f&&ct.key===null&&(ct=ct.props.children),typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case u:t:{for(var Ut=ct.key;rt!==null;){if(rt.key===Ut){if(Ut=ct.type,Ut===f){if(rt.tag===7){c(ut,rt.sibling),St=y(rt,ct.props.children),St.return=ut,ut=St;break t}}else if(rt.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===x&&E_(Ut)===rt.type){c(ut,rt.sibling),St=y(rt,ct.props),rc(St,ct),St.return=ut,ut=St;break t}c(ut,rt);break}else o(ut,rt);rt=rt.sibling}ct.type===f?(St=Ua(ct.props.children,ut.mode,St,ct.key),St.return=ut,ut=St):(St=Ef(ct.type,ct.key,ct.props,null,ut.mode,St),rc(St,ct),St.return=ut,ut=St)}return D(ut);case l:t:{for(Ut=ct.key;rt!==null;){if(rt.key===Ut)if(rt.tag===4&&rt.stateNode.containerInfo===ct.containerInfo&&rt.stateNode.implementation===ct.implementation){c(ut,rt.sibling),St=y(rt,ct.children||[]),St.return=ut,ut=St;break t}else{c(ut,rt);break}else o(ut,rt);rt=rt.sibling}St=ry(ct,ut.mode,St),St.return=ut,ut=St}return D(ut);case x:return Ut=ct._init,ct=Ut(ct._payload),qe(ut,rt,ct,St)}if(nt(ct))return Ht(ut,rt,ct,St);if(A(ct)){if(Ut=A(ct),typeof Ut!="function")throw Error(r(150));return ct=Ut.call(ct),ee(ut,rt,ct,St)}if(typeof ct.then=="function")return qe(ut,rt,nf(ct),St);if(ct.$$typeof===_)return qe(ut,rt,_f(ut,ct),St);rf(ut,ct)}return typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint"?(ct=""+ct,rt!==null&&rt.tag===6?(c(ut,rt.sibling),St=y(rt,ct),St.return=ut,ut=St):(c(ut,rt),St=ny(ct,ut.mode,St),St.return=ut,ut=St),D(ut)):c(ut,rt)}return function(ut,rt,ct,St){try{nc=0;var Ut=qe(ut,rt,ct,St);return Ls=null,Ut}catch(Gt){if(Gt===tc)throw Gt;var pe=Dr(29,Gt,null,ut.mode);return pe.lanes=St,pe.return=ut,pe}finally{}}}var Da=w_(!0),T_=w_(!1),Ps=L(null),of=L(0);function S_(i,o){i=Vi,q(of,i),q(Ps,o),Vi=i|o.baseLanes}function cg(){q(of,Vi),q(Ps,Ps.current)}function lg(){Vi=of.current,W(Ps),W(of)}var Or=L(null),hi=null;function Mo(i){var o=i.alternate;q(ln,ln.current&1),q(Or,i),hi===null&&(o===null||Ps.current!==null||o.memoizedState!==null)&&(hi=i)}function C_(i){if(i.tag===22){if(q(ln,ln.current),q(Or,i),hi===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(hi=i)}}else Ao()}function Ao(){q(ln,ln.current),q(Or,Or.current)}function Ii(i){W(Or),hi===i&&(hi=null),W(ln)}var ln=L(0);function af(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var gR=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(c,d){i.push(d)}};this.abort=function(){o.aborted=!0,i.forEach(function(c){return c()})}},yR=t.unstable_scheduleCallback,mR=t.unstable_NormalPriority,fn={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fg(){return{controller:new gR,data:new Map,refCount:0}}function ic(i){i.refCount--,i.refCount===0&&yR(mR,function(){i.controller.abort()})}var oc=null,dg=0,Bs=0,ks=null;function vR(i,o){if(oc===null){var c=oc=[];dg=0,Bs=vy(),ks={status:"pending",value:void 0,then:function(d){c.push(d)}}}return dg++,o.then(M_,M_),o}function M_(){if(--dg===0&&oc!==null){ks!==null&&(ks.status="fulfilled");var i=oc;oc=null,Bs=0,ks=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function _R(i,o){var c=[],d={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return i.then(function(){d.status="fulfilled",d.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(d.status="rejected",d.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),d}var A_=T.S;T.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&vR(i,o),A_!==null&&A_(i,o)};var La=L(null);function hg(){var i=La.current;return i!==null?i:Ne.pooledCache}function sf(i,o){o===null?q(La,La.current):q(La,o.pool)}function O_(){var i=hg();return i===null?null:{parent:fn._currentValue,pool:i}}var Oo=0,de=null,Ae=null,en=null,uf=!1,Is=!1,Pa=!1,cf=0,ac=0,js=null,xR=0;function Ye(){throw Error(r(321))}function pg(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!ar(i[c],o[c]))return!1;return!0}function gg(i,o,c,d,y,b){return Oo=b,de=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,T.H=i===null||i.memoizedState===null?Ba:Ro,Pa=!1,b=c(d,y),Pa=!1,Is&&(b=N_(o,c,d,y)),R_(i),b}function R_(i){T.H=pi;var o=Ae!==null&&Ae.next!==null;if(Oo=0,en=Ae=de=null,uf=!1,ac=0,js=null,o)throw Error(r(300));i===null||yn||(i=i.dependencies,i!==null&&vf(i)&&(yn=!0))}function N_(i,o,c,d){de=i;var y=0;do{if(Is&&(js=null),ac=0,Is=!1,25<=y)throw Error(r(301));if(y+=1,en=Ae=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}T.H=ka,b=o(c,d)}while(Is);return b}function bR(){var i=T.H,o=i.useState()[0];return o=typeof o.then=="function"?sc(o):o,i=i.useState()[0],(Ae!==null?Ae.memoizedState:null)!==i&&(de.flags|=1024),o}function yg(){var i=cf!==0;return cf=0,i}function mg(i,o,c){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~c}function vg(i){if(uf){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}uf=!1}Oo=0,en=Ae=de=null,Is=!1,ac=cf=0,js=null}function tr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?de.memoizedState=en=i:en=en.next=i,en}function nn(){if(Ae===null){var i=de.alternate;i=i!==null?i.memoizedState:null}else i=Ae.next;var o=en===null?de.memoizedState:en.next;if(o!==null)en=o,Ae=i;else{if(i===null)throw de.alternate===null?Error(r(467)):Error(r(310));Ae=i,i={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},en===null?de.memoizedState=en=i:en=en.next=i}return en}var lf;lf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function sc(i){var o=ac;return ac+=1,js===null&&(js=[]),i=x_(js,i,o),o=de,(en===null?o.memoizedState:en.next)===null&&(o=o.alternate,T.H=o===null||o.memoizedState===null?Ba:Ro),i}function ff(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return sc(i);if(i.$$typeof===_)return kn(i)}throw Error(r(438,String(i)))}function _g(i){var o=null,c=de.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var d=de.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=lf(),de.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(i),d=0;d<i;d++)c[d]=w;return o.index++,c}function ji(i,o){return typeof o=="function"?o(i):o}function df(i){var o=nn();return xg(o,Ae,i)}function xg(i,o,c){var d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=c;var y=i.baseQueue,b=d.pending;if(b!==null){if(y!==null){var D=y.next;y.next=b.next,b.next=D}o.baseQueue=y=b,d.pending=null}if(b=i.baseState,y===null)i.memoizedState=b;else{o=y.next;var X=D=null,Z=null,ot=o,bt=!1;do{var At=ot.lane&-536870913;if(At!==ot.lane?(xe&At)===At:(Oo&At)===At){var pt=ot.revertLane;if(pt===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),At===Bs&&(bt=!0);else if((Oo&pt)===pt){ot=ot.next,pt===Bs&&(bt=!0);continue}else At={lane:0,revertLane:ot.revertLane,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null},Z===null?(X=Z=At,D=b):Z=Z.next=At,de.lanes|=pt,$o|=pt;At=ot.action,Pa&&c(b,At),b=ot.hasEagerState?ot.eagerState:c(b,At)}else pt={lane:At,revertLane:ot.revertLane,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null},Z===null?(X=Z=pt,D=b):Z=Z.next=pt,de.lanes|=At,$o|=At;ot=ot.next}while(ot!==null&&ot!==o);if(Z===null?D=b:Z.next=X,!ar(b,i.memoizedState)&&(yn=!0,bt&&(c=ks,c!==null)))throw c;i.memoizedState=b,i.baseState=D,i.baseQueue=Z,d.lastRenderedState=b}return y===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function bg(i){var o=nn(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var d=c.dispatch,y=c.pending,b=o.memoizedState;if(y!==null){c.pending=null;var D=y=y.next;do b=i(b,D.action),D=D.next;while(D!==y);ar(b,o.memoizedState)||(yn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),c.lastRenderedState=b}return[b,d]}function D_(i,o,c){var d=de,y=nn(),b=Ee;if(b){if(c===void 0)throw Error(r(407));c=c()}else c=o();var D=!ar((Ae||y).memoizedState,c);if(D&&(y.memoizedState=c,yn=!0),y=y.queue,Tg(B_.bind(null,d,y,i),[i]),y.getSnapshot!==o||D||en!==null&&en.memoizedState.tag&1){if(d.flags|=2048,$s(9,P_.bind(null,d,y,c,o),{destroy:void 0},null),Ne===null)throw Error(r(349));b||Oo&60||L_(d,o,c)}return c}function L_(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=de.updateQueue,o===null?(o=lf(),de.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function P_(i,o,c,d){o.value=c,o.getSnapshot=d,k_(o)&&I_(i)}function B_(i,o,c){return c(function(){k_(o)&&I_(i)})}function k_(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!ar(i,c)}catch{return!0}}function I_(i){var o=Co(i,2);o!==null&&qn(o,i,2)}function Eg(i){var o=tr();if(typeof i=="function"){var c=i;if(i=c(),Pa){he(!0);try{c()}finally{he(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:i},o}function j_(i,o,c,d){return i.baseState=c,xg(i,Ae,typeof d=="function"?d:ji)}function ER(i,o,c,d,y){if(gf(i))throw Error(r(485));if(i=o.action,i!==null){var b={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){b.listeners.push(D)}};T.T!==null?c(!0):b.isTransition=!1,d(b),c=o.pending,c===null?(b.next=o.pending=b,$_(o,b)):(b.next=c.next,o.pending=c.next=b)}}function $_(i,o){var c=o.action,d=o.payload,y=i.state;if(o.isTransition){var b=T.T,D={};T.T=D;try{var X=c(y,d),Z=T.S;Z!==null&&Z(D,X),z_(i,o,X)}catch(ot){wg(i,o,ot)}finally{T.T=b}}else try{b=c(y,d),z_(i,o,b)}catch(ot){wg(i,o,ot)}}function z_(i,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){U_(i,o,d)},function(d){return wg(i,o,d)}):U_(i,o,c)}function U_(i,o,c){o.status="fulfilled",o.value=c,H_(o),i.state=c,o=i.pending,o!==null&&(c=o.next,c===o?i.pending=null:(c=c.next,o.next=c,$_(i,c)))}function wg(i,o,c){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=c,H_(o),o=o.next;while(o!==d)}i.action=null}function H_(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function F_(i,o){return o}function X_(i,o){if(Ee){var c=Ne.formState;if(c!==null){t:{var d=de;if(Ee){if(Sn){e:{for(var y=Sn,b=di;y.nodeType!==8;){if(!b){y=null;break e}if(y=Jr(y.nextSibling),y===null){y=null;break e}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){Sn=Jr(y.nextSibling),d=y.data==="F!";break t}}Na(d)}d=!1}d&&(o=c[0])}}return c=tr(),c.memoizedState=c.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:F_,lastRenderedState:o},c.queue=d,c=ux.bind(null,de,d),d.dispatch=c,d=Eg(!1),b=Og.bind(null,de,!1,d.queue),d=tr(),y={state:o,dispatch:null,action:i,pending:null},d.queue=y,c=ER.bind(null,de,y,b,c),y.dispatch=c,d.memoizedState=i,[o,c,!1]}function q_(i){var o=nn();return G_(o,Ae,i)}function G_(i,o,c){o=xg(i,o,F_)[0],i=df(ji)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?sc(o):o;var d=nn(),y=d.queue,b=y.dispatch;return c!==d.memoizedState&&(de.flags|=2048,$s(9,wR.bind(null,y,c),{destroy:void 0},null)),[o,b,i]}function wR(i,o){i.action=o}function V_(i){var o=nn(),c=Ae;if(c!==null)return G_(o,c,i);nn(),o=o.memoizedState,c=nn();var d=c.queue.dispatch;return c.memoizedState=i,[o,d,!1]}function $s(i,o,c,d){return i={tag:i,create:o,inst:c,deps:d,next:null},o=de.updateQueue,o===null&&(o=lf(),de.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=i.next=i:(d=c.next,c.next=i,i.next=d,o.lastEffect=i),i}function Y_(){return nn().memoizedState}function hf(i,o,c,d){var y=tr();de.flags|=i,y.memoizedState=$s(1|o,c,{destroy:void 0},d===void 0?null:d)}function pf(i,o,c,d){var y=nn();d=d===void 0?null:d;var b=y.memoizedState.inst;Ae!==null&&d!==null&&pg(d,Ae.memoizedState.deps)?y.memoizedState=$s(o,c,b,d):(de.flags|=i,y.memoizedState=$s(1|o,c,b,d))}function K_(i,o){hf(8390656,8,i,o)}function Tg(i,o){pf(2048,8,i,o)}function Z_(i,o){return pf(4,2,i,o)}function W_(i,o){return pf(4,4,i,o)}function Q_(i,o){if(typeof o=="function"){i=i();var c=o(i);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function J_(i,o,c){c=c!=null?c.concat([i]):null,pf(4,4,Q_.bind(null,o,i),c)}function Sg(){}function tx(i,o){var c=nn();o=o===void 0?null:o;var d=c.memoizedState;return o!==null&&pg(o,d[1])?d[0]:(c.memoizedState=[i,o],i)}function ex(i,o){var c=nn();o=o===void 0?null:o;var d=c.memoizedState;if(o!==null&&pg(o,d[1]))return d[0];if(d=i(),Pa){he(!0);try{i()}finally{he(!1)}}return c.memoizedState=[d,o],d}function Cg(i,o,c){return c===void 0||Oo&1073741824?i.memoizedState=o:(i.memoizedState=c,i=rb(),de.lanes|=i,$o|=i,c)}function nx(i,o,c,d){return ar(c,o)?c:Ps.current!==null?(i=Cg(i,c,d),ar(i,o)||(yn=!0),i):Oo&42?(i=rb(),de.lanes|=i,$o|=i,o):(yn=!0,i.memoizedState=c)}function rx(i,o,c,d,y){var b=tt.p;tt.p=b!==0&&8>b?b:8;var D=T.T,X={};T.T=X,Og(i,!1,o,c);try{var Z=y(),ot=T.S;if(ot!==null&&ot(X,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var bt=_R(Z,d);uc(i,o,bt,lr(i))}else uc(i,o,d,lr(i))}catch(At){uc(i,o,{then:function(){},status:"rejected",reason:At},lr())}finally{tt.p=b,T.T=D}}function TR(){}function Mg(i,o,c,d){if(i.tag!==5)throw Error(r(476));var y=ix(i).queue;rx(i,y,o,xt,c===null?TR:function(){return ox(i),c(d)})}function ix(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:xt,baseState:xt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:xt},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:c},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function ox(i){var o=ix(i).next.queue;uc(i,o,{},lr())}function Ag(){return kn(Ac)}function ax(){return nn().memoizedState}function sx(){return nn().memoizedState}function SR(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var c=lr();i=Lo(c);var d=Po(o,i,c);d!==null&&(qn(d,o,c),fc(d,o,c)),o={cache:fg()},i.payload=o;return}o=o.return}}function CR(i,o,c){var d=lr();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},gf(i)?cx(o,c):(c=ig(i,o,c,d),c!==null&&(qn(c,i,d),lx(c,o,d)))}function ux(i,o,c){var d=lr();uc(i,o,c,d)}function uc(i,o,c,d){var y={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(gf(i))cx(o,y);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var D=o.lastRenderedState,X=b(D,c);if(y.hasEagerState=!0,y.eagerState=X,ar(X,D))return Wl(i,o,y,0),Ne===null&&Zl(),!1}catch{}finally{}if(c=ig(i,o,y,d),c!==null)return qn(c,i,d),lx(c,o,d),!0}return!1}function Og(i,o,c,d){if(d={lane:2,revertLane:vy(),action:d,hasEagerState:!1,eagerState:null,next:null},gf(i)){if(o)throw Error(r(479))}else o=ig(i,c,d,2),o!==null&&qn(o,i,2)}function gf(i){var o=i.alternate;return i===de||o!==null&&o===de}function cx(i,o){Is=uf=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function lx(i,o,c){if(c&4194176){var d=o.lanes;d&=i.pendingLanes,c|=d,o.lanes=c,Ul(i,c)}}var pi={readContext:kn,use:ff,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye};pi.useCacheRefresh=Ye,pi.useMemoCache=Ye,pi.useHostTransitionStatus=Ye,pi.useFormState=Ye,pi.useActionState=Ye,pi.useOptimistic=Ye;var Ba={readContext:kn,use:ff,useCallback:function(i,o){return tr().memoizedState=[i,o===void 0?null:o],i},useContext:kn,useEffect:K_,useImperativeHandle:function(i,o,c){c=c!=null?c.concat([i]):null,hf(4194308,4,Q_.bind(null,o,i),c)},useLayoutEffect:function(i,o){return hf(4194308,4,i,o)},useInsertionEffect:function(i,o){hf(4,2,i,o)},useMemo:function(i,o){var c=tr();o=o===void 0?null:o;var d=i();if(Pa){he(!0);try{i()}finally{he(!1)}}return c.memoizedState=[d,o],d},useReducer:function(i,o,c){var d=tr();if(c!==void 0){var y=c(o);if(Pa){he(!0);try{c(o)}finally{he(!1)}}}else y=o;return d.memoizedState=d.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},d.queue=i,i=i.dispatch=CR.bind(null,de,i),[d.memoizedState,i]},useRef:function(i){var o=tr();return i={current:i},o.memoizedState=i},useState:function(i){i=Eg(i);var o=i.queue,c=ux.bind(null,de,o);return o.dispatch=c,[i.memoizedState,c]},useDebugValue:Sg,useDeferredValue:function(i,o){var c=tr();return Cg(c,i,o)},useTransition:function(){var i=Eg(!1);return i=rx.bind(null,de,i.queue,!0,!1),tr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,c){var d=de,y=tr();if(Ee){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Ne===null)throw Error(r(349));xe&60||L_(d,o,c)}y.memoizedState=c;var b={value:c,getSnapshot:o};return y.queue=b,K_(B_.bind(null,d,b,i),[i]),d.flags|=2048,$s(9,P_.bind(null,d,b,c,o),{destroy:void 0},null),c},useId:function(){var i=tr(),o=Ne.identifierPrefix;if(Ee){var c=ki,d=Bi;c=(d&~(1<<32-re(d)-1)).toString(32)+c,o=":"+o+"R"+c,c=cf++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=xR++,o=":"+o+"r"+c.toString(32)+":";return i.memoizedState=o},useCacheRefresh:function(){return tr().memoizedState=SR.bind(null,de)}};Ba.useMemoCache=_g,Ba.useHostTransitionStatus=Ag,Ba.useFormState=X_,Ba.useActionState=X_,Ba.useOptimistic=function(i){var o=tr();o.memoizedState=o.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=Og.bind(null,de,!0,c),c.dispatch=o,[i,o]};var Ro={readContext:kn,use:ff,useCallback:tx,useContext:kn,useEffect:Tg,useImperativeHandle:J_,useInsertionEffect:Z_,useLayoutEffect:W_,useMemo:ex,useReducer:df,useRef:Y_,useState:function(){return df(ji)},useDebugValue:Sg,useDeferredValue:function(i,o){var c=nn();return nx(c,Ae.memoizedState,i,o)},useTransition:function(){var i=df(ji)[0],o=nn().memoizedState;return[typeof i=="boolean"?i:sc(i),o]},useSyncExternalStore:D_,useId:ax};Ro.useCacheRefresh=sx,Ro.useMemoCache=_g,Ro.useHostTransitionStatus=Ag,Ro.useFormState=q_,Ro.useActionState=q_,Ro.useOptimistic=function(i,o){var c=nn();return j_(c,Ae,i,o)};var ka={readContext:kn,use:ff,useCallback:tx,useContext:kn,useEffect:Tg,useImperativeHandle:J_,useInsertionEffect:Z_,useLayoutEffect:W_,useMemo:ex,useReducer:bg,useRef:Y_,useState:function(){return bg(ji)},useDebugValue:Sg,useDeferredValue:function(i,o){var c=nn();return Ae===null?Cg(c,i,o):nx(c,Ae.memoizedState,i,o)},useTransition:function(){var i=bg(ji)[0],o=nn().memoizedState;return[typeof i=="boolean"?i:sc(i),o]},useSyncExternalStore:D_,useId:ax};ka.useCacheRefresh=sx,ka.useMemoCache=_g,ka.useHostTransitionStatus=Ag,ka.useFormState=V_,ka.useActionState=V_,ka.useOptimistic=function(i,o){var c=nn();return Ae!==null?j_(c,Ae,i,o):(c.baseState=i,[i,c.queue.dispatch])};function Rg(i,o,c,d){o=i.memoizedState,c=c(d,o),c=c==null?o:j({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Ng={isMounted:function(i){return(i=i._reactInternals)?Mt(i)===i:!1},enqueueSetState:function(i,o,c){i=i._reactInternals;var d=lr(),y=Lo(d);y.payload=o,c!=null&&(y.callback=c),o=Po(i,y,d),o!==null&&(qn(o,i,d),fc(o,i,d))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var d=lr(),y=Lo(d);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=Po(i,y,d),o!==null&&(qn(o,i,d),fc(o,i,d))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=lr(),d=Lo(c);d.tag=2,o!=null&&(d.callback=o),o=Po(i,d,c),o!==null&&(qn(o,i,c),fc(o,i,c))}};function fx(i,o,c,d,y,b,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,b,D):o.prototype&&o.prototype.isPureReactComponent?!Ku(c,d)||!Ku(y,b):!0}function dx(i,o,c,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,d),o.state!==i&&Ng.enqueueReplaceState(o,o.state,null)}function Ia(i,o){var c=o;if("ref"in o){c={};for(var d in o)d!=="ref"&&(c[d]=o[d])}if(i=i.defaultProps){c===o&&(c=j({},c));for(var y in i)c[y]===void 0&&(c[y]=i[y])}return c}var yf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function hx(i){yf(i)}function px(i){console.error(i)}function gx(i){yf(i)}function mf(i,o){try{var c=i.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function yx(i,o,c){try{var d=i.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Dg(i,o,c){return c=Lo(c),c.tag=3,c.payload={element:null},c.callback=function(){mf(i,o)},c}function mx(i){return i=Lo(i),i.tag=3,i}function vx(i,o,c,d){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var b=d.value;i.payload=function(){return y(b)},i.callback=function(){yx(o,c,d)}}var D=c.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(i.callback=function(){yx(o,c,d),typeof y!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var X=d.stack;this.componentDidCatch(d.value,{componentStack:X!==null?X:""})})}function MR(i,o,c,d,y){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=c.alternate,o!==null&&lc(o,c,y,!0),c=Or.current,c!==null){switch(c.tag){case 13:return hi===null?hy():c.alternate===null&&Xe===0&&(Xe=3),c.flags&=-257,c.flags|=65536,c.lanes=y,d===ug?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([d]):o.add(d),gy(i,d,y)),!1;case 22:return c.flags|=65536,d===ug?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([d]):c.add(d)),gy(i,d,y)),!1}throw Error(r(435,c.tag))}return gy(i,d,y),hy(),!1}if(Ee)return o=Or.current,o!==null?(!(o.flags&65536)&&(o.flags|=256),o.flags|=65536,o.lanes=y,d!==sg&&(i=Error(r(422),{cause:d}),Ju(Cr(i,c)))):(d!==sg&&(o=Error(r(423),{cause:d}),Ju(Cr(o,c))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,d=Cr(d,c),y=Dg(i.stateNode,d,y),Vg(i,y),Xe!==4&&(Xe=2)),!1;var b=Error(r(520),{cause:d});if(b=Cr(b,c),_c===null?_c=[b]:_c.push(b),Xe!==4&&(Xe=2),o===null)return!0;d=Cr(d,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,i=y&-y,c.lanes|=i,i=Dg(c.stateNode,d,i),Vg(c,i),!1;case 1:if(o=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(zo===null||!zo.has(b))))return c.flags|=65536,y&=-y,c.lanes|=y,y=mx(y),vx(y,i,c,d),Vg(c,y),!1}c=c.return}while(c!==null);return!1}var _x=Error(r(461)),yn=!1;function Cn(i,o,c,d){o.child=i===null?T_(o,null,c,d):Da(o,i.child,c,d)}function xx(i,o,c,d,y){c=c.render;var b=o.ref;if("ref"in d){var D={};for(var X in d)X!=="ref"&&(D[X]=d[X])}else D=d;return $a(o),d=gg(i,o,c,D,b,y),X=yg(),i!==null&&!yn?(mg(i,o,y),$i(i,o,y)):(Ee&&X&&og(o),o.flags|=1,Cn(i,o,d,y),o.child)}function bx(i,o,c,d,y){if(i===null){var b=c.type;return typeof b=="function"&&!ey(b)&&b.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=b,Ex(i,o,b,d,y)):(i=Ef(c.type,null,d,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(b=i.child,!Ug(i,y)){var D=b.memoizedProps;if(c=c.compare,c=c!==null?c:Ku,c(D,d)&&i.ref===o.ref)return $i(i,o,y)}return o.flags|=1,i=jo(b,d),i.ref=o.ref,i.return=o,o.child=i}function Ex(i,o,c,d,y){if(i!==null){var b=i.memoizedProps;if(Ku(b,d)&&i.ref===o.ref)if(yn=!1,o.pendingProps=d=b,Ug(i,y))i.flags&131072&&(yn=!0);else return o.lanes=i.lanes,$i(i,o,y)}return Lg(i,o,c,d,y)}function wx(i,o,c){var d=o.pendingProps,y=d.children,b=(o.stateNode._pendingVisibility&2)!==0,D=i!==null?i.memoizedState:null;if(cc(i,o),d.mode==="hidden"||b){if(o.flags&128){if(d=D!==null?D.baseLanes|c:c,i!==null){for(y=o.child=i.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;o.childLanes=b&~d}else o.childLanes=0,o.child=null;return Tx(i,o,d,c)}if(c&536870912)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&sf(o,D!==null?D.cachePool:null),D!==null?S_(o,D):cg(),C_(o);else return o.lanes=o.childLanes=536870912,Tx(i,o,D!==null?D.baseLanes|c:c,c)}else D!==null?(sf(o,D.cachePool),S_(o,D),Ao(),o.memoizedState=null):(i!==null&&sf(o,null),cg(),Ao());return Cn(i,o,y,c),o.child}function Tx(i,o,c,d){var y=hg();return y=y===null?null:{parent:fn._currentValue,pool:y},o.memoizedState={baseLanes:c,cachePool:y},i!==null&&sf(o,null),cg(),C_(o),i!==null&&lc(i,o,d,!0),null}function cc(i,o){var c=o.ref;if(c===null)i!==null&&i.ref!==null&&(o.flags|=2097664);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(o.flags|=2097664)}}function Lg(i,o,c,d,y){return $a(o),c=gg(i,o,c,d,void 0,y),d=yg(),i!==null&&!yn?(mg(i,o,y),$i(i,o,y)):(Ee&&d&&og(o),o.flags|=1,Cn(i,o,c,y),o.child)}function Sx(i,o,c,d,y,b){return $a(o),o.updateQueue=null,c=N_(o,d,c,y),R_(i),d=yg(),i!==null&&!yn?(mg(i,o,b),$i(i,o,b)):(Ee&&d&&og(o),o.flags|=1,Cn(i,o,c,b),o.child)}function Cx(i,o,c,d,y){if($a(o),o.stateNode===null){var b=Rs,D=c.contextType;typeof D=="object"&&D!==null&&(b=kn(D)),b=new c(d,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Ng,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=d,b.state=o.memoizedState,b.refs={},qg(o),D=c.contextType,b.context=typeof D=="object"&&D!==null?kn(D):Rs,b.state=o.memoizedState,D=c.getDerivedStateFromProps,typeof D=="function"&&(Rg(o,c,D,d),b.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(D=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),D!==b.state&&Ng.enqueueReplaceState(b,b.state,null),hc(o,d,b,y),dc(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(i===null){b=o.stateNode;var X=o.memoizedProps,Z=Ia(c,X);b.props=Z;var ot=b.context,bt=c.contextType;D=Rs,typeof bt=="object"&&bt!==null&&(D=kn(bt));var At=c.getDerivedStateFromProps;bt=typeof At=="function"||typeof b.getSnapshotBeforeUpdate=="function",X=o.pendingProps!==X,bt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(X||ot!==D)&&dx(o,b,d,D),Do=!1;var pt=o.memoizedState;b.state=pt,hc(o,d,b,y),dc(),ot=o.memoizedState,X||pt!==ot||Do?(typeof At=="function"&&(Rg(o,c,At,d),ot=o.memoizedState),(Z=Do||fx(o,c,Z,d,pt,ot,D))?(bt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=ot),b.props=d,b.state=ot,b.context=D,d=Z):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{b=o.stateNode,Gg(i,o),D=o.memoizedProps,bt=Ia(c,D),b.props=bt,At=o.pendingProps,pt=b.context,ot=c.contextType,Z=Rs,typeof ot=="object"&&ot!==null&&(Z=kn(ot)),X=c.getDerivedStateFromProps,(ot=typeof X=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(D!==At||pt!==Z)&&dx(o,b,d,Z),Do=!1,pt=o.memoizedState,b.state=pt,hc(o,d,b,y),dc();var vt=o.memoizedState;D!==At||pt!==vt||Do||i!==null&&i.dependencies!==null&&vf(i.dependencies)?(typeof X=="function"&&(Rg(o,c,X,d),vt=o.memoizedState),(bt=Do||fx(o,c,bt,d,pt,vt,Z)||i!==null&&i.dependencies!==null&&vf(i.dependencies))?(ot||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,vt,Z),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,vt,Z)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||D===i.memoizedProps&&pt===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&pt===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=vt),b.props=d,b.state=vt,b.context=Z,d=bt):(typeof b.componentDidUpdate!="function"||D===i.memoizedProps&&pt===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&pt===i.memoizedState||(o.flags|=1024),d=!1)}return b=d,cc(i,o),d=(o.flags&128)!==0,b||d?(b=o.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,i!==null&&d?(o.child=Da(o,i.child,null,y),o.child=Da(o,null,c,y)):Cn(i,o,c,y),o.memoizedState=b.state,i=o.child):i=$i(i,o,y),i}function Mx(i,o,c,d){return Qu(),o.flags|=256,Cn(i,o,c,d),o.child}var Pg={dehydrated:null,treeContext:null,retryLane:0};function Bg(i){return{baseLanes:i,cachePool:O_()}}function kg(i,o,c){return i=i!==null?i.childLanes&~c:0,o&&(i|=Lr),i}function Ax(i,o,c){var d=o.pendingProps,y=!1,b=(o.flags&128)!==0,D;if((D=b)||(D=i!==null&&i.memoizedState===null?!1:(ln.current&2)!==0),D&&(y=!0,o.flags&=-129),D=(o.flags&32)!==0,o.flags&=-33,i===null){if(Ee){if(y?Mo(o):Ao(),Ee){var X=Sn,Z;if(Z=X){t:{for(Z=X,X=di;Z.nodeType!==8;){if(!X){X=null;break t}if(Z=Jr(Z.nextSibling),Z===null){X=null;break t}}X=Z}X!==null?(o.memoizedState={dehydrated:X,treeContext:Oa!==null?{id:Bi,overflow:ki}:null,retryLane:536870912},Z=Dr(18,null,null,0),Z.stateNode=X,Z.return=o,o.child=Z,Xn=o,Sn=null,Z=!0):Z=!1}Z||Na(o)}if(X=o.memoizedState,X!==null&&(X=X.dehydrated,X!==null))return X.data==="$!"?o.lanes=16:o.lanes=536870912,null;Ii(o)}return X=d.children,d=d.fallback,y?(Ao(),y=o.mode,X=jg({mode:"hidden",children:X},y),d=Ua(d,y,c,null),X.return=o,d.return=o,X.sibling=d,o.child=X,y=o.child,y.memoizedState=Bg(c),y.childLanes=kg(i,D,c),o.memoizedState=Pg,d):(Mo(o),Ig(o,X))}if(Z=i.memoizedState,Z!==null&&(X=Z.dehydrated,X!==null)){if(b)o.flags&256?(Mo(o),o.flags&=-257,o=$g(i,o,c)):o.memoizedState!==null?(Ao(),o.child=i.child,o.flags|=128,o=null):(Ao(),y=d.fallback,X=o.mode,d=jg({mode:"visible",children:d.children},X),y=Ua(y,X,c,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,Da(o,i.child,null,c),d=o.child,d.memoizedState=Bg(c),d.childLanes=kg(i,D,c),o.memoizedState=Pg,o=y);else if(Mo(o),X.data==="$!"){if(D=X.nextSibling&&X.nextSibling.dataset,D)var ot=D.dgst;D=ot,d=Error(r(419)),d.stack="",d.digest=D,Ju({value:d,source:null,stack:null}),o=$g(i,o,c)}else if(yn||lc(i,o,c,!1),D=(c&i.childLanes)!==0,yn||D){if(D=Ne,D!==null){if(d=c&-c,d&42)d=1;else switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=64;break;case 268435456:d=134217728;break;default:d=0}if(d=d&(D.suspendedLanes|c)?0:d,d!==0&&d!==Z.retryLane)throw Z.retryLane=d,Co(i,d),qn(D,i,d),_x}X.data==="$?"||hy(),o=$g(i,o,c)}else X.data==="$?"?(o.flags|=128,o.child=i.child,o=HR.bind(null,i),X._reactRetry=o,o=null):(i=Z.treeContext,Sn=Jr(X.nextSibling),Xn=o,Ee=!0,Wr=null,di=!1,i!==null&&(Mr[Ar++]=Bi,Mr[Ar++]=ki,Mr[Ar++]=Oa,Bi=i.id,ki=i.overflow,Oa=o),o=Ig(o,d.children),o.flags|=4096);return o}return y?(Ao(),y=d.fallback,X=o.mode,Z=i.child,ot=Z.sibling,d=jo(Z,{mode:"hidden",children:d.children}),d.subtreeFlags=Z.subtreeFlags&31457280,ot!==null?y=jo(ot,y):(y=Ua(y,X,c,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,X=i.child.memoizedState,X===null?X=Bg(c):(Z=X.cachePool,Z!==null?(ot=fn._currentValue,Z=Z.parent!==ot?{parent:ot,pool:ot}:Z):Z=O_(),X={baseLanes:X.baseLanes|c,cachePool:Z}),y.memoizedState=X,y.childLanes=kg(i,D,c),o.memoizedState=Pg,d):(Mo(o),c=i.child,i=c.sibling,c=jo(c,{mode:"visible",children:d.children}),c.return=o,c.sibling=null,i!==null&&(D=o.deletions,D===null?(o.deletions=[i],o.flags|=16):D.push(i)),o.child=c,o.memoizedState=null,c)}function Ig(i,o){return o=jg({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function jg(i,o){return tb(i,o,0,null)}function $g(i,o,c){return Da(o,i.child,null,c),i=Ig(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Ox(i,o,c){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),Fg(i.return,o,c)}function zg(i,o,c,d,y){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:y}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=c,b.tailMode=y)}function Rx(i,o,c){var d=o.pendingProps,y=d.revealOrder,b=d.tail;if(Cn(i,o,d.children,c),d=ln.current,d&2)d=d&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)t:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ox(i,c,o);else if(i.tag===19)Ox(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break t;for(;i.sibling===null;){if(i.return===null||i.return===o)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}switch(q(ln,d),y){case"forwards":for(c=o.child,y=null;c!==null;)i=c.alternate,i!==null&&af(i)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),zg(o,!1,y,c,b);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&af(i)===null){o.child=y;break}i=y.sibling,y.sibling=c,c=y,y=i}zg(o,!0,c,null,b);break;case"together":zg(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function $i(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),$o|=o.lanes,!(c&o.childLanes))if(i!==null){if(lc(i,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,c=jo(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=jo(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function Ug(i,o){return i.lanes&o?!0:(i=i.dependencies,!!(i!==null&&vf(i)))}function AR(i,o,c){switch(o.tag){case 3:mt(o,o.stateNode.containerInfo),No(o,fn,i.memoizedState.cache),Qu();break;case 27:case 5:Lt(o);break;case 4:mt(o,o.stateNode.containerInfo);break;case 10:No(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Mo(o),o.flags|=128,null):c&o.child.childLanes?Ax(i,o,c):(Mo(o),i=$i(i,o,c),i!==null?i.sibling:null);Mo(o);break;case 19:var y=(i.flags&128)!==0;if(d=(c&o.childLanes)!==0,d||(lc(i,o,c,!1),d=(c&o.childLanes)!==0),y){if(d)return Rx(i,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),q(ln,ln.current),d)break;return null;case 22:case 23:return o.lanes=0,wx(i,o,c);case 24:No(o,fn,i.memoizedState.cache)}return $i(i,o,c)}function Nx(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps)yn=!0;else{if(!Ug(i,c)&&!(o.flags&128))return yn=!1,AR(i,o,c);yn=!!(i.flags&131072)}else yn=!1,Ee&&o.flags&1048576&&g_(o,tf,o.index);switch(o.lanes=0,o.tag){case 16:t:{i=o.pendingProps;var d=o.elementType,y=d._init;if(d=y(d._payload),o.type=d,typeof d=="function")ey(d)?(i=Ia(d,i),o.tag=1,o=Cx(null,o,d,i,c)):(o.tag=0,o=Lg(null,o,d,i,c));else{if(d!=null){if(y=d.$$typeof,y===E){o.tag=11,o=xx(null,o,d,i,c);break t}else if(y===S){o.tag=14,o=bx(null,o,d,i,c);break t}}throw o=P(d)||d,Error(r(306,o,""))}}return o;case 0:return Lg(i,o,o.type,o.pendingProps,c);case 1:return d=o.type,y=Ia(d,o.pendingProps),Cx(i,o,d,y,c);case 3:t:{if(mt(o,o.stateNode.containerInfo),i===null)throw Error(r(387));var b=o.pendingProps;y=o.memoizedState,d=y.element,Gg(i,o),hc(o,b,null,c);var D=o.memoizedState;if(b=D.cache,No(o,fn,b),b!==y.cache&&Xg(o,[fn],c,!0),dc(),b=D.element,y.isDehydrated)if(y={element:b,isDehydrated:!1,cache:D.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=Mx(i,o,b,c);break t}else if(b!==d){d=Cr(Error(r(424)),o),Ju(d),o=Mx(i,o,b,c);break t}else for(Sn=Jr(o.stateNode.containerInfo.firstChild),Xn=o,Ee=!0,Wr=null,di=!0,c=T_(o,null,b,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Qu(),b===d){o=$i(i,o,c);break t}Cn(i,o,b,c)}o=o.child}return o;case 26:return cc(i,o),i===null?(c=Pb(o.type,null,o.pendingProps,null))?o.memoizedState=c:Ee||(c=o.type,i=o.pendingProps,d=Pf(Ct.current).createElement(c),d[gn]=o,d[Tn]=i,Mn(d,c,i),je(d),o.stateNode=d):o.memoizedState=Pb(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Lt(o),i===null&&Ee&&(d=o.stateNode=Nb(o.type,o.pendingProps,Ct.current),Xn=o,di=!0,Sn=Jr(d.firstChild)),d=o.pendingProps.children,i!==null||Ee?Cn(i,o,d,c):o.child=Da(o,null,d,c),cc(i,o),o.child;case 5:return i===null&&Ee&&((y=d=Sn)&&(d=iN(d,o.type,o.pendingProps,di),d!==null?(o.stateNode=d,Xn=o,Sn=Jr(d.firstChild),di=!1,y=!0):y=!1),y||Na(o)),Lt(o),y=o.type,b=o.pendingProps,D=i!==null?i.memoizedProps:null,d=b.children,My(y,b)?d=null:D!==null&&My(y,D)&&(o.flags|=32),o.memoizedState!==null&&(y=gg(i,o,bR,null,null,c),Ac._currentValue=y),cc(i,o),Cn(i,o,d,c),o.child;case 6:return i===null&&Ee&&((i=c=Sn)&&(c=oN(c,o.pendingProps,di),c!==null?(o.stateNode=c,Xn=o,Sn=null,i=!0):i=!1),i||Na(o)),null;case 13:return Ax(i,o,c);case 4:return mt(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=Da(o,null,d,c):Cn(i,o,d,c),o.child;case 11:return xx(i,o,o.type,o.pendingProps,c);case 7:return Cn(i,o,o.pendingProps,c),o.child;case 8:return Cn(i,o,o.pendingProps.children,c),o.child;case 12:return Cn(i,o,o.pendingProps.children,c),o.child;case 10:return d=o.pendingProps,No(o,o.type,d.value),Cn(i,o,d.children,c),o.child;case 9:return y=o.type._context,d=o.pendingProps.children,$a(o),y=kn(y),d=d(y),o.flags|=1,Cn(i,o,d,c),o.child;case 14:return bx(i,o,o.type,o.pendingProps,c);case 15:return Ex(i,o,o.type,o.pendingProps,c);case 19:return Rx(i,o,c);case 22:return wx(i,o,c);case 24:return $a(o),d=kn(fn),i===null?(y=hg(),y===null&&(y=Ne,b=fg(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=c),y=b),o.memoizedState={parent:d,cache:y},qg(o),No(o,fn,y)):(i.lanes&c&&(Gg(i,o),hc(o,null,null,c),dc()),y=i.memoizedState,b=o.memoizedState,y.parent!==d?(y={parent:d,cache:d},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),No(o,fn,d)):(d=b.cache,No(o,fn,d),d!==y.cache&&Xg(o,[fn],c,!0))),Cn(i,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}var Hg=L(null),ja=null,zi=null;function No(i,o,c){q(Hg,o._currentValue),o._currentValue=c}function Ui(i){i._currentValue=Hg.current,W(Hg)}function Fg(i,o,c){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===c)break;i=i.return}}function Xg(i,o,c,d){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var b=y.dependencies;if(b!==null){var D=y.child;b=b.firstContext;t:for(;b!==null;){var X=b;b=y;for(var Z=0;Z<o.length;Z++)if(X.context===o[Z]){b.lanes|=c,X=b.alternate,X!==null&&(X.lanes|=c),Fg(b.return,c,i),d||(D=null);break t}b=X.next}}else if(y.tag===18){if(D=y.return,D===null)throw Error(r(341));D.lanes|=c,b=D.alternate,b!==null&&(b.lanes|=c),Fg(D,c,i),D=null}else D=y.child;if(D!==null)D.return=y;else for(D=y;D!==null;){if(D===i){D=null;break}if(y=D.sibling,y!==null){y.return=D.return,D=y;break}D=D.return}y=D}}function lc(i,o,c,d){i=null;for(var y=o,b=!1;y!==null;){if(!b){if(y.flags&524288)b=!0;else if(y.flags&262144)break}if(y.tag===10){var D=y.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var X=y.type;ar(y.pendingProps.value,D.value)||(i!==null?i.push(X):i=[X])}}else if(y===dt.current){if(D=y.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Ac):i=[Ac])}y=y.return}i!==null&&Xg(o,i,c,d),o.flags|=262144}function vf(i){for(i=i.firstContext;i!==null;){if(!ar(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function $a(i){ja=i,zi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function kn(i){return Dx(ja,i)}function _f(i,o){return ja===null&&$a(i),Dx(i,o)}function Dx(i,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},zi===null){if(i===null)throw Error(r(308));zi=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else zi=zi.next=o;return c}var Do=!1;function qg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Lo(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Po(i,o,c){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,ze&2){var y=d.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),d.pending=o,o=Ql(i),h_(i,null,c),o}return Wl(i,d,o,c),Ql(i)}function fc(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194176)!==0)){var d=o.lanes;d&=i.pendingLanes,c|=d,o.lanes=c,Ul(i,c)}}function Vg(i,o){var c=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var y=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var D={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?y=b=D:b=b.next=D,c=c.next}while(c!==null);b===null?y=b=o:b=b.next=o}else y=b=o;c={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}var Yg=!1;function dc(){if(Yg){var i=ks;if(i!==null)throw i}}function hc(i,o,c,d){Yg=!1;var y=i.updateQueue;Do=!1;var b=y.firstBaseUpdate,D=y.lastBaseUpdate,X=y.shared.pending;if(X!==null){y.shared.pending=null;var Z=X,ot=Z.next;Z.next=null,D===null?b=ot:D.next=ot,D=Z;var bt=i.alternate;bt!==null&&(bt=bt.updateQueue,X=bt.lastBaseUpdate,X!==D&&(X===null?bt.firstBaseUpdate=ot:X.next=ot,bt.lastBaseUpdate=Z))}if(b!==null){var At=y.baseState;D=0,bt=ot=Z=null,X=b;do{var pt=X.lane&-536870913,vt=pt!==X.lane;if(vt?(xe&pt)===pt:(d&pt)===pt){pt!==0&&pt===Bs&&(Yg=!0),bt!==null&&(bt=bt.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});t:{var Ht=i,ee=X;pt=o;var qe=c;switch(ee.tag){case 1:if(Ht=ee.payload,typeof Ht=="function"){At=Ht.call(qe,At,pt);break t}At=Ht;break t;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=ee.payload,pt=typeof Ht=="function"?Ht.call(qe,At,pt):Ht,pt==null)break t;At=j({},At,pt);break t;case 2:Do=!0}}pt=X.callback,pt!==null&&(i.flags|=64,vt&&(i.flags|=8192),vt=y.callbacks,vt===null?y.callbacks=[pt]:vt.push(pt))}else vt={lane:pt,tag:X.tag,payload:X.payload,callback:X.callback,next:null},bt===null?(ot=bt=vt,Z=At):bt=bt.next=vt,D|=pt;if(X=X.next,X===null){if(X=y.shared.pending,X===null)break;vt=X,X=vt.next,vt.next=null,y.lastBaseUpdate=vt,y.shared.pending=null}}while(!0);bt===null&&(Z=At),y.baseState=Z,y.firstBaseUpdate=ot,y.lastBaseUpdate=bt,b===null&&(y.shared.lanes=0),$o|=D,i.lanes=D,i.memoizedState=At}}function Lx(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function Px(i,o){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)Lx(c[i],o)}function pc(i,o){try{var c=o.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var y=d.next;c=y;do{if((c.tag&i)===i){d=void 0;var b=c.create,D=c.inst;d=b(),D.destroy=d}c=c.next}while(c!==y)}}catch(X){Re(o,o.return,X)}}function Bo(i,o,c){try{var d=o.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var b=y.next;d=b;do{if((d.tag&i)===i){var D=d.inst,X=D.destroy;if(X!==void 0){D.destroy=void 0,y=o;var Z=c;try{X()}catch(ot){Re(y,Z,ot)}}}d=d.next}while(d!==b)}}catch(ot){Re(o,o.return,ot)}}function Bx(i){var o=i.updateQueue;if(o!==null){var c=i.stateNode;try{Px(o,c)}catch(d){Re(i,i.return,d)}}}function kx(i,o,c){c.props=Ia(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(d){Re(i,o,d)}}function za(i,o){try{var c=i.ref;if(c!==null){var d=i.stateNode;switch(i.tag){case 26:case 27:case 5:var y=d;break;default:y=d}typeof c=="function"?i.refCleanup=c(y):c.current=y}}catch(b){Re(i,o,b)}}function sr(i,o){var c=i.ref,d=i.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(y){Re(i,o,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Re(i,o,y)}else c.current=null}function Ix(i){var o=i.type,c=i.memoizedProps,d=i.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break t;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(y){Re(i,i.return,y)}}function jx(i,o,c){try{var d=i.stateNode;JR(d,i.type,c,o),d[Tn]=o}catch(y){Re(i,i.return,y)}}function $x(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function Kg(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||$x(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Zg(i,o,c){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(i,o):c.insertBefore(i,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(i,c)):(o=c,o.appendChild(i)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Lf));else if(d!==4&&d!==27&&(i=i.child,i!==null))for(Zg(i,o,c),i=i.sibling;i!==null;)Zg(i,o,c),i=i.sibling}function xf(i,o,c){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(d!==4&&d!==27&&(i=i.child,i!==null))for(xf(i,o,c),i=i.sibling;i!==null;)xf(i,o,c),i=i.sibling}var Hi=!1,Fe=!1,Wg=!1,zx=typeof WeakSet=="function"?WeakSet:Set,mn=null,Ux=!1;function OR(i,o){if(i=i.containerInfo,Sy=zf,i=i_(i),Jp(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else t:{c=(c=i.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var y=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break t}var D=0,X=-1,Z=-1,ot=0,bt=0,At=i,pt=null;e:for(;;){for(var vt;At!==c||y!==0&&At.nodeType!==3||(X=D+y),At!==b||d!==0&&At.nodeType!==3||(Z=D+d),At.nodeType===3&&(D+=At.nodeValue.length),(vt=At.firstChild)!==null;)pt=At,At=vt;for(;;){if(At===i)break e;if(pt===c&&++ot===y&&(X=D),pt===b&&++bt===d&&(Z=D),(vt=At.nextSibling)!==null)break;At=pt,pt=At.parentNode}At=vt}c=X===-1||Z===-1?null:{start:X,end:Z}}else c=null}c=c||{start:0,end:0}}else c=null;for(Cy={focusedElem:i,selectionRange:c},zf=!1,mn=o;mn!==null;)if(o=mn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,mn=i;else for(;mn!==null;){switch(o=mn,b=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if(i&1024&&b!==null){i=void 0,c=o,y=b.memoizedProps,b=b.memoizedState,d=c.stateNode;try{var Ht=Ia(c.type,y,c.elementType===c.type);i=d.getSnapshotBeforeUpdate(Ht,b),d.__reactInternalSnapshotBeforeUpdate=i}catch(ee){Re(c,c.return,ee)}}break;case 3:if(i&1024){if(i=o.stateNode.containerInfo,c=i.nodeType,c===9)Ry(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Ry(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(i&1024)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,mn=i;break}mn=o.return}return Ht=Ux,Ux=!1,Ht}function Hx(i,o,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Xi(i,c),d&4&&pc(5,c);break;case 1:if(Xi(i,c),d&4)if(i=c.stateNode,o===null)try{i.componentDidMount()}catch(X){Re(c,c.return,X)}else{var y=Ia(c.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(y,o,i.__reactInternalSnapshotBeforeUpdate)}catch(X){Re(c,c.return,X)}}d&64&&Bx(c),d&512&&za(c,c.return);break;case 3:if(Xi(i,c),d&64&&(d=c.updateQueue,d!==null)){if(i=null,c.child!==null)switch(c.child.tag){case 27:case 5:i=c.child.stateNode;break;case 1:i=c.child.stateNode}try{Px(d,i)}catch(X){Re(c,c.return,X)}}break;case 26:Xi(i,c),d&512&&za(c,c.return);break;case 27:case 5:Xi(i,c),o===null&&d&4&&Ix(c),d&512&&za(c,c.return);break;case 12:Xi(i,c);break;case 13:Xi(i,c),d&4&&qx(i,c);break;case 22:if(y=c.memoizedState!==null||Hi,!y){o=o!==null&&o.memoizedState!==null||Fe;var b=Hi,D=Fe;Hi=y,(Fe=o)&&!D?ko(i,c,(c.subtreeFlags&8772)!==0):Xi(i,c),Hi=b,Fe=D}d&512&&(c.memoizedProps.mode==="manual"?za(c,c.return):sr(c,c.return));break;default:Xi(i,c)}}function Fx(i){var o=i.alternate;o!==null&&(i.alternate=null,Fx(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Di(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var rn=null,ur=!1;function Fi(i,o,c){for(c=c.child;c!==null;)Xx(i,o,c),c=c.sibling}function Xx(i,o,c){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(_t,c)}catch{}switch(c.tag){case 26:Fe||sr(c,o),Fi(i,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Fe||sr(c,o);var d=rn,y=ur;for(rn=c.stateNode,Fi(i,o,c),c=c.stateNode,o=c.attributes;o.length;)c.removeAttributeNode(o[0]);Di(c),rn=d,ur=y;break;case 5:Fe||sr(c,o);case 6:y=rn;var b=ur;if(rn=null,Fi(i,o,c),rn=y,ur=b,rn!==null)if(ur)try{i=rn,d=c.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)}catch(D){Re(c,o,D)}else try{rn.removeChild(c.stateNode)}catch(D){Re(c,o,D)}break;case 18:rn!==null&&(ur?(o=rn,c=c.stateNode,o.nodeType===8?Oy(o.parentNode,c):o.nodeType===1&&Oy(o,c),Dc(o)):Oy(rn,c.stateNode));break;case 4:d=rn,y=ur,rn=c.stateNode.containerInfo,ur=!0,Fi(i,o,c),rn=d,ur=y;break;case 0:case 11:case 14:case 15:Fe||Bo(2,c,o),Fe||Bo(4,c,o),Fi(i,o,c);break;case 1:Fe||(sr(c,o),d=c.stateNode,typeof d.componentWillUnmount=="function"&&kx(c,o,d)),Fi(i,o,c);break;case 21:Fi(i,o,c);break;case 22:Fe||sr(c,o),Fe=(d=Fe)||c.memoizedState!==null,Fi(i,o,c),Fe=d;break;default:Fi(i,o,c)}}function qx(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Dc(i)}catch(c){Re(o,o.return,c)}}function RR(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new zx),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new zx),o;default:throw Error(r(435,i.tag))}}function Qg(i,o){var c=RR(i);o.forEach(function(d){var y=FR.bind(null,i,d);c.has(d)||(c.add(d),d.then(y,y))})}function Rr(i,o){var c=o.deletions;if(c!==null)for(var d=0;d<c.length;d++){var y=c[d],b=i,D=o,X=D;t:for(;X!==null;){switch(X.tag){case 27:case 5:rn=X.stateNode,ur=!1;break t;case 3:rn=X.stateNode.containerInfo,ur=!0;break t;case 4:rn=X.stateNode.containerInfo,ur=!0;break t}X=X.return}if(rn===null)throw Error(r(160));Xx(b,D,y),rn=null,ur=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Gx(o,i),o=o.sibling}var Qr=null;function Gx(i,o){var c=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Rr(o,i),Nr(i),d&4&&(Bo(3,i,i.return),pc(3,i),Bo(5,i,i.return));break;case 1:Rr(o,i),Nr(i),d&512&&(Fe||c===null||sr(c,c.return)),d&64&&Hi&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var y=Qr;if(Rr(o,i),Nr(i),d&512&&(Fe||c===null||sr(c,c.return)),d&4){var b=c!==null?c.memoizedState:null;if(d=i.memoizedState,c===null)if(d===null)if(i.stateNode===null){t:{d=i.type,c=i.memoizedProps,y=y.ownerDocument||y;e:switch(d){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Kr]||b[gn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(d),y.head.insertBefore(b,y.querySelector("head > title"))),Mn(b,d,c),b[gn]=i,je(b),d=b;break t;case"link":var D=Ib("link","href",y).get(d+(c.href||""));if(D){for(var X=0;X<D.length;X++)if(b=D[X],b.getAttribute("href")===(c.href==null?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){D.splice(X,1);break e}}b=y.createElement(d),Mn(b,d,c),y.head.appendChild(b);break;case"meta":if(D=Ib("meta","content",y).get(d+(c.content||""))){for(X=0;X<D.length;X++)if(b=D[X],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){D.splice(X,1);break e}}b=y.createElement(d),Mn(b,d,c),y.head.appendChild(b);break;default:throw Error(r(468,d))}b[gn]=i,je(b),d=b}i.stateNode=d}else jb(y,i.type,i.stateNode);else i.stateNode=kb(y,d,i.memoizedProps);else b!==d?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,d===null?jb(y,i.type,i.stateNode):kb(y,d,i.memoizedProps)):d===null&&i.stateNode!==null&&jx(i,i.memoizedProps,c.memoizedProps)}break;case 27:if(d&4&&i.alternate===null){y=i.stateNode,b=i.memoizedProps;try{for(var Z=y.firstChild;Z;){var ot=Z.nextSibling,bt=Z.nodeName;Z[Kr]||bt==="HEAD"||bt==="BODY"||bt==="SCRIPT"||bt==="STYLE"||bt==="LINK"&&Z.rel.toLowerCase()==="stylesheet"||y.removeChild(Z),Z=ot}for(var At=i.type,pt=y.attributes;pt.length;)y.removeAttributeNode(pt[0]);Mn(y,At,b),y[gn]=i,y[Tn]=b}catch(Ht){Re(i,i.return,Ht)}}case 5:if(Rr(o,i),Nr(i),d&512&&(Fe||c===null||sr(c,c.return)),i.flags&32){y=i.stateNode;try{Q(y,"")}catch(Ht){Re(i,i.return,Ht)}}d&4&&i.stateNode!=null&&(y=i.memoizedProps,jx(i,y,c!==null?c.memoizedProps:y)),d&1024&&(Wg=!0);break;case 6:if(Rr(o,i),Nr(i),d&4){if(i.stateNode===null)throw Error(r(162));d=i.memoizedProps,c=i.stateNode;try{c.nodeValue=d}catch(Ht){Re(i,i.return,Ht)}}break;case 3:if(If=null,y=Qr,Qr=Bf(o.containerInfo),Rr(o,i),Qr=y,Nr(i),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Dc(o.containerInfo)}catch(Ht){Re(i,i.return,Ht)}Wg&&(Wg=!1,Vx(i));break;case 4:d=Qr,Qr=Bf(i.stateNode.containerInfo),Rr(o,i),Nr(i),Qr=d;break;case 12:Rr(o,i),Nr(i);break;case 13:Rr(o,i),Nr(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(sy=Dt()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Qg(i,d)));break;case 22:if(d&512&&(Fe||c===null||sr(c,c.return)),Z=i.memoizedState!==null,ot=c!==null&&c.memoizedState!==null,bt=Hi,At=Fe,Hi=bt||Z,Fe=At||ot,Rr(o,i),Fe=At,Hi=bt,Nr(i),o=i.stateNode,o._current=i,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,d&8192&&(o._visibility=Z?o._visibility&-2:o._visibility|1,Z&&(o=Hi||Fe,c===null||ot||o||zs(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))t:for(c=null,o=i;;){if(o.tag===5||o.tag===26||o.tag===27){if(c===null){ot=c=o;try{if(y=ot.stateNode,Z)b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{D=ot.stateNode,X=ot.memoizedProps.style;var vt=X!=null&&X.hasOwnProperty("display")?X.display:null;D.style.display=vt==null||typeof vt=="boolean"?"":(""+vt).trim()}}catch(Ht){Re(ot,ot.return,Ht)}}}else if(o.tag===6){if(c===null){ot=o;try{ot.stateNode.nodeValue=Z?"":ot.memoizedProps}catch(Ht){Re(ot,ot.return,Ht)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break t;for(;o.sibling===null;){if(o.return===null||o.return===i)break t;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=i.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Qg(i,c))));break;case 19:Rr(o,i),Nr(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Qg(i,d)));break;case 21:break;default:Rr(o,i),Nr(i)}}function Nr(i){var o=i.flags;if(o&2){try{if(i.tag!==27){t:{for(var c=i.return;c!==null;){if($x(c)){var d=c;break t}c=c.return}throw Error(r(160))}switch(d.tag){case 27:var y=d.stateNode,b=Kg(i);xf(i,b,y);break;case 5:var D=d.stateNode;d.flags&32&&(Q(D,""),d.flags&=-33);var X=Kg(i);xf(i,X,D);break;case 3:case 4:var Z=d.stateNode.containerInfo,ot=Kg(i);Zg(i,ot,Z);break;default:throw Error(r(161))}}}catch(bt){Re(i,i.return,bt)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Vx(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;Vx(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Xi(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Hx(i,o.alternate,o),o=o.sibling}function zs(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Bo(4,o,o.return),zs(o);break;case 1:sr(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&kx(o,o.return,c),zs(o);break;case 26:case 27:case 5:sr(o,o.return),zs(o);break;case 22:sr(o,o.return),o.memoizedState===null&&zs(o);break;default:zs(o)}i=i.sibling}}function ko(i,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,y=i,b=o,D=b.flags;switch(b.tag){case 0:case 11:case 15:ko(y,b,c),pc(4,b);break;case 1:if(ko(y,b,c),d=b,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ot){Re(d,d.return,ot)}if(d=b,y=d.updateQueue,y!==null){var X=d.stateNode;try{var Z=y.shared.hiddenCallbacks;if(Z!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Z.length;y++)Lx(Z[y],X)}catch(ot){Re(d,d.return,ot)}}c&&D&64&&Bx(b),za(b,b.return);break;case 26:case 27:case 5:ko(y,b,c),c&&d===null&&D&4&&Ix(b),za(b,b.return);break;case 12:ko(y,b,c);break;case 13:ko(y,b,c),c&&D&4&&qx(y,b);break;case 22:b.memoizedState===null&&ko(y,b,c),za(b,b.return);break;default:ko(y,b,c)}o=o.sibling}}function Jg(i,o){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&ic(c))}function ty(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&ic(i))}function Io(i,o,c,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Yx(i,o,c,d),o=o.sibling}function Yx(i,o,c,d){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Io(i,o,c,d),y&2048&&pc(9,o);break;case 3:Io(i,o,c,d),y&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&ic(i)));break;case 12:if(y&2048){Io(i,o,c,d),i=o.stateNode;try{var b=o.memoizedProps,D=b.id,X=b.onPostCommit;typeof X=="function"&&X(D,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Z){Re(o,o.return,Z)}}else Io(i,o,c,d);break;case 23:break;case 22:b=o.stateNode,o.memoizedState!==null?b._visibility&4?Io(i,o,c,d):gc(i,o):b._visibility&4?Io(i,o,c,d):(b._visibility|=4,Us(i,o,c,d,(o.subtreeFlags&10256)!==0)),y&2048&&Jg(o.alternate,o);break;case 24:Io(i,o,c,d),y&2048&&ty(o.alternate,o);break;default:Io(i,o,c,d)}}function Us(i,o,c,d,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var b=i,D=o,X=c,Z=d,ot=D.flags;switch(D.tag){case 0:case 11:case 15:Us(b,D,X,Z,y),pc(8,D);break;case 23:break;case 22:var bt=D.stateNode;D.memoizedState!==null?bt._visibility&4?Us(b,D,X,Z,y):gc(b,D):(bt._visibility|=4,Us(b,D,X,Z,y)),y&&ot&2048&&Jg(D.alternate,D);break;case 24:Us(b,D,X,Z,y),y&&ot&2048&&ty(D.alternate,D);break;default:Us(b,D,X,Z,y)}o=o.sibling}}function gc(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=i,d=o,y=d.flags;switch(d.tag){case 22:gc(c,d),y&2048&&Jg(d.alternate,d);break;case 24:gc(c,d),y&2048&&ty(d.alternate,d);break;default:gc(c,d)}o=o.sibling}}var yc=8192;function Hs(i){if(i.subtreeFlags&yc)for(i=i.child;i!==null;)Kx(i),i=i.sibling}function Kx(i){switch(i.tag){case 26:Hs(i),i.flags&yc&&i.memoizedState!==null&&vN(Qr,i.memoizedState,i.memoizedProps);break;case 5:Hs(i);break;case 3:case 4:var o=Qr;Qr=Bf(i.stateNode.containerInfo),Hs(i),Qr=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=yc,yc=16777216,Hs(i),yc=o):Hs(i));break;default:Hs(i)}}function Zx(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function mc(i){var o=i.deletions;if(i.flags&16){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];mn=d,Qx(d,i)}Zx(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Wx(i),i=i.sibling}function Wx(i){switch(i.tag){case 0:case 11:case 15:mc(i),i.flags&2048&&Bo(9,i,i.return);break;case 3:mc(i);break;case 12:mc(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&4&&(i.return===null||i.return.tag!==13)?(o._visibility&=-5,bf(i)):mc(i);break;default:mc(i)}}function bf(i){var o=i.deletions;if(i.flags&16){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];mn=d,Qx(d,i)}Zx(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Bo(8,o,o.return),bf(o);break;case 22:c=o.stateNode,c._visibility&4&&(c._visibility&=-5,bf(o));break;default:bf(o)}i=i.sibling}}function Qx(i,o){for(;mn!==null;){var c=mn;switch(c.tag){case 0:case 11:case 15:Bo(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:ic(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,mn=d;else t:for(c=i;mn!==null;){d=mn;var y=d.sibling,b=d.return;if(Fx(d),d===c){mn=null;break t}if(y!==null){y.return=b,mn=y;break t}mn=b}}}function NR(i,o,c,d){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(i,o,c,d){return new NR(i,o,c,d)}function ey(i){return i=i.prototype,!(!i||!i.isReactComponent)}function jo(i,o){var c=i.alternate;return c===null?(c=Dr(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&31457280,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function Jx(i,o){i.flags&=31457282;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,o=c.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Ef(i,o,c,d,y,b){var D=0;if(d=i,typeof i=="function")ey(i)&&(D=1);else if(typeof i=="string")D=yN(i,c,Tt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case f:return Ua(c.children,y,b,o);case h:D=8,y|=24;break;case p:return i=Dr(12,c,o,y|2),i.elementType=p,i.lanes=b,i;case M:return i=Dr(13,c,o,y),i.elementType=M,i.lanes=b,i;case O:return i=Dr(19,c,o,y),i.elementType=O,i.lanes=b,i;case m:return tb(c,y,b,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case g:case _:D=10;break t;case v:D=9;break t;case E:D=11;break t;case S:D=14;break t;case x:D=16,d=null;break t}D=29,c=Error(r(130,i===null?"null":typeof i,"")),d=null}return o=Dr(D,c,o,y),o.elementType=i,o.type=d,o.lanes=b,o}function Ua(i,o,c,d){return i=Dr(7,i,d,o),i.lanes=c,i}function tb(i,o,c,d){i=Dr(22,i,d,o),i.elementType=m,i.lanes=c;var y={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var b=y._current;if(b===null)throw Error(r(456));if(!(y._pendingVisibility&2)){var D=Co(b,2);D!==null&&(y._pendingVisibility|=2,qn(D,b,2))}},attach:function(){var b=y._current;if(b===null)throw Error(r(456));if(y._pendingVisibility&2){var D=Co(b,2);D!==null&&(y._pendingVisibility&=-3,qn(D,b,2))}}};return i.stateNode=y,i}function ny(i,o,c){return i=Dr(6,i,null,o),i.lanes=c,i}function ry(i,o,c){return o=Dr(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function qi(i){i.flags|=4}function eb(i,o){if(o.type!=="stylesheet"||o.state.loading&4)i.flags&=-16777217;else if(i.flags|=16777216,!$b(o)){if(o=Or.current,o!==null&&((xe&4194176)===xe?hi!==null:(xe&62914560)!==xe&&!(xe&536870912)||o!==hi))throw ec=ug,v_;i.flags|=8192}}function wf(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?_s():536870912,i.lanes|=o,Xs|=o)}function vc(i,o){if(!Ee)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function $e(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,d=0;if(o)for(var y=i.child;y!==null;)c|=y.lanes|y.childLanes,d|=y.subtreeFlags&31457280,d|=y.flags&31457280,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)c|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=d,i.childLanes=c,o}function DR(i,o,c){var d=o.pendingProps;switch(ag(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(o),null;case 1:return $e(o),null;case 3:return c=o.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Ui(fn),kt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Wu(o)?qi(o):i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Wr!==null&&(fy(Wr),Wr=null))),$e(o),null;case 26:return c=o.memoizedState,i===null?(qi(o),c!==null?($e(o),eb(o,c)):($e(o),o.flags&=-16777217)):c?c!==i.memoizedState?(qi(o),$e(o),eb(o,c)):($e(o),o.flags&=-16777217):(i.memoizedProps!==d&&qi(o),$e(o),o.flags&=-16777217),null;case 27:Bt(o),c=Ct.current;var y=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==d&&qi(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return $e(o),null}i=Tt.current,Wu(o)?y_(o):(i=Nb(y,d,c),o.stateNode=i,qi(o))}return $e(o),null;case 5:if(Bt(o),c=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==d&&qi(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return $e(o),null}if(i=Tt.current,Wu(o))y_(o);else{switch(y=Pf(Ct.current),i){case 1:i=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:i=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":i=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":i=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":i=y.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof d.is=="string"?y.createElement("select",{is:d.is}):y.createElement("select"),d.multiple?i.multiple=!0:d.size&&(i.size=d.size);break;default:i=typeof d.is=="string"?y.createElement(c,{is:d.is}):y.createElement(c)}}i[gn]=o,i[Tn]=d;t:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)i.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break t;for(;y.sibling===null;){if(y.return===null||y.return===o)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=i;t:switch(Mn(i,c,d),c){case"button":case"input":case"select":case"textarea":i=!!d.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&qi(o)}}return $e(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==d&&qi(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(r(166));if(i=Ct.current,Wu(o)){if(i=o.stateNode,c=o.memoizedProps,d=null,y=Xn,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}i[gn]=o,i=!!(i.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||Sb(i.nodeValue,c)),i||Na(o)}else i=Pf(i).createTextNode(d),i[gn]=o,o.stateNode=i}return $e(o),null;case 13:if(d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Wu(o),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[gn]=o}else Qu(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;$e(o),y=!1}else Wr!==null&&(fy(Wr),Wr=null),y=!0;if(!y)return o.flags&256?(Ii(o),o):(Ii(o),null)}if(Ii(o),o.flags&128)return o.lanes=c,o;if(c=d!==null,i=i!==null&&i.memoizedState!==null,c){d=o.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==y&&(d.flags|=2048)}return c!==i&&c&&(o.child.flags|=8192),wf(o,o.updateQueue),$e(o),null;case 4:return kt(),i===null&&Ey(o.stateNode.containerInfo),$e(o),null;case 10:return Ui(o.type),$e(o),null;case 19:if(W(ln),y=o.memoizedState,y===null)return $e(o),null;if(d=(o.flags&128)!==0,b=y.rendering,b===null)if(d)vc(y,!1);else{if(Xe!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(b=af(i),b!==null){for(o.flags|=128,vc(y,!1),i=b.updateQueue,o.updateQueue=i,wf(o,i),o.subtreeFlags=0,i=c,c=o.child;c!==null;)Jx(c,i),c=c.sibling;return q(ln,ln.current&1|2),o.child}i=i.sibling}y.tail!==null&&Dt()>Tf&&(o.flags|=128,d=!0,vc(y,!1),o.lanes=4194304)}else{if(!d)if(i=af(b),i!==null){if(o.flags|=128,d=!0,i=i.updateQueue,o.updateQueue=i,wf(o,i),vc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!Ee)return $e(o),null}else 2*Dt()-y.renderingStartTime>Tf&&c!==536870912&&(o.flags|=128,d=!0,vc(y,!1),o.lanes=4194304);y.isBackwards?(b.sibling=o.child,o.child=b):(i=y.last,i!==null?i.sibling=b:o.child=b,y.last=b)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Dt(),o.sibling=null,i=ln.current,q(ln,d?i&1|2:i&1),o):($e(o),null);case 22:case 23:return Ii(o),lg(),d=o.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?c&536870912&&!(o.flags&128)&&($e(o),o.subtreeFlags&6&&(o.flags|=8192)):$e(o),c=o.updateQueue,c!==null&&wf(o,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048),i!==null&&W(La),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Ui(fn),$e(o),null;case 25:return null}throw Error(r(156,o.tag))}function LR(i,o){switch(ag(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ui(fn),kt(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Bt(o),null;case 13:if(Ii(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Qu()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return W(ln),null;case 4:return kt(),null;case 10:return Ui(o.type),null;case 22:case 23:return Ii(o),lg(),i!==null&&W(La),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Ui(fn),null;case 25:return null;default:return null}}function nb(i,o){switch(ag(o),o.tag){case 3:Ui(fn),kt();break;case 26:case 27:case 5:Bt(o);break;case 4:kt();break;case 13:Ii(o);break;case 19:W(ln);break;case 10:Ui(o.type);break;case 22:case 23:Ii(o),lg(),i!==null&&W(La);break;case 24:Ui(fn)}}var PR={getCacheForType:function(i){var o=kn(fn),c=o.data.get(i);return c===void 0&&(c=i(),o.data.set(i,c)),c}},BR=typeof WeakMap=="function"?WeakMap:Map,ze=0,Ne=null,ge=null,xe=0,De=0,cr=null,Gi=!1,Fs=!1,iy=!1,Vi=0,Xe=0,$o=0,Ha=0,oy=0,Lr=0,Xs=0,_c=null,gi=null,ay=!1,sy=0,Tf=1/0,Sf=null,zo=null,Cf=!1,Fa=null,xc=0,uy=0,cy=null,bc=0,ly=null;function lr(){if(ze&2&&xe!==0)return xe&-xe;if(T.T!==null){var i=Bs;return i!==0?i:vy()}return bs()}function rb(){Lr===0&&(Lr=!(xe&536870912)||Ee?ba():536870912);var i=Or.current;return i!==null&&(i.flags|=32),Lr}function qn(i,o,c){(i===Ne&&De===2||i.cancelPendingCommit!==null)&&(qs(i,0),Yi(i,xe,Lr,!1)),Ea(i,c),(!(ze&2)||i!==Ne)&&(i===Ne&&(!(ze&2)&&(Ha|=c),Xe===4&&Yi(i,xe,Lr,!1)),yi(i))}function ib(i,o,c){if(ze&6)throw Error(r(327));var d=!c&&(o&60)===0&&(o&i.expiredLanes)===0||ci(i,o),y=d?jR(i,o):py(i,o,!0),b=d;do{if(y===0){Fs&&!d&&Yi(i,o,0,!1);break}else if(y===6)Yi(i,o,0,!Gi);else{if(c=i.current.alternate,b&&!kR(c)){y=py(i,o,!1),b=!1;continue}if(y===2){if(b=o,i.errorRecoveryDisabledLanes&b)var D=0;else D=i.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){o=D;t:{var X=i;y=_c;var Z=X.current.memoizedState.isDehydrated;if(Z&&(qs(X,D).flags|=256),D=py(X,D,!1),D!==2){if(iy&&!Z){X.errorRecoveryDisabledLanes|=b,Ha|=b,y=4;break t}b=gi,gi=y,b!==null&&fy(b)}y=D}if(b=!1,y!==2)continue}}if(y===1){qs(i,0),Yi(i,o,0,!0);break}t:{switch(d=i,y){case 0:case 1:throw Error(r(345));case 4:if((o&4194176)===o){Yi(d,o,Lr,!Gi);break t}break;case 2:gi=null;break;case 3:case 5:break;default:throw Error(r(329))}if(d.finishedWork=c,d.finishedLanes=o,(o&62914560)===o&&(b=sy+300-Dt(),10<b)){if(Yi(d,o,Lr,!Gi),Ri(d,0)!==0)break t;d.timeoutHandle=Ab(ob.bind(null,d,c,gi,Sf,ay,o,Lr,Ha,Xs,Gi,2,-0,0),b);break t}ob(d,c,gi,Sf,ay,o,Lr,Ha,Xs,Gi,0,-0,0)}}break}while(!0);yi(i)}function fy(i){gi===null?gi=i:gi.push.apply(gi,i)}function ob(i,o,c,d,y,b,D,X,Z,ot,bt,At,pt){var vt=o.subtreeFlags;if((vt&8192||(vt&16785408)===16785408)&&(Mc={stylesheets:null,count:0,unsuspend:mN},Kx(o),o=_N(),o!==null)){i.cancelPendingCommit=o(db.bind(null,i,c,d,y,D,X,Z,1,At,pt)),Yi(i,b,D,!ot);return}db(i,c,d,y,D,X,Z,bt,At,pt)}function kR(i){for(var o=i;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var y=c[d],b=y.getSnapshot;y=y.value;try{if(!ar(b(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Yi(i,o,c,d){o&=~oy,o&=~Ha,i.suspendedLanes|=o,i.pingedLanes&=~o,d&&(i.warmLanes|=o),d=i.expirationTimes;for(var y=o;0<y;){var b=31-re(y),D=1<<b;d[b]=-1,y&=~D}c!==0&&zl(i,c,o)}function Mf(){return ze&6?!0:(Ec(0),!1)}function dy(){if(ge!==null){if(De===0)var i=ge.return;else i=ge,zi=ja=null,vg(i),Ls=null,nc=0,i=ge;for(;i!==null;)nb(i.alternate,i),i=i.return;ge=null}}function qs(i,o){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,eN(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),dy(),Ne=i,ge=c=jo(i.current,null),xe=o,De=0,cr=null,Gi=!1,Fs=ci(i,o),iy=!1,Xs=Lr=oy=Ha=$o=Xe=0,gi=_c=null,ay=!1,o&8&&(o|=o&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=o;0<d;){var y=31-re(d),b=1<<y;o|=i[y],d&=~b}return Vi=o,Zl(),c}function ab(i,o){de=null,T.H=pi,o===tc?(o=b_(),De=3):o===v_?(o=b_(),De=4):De=o===_x?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,cr=o,ge===null&&(Xe=1,mf(i,Cr(o,i.current)))}function sb(){var i=T.H;return T.H=pi,i===null?pi:i}function ub(){var i=T.A;return T.A=PR,i}function hy(){Xe=4,Gi||(xe&4194176)!==xe&&Or.current!==null||(Fs=!0),!($o&134217727)&&!(Ha&134217727)||Ne===null||Yi(Ne,xe,Lr,!1)}function py(i,o,c){var d=ze;ze|=2;var y=sb(),b=ub();(Ne!==i||xe!==o)&&(Sf=null,qs(i,o)),o=!1;var D=Xe;t:do try{if(De!==0&&ge!==null){var X=ge,Z=cr;switch(De){case 8:dy(),D=6;break t;case 3:case 2:case 6:Or.current===null&&(o=!0);var ot=De;if(De=0,cr=null,Gs(i,X,Z,ot),c&&Fs){D=0;break t}break;default:ot=De,De=0,cr=null,Gs(i,X,Z,ot)}}IR(),D=Xe;break}catch(bt){ab(i,bt)}while(!0);return o&&i.shellSuspendCounter++,zi=ja=null,ze=d,T.H=y,T.A=b,ge===null&&(Ne=null,xe=0,Zl()),D}function IR(){for(;ge!==null;)cb(ge)}function jR(i,o){var c=ze;ze|=2;var d=sb(),y=ub();Ne!==i||xe!==o?(Sf=null,Tf=Dt()+500,qs(i,o)):Fs=ci(i,o);t:do try{if(De!==0&&ge!==null){o=ge;var b=cr;e:switch(De){case 1:De=0,cr=null,Gs(i,o,b,1);break;case 2:if(__(b)){De=0,cr=null,lb(o);break}o=function(){De===2&&Ne===i&&(De=7),yi(i)},b.then(o,o);break t;case 3:De=7;break t;case 4:De=5;break t;case 7:__(b)?(De=0,cr=null,lb(o)):(De=0,cr=null,Gs(i,o,b,7));break;case 5:var D=null;switch(ge.tag){case 26:D=ge.memoizedState;case 5:case 27:var X=ge;if(!D||$b(D)){De=0,cr=null;var Z=X.sibling;if(Z!==null)ge=Z;else{var ot=X.return;ot!==null?(ge=ot,Af(ot)):ge=null}break e}}De=0,cr=null,Gs(i,o,b,5);break;case 6:De=0,cr=null,Gs(i,o,b,6);break;case 8:dy(),Xe=6;break t;default:throw Error(r(462))}}$R();break}catch(bt){ab(i,bt)}while(!0);return zi=ja=null,T.H=d,T.A=y,ze=c,ge!==null?0:(Ne=null,xe=0,Zl(),Xe)}function $R(){for(;ge!==null&&!Vt();)cb(ge)}function cb(i){var o=Nx(i.alternate,i,Vi);i.memoizedProps=i.pendingProps,o===null?Af(i):ge=o}function lb(i){var o=i,c=o.alternate;switch(o.tag){case 15:case 0:o=Sx(c,o,o.pendingProps,o.type,void 0,xe);break;case 11:o=Sx(c,o,o.pendingProps,o.type.render,o.ref,xe);break;case 5:vg(o);default:nb(c,o),o=ge=Jx(o,Vi),o=Nx(c,o,Vi)}i.memoizedProps=i.pendingProps,o===null?Af(i):ge=o}function Gs(i,o,c,d){zi=ja=null,vg(o),Ls=null,nc=0;var y=o.return;try{if(MR(i,y,o,c,xe)){Xe=1,mf(i,Cr(c,i.current)),ge=null;return}}catch(b){if(y!==null)throw ge=y,b;Xe=1,mf(i,Cr(c,i.current)),ge=null;return}o.flags&32768?(Ee||d===1?i=!0:Fs||xe&536870912?i=!1:(Gi=i=!0,(d===2||d===3||d===6)&&(d=Or.current,d!==null&&d.tag===13&&(d.flags|=16384))),fb(o,i)):Af(o)}function Af(i){var o=i;do{if(o.flags&32768){fb(o,Gi);return}i=o.return;var c=DR(o.alternate,o,Vi);if(c!==null){ge=c;return}if(o=o.sibling,o!==null){ge=o;return}ge=o=i}while(o!==null);Xe===0&&(Xe=5)}function fb(i,o){do{var c=LR(i.alternate,i);if(c!==null){c.flags&=32767,ge=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(i=i.sibling,i!==null)){ge=i;return}ge=i=c}while(i!==null);Xe=6,ge=null}function db(i,o,c,d,y,b,D,X,Z,ot){var bt=T.T,At=tt.p;try{tt.p=2,T.T=null,zR(i,o,c,d,At,y,b,D,X,Z,ot)}finally{T.T=bt,tt.p=At}}function zR(i,o,c,d,y,b,D,X){do Vs();while(Fa!==null);if(ze&6)throw Error(r(327));var Z=i.finishedWork;if(d=i.finishedLanes,Z===null)return null;if(i.finishedWork=null,i.finishedLanes=0,Z===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var ot=Z.lanes|Z.childLanes;if(ot|=rg,xs(i,d,ot,b,D,X),i===Ne&&(ge=Ne=null,xe=0),!(Z.subtreeFlags&10256)&&!(Z.flags&10256)||Cf||(Cf=!0,uy=ot,cy=c,XR(R,function(){return Vs(),null})),c=(Z.flags&15990)!==0,Z.subtreeFlags&15990||c?(c=T.T,T.T=null,b=tt.p,tt.p=2,D=ze,ze|=4,OR(i,Z),Gx(Z,i),lR(Cy,i.containerInfo),zf=!!Sy,Cy=Sy=null,i.current=Z,Hx(i,Z.alternate,Z),fe(),ze=D,tt.p=b,T.T=c):i.current=Z,Cf?(Cf=!1,Fa=i,xc=d):hb(i,ot),ot=i.pendingLanes,ot===0&&(zo=null),Me(Z.stateNode),yi(i),o!==null)for(y=i.onRecoverableError,Z=0;Z<o.length;Z++)ot=o[Z],y(ot.value,{componentStack:ot.stack});return xc&3&&Vs(),ot=i.pendingLanes,d&4194218&&ot&42?i===ly?bc++:(bc=0,ly=i):bc=0,Ec(0),null}function hb(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,ic(o)))}function Vs(){if(Fa!==null){var i=Fa,o=uy;uy=0;var c=ku(xc),d=T.T,y=tt.p;try{if(tt.p=32>c?32:c,T.T=null,Fa===null)var b=!1;else{c=cy,cy=null;var D=Fa,X=xc;if(Fa=null,xc=0,ze&6)throw Error(r(331));var Z=ze;if(ze|=4,Wx(D.current),Yx(D,D.current,X,c),ze=Z,Ec(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(_t,D)}catch{}b=!0}return b}finally{tt.p=y,T.T=d,hb(i,o)}}return!1}function pb(i,o,c){o=Cr(c,o),o=Dg(i.stateNode,o,2),i=Po(i,o,2),i!==null&&(Ea(i,2),yi(i))}function Re(i,o,c){if(i.tag===3)pb(i,i,c);else for(;o!==null;){if(o.tag===3){pb(o,i,c);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(zo===null||!zo.has(d))){i=Cr(c,i),c=mx(2),d=Po(o,c,2),d!==null&&(vx(c,d,o,i),Ea(d,2),yi(d));break}}o=o.return}}function gy(i,o,c){var d=i.pingCache;if(d===null){d=i.pingCache=new BR;var y=new Set;d.set(o,y)}else y=d.get(o),y===void 0&&(y=new Set,d.set(o,y));y.has(c)||(iy=!0,y.add(c),i=UR.bind(null,i,o,c),o.then(i,i))}function UR(i,o,c){var d=i.pingCache;d!==null&&d.delete(o),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,Ne===i&&(xe&c)===c&&(Xe===4||Xe===3&&(xe&62914560)===xe&&300>Dt()-sy?!(ze&2)&&qs(i,0):oy|=c,Xs===xe&&(Xs=0)),yi(i)}function gb(i,o){o===0&&(o=_s()),i=Co(i,o),i!==null&&(Ea(i,o),yi(i))}function HR(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),gb(i,c)}function FR(i,o){var c=0;switch(i.tag){case 13:var d=i.stateNode,y=i.memoizedState;y!==null&&(c=y.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(o),gb(i,c)}function XR(i,o){return It(i,o)}var Of=null,Ys=null,yy=!1,Rf=!1,my=!1,Xa=0;function yi(i){i!==Ys&&i.next===null&&(Ys===null?Of=Ys=i:Ys=Ys.next=i),Rf=!0,yy||(yy=!0,GR(qR))}function Ec(i,o){if(!my&&Rf){my=!0;do for(var c=!1,d=Of;d!==null;){if(i!==0){var y=d.pendingLanes;if(y===0)var b=0;else{var D=d.suspendedLanes,X=d.pingedLanes;b=(1<<31-re(42|i)+1)-1,b&=y&~(D&~X),b=b&201326677?b&201326677|1:b?b|2:0}b!==0&&(c=!0,vb(d,b))}else b=xe,b=Ri(d,d===Ne?b:0),!(b&3)||ci(d,b)||(c=!0,vb(d,b));d=d.next}while(c);my=!1}}function qR(){Rf=yy=!1;var i=0;Xa!==0&&(tN()&&(i=Xa),Xa=0);for(var o=Dt(),c=null,d=Of;d!==null;){var y=d.next,b=yb(d,o);b===0?(d.next=null,c===null?Of=y:c.next=y,y===null&&(Ys=c)):(c=d,(i!==0||b&3)&&(Rf=!0)),d=y}Ec(i)}function yb(i,o){for(var c=i.suspendedLanes,d=i.pingedLanes,y=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var D=31-re(b),X=1<<D,Z=y[D];Z===-1?(!(X&c)||X&d)&&(y[D]=bo(X,o)):Z<=o&&(i.expiredLanes|=X),b&=~X}if(o=Ne,c=xe,c=Ri(i,i===o?c:0),d=i.callbackNode,c===0||i===o&&De===2||i.cancelPendingCommit!==null)return d!==null&&d!==null&&Xt(d),i.callbackNode=null,i.callbackPriority=0;if(!(c&3)||ci(i,c)){if(o=c&-c,o===i.callbackPriority)return o;switch(d!==null&&Xt(d),ku(c)){case 2:case 8:c=U;break;case 32:c=R;break;case 268435456:c=Y;break;default:c=R}return d=mb.bind(null,i),c=It(c,d),i.callbackPriority=o,i.callbackNode=c,o}return d!==null&&d!==null&&Xt(d),i.callbackPriority=2,i.callbackNode=null,2}function mb(i,o){var c=i.callbackNode;if(Vs()&&i.callbackNode!==c)return null;var d=xe;return d=Ri(i,i===Ne?d:0),d===0?null:(ib(i,d,o),yb(i,Dt()),i.callbackNode!=null&&i.callbackNode===c?mb.bind(null,i):null)}function vb(i,o){if(Vs())return null;ib(i,o,!0)}function GR(i){nN(function(){ze&6?It(Zn,i):i()})}function vy(){return Xa===0&&(Xa=ba()),Xa}function _b(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:tn(""+i)}function xb(i,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,i.id&&c.setAttribute("form",i.id),o.parentNode.insertBefore(c,o),i=new FormData(i),c.parentNode.removeChild(c),i}function VR(i,o,c,d,y){if(o==="submit"&&c&&c.stateNode===y){var b=_b((y[Tn]||null).action),D=d.submitter;D&&(o=(o=D[Tn]||null)?_b(o.formAction):D.getAttribute("formAction"),o!==null&&(b=o,D=null));var X=new Vl("action","action",null,d,y);i.push({event:X,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Xa!==0){var Z=D?xb(y,D):new FormData(y);Mg(c,{pending:!0,data:Z,method:y.method,action:b},null,Z)}}else typeof b=="function"&&(X.preventDefault(),Z=D?xb(y,D):new FormData(y),Mg(c,{pending:!0,data:Z,method:y.method,action:b},b,Z))},currentTarget:y}]})}}for(var _y=0;_y<d_.length;_y++){var xy=d_[_y],YR=xy.toLowerCase(),KR=xy[0].toUpperCase()+xy.slice(1);Zr(YR,"on"+KR)}Zr(s_,"onAnimationEnd"),Zr(u_,"onAnimationIteration"),Zr(c_,"onAnimationStart"),Zr("dblclick","onDoubleClick"),Zr("focusin","onFocus"),Zr("focusout","onBlur"),Zr(dR,"onTransitionRun"),Zr(hR,"onTransitionStart"),Zr(pR,"onTransitionCancel"),Zr(l_,"onTransitionEnd"),Ln("onMouseEnter",["mouseout","mouseover"]),Ln("onMouseLeave",["mouseout","mouseover"]),Ln("onPointerEnter",["pointerout","pointerover"]),Ln("onPointerLeave",["pointerout","pointerover"]),Dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wc));function bb(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var d=i[c],y=d.event;d=d.listeners;t:{var b=void 0;if(o)for(var D=d.length-1;0<=D;D--){var X=d[D],Z=X.instance,ot=X.currentTarget;if(X=X.listener,Z!==b&&y.isPropagationStopped())break t;b=X,y.currentTarget=ot;try{b(y)}catch(bt){yf(bt)}y.currentTarget=null,b=Z}else for(D=0;D<d.length;D++){if(X=d[D],Z=X.instance,ot=X.currentTarget,X=X.listener,Z!==b&&y.isPropagationStopped())break t;b=X,y.currentTarget=ot;try{b(y)}catch(bt){yf(bt)}y.currentTarget=null,b=Z}}}}function _e(i,o){var c=o[Es];c===void 0&&(c=o[Es]=new Set);var d=i+"__bubble";c.has(d)||(Eb(o,i,2,!1),c.add(d))}function by(i,o,c){var d=0;o&&(d|=4),Eb(c,i,d,o)}var Nf="_reactListening"+Math.random().toString(36).slice(2);function Ey(i){if(!i[Nf]){i[Nf]=!0,Un.forEach(function(c){c!=="selectionchange"&&(ZR.has(c)||by(c,!1,i),by(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Nf]||(o[Nf]=!0,by("selectionchange",!1,o))}}function Eb(i,o,c,d){switch(qb(o)){case 2:var y=EN;break;case 8:y=wN;break;default:y=By}c=y.bind(null,o,c,i),y=void 0,!Xp||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),d?y!==void 0?i.addEventListener(o,c,{capture:!0,passive:y}):i.addEventListener(o,c,!0):y!==void 0?i.addEventListener(o,c,{passive:y}):i.addEventListener(o,c,!1)}function wy(i,o,c,d,y){var b=d;if(!(o&1)&&!(o&2)&&d!==null)t:for(;;){if(d===null)return;var D=d.tag;if(D===3||D===4){var X=d.stateNode.containerInfo;if(X===y||X.nodeType===8&&X.parentNode===y)break;if(D===4)for(D=d.return;D!==null;){var Z=D.tag;if((Z===3||Z===4)&&(Z=D.stateNode.containerInfo,Z===y||Z.nodeType===8&&Z.parentNode===y))return;D=D.return}for(;X!==null;){if(D=Er(X),D===null)return;if(Z=D.tag,Z===5||Z===6||Z===26||Z===27){d=b=D;continue t}X=X.parentNode}}d=d.return}I1(function(){var ot=b,bt=Hp(c),At=[];t:{var pt=f_.get(i);if(pt!==void 0){var vt=Vl,Ht=i;switch(i){case"keypress":if(ql(c)===0)break t;case"keydown":case"keyup":vt=FO;break;case"focusin":Ht="focus",vt=Yp;break;case"focusout":Ht="blur",vt=Yp;break;case"beforeblur":case"afterblur":vt=Yp;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=z1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=NO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=GO;break;case s_:case u_:case c_:vt=PO;break;case l_:vt=YO;break;case"scroll":case"scrollend":vt=OO;break;case"wheel":vt=ZO;break;case"copy":case"cut":case"paste":vt=kO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=H1;break;case"toggle":case"beforetoggle":vt=QO}var ee=(o&4)!==0,qe=!ee&&(i==="scroll"||i==="scrollend"),ut=ee?pt!==null?pt+"Capture":null:pt;ee=[];for(var rt=ot,ct;rt!==null;){var St=rt;if(ct=St.stateNode,St=St.tag,St!==5&&St!==26&&St!==27||ct===null||ut===null||(St=Hu(rt,ut),St!=null&&ee.push(Tc(rt,St,ct))),qe)break;rt=rt.return}0<ee.length&&(pt=new vt(pt,Ht,null,c,bt),At.push({event:pt,listeners:ee}))}}if(!(o&7)){t:{if(pt=i==="mouseover"||i==="pointerover",vt=i==="mouseout"||i==="pointerout",pt&&c!==Qn&&(Ht=c.relatedTarget||c.fromElement)&&(Er(Ht)||Ht[Ni]))break t;if((vt||pt)&&(pt=bt.window===bt?bt:(pt=bt.ownerDocument)?pt.defaultView||pt.parentWindow:window,vt?(Ht=c.relatedTarget||c.toElement,vt=ot,Ht=Ht?Er(Ht):null,Ht!==null&&(qe=Mt(Ht),ee=Ht.tag,Ht!==qe||ee!==5&&ee!==27&&ee!==6)&&(Ht=null)):(vt=null,Ht=ot),vt!==Ht)){if(ee=z1,St="onMouseLeave",ut="onMouseEnter",rt="mouse",(i==="pointerout"||i==="pointerover")&&(ee=H1,St="onPointerLeave",ut="onPointerEnter",rt="pointer"),qe=vt==null?pt:wa(vt),ct=Ht==null?pt:wa(Ht),pt=new ee(St,rt+"leave",vt,c,bt),pt.target=qe,pt.relatedTarget=ct,St=null,Er(bt)===ot&&(ee=new ee(ut,rt+"enter",Ht,c,bt),ee.target=ct,ee.relatedTarget=qe,St=ee),qe=St,vt&&Ht)e:{for(ee=vt,ut=Ht,rt=0,ct=ee;ct;ct=Ks(ct))rt++;for(ct=0,St=ut;St;St=Ks(St))ct++;for(;0<rt-ct;)ee=Ks(ee),rt--;for(;0<ct-rt;)ut=Ks(ut),ct--;for(;rt--;){if(ee===ut||ut!==null&&ee===ut.alternate)break e;ee=Ks(ee),ut=Ks(ut)}ee=null}else ee=null;vt!==null&&wb(At,pt,vt,ee,!1),Ht!==null&&qe!==null&&wb(At,qe,Ht,ee,!0)}}t:{if(pt=ot?wa(ot):window,vt=pt.nodeName&&pt.nodeName.toLowerCase(),vt==="select"||vt==="input"&&pt.type==="file")var Ut=Z1;else if(Y1(pt))if(W1)Ut=uR;else{Ut=aR;var pe=oR}else vt=pt.nodeName,!vt||vt.toLowerCase()!=="input"||pt.type!=="checkbox"&&pt.type!=="radio"?ot&&oe(ot.elementType)&&(Ut=Z1):Ut=sR;if(Ut&&(Ut=Ut(i,ot))){K1(At,Ut,c,bt);break t}pe&&pe(i,pt,ot),i==="focusout"&&ot&&pt.type==="number"&&ot.memoizedProps.value!=null&&Uu(pt,"number",pt.value)}switch(pe=ot?wa(ot):window,i){case"focusin":(Y1(pe)||pe.contentEditable==="true")&&(Ms=pe,tg=ot,Zu=null);break;case"focusout":Zu=tg=Ms=null;break;case"mousedown":eg=!0;break;case"contextmenu":case"mouseup":case"dragend":eg=!1,o_(At,c,bt);break;case"selectionchange":if(fR)break;case"keydown":case"keyup":o_(At,c,bt)}var Gt;if(Zp)t:{switch(i){case"compositionstart":var Zt="onCompositionStart";break t;case"compositionend":Zt="onCompositionEnd";break t;case"compositionupdate":Zt="onCompositionUpdate";break t}Zt=void 0}else Cs?G1(i,c)&&(Zt="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Zt="onCompositionStart");Zt&&(F1&&c.locale!=="ko"&&(Cs||Zt!=="onCompositionStart"?Zt==="onCompositionEnd"&&Cs&&(Gt=j1()):(So=bt,qp="value"in So?So.value:So.textContent,Cs=!0)),pe=Df(ot,Zt),0<pe.length&&(Zt=new U1(Zt,i,null,c,bt),At.push({event:Zt,listeners:pe}),Gt?Zt.data=Gt:(Gt=V1(c),Gt!==null&&(Zt.data=Gt)))),(Gt=tR?eR(i,c):nR(i,c))&&(Zt=Df(ot,"onBeforeInput"),0<Zt.length&&(pe=new U1("onBeforeInput","beforeinput",null,c,bt),At.push({event:pe,listeners:Zt}),pe.data=Gt)),VR(At,i,ot,c,bt)}bb(At,o)})}function Tc(i,o,c){return{instance:i,listener:o,currentTarget:c}}function Df(i,o){for(var c=o+"Capture",d=[];i!==null;){var y=i,b=y.stateNode;y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Hu(i,c),y!=null&&d.unshift(Tc(i,y,b)),y=Hu(i,o),y!=null&&d.push(Tc(i,y,b))),i=i.return}return d}function Ks(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function wb(i,o,c,d,y){for(var b=o._reactName,D=[];c!==null&&c!==d;){var X=c,Z=X.alternate,ot=X.stateNode;if(X=X.tag,Z!==null&&Z===d)break;X!==5&&X!==26&&X!==27||ot===null||(Z=ot,y?(ot=Hu(c,b),ot!=null&&D.unshift(Tc(c,ot,Z))):y||(ot=Hu(c,b),ot!=null&&D.push(Tc(c,ot,Z)))),c=c.return}D.length!==0&&i.push({event:o,listeners:D})}var WR=/\r\n?/g,QR=/\u0000|\uFFFD/g;function Tb(i){return(typeof i=="string"?i:""+i).replace(WR,`
`).replace(QR,"")}function Sb(i,o){return o=Tb(o),Tb(i)===o}function Lf(){}function Oe(i,o,c,d,y,b){switch(c){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||Q(i,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&Q(i,""+d);break;case"className":Pn(i,"class",d);break;case"tabIndex":Pn(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(i,c,d);break;case"style":$t(i,d,b);break;case"data":if(o!=="object"){Pn(i,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||c!=="href")){i.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(c);break}d=tn(""+d),i.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(o!=="input"&&Oe(i,o,"name",y.name,y,null),Oe(i,o,"formEncType",y.formEncType,y,null),Oe(i,o,"formMethod",y.formMethod,y,null),Oe(i,o,"formTarget",y.formTarget,y,null)):(Oe(i,o,"encType",y.encType,y,null),Oe(i,o,"method",y.method,y,null),Oe(i,o,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(c);break}d=tn(""+d),i.setAttribute(c,d);break;case"onClick":d!=null&&(i.onclick=Lf);break;case"onScroll":d!=null&&_e("scroll",i);break;case"onScrollEnd":d!=null&&_e("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}c=tn(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,""+d):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":d===!0?i.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,d):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(c,d):i.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(c):i.setAttribute(c,d);break;case"popover":_e("beforetoggle",i),_e("toggle",i),Pi(i,"popover",d);break;case"xlinkActuate":Wn(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Wn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Wn(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Wn(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Wn(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Wn(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Wn(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Wn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Wn(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Pi(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Je.get(c)||c,Pi(i,c,d))}}function Ty(i,o,c,d,y,b){switch(c){case"style":$t(i,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof d=="string"?Q(i,d):(typeof d=="number"||typeof d=="bigint")&&Q(i,""+d);break;case"onScroll":d!=null&&_e("scroll",i);break;case"onScrollEnd":d!=null&&_e("scrollend",i);break;case"onClick":d!=null&&(i.onclick=Lf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Li.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),b=i[Tn]||null,b=b!=null?b[c]:null,typeof b=="function"&&i.removeEventListener(o,b,y),typeof d=="function")){typeof b!="function"&&b!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(o,d,y);break t}c in i?i[c]=d:d===!0?i.setAttribute(c,""):Pi(i,c,d)}}}function Mn(i,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",i),_e("load",i);var d=!1,y=!1,b;for(b in c)if(c.hasOwnProperty(b)){var D=c[b];if(D!=null)switch(b){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Oe(i,o,b,D,c,null)}}y&&Oe(i,o,"srcSet",c.srcSet,c,null),d&&Oe(i,o,"src",c.src,c,null);return;case"input":_e("invalid",i);var X=b=D=y=null,Z=null,ot=null;for(d in c)if(c.hasOwnProperty(d)){var bt=c[d];if(bt!=null)switch(d){case"name":y=bt;break;case"type":D=bt;break;case"checked":Z=bt;break;case"defaultChecked":ot=bt;break;case"value":b=bt;break;case"defaultValue":X=bt;break;case"children":case"dangerouslySetInnerHTML":if(bt!=null)throw Error(r(137,o));break;default:Oe(i,o,d,bt,c,null)}}zu(i,b,X,Z,ot,D,y,!1),wo(i);return;case"select":_e("invalid",i),d=D=b=null;for(y in c)if(c.hasOwnProperty(y)&&(X=c[y],X!=null))switch(y){case"value":b=X;break;case"defaultValue":D=X;break;case"multiple":d=X;default:Oe(i,o,y,X,c,null)}o=b,c=D,i.multiple=!!d,o!=null?To(i,!!d,o,!1):c!=null&&To(i,!!d,c,!0);return;case"textarea":_e("invalid",i),b=y=d=null;for(D in c)if(c.hasOwnProperty(D)&&(X=c[D],X!=null))switch(D){case"value":d=X;break;case"defaultValue":y=X;break;case"children":b=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(91));break;default:Oe(i,o,D,X,c,null)}V(i,d,y,b),wo(i);return;case"option":for(Z in c)if(c.hasOwnProperty(Z)&&(d=c[Z],d!=null))switch(Z){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Oe(i,o,Z,d,c,null)}return;case"dialog":_e("cancel",i),_e("close",i);break;case"iframe":case"object":_e("load",i);break;case"video":case"audio":for(d=0;d<wc.length;d++)_e(wc[d],i);break;case"image":_e("error",i),_e("load",i);break;case"details":_e("toggle",i);break;case"embed":case"source":case"link":_e("error",i),_e("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ot in c)if(c.hasOwnProperty(ot)&&(d=c[ot],d!=null))switch(ot){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Oe(i,o,ot,d,c,null)}return;default:if(oe(o)){for(bt in c)c.hasOwnProperty(bt)&&(d=c[bt],d!==void 0&&Ty(i,o,bt,d,c,void 0));return}}for(X in c)c.hasOwnProperty(X)&&(d=c[X],d!=null&&Oe(i,o,X,d,c,null))}function JR(i,o,c,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,D=null,X=null,Z=null,ot=null,bt=null;for(vt in c){var At=c[vt];if(c.hasOwnProperty(vt)&&At!=null)switch(vt){case"checked":break;case"value":break;case"defaultValue":Z=At;default:d.hasOwnProperty(vt)||Oe(i,o,vt,null,d,At)}}for(var pt in d){var vt=d[pt];if(At=c[pt],d.hasOwnProperty(pt)&&(vt!=null||At!=null))switch(pt){case"type":b=vt;break;case"name":y=vt;break;case"checked":ot=vt;break;case"defaultChecked":bt=vt;break;case"value":D=vt;break;case"defaultValue":X=vt;break;case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(r(137,o));break;default:vt!==At&&Oe(i,o,pt,vt,d,At)}}Sa(i,D,X,Z,ot,bt,b,y);return;case"select":vt=D=X=pt=null;for(b in c)if(Z=c[b],c.hasOwnProperty(b)&&Z!=null)switch(b){case"value":break;case"multiple":vt=Z;default:d.hasOwnProperty(b)||Oe(i,o,b,null,d,Z)}for(y in d)if(b=d[y],Z=c[y],d.hasOwnProperty(y)&&(b!=null||Z!=null))switch(y){case"value":pt=b;break;case"defaultValue":X=b;break;case"multiple":D=b;default:b!==Z&&Oe(i,o,y,b,d,Z)}o=X,c=D,d=vt,pt!=null?To(i,!!c,pt,!1):!!d!=!!c&&(o!=null?To(i,!!c,o,!0):To(i,!!c,c?[]:"",!1));return;case"textarea":vt=pt=null;for(X in c)if(y=c[X],c.hasOwnProperty(X)&&y!=null&&!d.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:Oe(i,o,X,null,d,y)}for(D in d)if(y=d[D],b=c[D],d.hasOwnProperty(D)&&(y!=null||b!=null))switch(D){case"value":pt=y;break;case"defaultValue":vt=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&Oe(i,o,D,y,d,b)}$(i,pt,vt);return;case"option":for(var Ht in c)if(pt=c[Ht],c.hasOwnProperty(Ht)&&pt!=null&&!d.hasOwnProperty(Ht))switch(Ht){case"selected":i.selected=!1;break;default:Oe(i,o,Ht,null,d,pt)}for(Z in d)if(pt=d[Z],vt=c[Z],d.hasOwnProperty(Z)&&pt!==vt&&(pt!=null||vt!=null))switch(Z){case"selected":i.selected=pt&&typeof pt!="function"&&typeof pt!="symbol";break;default:Oe(i,o,Z,pt,d,vt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ee in c)pt=c[ee],c.hasOwnProperty(ee)&&pt!=null&&!d.hasOwnProperty(ee)&&Oe(i,o,ee,null,d,pt);for(ot in d)if(pt=d[ot],vt=c[ot],d.hasOwnProperty(ot)&&pt!==vt&&(pt!=null||vt!=null))switch(ot){case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(r(137,o));break;default:Oe(i,o,ot,pt,d,vt)}return;default:if(oe(o)){for(var qe in c)pt=c[qe],c.hasOwnProperty(qe)&&pt!==void 0&&!d.hasOwnProperty(qe)&&Ty(i,o,qe,void 0,d,pt);for(bt in d)pt=d[bt],vt=c[bt],!d.hasOwnProperty(bt)||pt===vt||pt===void 0&&vt===void 0||Ty(i,o,bt,pt,d,vt);return}}for(var ut in c)pt=c[ut],c.hasOwnProperty(ut)&&pt!=null&&!d.hasOwnProperty(ut)&&Oe(i,o,ut,null,d,pt);for(At in d)pt=d[At],vt=c[At],!d.hasOwnProperty(At)||pt===vt||pt==null&&vt==null||Oe(i,o,At,pt,d,vt)}var Sy=null,Cy=null;function Pf(i){return i.nodeType===9?i:i.ownerDocument}function Cb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mb(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function My(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ay=null;function tN(){var i=window.event;return i&&i.type==="popstate"?i===Ay?!1:(Ay=i,!0):(Ay=null,!1)}var Ab=typeof setTimeout=="function"?setTimeout:void 0,eN=typeof clearTimeout=="function"?clearTimeout:void 0,Ob=typeof Promise=="function"?Promise:void 0,nN=typeof queueMicrotask=="function"?queueMicrotask:typeof Ob<"u"?function(i){return Ob.resolve(null).then(i).catch(rN)}:Ab;function rN(i){setTimeout(function(){throw i})}function Oy(i,o){var c=o,d=0;do{var y=c.nextSibling;if(i.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(d===0){i.removeChild(y),Dc(o);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=y}while(c);Dc(o)}function Ry(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Ry(c),Di(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function iN(i,o,c,d){for(;i.nodeType===1;){var y=c;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[Kr])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==y.rel||i.getAttribute("href")!==(y.href==null?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Jr(i.nextSibling),i===null)break}return null}function oN(i,o,c){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Jr(i.nextSibling),i===null))return null;return i}function Jr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}function Rb(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}function Nb(i,o,c){switch(o=Pf(c),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var Pr=new Map,Db=new Set;function Bf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Ki=tt.d;tt.d={f:aN,r:sN,D:uN,C:cN,L:lN,m:fN,X:hN,S:dN,M:pN};function aN(){var i=Ki.f(),o=Mf();return i||o}function sN(i){var o=fi(i);o!==null&&o.tag===5&&o.type==="form"?ox(o):Ki.r(i)}var Zs=typeof document>"u"?null:document;function Lb(i,o,c){var d=Zs;if(d&&typeof o=="string"&&o){var y=Fn(o);y='link[rel="'+i+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),Db.has(y)||(Db.add(y),i={rel:i,crossOrigin:c,href:o},d.querySelector(y)===null&&(o=d.createElement("link"),Mn(o,"link",i),je(o),d.head.appendChild(o)))}}function uN(i){Ki.D(i),Lb("dns-prefetch",i,null)}function cN(i,o){Ki.C(i,o),Lb("preconnect",i,o)}function lN(i,o,c){Ki.L(i,o,c);var d=Zs;if(d&&i&&o){var y='link[rel="preload"][as="'+Fn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+Fn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+Fn(c.imageSizes)+'"]')):y+='[href="'+Fn(i)+'"]';var b=y;switch(o){case"style":b=Ws(i);break;case"script":b=Qs(i)}Pr.has(b)||(i=j({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:i,as:o},c),Pr.set(b,i),d.querySelector(y)!==null||o==="style"&&d.querySelector(Sc(b))||o==="script"&&d.querySelector(Cc(b))||(o=d.createElement("link"),Mn(o,"link",i),je(o),d.head.appendChild(o)))}}function fN(i,o){Ki.m(i,o);var c=Zs;if(c&&i){var d=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Fn(d)+'"][href="'+Fn(i)+'"]',b=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Qs(i)}if(!Pr.has(b)&&(i=j({rel:"modulepreload",href:i},o),Pr.set(b,i),c.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Cc(b)))return}d=c.createElement("link"),Mn(d,"link",i),je(d),c.head.appendChild(d)}}}function dN(i,o,c){Ki.S(i,o,c);var d=Zs;if(d&&i){var y=Eo(d).hoistableStyles,b=Ws(i);o=o||"default";var D=y.get(b);if(!D){var X={loading:0,preload:null};if(D=d.querySelector(Sc(b)))X.loading=5;else{i=j({rel:"stylesheet",href:i,"data-precedence":o},c),(c=Pr.get(b))&&Ny(i,c);var Z=D=d.createElement("link");je(Z),Mn(Z,"link",i),Z._p=new Promise(function(ot,bt){Z.onload=ot,Z.onerror=bt}),Z.addEventListener("load",function(){X.loading|=1}),Z.addEventListener("error",function(){X.loading|=2}),X.loading|=4,kf(D,o,d)}D={type:"stylesheet",instance:D,count:1,state:X},y.set(b,D)}}}function hN(i,o){Ki.X(i,o);var c=Zs;if(c&&i){var d=Eo(c).hoistableScripts,y=Qs(i),b=d.get(y);b||(b=c.querySelector(Cc(y)),b||(i=j({src:i,async:!0},o),(o=Pr.get(y))&&Dy(i,o),b=c.createElement("script"),je(b),Mn(b,"link",i),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function pN(i,o){Ki.M(i,o);var c=Zs;if(c&&i){var d=Eo(c).hoistableScripts,y=Qs(i),b=d.get(y);b||(b=c.querySelector(Cc(y)),b||(i=j({src:i,async:!0,type:"module"},o),(o=Pr.get(y))&&Dy(i,o),b=c.createElement("script"),je(b),Mn(b,"link",i),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function Pb(i,o,c,d){var y=(y=Ct.current)?Bf(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Ws(c.href),c=Eo(y).hoistableStyles,d=c.get(o),d||(d={type:"style",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Ws(c.href);var b=Eo(y).hoistableStyles,D=b.get(i);if(D||(y=y.ownerDocument||y,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,D),(b=y.querySelector(Sc(i)))&&!b._p&&(D.instance=b,D.state.loading=5),Pr.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Pr.set(i,c),b||gN(y,i,c,D.state))),o&&d===null)throw Error(r(528,""));return D}if(o&&d!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Qs(c),c=Eo(y).hoistableScripts,d=c.get(o),d||(d={type:"script",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ws(i){return'href="'+Fn(i)+'"'}function Sc(i){return'link[rel="stylesheet"]['+i+"]"}function Bb(i){return j({},i,{"data-precedence":i.precedence,precedence:null})}function gN(i,o,c,d){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=i.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Mn(o,"link",c),je(o),i.head.appendChild(o))}function Qs(i){return'[src="'+Fn(i)+'"]'}function Cc(i){return"script[async]"+i}function kb(i,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var d=i.querySelector('style[data-href~="'+Fn(c.href)+'"]');if(d)return o.instance=d,je(d),d;var y=j({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),je(d),Mn(d,"style",y),kf(d,c.precedence,i),o.instance=d;case"stylesheet":y=Ws(c.href);var b=i.querySelector(Sc(y));if(b)return o.state.loading|=4,o.instance=b,je(b),b;d=Bb(c),(y=Pr.get(y))&&Ny(d,y),b=(i.ownerDocument||i).createElement("link"),je(b);var D=b;return D._p=new Promise(function(X,Z){D.onload=X,D.onerror=Z}),Mn(b,"link",d),o.state.loading|=4,kf(b,c.precedence,i),o.instance=b;case"script":return b=Qs(c.src),(y=i.querySelector(Cc(b)))?(o.instance=y,je(y),y):(d=c,(y=Pr.get(b))&&(d=j({},c),Dy(d,y)),i=i.ownerDocument||i,y=i.createElement("script"),je(y),Mn(y,"link",d),i.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&!(o.state.loading&4)&&(d=o.instance,o.state.loading|=4,kf(d,c.precedence,i));return o.instance}function kf(i,o,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,b=y,D=0;D<d.length;D++){var X=d[D];if(X.dataset.precedence===o)b=X;else if(b!==y)break}b?b.parentNode.insertBefore(i,b.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(i,o.firstChild))}function Ny(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Dy(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var If=null;function Ib(i,o,c){if(If===null){var d=new Map,y=If=new Map;y.set(c,d)}else y=If,d=y.get(c),d||(d=new Map,y.set(c,d));if(d.has(i))return d;for(d.set(i,null),c=c.getElementsByTagName(i),y=0;y<c.length;y++){var b=c[y];if(!(b[Kr]||b[gn]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var D=b.getAttribute(o)||"";D=i+D;var X=d.get(D);X?X.push(b):d.set(D,[b])}}return d}function jb(i,o,c){i=i.ownerDocument||i,i.head.insertBefore(c,o==="title"?i.querySelector("head > title"):null)}function yN(i,o,c){if(c===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function $b(i){return!(i.type==="stylesheet"&&!(i.state.loading&3))}var Mc=null;function mN(){}function vN(i,o,c){if(Mc===null)throw Error(r(475));var d=Mc;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&!(o.state.loading&4)){if(o.instance===null){var y=Ws(c.href),b=i.querySelector(Sc(y));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(d.count++,d=jf.bind(d),i.then(d,d)),o.state.loading|=4,o.instance=b,je(b);return}b=i.ownerDocument||i,c=Bb(c),(y=Pr.get(y))&&Ny(c,y),b=b.createElement("link"),je(b);var D=b;D._p=new Promise(function(X,Z){D.onload=X,D.onerror=Z}),Mn(b,"link",c),o.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,i),(i=o.state.preload)&&!(o.state.loading&3)&&(d.count++,o=jf.bind(d),i.addEventListener("load",o),i.addEventListener("error",o))}}function _N(){if(Mc===null)throw Error(r(475));var i=Mc;return i.stylesheets&&i.count===0&&Ly(i,i.stylesheets),0<i.count?function(o){var c=setTimeout(function(){if(i.stylesheets&&Ly(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c)}}:null}function jf(){if(this.count--,this.count===0){if(this.stylesheets)Ly(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var $f=null;function Ly(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,$f=new Map,o.forEach(xN,i),$f=null,jf.call(i))}function xN(i,o){if(!(o.state.loading&4)){var c=$f.get(i);if(c)var d=c.get(null);else{c=new Map,$f.set(i,c);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var D=y[b];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(c.set(D.dataset.precedence,D),d=D)}d&&c.set(null,d)}y=o.instance,D=y.getAttribute("data-precedence"),b=c.get(D)||d,b===d&&c.set(null,y),c.set(D,y),this.count++,d=jf.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),b?b.parentNode.insertBefore(y,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),o.state.loading|=4}}var Ac={$$typeof:_,Provider:null,Consumer:null,_currentValue:xt,_currentValue2:xt,_threadCount:0};function bN(i,o,c,d,y,b,D,X){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bu(0),this.hiddenUpdates=Bu(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function zb(i,o,c,d,y,b,D,X,Z,ot,bt,At){return i=new bN(i,o,c,D,X,Z,ot,At),o=1,b===!0&&(o|=24),b=Dr(3,null,null,o),i.current=b,b.stateNode=i,o=fg(),o.refCount++,i.pooledCache=o,o.refCount++,b.memoizedState={element:d,isDehydrated:c,cache:o},qg(b),i}function Ub(i){return i?(i=Rs,i):Rs}function Hb(i,o,c,d,y,b){y=Ub(y),d.context===null?d.context=y:d.pendingContext=y,d=Lo(o),d.payload={element:c},b=b===void 0?null:b,b!==null&&(d.callback=b),c=Po(i,d,o),c!==null&&(qn(c,i,o),fc(c,i,o))}function Fb(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function Py(i,o){Fb(i,o),(i=i.alternate)&&Fb(i,o)}function Xb(i){if(i.tag===13){var o=Co(i,67108864);o!==null&&qn(o,i,67108864),Py(i,67108864)}}var zf=!0;function EN(i,o,c,d){var y=T.T;T.T=null;var b=tt.p;try{tt.p=2,By(i,o,c,d)}finally{tt.p=b,T.T=y}}function wN(i,o,c,d){var y=T.T;T.T=null;var b=tt.p;try{tt.p=8,By(i,o,c,d)}finally{tt.p=b,T.T=y}}function By(i,o,c,d){if(zf){var y=ky(d);if(y===null)wy(i,o,d,Uf,c),Gb(i,d);else if(SN(y,i,o,c,d))d.stopPropagation();else if(Gb(i,d),o&4&&-1<TN.indexOf(i)){for(;y!==null;){var b=fi(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var D=ir(b.pendingLanes);if(D!==0){var X=b;for(X.pendingLanes|=2,X.entangledLanes|=2;D;){var Z=1<<31-re(D);X.entanglements[1]|=Z,D&=~Z}yi(b),!(ze&6)&&(Tf=Dt()+500,Ec(0))}}break;case 13:X=Co(b,2),X!==null&&qn(X,b,2),Mf(),Py(b,2)}if(b=ky(d),b===null&&wy(i,o,d,Uf,c),b===y)break;y=b}y!==null&&d.stopPropagation()}else wy(i,o,d,null,c)}}function ky(i){return i=Hp(i),Iy(i)}var Uf=null;function Iy(i){if(Uf=null,i=Er(i),i!==null){var o=Mt(i);if(o===null)i=null;else{var c=o.tag;if(c===13){if(i=zt(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Uf=i,null}function qb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jt()){case Zn:return 2;case U:return 8;case R:case N:return 32;case Y:return 268435456;default:return 32}default:return 32}}var jy=!1,Uo=null,Ho=null,Fo=null,Oc=new Map,Rc=new Map,Xo=[],TN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gb(i,o){switch(i){case"focusin":case"focusout":Uo=null;break;case"dragenter":case"dragleave":Ho=null;break;case"mouseover":case"mouseout":Fo=null;break;case"pointerover":case"pointerout":Oc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rc.delete(o.pointerId)}}function Nc(i,o,c,d,y,b){return i===null||i.nativeEvent!==b?(i={blockedOn:o,domEventName:c,eventSystemFlags:d,nativeEvent:b,targetContainers:[y]},o!==null&&(o=fi(o),o!==null&&Xb(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function SN(i,o,c,d,y){switch(o){case"focusin":return Uo=Nc(Uo,i,o,c,d,y),!0;case"dragenter":return Ho=Nc(Ho,i,o,c,d,y),!0;case"mouseover":return Fo=Nc(Fo,i,o,c,d,y),!0;case"pointerover":var b=y.pointerId;return Oc.set(b,Nc(Oc.get(b)||null,i,o,c,d,y)),!0;case"gotpointercapture":return b=y.pointerId,Rc.set(b,Nc(Rc.get(b)||null,i,o,c,d,y)),!0}return!1}function Vb(i){var o=Er(i.target);if(o!==null){var c=Mt(o);if(c!==null){if(o=c.tag,o===13){if(o=zt(c),o!==null){i.blockedOn=o,zp(i.priority,function(){if(c.tag===13){var d=lr(),y=Co(c,d);y!==null&&qn(y,c,d),Py(c,d)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Hf(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=ky(i.nativeEvent);if(c===null){c=i.nativeEvent;var d=new c.constructor(c.type,c);Qn=d,c.target.dispatchEvent(d),Qn=null}else return o=fi(c),o!==null&&Xb(o),i.blockedOn=c,!1;o.shift()}return!0}function Yb(i,o,c){Hf(i)&&c.delete(o)}function CN(){jy=!1,Uo!==null&&Hf(Uo)&&(Uo=null),Ho!==null&&Hf(Ho)&&(Ho=null),Fo!==null&&Hf(Fo)&&(Fo=null),Oc.forEach(Yb),Rc.forEach(Yb)}function Ff(i,o){i.blockedOn===o&&(i.blockedOn=null,jy||(jy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,CN)))}var Xf=null;function Kb(i){Xf!==i&&(Xf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Xf===i&&(Xf=null);for(var o=0;o<i.length;o+=3){var c=i[o],d=i[o+1],y=i[o+2];if(typeof d!="function"){if(Iy(d||c)===null)continue;break}var b=fi(c);b!==null&&(i.splice(o,3),o-=3,Mg(b,{pending:!0,data:y,method:c.method,action:d},d,y))}}))}function Dc(i){function o(Z){return Ff(Z,i)}Uo!==null&&Ff(Uo,i),Ho!==null&&Ff(Ho,i),Fo!==null&&Ff(Fo,i),Oc.forEach(o),Rc.forEach(o);for(var c=0;c<Xo.length;c++){var d=Xo[c];d.blockedOn===i&&(d.blockedOn=null)}for(;0<Xo.length&&(c=Xo[0],c.blockedOn===null);)Vb(c),c.blockedOn===null&&Xo.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var y=c[d],b=c[d+1],D=y[Tn]||null;if(typeof b=="function")D||Kb(c);else if(D){var X=null;if(b&&b.hasAttribute("formAction")){if(y=b,D=b[Tn]||null)X=D.formAction;else if(Iy(y)!==null)continue}else X=D.action;typeof X=="function"?c[d+1]=X:(c.splice(d,3),d-=3),Kb(c)}}}function $y(i){this._internalRoot=i}qf.prototype.render=$y.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,d=lr();Hb(c,d,i,o,null,null)},qf.prototype.unmount=$y.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;i.tag===0&&Vs(),Hb(i.current,2,null,i,null,null),Mf(),o[Ni]=null}};function qf(i){this._internalRoot=i}qf.prototype.unstable_scheduleHydration=function(i){if(i){var o=bs();i={blockedOn:null,target:i,priority:o};for(var c=0;c<Xo.length&&o!==0&&o<Xo[c].priority;c++);Xo.splice(c,0,i),c===0&&Vb(i)}};var Zb=e.version;if(Zb!=="19.0.0")throw Error(r(527,Zb,"19.0.0"));tt.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=H(o),i=i!==null?K(i):null,i=i===null?null:i.stateNode,i};var MN={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:T,findFiberByHostInstance:Er,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gf.isDisabled&&Gf.supportsFiber)try{_t=Gf.inject(MN),qt=Gf}catch{}}return Pc.createRoot=function(i,o){if(!a(i))throw Error(r(299));var c=!1,d="",y=hx,b=px,D=gx,X=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(D=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(X=o.unstable_transitionCallbacks)),o=zb(i,1,!1,null,null,c,d,y,b,D,X,null),i[Ni]=o.current,Ey(i.nodeType===8?i.parentNode:i),new $y(o)},Pc.hydrateRoot=function(i,o,c){if(!a(i))throw Error(r(299));var d=!1,y="",b=hx,D=px,X=gx,Z=null,ot=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(D=c.onCaughtError),c.onRecoverableError!==void 0&&(X=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(Z=c.unstable_transitionCallbacks),c.formState!==void 0&&(ot=c.formState)),o=zb(i,1,!0,o,c??null,d,y,b,D,X,Z,ot),o.context=Ub(null),c=o.current,d=lr(),y=Lo(d),y.callback=null,Po(c,y,d),o.current.lanes=d,Ea(o,d),yi(o),i[Ni]=o.current,Ey(i),new qf(o)},Pc.version="19.0.0",Pc}var aE;function jN(){if(aE)return Hy.exports;aE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hy.exports=IN(),Hy.exports}var $N=jN();function Te(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}function zN(t,e){return e={exports:{}},t(e,e.exports),e.exports}var UN=zN(function(t){var e=t.exports=function(n,r){if(r||(r=16),n===void 0&&(n=128),n<=0)return"0";for(var a=Math.log(Math.pow(2,n))/Math.log(r),s=2;a===1/0;s*=2)a=Math.log(Math.pow(2,n/s))/Math.log(r)*s;for(var u=a-Math.floor(a),l="",s=0;s<Math.floor(a);s++){var f=Math.floor(Math.random()*r).toString(r);l=f+l}if(u){var h=Math.pow(r,u),f=Math.floor(Math.random()*h).toString(r);l=f+l}var p=parseInt(l,r);return p!==1/0&&p>=Math.pow(2,n)?e(n,r):l};e.rack=function(n,r,a){var s=function(l){var f=0;do{if(f++>10)if(a)n+=a;else throw new Error("too many ID collisions, use more bits");var h=e(n,r)}while(Object.hasOwnProperty.call(u,h));return u[h]=l,h},u=s.hats={};return s.get=function(l){return s.hats[l]},s.set=function(l,f){return s.hats[l]=f,s},s.bits=n||128,s.base=r||16,s}});function Si(t){if(!(this instanceof Si))return new Si(t);t=t||[128,36,1],this._seed=t.length?UN.rack(t[0],t[1],t[2]):t}Si.prototype.next=function(t){return this._seed(t||!0)};Si.prototype.nextPrefixed=function(t,e){var n;do n=t+this.next(!0);while(this.assigned(n));return this.claim(n,e),n};Si.prototype.claim=function(t,e){this._seed.set(t,e||!0)};Si.prototype.assigned=function(t){return this._seed.get(t)||!1};Si.prototype.unclaim=function(t){delete this._seed.hats[t]};Si.prototype.clear=function(){var t=this._seed.hats,e;for(e in t)this.unclaim(e)};function Ym(t){return Array.prototype.concat.apply([],t)}const fl=Object.prototype.toString,HN=Object.prototype.hasOwnProperty;function is(t){return t===void 0}function xn(t){return t!==void 0}function xh(t){return t==null}function ne(t){return fl.call(t)==="[object Array]"}function On(t){return fl.call(t)==="[object Object]"}function Kt(t){return fl.call(t)==="[object Number]"}function En(t){const e=fl.call(t);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"||e==="[object Proxy]"}function jr(t){return fl.call(t)==="[object String]"}function FN(t){if(!ne(t))throw new Error("must supply array")}function dl(t,e){return!xh(t)&&HN.call(t,e)}function Ie(t,e){const n=Gh(e);let r;return st(t,function(a,s){if(n(a,s))return r=a,!1}),r}function dS(t,e){const n=Gh(e);let r=ne(t)?-1:void 0;return st(t,function(a,s){if(n(a,s))return r=s,!1}),r}function sn(t,e){const n=Gh(e);let r=[];return st(t,function(a,s){n(a,s)&&r.push(a)}),r}function st(t,e){let n,r;if(is(t))return;const a=ne(t)?YN:VN;for(let s in t)if(dl(t,s)&&(n=t[s],r=e(n,a(s)),r===!1))return n}function XN(t,e){if(is(t))return[];FN(t);const n=Gh(e);return t.filter(function(r,a){return!n(r,a)})}function $r(t,e,n){return st(t,function(r,a){n=e(n,r,a)}),n}function hl(t,e){return!!$r(t,function(n,r,a){return n&&e(r,a)},!0)}function qh(t,e){return!!Ie(t,e)}function An(t,e){let n=[];return st(t,function(r,a){n.push(e(r,a))}),n}function Km(t){return t&&Object.keys(t)||[]}function qN(t){return Km(t).length}function hS(t){return An(t,e=>e)}function pl(t,e,n={}){return e=Iv(e),st(t,function(r){let a=e(r)||"_",s=n[a];s||(s=n[a]=[]),s.push(r)}),n}function pS(t,...e){t=Iv(t);let n={};return st(e,a=>pl(a,t,n)),An(n,function(a,s){return a[0]})}const GN=pS;function no(t,e){e=Iv(e);let n=[];return st(t,function(r,a){let s=e(r,a),u={d:s,v:r};for(var l=0;l<n.length;l++){let{d:f}=n[l];if(s<f){n.splice(l,0,u);return}}n.push(u)}),An(n,r=>r.v)}function Jo(t){return function(e){return hl(t,function(n,r){return e[r]===n})}}function Iv(t){return En(t)?t:e=>e[t]}function Gh(t){return En(t)?t:e=>e===t}function VN(t){return t}function YN(t){return Number(t)}function gS(t,e){let n,r,a,s;function u(g){let v=Date.now(),_=g?0:s+e-v;if(_>0)return l(_);t.apply(a,r),f()}function l(g){n=setTimeout(u,g)}function f(){n&&clearTimeout(n),n=s=r=a=void 0}function h(){n&&u(!0),f()}function p(...g){s=Date.now(),r=g,a=this,n||l(e)}return p.flush=h,p.cancel=f,p}function Vn(t,e){return t.bind(e)}function ft(t,...e){return Object.assign(t,...e)}function KN(t,e,n){let r=t;return st(e,function(a,s){if(typeof a!="number"&&typeof a!="string")throw new Error("illegal key type: "+typeof a+". Key should be of type number or string.");if(a==="constructor")throw new Error("illegal key: constructor");if(a==="__proto__")throw new Error("illegal key: __proto__");let u=e[s+1],l=r[a];xn(u)&&xh(l)&&(l=r[a]=isNaN(+u)?{}:[]),is(u)?is(n)?delete r[a]:r[a]=n:r=l}),t}function ro(t,e){let n={},r=Object(t);return st(e,function(a){a in r&&(n[a]=t[a])}),n}function ao(t,e){let n={},r=Object(t);return st(r,function(a,s){e.indexOf(s)===-1&&(n[s]=a)}),n}function ZN(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var a=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}const WN=Object.prototype.toString,QN=Object.prototype.hasOwnProperty;function JN(t){return t===void 0}function tD(t){return WN.call(t)==="[object Array]"}function eD(t,e){return QN.call(t,e)}function sE(t,e){let n,r;if(JN(t))return;const a=tD(t)?rD:nD;for(let s in t)if(eD(t,s)&&(n=t[s],r=e(n,a(s)),r===!1))return n}function nD(t){return t}function rD(t){return Number(t)}function so(t,...e){const n=t.style;return sE(e,function(r){r&&sE(r,function(a,s){n[s]=a})}),t}function pr(t,e,n){return arguments.length==2?t.getAttribute(e):n===null?t.removeAttribute(e):(t.setAttribute(e,n),t)}const iD=Object.prototype.toString;function mr(t){return new ia(t)}function ia(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}ia.prototype.add=function(t){return this.list.add(t),this};ia.prototype.remove=function(t){return iD.call(t)=="[object RegExp]"?this.removeMatching(t):(this.list.remove(t),this)};ia.prototype.removeMatching=function(t){const e=this.array();for(let n=0;n<e.length;n++)t.test(e[n])&&this.remove(e[n]);return this};ia.prototype.toggle=function(t,e){return typeof e<"u"?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this};ia.prototype.array=function(){return Array.from(this.list)};ia.prototype.has=ia.prototype.contains=function(t){return this.list.contains(t)};function jv(t){for(var e;e=t.firstChild;)t.removeChild(e);return t}function uo(t,e,n){var r=n?t:t.parentNode;return r&&typeof r.closest=="function"&&r.closest(e)||null}var bh={},Eh,Zm,$v;function yS(){Eh=window.addEventListener?"addEventListener":"attachEvent",Zm=window.removeEventListener?"removeEventListener":"detachEvent",$v=Eh!=="addEventListener"?"on":""}var oD=bh.bind=function(t,e,n,r){return Eh||yS(),t[Eh]($v+e,n,r||!1),n},aD=bh.unbind=function(t,e,n,r){return Zm||yS(),t[Zm]($v+e,n,r||!1),n},Yt=ZN({__proto__:null,bind:oD,unbind:aD,default:bh},[bh]),mS=["focus","blur"];function sD(t,e,n,r,a){return mS.indexOf(n)!==-1&&(a=!0),Yt.bind(t,n,function(s){var u=s.target||s.srcElement;s.delegateTarget=uo(u,e,!0),s.delegateTarget&&r.call(t,s)},a)}function uD(t,e,n,r){return mS.indexOf(e)!==-1&&(r=!0),Yt.unbind(t,e,n,r)}var ei={bind:sD,unbind:uD},cD=lD,vS=!1,Vf;typeof document<"u"&&(Vf=document.createElement("div"),Vf.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',vS=!Vf.getElementsByTagName("link").length,Vf=void 0);var Ze={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:vS?[1,"X<div>","</div>"]:[0,"",""]};Ze.td=Ze.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];Ze.option=Ze.optgroup=[1,'<select multiple="multiple">',"</select>"];Ze.thead=Ze.tbody=Ze.colgroup=Ze.caption=Ze.tfoot=[1,"<table>","</table>"];Ze.polyline=Ze.ellipse=Ze.polygon=Ze.circle=Ze.text=Ze.line=Ze.path=Ze.rect=Ze.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];function lD(t,e){if(typeof t!="string")throw new TypeError("String expected");e||(e=document);var n=/<([\w:]+)/.exec(t);if(!n)return e.createTextNode(t);t=t.replace(/^\s+|\s+$/g,"");var r=n[1];if(r=="body"){var f=e.createElement("html");return f.innerHTML=t,f.removeChild(f.lastChild)}var a=Object.prototype.hasOwnProperty.call(Ze,r)?Ze[r]:Ze._default,s=a[0],u=a[1],l=a[2],f=e.createElement("div");for(f.innerHTML=u+t+l;s--;)f=f.lastChild;if(f.firstChild==f.lastChild)return f.removeChild(f.firstChild);for(var h=e.createDocumentFragment();f.firstChild;)h.appendChild(f.removeChild(f.firstChild));return h}var dn=cD;function zv(t,e){return t&&typeof t.matches=="function"&&t.matches(e)||!1}function an(t,e){return e=e||document,e.querySelector(t)}function Wm(t,e){return e=e||document,e.querySelectorAll(t)}function Ci(t){t.parentNode&&t.parentNode.removeChild(t)}function fD(t,e){if(t.ownerDocument!==e.ownerDocument)try{return e.ownerDocument.importNode(t,!0)}catch{}return t}function dD(t,e){return e.appendChild(fD(t,e))}function Wt(t,e){return dD(e,t),t}var Qm=2,_S={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":Qm,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":Qm,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function hD(t,e){return _S[e]?t.style[e]:t.getAttributeNS(null,e)}function xS(t,e,n){var r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=_S[r];a?(a===Qm&&typeof n=="number"&&(n=String(n)+"px"),t.style[r]=n):t.setAttributeNS(null,e,n)}function pD(t,e){var n=Object.keys(e),r,a;for(r=0,a;a=n[r];r++)xS(t,a,e[a])}function yt(t,e,n){if(typeof e=="string")if(n!==void 0)xS(t,e,n);else return hD(t,e);else pD(t,e);return t}const gD=Object.prototype.toString;function le(t){return new oa(t)}function oa(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}oa.prototype.add=function(t){return this.list.add(t),this};oa.prototype.remove=function(t){return gD.call(t)=="[object RegExp]"?this.removeMatching(t):(this.list.remove(t),this)};oa.prototype.removeMatching=function(t){const e=this.array();for(let n=0;n<e.length;n++)t.test(e[n])&&this.remove(e[n]);return this};oa.prototype.toggle=function(t,e){return typeof e<"u"?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this};oa.prototype.array=function(){return Array.from(this.list)};oa.prototype.has=oa.prototype.contains=function(t){return this.list.contains(t)};function Uv(t){for(var e;e=t.firstChild;)t.removeChild(e);return t}function bS(t){return t.cloneNode(!0)}var Hv={svg:"http://www.w3.org/2000/svg"},uE='<svg xmlns="'+Hv.svg+'"';function yD(t){var e=!1;t.substring(0,4)==="<svg"?t.indexOf(Hv.svg)===-1&&(t=uE+t.substring(4)):(t=uE+">"+t+"</svg>",e=!0);var n=mD(t);if(!e)return n;for(var r=document.createDocumentFragment(),a=n.firstChild;a.firstChild;)r.appendChild(a.firstChild);return r}function mD(t){var e;return e=new DOMParser,e.async=!1,e.parseFromString(t,"text/xml")}function Nt(t,e){var n;return t=t.trim(),t.charAt(0)==="<"?(n=yD(t).firstChild,n=document.importNode(n,!0)):n=document.createElementNS(Hv.svg,t),e&&yt(n,e),n}var Gy=null;function ES(){return Gy===null&&(Gy=Nt("svg")),Gy}function cE(t,e){var n,r,a=Object.keys(e);for(n=0;r=a[n];n++)t[r]=e[r];return t}function vD(t,e,n,r,a,s){var u=ES().createSVGMatrix();switch(arguments.length){case 0:return u;case 1:return cE(u,t);case 6:return cE(u,{a:t,b:e,c:n,d:r,e:a,f:s})}}function Kc(t){return ES().createSVGTransform()}var lE=/([&<>]{1})/g,_D=/([&<>\n\r"]{1})/g,xD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function Vy(t,e){function n(r,a){return xD[a]||a}return t.replace(e,n)}function wS(t,e){var n,r,a,s,u;switch(t.nodeType){case 3:e.push(Vy(t.textContent,lE));break;case 1:if(e.push("<",t.tagName),t.hasAttributes())for(a=t.attributes,n=0,r=a.length;n<r;++n)s=a.item(n),e.push(" ",s.name,'="',Vy(s.value,_D),'"');if(t.hasChildNodes()){for(e.push(">"),u=t.childNodes,n=0,r=u.length;n<r;++n)wS(u.item(n),e);e.push("</",t.tagName,">")}else e.push("/>");break;case 8:e.push("<!--",Vy(t.nodeValue,lE),"-->");break;case 4:e.push("<![CDATA[",t.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+t.nodeType)}return e}function bD(t){for(var e=t.firstChild,n=[];e;)wS(e,n),e=e.nextSibling;return n.join("")}function fE(t,e){return bD(t)}function Qe(t){var e=t.parentNode;return e&&e.removeChild(t),t}function ED(t,e){return e instanceof SVGMatrix?t.createSVGTransformFromMatrix(e):e}function wD(t,e){var n,r;for(t.clear(),n=0;r=e[n];n++)t.appendItem(ED(t,r))}function el(t,e){var n=t.transform.baseVal;return e&&(Array.isArray(e)||(e=[e]),wD(n,e)),n.consolidate()}const TD=/^class[ {]/;function SD(t){return TD.test(t.toString())}function Fv(t){return Array.isArray(t)}function Yy(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ed(...t){t.length===1&&Fv(t[0])&&(t=t[0]),t=[...t];const e=t.pop();return e.$inject=t,e}const CD=/constructor\s*[^(]*\(\s*([^)]*)\)/m,MD=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,AD=/\/\*([^*]*)\*\//m;function OD(t){if(typeof t!="function")throw new Error(`Cannot annotate "${t}". Expected a function!`);const e=t.toString().match(SD(t)?CD:MD);if(!e)return[];const n=e[1]||e[2];return n&&n.split(",").map(r=>{const a=r.match(AD);return(a&&a[1]||r).trim()})||[]}function TS(t,e){e=e||{get:function(x,m){if(n.push(x),m===!1)return null;throw u(`No provider for "${x}"!`)}};const n=[],r=this._providers=Object.create(e._providers||null),a=this._instances=Object.create(null),s=a.injector=this,u=function(x){const m=n.join(" -> ");return n.length=0,new Error(m?`${x} (Resolving: ${m})`:x)};function l(x,m){if(!r[x]&&x.indexOf(".")!==-1){const w=x.split(".");let C=l(w.shift());for(;w.length;)C=C[w.shift()];return C}if(Yy(a,x))return a[x];if(Yy(r,x)){if(n.indexOf(x)!==-1)throw n.push(x),u("Cannot resolve circular dependency!");return n.push(x),a[x]=r[x][0](r[x][1]),n.pop(),a[x]}return e.get(x,m)}function f(x,m){if(typeof m>"u"&&(m={}),typeof x!="function")if(Fv(x))x=Ed(x.slice());else throw u(`Cannot invoke "${x}". Expected a function!`);const C=(x.$inject||OD(x)).map(A=>Yy(m,A)?m[A]:l(A));return{fn:x,dependencies:C}}function h(x){const{fn:m,dependencies:w}=f(x),C=Function.prototype.bind.apply(m,[null].concat(w));return new C}function p(x,m,w){const{fn:C,dependencies:A}=f(x,w);return C.apply(m,A)}function g(x){return Ed(m=>x.get(m))}function v(x,m){if(m&&m.length){const w=Object.create(null),C=Object.create(null),A=[],B=[],P=[];let T,j,z,I;for(let F in r)T=r[F],m.indexOf(F)!==-1&&(T[2]==="private"?(j=A.indexOf(T[3]),j===-1?(z=T[3].createChild([],m),I=g(z),A.push(T[3]),B.push(z),P.push(I),w[F]=[I,F,"private",z]):w[F]=[P[j],F,"private",B[j]]):w[F]=[T[2],T[1]],C[F]=!0),(T[2]==="factory"||T[2]==="type")&&T[1].$scope&&m.forEach(at=>{T[1].$scope.indexOf(at)!==-1&&(w[F]=[T[2],T[1]],C[at]=!0)});m.forEach(F=>{if(!C[F])throw new Error('No provider for "'+F+'". Cannot use provider from the parent!')}),x.unshift(w)}return new TS(x,s)}const _={factory:p,type:h,value:function(x){return x}};function E(x,m){const w=x.__init__||[];return function(){w.forEach(C=>{typeof C=="string"?m.get(C):m.invoke(C)})}}function M(x){const m=x.__exports__;if(m){const w=x.__modules__,C=Object.keys(x).reduce((j,z)=>(z!=="__exports__"&&z!=="__modules__"&&z!=="__init__"&&z!=="__depends__"&&(j[z]=x[z]),j),Object.create(null)),A=(w||[]).concat(C),B=v(A),P=Ed(function(j){return B.get(j)});m.forEach(function(j){r[j]=[P,j,"private",B]});const T=(x.__init__||[]).slice();return T.unshift(function(){B.init()}),x=Object.assign({},x,{__init__:T}),E(x,B)}return Object.keys(x).forEach(function(w){if(w==="__init__"||w==="__depends__")return;if(x[w][2]==="private"){r[w]=x[w];return}const C=x[w][0],A=x[w][1];r[w]=[_[C],RD(C,A),C]}),E(x,s)}function O(x,m){return x.indexOf(m)!==-1||(x=(m.__depends__||[]).reduce(O,x),x.indexOf(m)!==-1)?x:x.concat(m)}function S(x){const m=x.reduce(O,[]).map(M);let w=!1;return function(){w||(w=!0,m.forEach(C=>C()))}}this.get=l,this.invoke=p,this.instantiate=h,this.createChild=v,this.init=S(t)}function RD(t,e){return t!=="value"&&Fv(e)&&(e=Ed(e.slice())),e}var ND=1e3;function co(t,e){var n=this;e=e||ND,t.on(["render.shape","render.connection"],e,function(r,a){var s=r.type,u=a.element,l=a.gfx,f=a.attrs;if(n.canRender(u))return s==="render.shape"?n.drawShape(l,u,f):n.drawConnection(l,u,f)}),t.on(["render.getShapePath","render.getConnectionPath"],e,function(r,a){if(n.canRender(a))return r.type==="render.getShapePath"?n.getShapePath(a):n.getConnectionPath(a)})}co.prototype.canRender=function(t){};co.prototype.drawShape=function(t,e){};co.prototype.drawConnection=function(t,e){};co.prototype.getShapePath=function(t){};co.prototype.getConnectionPath=function(t){};function Vh(t){return t.flat().join(",").replace(/,?([A-z]),?/g,"$1")}function DD(t){return["M",t.x,t.y]}function Ky(t){return["L",t.x,t.y]}function LD(t,e,n){return["C",t.x,t.y,e.x,e.y,n.x,n.y]}function PD(t,e){const n=t.length,r=[DD(t[0])];for(let a=1;a<n;a++){const s=t[a-1],u=t[a],l=t[a+1];if(!l||!e){r.push(Ky(u));continue}const f=Math.min(e,Jm(u.x-s.x,u.y-s.y),Jm(l.x-u.x,l.y-u.y));if(!f){r.push(Ky(u));continue}const h=Yf(u,s,f),p=Yf(u,s,f*.5),g=Yf(u,l,f),v=Yf(u,l,f*.5);r.push(Ky(h)),r.push(LD(p,v,g))}return r}function Yf(t,e,n){const r=e.x-t.x,a=e.y-t.y,s=Jm(r,a),u=n/s;return{x:t.x+r*u,y:t.y+a*u}}function Jm(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))}function Yh(t,e,n){Kt(e)&&(n=e,e=null),e||(e={});const r=Nt("path",e);return Kt(n)&&(r.dataset.cornerRadius=String(n)),SS(r,t)}function SS(t,e){const n=parseInt(t.dataset.cornerRadius,10)||0;return yt(t,{d:Vh(PD(e,n))}),t}function CS(t){return sn(t,function(e){return!Ie(t,function(n){return n!==e&&MS(e,n)})})}function MS(t,e){if(e){if(t===e)return e;if(t.parent)return MS(t.parent,e)}}function dE(t,e,n){var r=!n||t.indexOf(e)===-1;return r&&t.push(e),r}function Kh(t,e,n){n=n||0,ne(t)||(t=[t]),st(t,function(r,a){var s=e(r,a,n);ne(s)&&s.length&&Kh(s,e,n+1)})}function BD(t,e,n){var r=[],a=[];return Kh(t,function(s,u,l){dE(r,s,e);var f=s.children;if(f&&dE(a,f,e))return f}),r}function Xv(t,e){return BD(t,!e)}function kD(t,e,n){is(e)&&(e=!0),On(e)&&(n=e,e=!0),n=n||{};var r=Bc(n.allShapes),a=Bc(n.allConnections),s=Bc(n.enclosedElements),u=Bc(n.enclosedConnections),l=Bc(n.topLevel,e&&pl(t,function(p){return p.id}));function f(p){l[p.source.id]&&l[p.target.id]&&(l[p.id]=[p]),r[p.source.id]&&r[p.target.id]&&(u[p.id]=s[p.id]=p),a[p.id]=p}function h(p){if(s[p.id]=p,p.waypoints)u[p.id]=a[p.id]=p;else return r[p.id]=p,st(p.incoming,f),st(p.outgoing,f),p.children}return Kh(t,h),{allShapes:r,allConnections:a,topLevel:l,enclosedConnections:u,enclosedElements:s}}function bn(t,e){e=!!e,ne(t)||(t=[t]);var n,r,a,s;return st(t,function(u){var l=u;u.waypoints&&!e&&(l=bn(u.waypoints,!0));var f=l.x,h=l.y,p=l.height||0,g=l.width||0;(f<n||n===void 0)&&(n=f),(h<r||r===void 0)&&(r=h),(f+g>a||a===void 0)&&(a=f+g),(h+p>s||s===void 0)&&(s=h+p)}),{x:n,y:r,height:s-r,width:a-n}}function ID(t,e){var n={};return st(t,function(r){var a=r;a.waypoints&&(a=bn(a)),!Kt(e.y)&&a.x>e.x&&(n[r.id]=r),!Kt(e.x)&&a.y>e.y&&(n[r.id]=r),a.x>e.x&&a.y>e.y&&(Kt(e.width)&&Kt(e.height)&&a.width+a.x<e.width+e.x&&a.height+a.y<e.height+e.y||!Kt(e.width)||!Kt(e.height))&&(n[r.id]=r)}),n}function AS(t){return"waypoints"in t?"connection":"x"in t?"shape":"root"}function OS(t){return!!(t&&t.isFrame)}function Bc(t,e){return ft({},t||{},e||{})}var jD=1;function ca(t,e){co.call(this,t,jD),this.CONNECTION_STYLE=e.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=e.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=e.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}Te(ca,co);ca.prototype.canRender=function(){return!0};ca.prototype.drawShape=function(e,n,r){var a=Nt("rect");return yt(a,{x:0,y:0,width:n.width||0,height:n.height||0}),OS(n)?yt(a,ft({},this.FRAME_STYLE,r||{})):yt(a,ft({},this.SHAPE_STYLE,r||{})),Wt(e,a),a};ca.prototype.drawConnection=function(e,n,r){var a=Yh(n.waypoints,ft({},this.CONNECTION_STYLE,r||{}));return Wt(e,a),a};ca.prototype.getShapePath=function(e){var n=e.x,r=e.y,a=e.width,s=e.height,u=[["M",n,r],["l",a,0],["l",0,s],["l",-a,0],["z"]];return Vh(u)};ca.prototype.getConnectionPath=function(e){var n=e.waypoints,r,a,s=[];for(r=0;a=n[r];r++)a=a.original||a,s.push([r===0?"M":"L",a.x,a.y]);return Vh(s)};ca.$inject=["eventBus","styles"];function $D(){var t={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},e=this;this.cls=function(n,r,a){var s=this.style(r,a);return ft(s,{class:n})},this.style=function(n,r){!ne(n)&&!r&&(r=n,n=[]);var a=$r(n,function(s,u){return ft(s,t[u]||{})},{});return r?ft(a,r):a},this.computeStyle=function(n,r,a){return ne(r)||(a=r,r=[]),e.style(r||[],ft({},a,n||{}))}}const zD={__init__:["defaultRenderer"],defaultRenderer:["type",ca],styles:["type",$D]};function ii(t,e){if(!t||!e)return-1;var n=t.indexOf(e);return n!==-1&&t.splice(n,1),n}function oi(t,e,n){if(!(!t||!e)){typeof n!="number"&&(n=-1);var r=t.indexOf(e);if(r!==-1){if(r===n)return;if(n!==-1)t.splice(r,1);else return}n!==-1?t.splice(n,0,e):t.push(e)}}function qv(t,e){return!t||!e?-1:t.indexOf(e)}function gl(t,e){return!t||!e?-1:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Gv(t,e,n,r){if(typeof r>"u"&&(r=5),!t||!e||!n)return!1;var a=(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x),s=gl(t,e);return Math.abs(a/s)<=r}var UD=2;function Ji(t,e){var n=Array.from(arguments).flat();const r={x:"v",y:"h"};for(const[a,s]of Object.entries(r))if(HD(a,n))return s;return!1}function HD(t,e){const n=e[0];return hl(e,function(r){return Math.abs(n[t]-r[t])<=UD})}function hE(t,e,n){return n=n||0,t.x>e.x-n&&t.y>e.y-n&&t.x<e.x+e.width+n&&t.y<e.y+e.height+n}function tv(t,e){return{x:Math.round(t.x+(e.x-t.x)/2),y:Math.round(t.y+(e.y-t.y)/2)}}var Zy,pE;function FD(){if(pE)return Zy;pE=1;var t=/,?([a-z]),?/gi,e=parseFloat,n=Math,r=n.PI,a=n.min,s=n.max,u=n.pow,l=n.abs,f=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/ig,h=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/ig,p=Array.isArray||function(H){return H instanceof Array};function g(H,K){return Object.prototype.hasOwnProperty.call(H,K)}function v(H){if(typeof H=="function"||Object(H)!==H)return H;var K=new H.constructor;for(var nt in H)g(H,nt)&&(K[nt]=v(H[nt]));return K}function _(H,K){for(var nt=0,tt=H.length;nt<tt;nt++)if(H[nt]===K)return H.push(H.splice(nt,1)[0])}function E(H){function K(){var nt=Array.prototype.slice.call(arguments,0),tt=nt.join("␀"),xt=K.cache=K.cache||{},wt=K.count=K.count||[];return g(xt,tt)?(_(wt,tt),xt[tt]):(wt.length>=1e3&&delete xt[wt.shift()],wt.push(tt),xt[tt]=H.apply(0,nt),xt[tt])}return K}function M(H){if(!H)return null;var K=O(H);if(K.arr)return v(K.arr);var nt={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},tt=[];return p(H)&&p(H[0])&&(tt=v(H)),tt.length||String(H).replace(f,function(xt,wt,k){var L=[],W=wt.toLowerCase();for(k.replace(h,function(q,Tt){Tt&&L.push(+Tt)}),W=="m"&&L.length>2&&(tt.push([wt].concat(L.splice(0,2))),W="l",wt=wt=="m"?"l":"L");L.length>=nt[W]&&(tt.push([wt].concat(L.splice(0,nt[W]))),!!nt[W]););}),tt.toString=O.toString,K.arr=v(tt),tt}function O(H){var K=O.ps=O.ps||{};return K[H]?K[H].sleep=100:K[H]={sleep:100},setTimeout(function(){for(var nt in K)g(K,nt)&&nt!=H&&(K[nt].sleep--,!K[nt].sleep&&delete K[nt])}),K[H]}function S(H,K,nt,tt){return arguments.length===1&&(K=H.y,nt=H.width,tt=H.height,H=H.x),{x:H,y:K,width:nt,height:tt,x2:H+nt,y2:K+tt}}function x(){return this.join(",").replace(t,"$1")}function m(H){var K=v(H);return K.toString=x,K}function w(H,K,nt,tt,xt,wt,k,L,W){var q=1-W,Tt=u(q,3),Rt=u(q,2),Ct=W*W,dt=Ct*W,mt=Tt*H+Rt*3*W*nt+q*3*W*W*xt+dt*k,kt=Tt*K+Rt*3*W*tt+q*3*W*W*wt+dt*L;return{x:z(mt),y:z(kt)}}function C(H){var K=zt.apply(null,H);return S(K.x0,K.y0,K.x1-K.x0,K.y1-K.y0)}function A(H,K,nt){return K>=H.x&&K<=H.x+H.width&&nt>=H.y&&nt<=H.y+H.height}function B(H,K){return H=S(H),K=S(K),A(K,H.x,H.y)||A(K,H.x2,H.y)||A(K,H.x,H.y2)||A(K,H.x2,H.y2)||A(H,K.x,K.y)||A(H,K.x2,K.y)||A(H,K.x,K.y2)||A(H,K.x2,K.y2)||(H.x<K.x2&&H.x>K.x||K.x<H.x2&&K.x>H.x)&&(H.y<K.y2&&H.y>K.y||K.y<H.y2&&K.y>H.y)}function P(H,K,nt,tt,xt){var wt=-3*K+9*nt-9*tt+3*xt,k=H*wt+6*K-12*nt+6*tt;return H*k-3*K+3*nt}function T(H,K,nt,tt,xt,wt,k,L,W){W==null&&(W=1),W=W>1?1:W<0?0:W;for(var q=W/2,Tt=12,Rt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Ct=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],dt=0,mt=0;mt<Tt;mt++){var kt=q*Rt[mt]+q,Lt=P(kt,H,nt,xt,k),Bt=P(kt,K,tt,wt,L),te=Lt*Lt+Bt*Bt;dt+=Ct[mt]*n.sqrt(te)}return q*dt}function j(H,K,nt,tt,xt,wt,k,L){if(!(s(H,nt)<a(xt,k)||a(H,nt)>s(xt,k)||s(K,tt)<a(wt,L)||a(K,tt)>s(wt,L))){var W=(H*tt-K*nt)*(xt-k)-(H-nt)*(xt*L-wt*k),q=(H*tt-K*nt)*(wt-L)-(K-tt)*(xt*L-wt*k),Tt=(H-nt)*(wt-L)-(K-tt)*(xt-k);if(Tt){var Rt=z(W/Tt),Ct=z(q/Tt),dt=+Rt.toFixed(2),mt=+Ct.toFixed(2);if(!(dt<+a(H,nt).toFixed(2)||dt>+s(H,nt).toFixed(2)||dt<+a(xt,k).toFixed(2)||dt>+s(xt,k).toFixed(2)||mt<+a(K,tt).toFixed(2)||mt>+s(K,tt).toFixed(2)||mt<+a(wt,L).toFixed(2)||mt>+s(wt,L).toFixed(2)))return{x:Rt,y:Ct}}}}function z(H){return Math.round(H*1e11)/1e11}function I(H,K,nt){var tt=C(H),xt=C(K);if(!B(tt,xt))return nt?0:[];for(var wt=T.apply(0,H),k=T.apply(0,K),L=Et(H)?1:~~(wt/5)||1,W=Et(K)?1:~~(k/5)||1,q=[],Tt=[],Rt={},Ct=nt?0:[],dt=0;dt<L+1;dt++){var mt=w.apply(0,H.concat(dt/L));q.push({x:mt.x,y:mt.y,t:dt/L})}for(dt=0;dt<W+1;dt++)mt=w.apply(0,K.concat(dt/W)),Tt.push({x:mt.x,y:mt.y,t:dt/W});for(dt=0;dt<L;dt++)for(var kt=0;kt<W;kt++){var Lt=q[dt],Bt=q[dt+1],te=Tt[kt],It=Tt[kt+1],Xt=l(Bt.x-Lt.x)<.01?"y":"x",Vt=l(It.x-te.x)<.01?"y":"x",fe=j(Lt.x,Lt.y,Bt.x,Bt.y,te.x,te.y,It.x,It.y),Dt;if(fe){if(Dt=fe.x.toFixed(9)+"#"+fe.y.toFixed(9),Rt[Dt])continue;Rt[Dt]=!0;var jt=Lt.t+l((fe[Xt]-Lt[Xt])/(Bt[Xt]-Lt[Xt]))*(Bt.t-Lt.t),Zn=te.t+l((fe[Vt]-te[Vt])/(It[Vt]-te[Vt]))*(It.t-te.t);jt>=0&&jt<=1&&Zn>=0&&Zn<=1&&(nt?Ct++:Ct.push({x:fe.x,y:fe.y,t1:jt,t2:Zn}))}}return Ct}function F(H,K,nt){H=G(H),K=G(K);for(var tt,xt,wt,k,L,W,q,Tt,Rt,Ct,dt=nt?0:[],mt=0,kt=H.length;mt<kt;mt++){var Lt=H[mt];if(Lt[0]=="M")tt=L=Lt[1],xt=W=Lt[2];else{Lt[0]=="C"?(Rt=[tt,xt].concat(Lt.slice(1)),tt=Rt[6],xt=Rt[7]):(Rt=[tt,xt,tt,xt,L,W,L,W],tt=L,xt=W);for(var Bt=0,te=K.length;Bt<te;Bt++){var It=K[Bt];if(It[0]=="M")wt=q=It[1],k=Tt=It[2];else{It[0]=="C"?(Ct=[wt,k].concat(It.slice(1)),wt=Ct[6],k=Ct[7]):(Ct=[wt,k,wt,k,q,Tt,q,Tt],wt=q,k=Tt);var Xt=I(Rt,Ct,nt);if(nt)dt+=Xt;else{for(var Vt=0,fe=Xt.length;Vt<fe;Vt++)Xt[Vt].segment1=mt,Xt[Vt].segment2=Bt,Xt[Vt].bez1=Rt,Xt[Vt].bez2=Ct;dt=dt.concat(Xt)}}}}}return dt}function at(H){var K=O(H);if(K.abs)return m(K.abs);if((!p(H)||!p(H&&H[0]))&&(H=M(H)),!H||!H.length)return[["M",0,0]];var nt=[],tt=0,xt=0,wt=0,k=0,L=0,W;H[0][0]=="M"&&(tt=+H[0][1],xt=+H[0][2],wt=tt,k=xt,L++,nt[0]=["M",tt,xt]);for(var q,Tt,Rt=L,Ct=H.length;Rt<Ct;Rt++){if(nt.push(q=[]),Tt=H[Rt],W=Tt[0],W!=W.toUpperCase())switch(q[0]=W.toUpperCase(),q[0]){case"A":q[1]=Tt[1],q[2]=Tt[2],q[3]=Tt[3],q[4]=Tt[4],q[5]=Tt[5],q[6]=+Tt[6]+tt,q[7]=+Tt[7]+xt;break;case"V":q[1]=+Tt[1]+xt;break;case"H":q[1]=+Tt[1]+tt;break;case"M":wt=+Tt[1]+tt,k=+Tt[2]+xt;default:for(var dt=1,mt=Tt.length;dt<mt;dt++)q[dt]=+Tt[dt]+(dt%2?tt:xt)}else for(var kt=0,Lt=Tt.length;kt<Lt;kt++)q[kt]=Tt[kt];switch(W=W.toUpperCase(),q[0]){case"Z":tt=+wt,xt=+k;break;case"H":tt=q[1];break;case"V":xt=q[1];break;case"M":wt=q[q.length-2],k=q[q.length-1];default:tt=q[q.length-2],xt=q[q.length-1]}}return nt.toString=x,K.abs=m(nt),nt}function Et(H){return H[0]===H[2]&&H[1]===H[3]&&H[4]===H[6]&&H[5]===H[7]}function it(H,K,nt,tt){return[H,K,nt,tt,nt,tt]}function lt(H,K,nt,tt,xt,wt){var k=.3333333333333333,L=2/3;return[k*H+L*nt,k*K+L*tt,k*xt+L*nt,k*wt+L*tt,xt,wt]}function Mt(H,K,nt,tt,xt,wt,k,L,W,q){var Tt=r*120/180,Rt=r/180*(+xt||0),Ct=[],dt,mt=E(function(Ri,ci,bo){var ba=Ri*n.cos(bo)-ci*n.sin(bo),_s=Ri*n.sin(bo)+ci*n.cos(bo);return{x:ba,y:_s}});if(q)Dt=q[0],jt=q[1],Vt=q[2],fe=q[3];else{dt=mt(H,K,-Rt),H=dt.x,K=dt.y,dt=mt(L,W,-Rt),L=dt.x,W=dt.y;var kt=(H-L)/2,Lt=(K-W)/2,Bt=kt*kt/(nt*nt)+Lt*Lt/(tt*tt);Bt>1&&(Bt=n.sqrt(Bt),nt=Bt*nt,tt=Bt*tt);var te=nt*nt,It=tt*tt,Xt=(wt==k?-1:1)*n.sqrt(l((te*It-te*Lt*Lt-It*kt*kt)/(te*Lt*Lt+It*kt*kt))),Vt=Xt*nt*Lt/tt+(H+L)/2,fe=Xt*-tt*kt/nt+(K+W)/2,Dt=n.asin(((K-fe)/tt).toFixed(9)),jt=n.asin(((W-fe)/tt).toFixed(9));Dt=H<Vt?r-Dt:Dt,jt=L<Vt?r-jt:jt,Dt<0&&(Dt=r*2+Dt),jt<0&&(jt=r*2+jt),k&&Dt>jt&&(Dt=Dt-r*2),!k&&jt>Dt&&(jt=jt-r*2)}var Zn=jt-Dt;if(l(Zn)>Tt){var U=jt,R=L,N=W;jt=Dt+Tt*(k&&jt>Dt?1:-1),L=Vt+nt*n.cos(jt),W=fe+tt*n.sin(jt),Ct=Mt(L,W,nt,tt,xt,0,k,R,N,[jt,U,Vt,fe])}Zn=jt-Dt;var Y=n.cos(Dt),et=n.sin(Dt),ht=n.cos(jt),_t=n.sin(jt),qt=n.tan(Zn/4),Me=4/3*nt*qt,he=4/3*tt*qt,re=[H,K],ie=[H+Me*et,K-he*Y],ms=[L+Me*_t,W-he*ht],vs=[L,W];if(ie[0]=2*re[0]-ie[0],ie[1]=2*re[1]-ie[1],q)return[ie,ms,vs].concat(Ct);Ct=[ie,ms,vs].concat(Ct).join().split(",");for(var ui=[],Nn=0,ir=Ct.length;Nn<ir;Nn++)ui[Nn]=Nn%2?mt(Ct[Nn-1],Ct[Nn],Rt).y:mt(Ct[Nn],Ct[Nn+1],Rt).x;return ui}function zt(H,K,nt,tt,xt,wt,k,L){for(var W=[],q=[[],[]],Tt,Rt,Ct,dt,mt,kt,Lt,Bt,te=0;te<2;++te){if(te==0?(Rt=6*H-12*nt+6*xt,Tt=-3*H+9*nt-9*xt+3*k,Ct=3*nt-3*H):(Rt=6*K-12*tt+6*wt,Tt=-3*K+9*tt-9*wt+3*L,Ct=3*tt-3*K),l(Tt)<1e-12){if(l(Rt)<1e-12)continue;dt=-Ct/Rt,0<dt&&dt<1&&W.push(dt);continue}Lt=Rt*Rt-4*Ct*Tt,Bt=n.sqrt(Lt),!(Lt<0)&&(mt=(-Rt+Bt)/(2*Tt),0<mt&&mt<1&&W.push(mt),kt=(-Rt-Bt)/(2*Tt),0<kt&&kt<1&&W.push(kt))}for(var It=W.length,Xt=It,Vt;It--;)dt=W[It],Vt=1-dt,q[0][It]=Vt*Vt*Vt*H+3*Vt*Vt*dt*nt+3*Vt*dt*dt*xt+dt*dt*dt*k,q[1][It]=Vt*Vt*Vt*K+3*Vt*Vt*dt*tt+3*Vt*dt*dt*wt+dt*dt*dt*L;return q[0][Xt]=H,q[1][Xt]=K,q[0][Xt+1]=k,q[1][Xt+1]=L,q[0].length=q[1].length=Xt+2,{x0:a.apply(0,q[0]),y0:a.apply(0,q[1]),x1:s.apply(0,q[0]),y1:s.apply(0,q[1])}}function G(H){var K=O(H);if(K.curve)return m(K.curve);for(var nt=at(H),tt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},xt=function(dt,mt,kt){var Lt,Bt;if(!dt)return["C",mt.x,mt.y,mt.x,mt.y,mt.x,mt.y];switch(!(dt[0]in{T:1,Q:1})&&(mt.qx=mt.qy=null),dt[0]){case"M":mt.X=dt[1],mt.Y=dt[2];break;case"A":dt=["C"].concat(Mt.apply(0,[mt.x,mt.y].concat(dt.slice(1))));break;case"S":kt=="C"||kt=="S"?(Lt=mt.x*2-mt.bx,Bt=mt.y*2-mt.by):(Lt=mt.x,Bt=mt.y),dt=["C",Lt,Bt].concat(dt.slice(1));break;case"T":kt=="Q"||kt=="T"?(mt.qx=mt.x*2-mt.qx,mt.qy=mt.y*2-mt.qy):(mt.qx=mt.x,mt.qy=mt.y),dt=["C"].concat(lt(mt.x,mt.y,mt.qx,mt.qy,dt[1],dt[2]));break;case"Q":mt.qx=dt[1],mt.qy=dt[2],dt=["C"].concat(lt(mt.x,mt.y,dt[1],dt[2],dt[3],dt[4]));break;case"L":dt=["C"].concat(it(mt.x,mt.y,dt[1],dt[2]));break;case"H":dt=["C"].concat(it(mt.x,mt.y,dt[1],mt.y));break;case"V":dt=["C"].concat(it(mt.x,mt.y,mt.x,dt[1]));break;case"Z":dt=["C"].concat(it(mt.x,mt.y,mt.X,mt.Y));break}return dt},wt=function(dt,mt){if(dt[mt].length>7){dt[mt].shift();for(var kt=dt[mt];kt.length;)k[mt]="A",dt.splice(mt++,0,["C"].concat(kt.splice(0,6)));dt.splice(mt,1),Tt=nt.length}},k=[],L="",W="",q=0,Tt=nt.length;q<Tt;q++){nt[q]&&(L=nt[q][0]),L!="C"&&(k[q]=L,q&&(W=k[q-1])),nt[q]=xt(nt[q],tt,W),k[q]!="A"&&L=="C"&&(k[q]="C"),wt(nt,q);var Rt=nt[q],Ct=Rt.length;tt.x=Rt[Ct-2],tt.y=Rt[Ct-1],tt.bx=e(Rt[Ct-4])||tt.x,tt.by=e(Rt[Ct-3])||tt.y}return K.curve=m(nt),nt}return Zy=F,Zy}var XD=FD();const RS=ua(XD);function Ue(t){return On(t)&&dl(t,"waypoints")}function vr(t){return On(t)&&dl(t,"labelTarget")}function qD(t){return{x:Math.round(t.x),y:Math.round(t.y),width:Math.round(t.width),height:Math.round(t.height)}}function ta(t){return{x:Math.round(t.x),y:Math.round(t.y)}}function ue(t){return{top:t.y,right:t.x+(t.width||0),bottom:t.y+(t.height||0),left:t.x}}function NS(t){return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}function GD(t){return ta({x:t.x+(t.width||0)/2,y:t.y+(t.height||0)/2})}function VD(t){for(var e=t.waypoints,n=e.reduce(function(h,p,g){var v=e[g-1];if(v){var _=h[h.length-1],E=_&&_.endLength||0,M=ZD(v,p);h.push({start:v,end:p,startLength:E,endLength:E+M,length:M})}return h},[]),r=n.reduce(function(h,p){return h+p.length},0),a=r/2,s=0,u=n[s];u.endLength<a;)u=n[++s];var l=(a-u.startLength)/u.length,f={x:u.start.x+(u.end.x-u.start.x)*l,y:u.start.y+(u.end.y-u.start.y)*l};return f}function me(t){return Ue(t)?VD(t):GD(t)}function zr(t,e,n){n=n||0,On(n)||(n={x:n,y:n});var r=ue(t),a=ue(e),s=r.bottom+n.y<=a.top,u=r.left-n.x>=a.right,l=r.top-n.y>=a.bottom,f=r.right+n.x<=a.left,h=s?"top":l?"bottom":null,p=f?"left":u?"right":null;return p&&h?h+"-"+p:p||h||"intersect"}function ev(t,e,n){var r=YD(t,e);return r.length===1||r.length===2&&gl(r[0],r[1])<1?ta(r[0]):r.length>1?(r=no(r,function(a){var s=Math.floor(a.t2*100)||1;return s=100-s,s=(s<10?"0":"")+s,a.segment2+"#"+s}),ta(r[n?0:r.length-1])):null}function YD(t,e){return RS(t,e)}function KD(t){t=t.slice();for(var e=0,n,r,a;t[e];)n=t[e],r=t[e-1],a=t[e+1],gl(n,a)===0||Gv(r,a,n)?t.splice(e,1):e++;return t}function ZD(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function wd(t,e){return Math.round(t*e)/e}function gE(t){return Kt(t)?t+"px":t}function WD(t){for(;t.parent;)t=t.parent;return t}function QD(t){t=ft({},{width:"100%",height:"100%"},t);const e=t.container||document.body,n=document.createElement("div");return n.setAttribute("class","djs-container djs-parent"),so(n,{position:"relative",overflow:"hidden",width:gE(t.width),height:gE(t.height)}),e.appendChild(n),n}function DS(t,e,n){const r=Nt("g");le(r).add(e);const a=n!==void 0?n:t.childNodes.length-1;return t.insertBefore(r,t.childNodes[a]||null),r}const JD="base",LS=0,t3=1,e3={shape:["x","y","width","height"],connection:["waypoints"]};function Qt(t,e,n,r){this._eventBus=e,this._elementRegistry=r,this._graphicsFactory=n,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._init(t||{})}Qt.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"];Qt.prototype._init=function(t){const e=this._eventBus,n=this._container=QD(t),r=this._svg=Nt("svg");yt(r,{width:"100%",height:"100%"}),Wt(n,r);const a=this._viewport=DS(r,"viewport");t.deferUpdate&&(this._viewboxChanged=gS(Vn(this._viewboxChanged,this),300)),e.on("diagram.init",()=>{e.fire("canvas.init",{svg:r,viewport:a})}),e.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],()=>{delete this._cachedViewbox}),e.on("diagram.destroy",500,this._destroy,this),e.on("diagram.clear",500,this._clear,this)};Qt.prototype._destroy=function(){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});const t=this._container.parentNode;t&&t.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport};Qt.prototype._clear=function(){this._elementRegistry.getAll().forEach(e=>{const n=AS(e);n==="root"?this.removeRootElement(e):this._removeElement(e,n)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox};Qt.prototype.getDefaultLayer=function(){return this.getLayer(JD,LS)};Qt.prototype.getLayer=function(t,e){if(!t)throw new Error("must specify a name");let n=this._layers[t];if(n||(n=this._layers[t]=this._createLayer(t,e)),typeof e<"u"&&n.index!==e)throw new Error("layer <"+t+"> already created at index <"+e+">");return n.group};Qt.prototype._getChildIndex=function(t){return $r(this._layers,function(e,n){return n.visible&&t>=n.index&&e++,e},0)};Qt.prototype._createLayer=function(t,e){typeof e>"u"&&(e=t3);const n=this._getChildIndex(e);return{group:DS(this._viewport,"layer-"+t,n),index:e,visible:!0}};Qt.prototype.showLayer=function(t){if(!t)throw new Error("must specify a name");const e=this._layers[t];if(!e)throw new Error("layer <"+t+"> does not exist");const n=this._viewport,r=e.group,a=e.index;if(e.visible)return r;const s=this._getChildIndex(a);return n.insertBefore(r,n.childNodes[s]||null),e.visible=!0,r};Qt.prototype.hideLayer=function(t){if(!t)throw new Error("must specify a name");const e=this._layers[t];if(!e)throw new Error("layer <"+t+"> does not exist");const n=e.group;return e.visible&&(Qe(n),e.visible=!1),n};Qt.prototype._removeLayer=function(t){const e=this._layers[t];e&&(delete this._layers[t],Qe(e.group))};Qt.prototype.getActiveLayer=function(){const t=this._findPlaneForRoot(this.getRootElement());return t?t.layer:null};Qt.prototype.findRoot=function(t){return typeof t=="string"&&(t=this._elementRegistry.get(t)),t?(this._findPlaneForRoot(WD(t))||{}).rootElement:void 0};Qt.prototype.getRootElements=function(){return this._planes.map(function(t){return t.rootElement})};Qt.prototype._findPlaneForRoot=function(t){return Ie(this._planes,function(e){return e.rootElement===t})};Qt.prototype.getContainer=function(){return this._container};Qt.prototype._updateMarker=function(t,e,n){let r;t.id||(t=this._elementRegistry.get(t)),r=this._elementRegistry._elements[t.id],r&&(st([r.gfx,r.secondaryGfx],function(a){a&&(n?le(a).add(e):le(a).remove(e))}),this._eventBus.fire("element.marker.update",{element:t,gfx:r.gfx,marker:e,add:!!n}))};Qt.prototype.addMarker=function(t,e){this._updateMarker(t,e,!0)};Qt.prototype.removeMarker=function(t,e){this._updateMarker(t,e,!1)};Qt.prototype.hasMarker=function(t,e){t.id||(t=this._elementRegistry.get(t));const n=this.getGraphics(t);return le(n).has(e)};Qt.prototype.toggleMarker=function(t,e){this.hasMarker(t,e)?this.removeMarker(t,e):this.addMarker(t,e)};Qt.prototype.getRootElement=function(){const t=this._rootElement;return t||this._planes.length?t:this.setRootElement(this.addRootElement(null))};Qt.prototype.addRootElement=function(t){const e=this._rootsIdx++;t||(t={id:"__implicitroot_"+e,children:[],isImplicit:!0});const n=t.layer="root-"+e;this._ensureValid("root",t);const r=this.getLayer(n,LS);return this.hideLayer(n),this._addRoot(t,r),this._planes.push({rootElement:t,layer:r}),t};Qt.prototype.removeRootElement=function(t){if(typeof t=="string"&&(t=this._elementRegistry.get(t)),!!this._findPlaneForRoot(t))return this._removeRoot(t),this._removeLayer(t.layer),this._planes=this._planes.filter(function(n){return n.rootElement!==t}),this._rootElement===t&&(this._rootElement=null),t};Qt.prototype.setRootElement=function(t){if(t===this._rootElement)return;let e;if(!t)throw new Error("rootElement required");return e=this._findPlaneForRoot(t),e||(t=this.addRootElement(t)),this._setRoot(t),t};Qt.prototype._removeRoot=function(t){const e=this._elementRegistry,n=this._eventBus;n.fire("root.remove",{element:t}),n.fire("root.removed",{element:t}),e.remove(t)};Qt.prototype._addRoot=function(t,e){const n=this._elementRegistry,r=this._eventBus;r.fire("root.add",{element:t}),n.add(t,e),r.fire("root.added",{element:t,gfx:e})};Qt.prototype._setRoot=function(t,e){const n=this._rootElement;n&&(this._elementRegistry.updateGraphics(n,null,!0),this.hideLayer(n.layer)),t&&(e||(e=this._findPlaneForRoot(t).layer),this._elementRegistry.updateGraphics(t,this._svg,!0),this.showLayer(t.layer)),this._rootElement=t,this._eventBus.fire("root.set",{element:t})};Qt.prototype._ensureValid=function(t,e){if(!e.id)throw new Error("element must have an id");if(this._elementRegistry.get(e.id))throw new Error("element <"+e.id+"> already exists");const n=e3[t];if(!hl(n,function(a){return typeof e[a]<"u"}))throw new Error("must supply { "+n.join(", ")+" } with "+t)};Qt.prototype._setParent=function(t,e,n){oi(e.children,t,n),t.parent=e};Qt.prototype._addElement=function(t,e,n,r){n=n||this.getRootElement();const a=this._eventBus,s=this._graphicsFactory;this._ensureValid(t,e),a.fire(t+".add",{element:e,parent:n}),this._setParent(e,n,r);const u=s.create(t,e,r);return this._elementRegistry.add(e,u),s.update(t,e,u),a.fire(t+".added",{element:e,gfx:u}),e};Qt.prototype.addShape=function(t,e,n){return this._addElement("shape",t,e,n)};Qt.prototype.addConnection=function(t,e,n){return this._addElement("connection",t,e,n)};Qt.prototype._removeElement=function(t,e){const n=this._elementRegistry,r=this._graphicsFactory,a=this._eventBus;if(t=n.get(t.id||t),!!t)return a.fire(e+".remove",{element:t}),r.remove(t),ii(t.parent&&t.parent.children,t),t.parent=null,a.fire(e+".removed",{element:t}),n.remove(t),t};Qt.prototype.removeShape=function(t){return this._removeElement(t,"shape")};Qt.prototype.removeConnection=function(t){return this._removeElement(t,"connection")};Qt.prototype.getGraphics=function(t,e){return this._elementRegistry.getGraphics(t,e)};Qt.prototype._changeViewbox=function(t){this._eventBus.fire("canvas.viewbox.changing"),t.apply(this),this._cachedViewbox=null,this._viewboxChanged()};Qt.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})};Qt.prototype.viewbox=function(t){if(t===void 0&&this._cachedViewbox)return this._cachedViewbox;const e=this._viewport,n=this.getSize();let r,a,s,u,l,f,h;if(t)this._changeViewbox(function(){l=Math.min(n.width/t.width,n.height/t.height);const p=this._svg.createSVGMatrix().scale(l).translate(-t.x,-t.y);el(e,p)});else return s=this._rootElement?this.getActiveLayer():null,r=s&&s.getBBox()||{},u=el(e),a=u?u.matrix:vD(),l=wd(a.a,1e3),f=wd(-a.e||0,1e3),h=wd(-a.f||0,1e3),t=this._cachedViewbox={x:f?f/l:0,y:h?h/l:0,width:n.width/l,height:n.height/l,scale:l,inner:{width:r.width||0,height:r.height||0,x:r.x||0,y:r.y||0},outer:n},t;return t};Qt.prototype.scroll=function(t){const e=this._viewport;let n=e.getCTM();return t&&this._changeViewbox(function(){t=ft({dx:0,dy:0},t||{}),n=this._svg.createSVGMatrix().translate(t.dx,t.dy).multiply(n),PS(e,n)}),{x:n.e,y:n.f}};Qt.prototype.scrollToElement=function(t,e){let n=100;typeof t=="string"&&(t=this._elementRegistry.get(t));const r=this.findRoot(t);if(r!==this.getRootElement()&&this.setRootElement(r),r===t)return;e||(e={}),typeof e=="number"&&(n=e),e={top:e.top||n,right:e.right||n,bottom:e.bottom||n,left:e.left||n};const a=bn(t),s=ue(a),u=this.viewbox(),l=this.zoom();let f,h;u.y+=e.top/l,u.x+=e.left/l,u.width-=(e.right+e.left)/l,u.height-=(e.bottom+e.top)/l;const p=ue(u);if(!(a.width<u.width&&a.height<u.height))f=a.x-u.x,h=a.y-u.y;else{const v=Math.max(0,s.right-p.right),_=Math.min(0,s.left-p.left),E=Math.max(0,s.bottom-p.bottom),M=Math.min(0,s.top-p.top);f=v||_,h=E||M}this.scroll({dx:-f*l,dy:-h*l})};Qt.prototype.zoom=function(t,e){if(!t)return this.viewbox(t).scale;if(t==="fit-viewport")return this._fitViewport(e);let n,r;return this._changeViewbox(function(){typeof e!="object"&&(n=this.viewbox().outer,e={x:n.width/2,y:n.height/2}),r=this._setZoom(t,e)}),wd(r.a,1e3)};function PS(t,e){const n="matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")";t.setAttribute("transform",n)}Qt.prototype._fitViewport=function(t){const e=this.viewbox(),n=e.outer,r=e.inner;let a,s;return r.x>=0&&r.y>=0&&r.x+r.width<=n.width&&r.y+r.height<=n.height&&!t?s={x:0,y:0,width:Math.max(r.width+r.x,n.width),height:Math.max(r.height+r.y,n.height)}:(a=Math.min(1,n.width/r.width,n.height/r.height),s={x:r.x+(t?r.width/2-n.width/a/2:0),y:r.y+(t?r.height/2-n.height/a/2:0),width:n.width/a,height:n.height/a}),this.viewbox(s),this.viewbox(!1).scale};Qt.prototype._setZoom=function(t,e){const n=this._svg,r=this._viewport,a=n.createSVGMatrix(),s=n.createSVGPoint();let u,l,f,h,p;f=r.getCTM();const g=f.a;return e?(u=ft(s,e),l=u.matrixTransform(f.inverse()),h=a.translate(l.x,l.y).scale(1/g*t).translate(-l.x,-l.y),p=f.multiply(h)):p=a.scale(t),PS(this._viewport,p),p};Qt.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}};Qt.prototype.getAbsoluteBBox=function(t){const e=this.viewbox();let n;t.waypoints?n=this.getGraphics(t).getBBox():n=t;const r=n.x*e.scale-e.x*e.scale,a=n.y*e.scale-e.y*e.scale,s=n.width*e.scale,u=n.height*e.scale;return{x:r,y:a,width:s,height:u}};Qt.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var uu="data-element-id";function _r(t){this._elements={},this._eventBus=t}_r.$inject=["eventBus"];_r.prototype.add=function(t,e,n){var r=t.id;this._validateId(r),yt(e,uu,r),n&&yt(n,uu,r),this._elements[r]={element:t,gfx:e,secondaryGfx:n}};_r.prototype.remove=function(t){var e=this._elements,n=t.id||t,r=n&&e[n];r&&(yt(r.gfx,uu,""),r.secondaryGfx&&yt(r.secondaryGfx,uu,""),delete e[n])};_r.prototype.updateId=function(t,e){this._validateId(e),typeof t=="string"&&(t=this.get(t)),this._eventBus.fire("element.updateId",{element:t,newId:e});var n=this.getGraphics(t),r=this.getGraphics(t,!0);this.remove(t),t.id=e,this.add(t,n,r)};_r.prototype.updateGraphics=function(t,e,n){var r=t.id||t,a=this._elements[r];return n?a.secondaryGfx=e:a.gfx=e,e&&yt(e,uu,r),e};_r.prototype.get=function(t){var e;typeof t=="string"?e=t:e=t&&yt(t,uu);var n=this._elements[e];return n&&n.element};_r.prototype.filter=function(t){var e=[];return this.forEach(function(n,r){t(n,r)&&e.push(n)}),e};_r.prototype.find=function(t){for(var e=this._elements,n=Object.keys(e),r=0;r<n.length;r++){var a=n[r],s=e[a],u=s.element,l=s.gfx;if(t(u,l))return u}};_r.prototype.getAll=function(){return this.filter(function(t){return t})};_r.prototype.forEach=function(t){var e=this._elements;Object.keys(e).forEach(function(n){var r=e[n],a=r.element,s=r.gfx;return t(a,s)})};_r.prototype.getGraphics=function(t,e){var n=t.id||t,r=this._elements[n];return r&&(e?r.secondaryGfx:r.gfx)};_r.prototype._validateId=function(t){if(!t)throw new Error("element must have an id");if(this._elements[t])throw new Error("element with id "+t+" already added")};var Kf={exports:{}},Zf={},yE;function BS(){if(yE)return Zf;yE=1;function t(n,r,a,s){var u=a.inverse;return Object.defineProperty(n,"remove",{value:function(l){var f=this.indexOf(l);return f!==-1&&(this.splice(f,1),r.unset(l,u,s)),l}}),Object.defineProperty(n,"contains",{value:function(l){return this.indexOf(l)!==-1}}),Object.defineProperty(n,"add",{value:function(l,f){var h=this.indexOf(l);if(typeof f>"u"){if(h!==-1)return;f=this.length}h!==-1&&this.splice(h,1),this.splice(f,0,l),h===-1&&r.set(l,u,s)}}),Object.defineProperty(n,"__refs_collection",{value:!0}),n}function e(n){return n.__refs_collection===!0}return Zf.extend=t,Zf.isExtended=e,Zf}var Wy,mE;function n3(){if(mE)return Wy;mE=1;var t=BS();function e(s,u){return Object.prototype.hasOwnProperty.call(s,u.name||u)}function n(s,u,l){var f=t.extend(l[u.name]||[],s,u,l);Object.defineProperty(l,u.name,{enumerable:u.enumerable,value:f}),f.length&&f.forEach(function(h){s.set(h,u.inverse,l)})}function r(s,u,l){var f=u.inverse,h=l[u.name];Object.defineProperty(l,u.name,{configurable:u.configurable,enumerable:u.enumerable,get:function(){return h},set:function(p){if(p!==h){var g=h;h=null,g&&s.unset(g,f,l),h=p,s.set(h,f,l)}}})}function a(s,u){if(!(this instanceof a))return new a(s,u);s.inverse=u,u.inverse=s,this.props={},this.props[s.name]=s,this.props[u.name]=u}return a.prototype.bind=function(s,u){if(typeof u=="string"){if(!this.props[u])throw new Error("no property <"+u+"> in ref");u=this.props[u]}u.collection?n(this,u,s):r(this,u,s)},a.prototype.ensureRefsCollection=function(s,u){var l=s[u.name];return t.isExtended(l)||n(this,u,s),l},a.prototype.ensureBound=function(s,u){e(s,u)||this.bind(s,u)},a.prototype.unset=function(s,u,l){s&&(this.ensureBound(s,u),u.collection?this.ensureRefsCollection(s,u).remove(l):s[u.name]=void 0)},a.prototype.set=function(s,u,l){s&&(this.ensureBound(s,u),u.collection?this.ensureRefsCollection(s,u).add(l):s[u.name]=l)},Wy=a,Wy}var vE;function r3(){return vE||(vE=1,Kf.exports=n3(),Kf.exports.Collection=BS()),Kf.exports}var i3=r3();const xu=ua(i3);var Vv=new xu({name:"children",enumerable:!0,collection:!0},{name:"parent"}),kS=new xu({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),_E=new xu({name:"attachers",collection:!0},{name:"host"}),IS=new xu({name:"outgoing",collection:!0},{name:"source"}),jS=new xu({name:"incoming",collection:!0},{name:"target"});function bu(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(t){var e=this.label,n=this.labels;!t&&e?n.remove(e):n.add(t,0)}}),Vv.bind(this,"parent"),kS.bind(this,"labels"),IS.bind(this,"outgoing"),jS.bind(this,"incoming")}function yl(){bu.call(this),Vv.bind(this,"children"),_E.bind(this,"host"),_E.bind(this,"attachers")}Te(yl,bu);function $S(){bu.call(this),Vv.bind(this,"children")}Te($S,yl);function zS(){yl.call(this),kS.bind(this,"labelTarget")}Te(zS,yl);function US(){bu.call(this),IS.bind(this,"source"),jS.bind(this,"target")}Te(US,bu);var o3={connection:US,shape:yl,label:zS,root:$S};function a3(t,e){var n=o3[t];if(!n)throw new Error("unknown type: <"+t+">");return ft(new n,e)}function s3(t){return t instanceof bu}function lo(){this._uid=12}lo.prototype.createRoot=function(t){return this.create("root",t)};lo.prototype.createLabel=function(t){return this.create("label",t)};lo.prototype.createShape=function(t){return this.create("shape",t)};lo.prototype.createConnection=function(t){return this.create("connection",t)};lo.prototype.create=function(t,e){return e=ft({},e||{}),e.id||(e.id=t+"_"+this._uid++),a3(t,e)};var wh="__fn",HS=1e3,u3=Array.prototype.slice;function nr(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}nr.prototype.on=function(t,e,n,r){if(t=ne(t)?t:[t],En(e)&&(r=n,n=e,e=HS),!Kt(e))throw new Error("priority must be a number");var a=n;r&&(a=Vn(n,r),a[wh]=n[wh]||n);var s=this;t.forEach(function(u){s._addListener(u,{priority:e,callback:a,next:null})})};nr.prototype.once=function(t,e,n,r){var a=this;if(En(e)&&(r=n,n=e,e=HS),!Kt(e))throw new Error("priority must be a number");function s(){s.__isTomb=!0;var u=n.apply(r,arguments);return a.off(t,s),u}s[wh]=n,this.on(t,e,s)};nr.prototype.off=function(t,e){t=ne(t)?t:[t];var n=this;t.forEach(function(r){n._removeListener(r,e)})};nr.prototype.createEvent=function(t){var e=new ml;return e.init(t),e};nr.prototype.fire=function(t,e){var n,r,a,s;if(s=u3.call(arguments),typeof t=="object"&&(e=t,t=e.type),!t)throw new Error("no event type specified");if(r=this._listeners[t],!!r){e instanceof ml?n=e:n=this.createEvent(e),s[0]=n;var u=n.type;t!==u&&(n.type=t);try{a=this._invokeListeners(n,s,r)}finally{t!==u&&(n.type=u)}return a===void 0&&n.defaultPrevented&&(a=!1),a}};nr.prototype.handleError=function(t){return this.fire("error",{error:t})===!1};nr.prototype._destroy=function(){this._listeners={}};nr.prototype._invokeListeners=function(t,e,n){for(var r;n&&!t.cancelBubble;)r=this._invokeListener(t,e,n),n=n.next;return r};nr.prototype._invokeListener=function(t,e,n){var r;if(n.callback.__isTomb)return r;try{r=c3(n.callback,e),r!==void 0&&(t.returnValue=r,t.stopPropagation()),r===!1&&t.preventDefault()}catch(a){if(!this.handleError(a))throw console.error("unhandled error in event listener",a),a}return r};nr.prototype._addListener=function(t,e){var n=this._getListeners(t),r;if(!n){this._setListeners(t,e);return}for(;n;){if(n.priority<e.priority){e.next=n,r?r.next=e:this._setListeners(t,e);return}r=n,n=n.next}r.next=e};nr.prototype._getListeners=function(t){return this._listeners[t]};nr.prototype._setListeners=function(t,e){this._listeners[t]=e};nr.prototype._removeListener=function(t,e){var n=this._getListeners(t),r,a,s;if(!e){this._setListeners(t,null);return}for(;n;)r=n.next,s=n.callback,(s===e||s[wh]===e)&&(a?a.next=r:this._setListeners(t,r)),a=n,n=r};function ml(){}ml.prototype.stopPropagation=function(){this.cancelBubble=!0};ml.prototype.preventDefault=function(){this.defaultPrevented=!0};ml.prototype.init=function(t){ft(this,t||{})};function c3(t,e){return t.apply(null,e)}function Th(t){return t.childNodes[0]}function l3(t){return t.parentNode.childNodes[1]}function f3(t,e,n,r,a){var s=Kc();s.setTranslate(e,n);var u=Kc();u.setRotate(0,0,0);var l=Kc();l.setScale(1,1),el(t,[s,u,l])}function kr(t,e,n){var r=Kc();r.setTranslate(e,n),el(t,r)}function d3(t,e){var n=Kc();n.setRotate(e,0,0),el(t,n)}function xr(t,e){this._eventBus=t,this._elementRegistry=e}xr.$inject=["eventBus","elementRegistry"];xr.prototype._getChildrenContainer=function(t){var e=this._elementRegistry.getGraphics(t),n;return t.parent?(n=l3(e),n||(n=Nt("g"),le(n).add("djs-children"),Wt(e.parentNode,n))):n=e,n};xr.prototype._clear=function(t){var e=Th(t);return jv(e),e};xr.prototype._createContainer=function(t,e,n,r){var a=Nt("g");le(a).add("djs-group"),typeof n<"u"?FS(a,e,e.childNodes[n]):Wt(e,a);var s=Nt("g");le(s).add("djs-element"),le(s).add("djs-"+t),r&&le(s).add("djs-frame"),Wt(a,s);var u=Nt("g");return le(u).add("djs-visual"),Wt(s,u),s};xr.prototype.create=function(t,e,n){var r=this._getChildrenContainer(e.parent);return this._createContainer(t,r,n,OS(e))};xr.prototype.updateContainments=function(t){var e=this,n=this._elementRegistry,r;r=$r(t,function(a,s){return s.parent&&(a[s.parent.id]=s.parent),a},{}),st(r,function(a){var s=a.children;if(s){var u=e._getChildrenContainer(a);st(s.slice().reverse(),function(l){var f=n.getGraphics(l);FS(f.parentNode,u)})}})};xr.prototype.drawShape=function(t,e,n={}){var r=this._eventBus;return r.fire("render.shape",{gfx:t,element:e,attrs:n})};xr.prototype.getShapePath=function(t){var e=this._eventBus;return e.fire("render.getShapePath",t)};xr.prototype.drawConnection=function(t,e,n={}){var r=this._eventBus;return r.fire("render.connection",{gfx:t,element:e,attrs:n})};xr.prototype.getConnectionPath=function(t){var e=this._eventBus;return e.fire("render.getConnectionPath",t)};xr.prototype.update=function(t,e,n){if(e.parent){var r=this._clear(n);if(t==="shape")this.drawShape(r,e),kr(n,e.x,e.y);else if(t==="connection")this.drawConnection(r,e);else throw new Error("unknown type: "+t);e.hidden?yt(n,"display","none"):yt(n,"display","block")}};xr.prototype.remove=function(t){var e=this._elementRegistry.getGraphics(t);Qe(e.parentNode)};function FS(t,e,n){var r=n||e.firstChild;t!==r&&e.insertBefore(t,r)}const h3={__depends__:[zD],__init__:["canvas"],canvas:["type",Qt],elementRegistry:["type",_r],elementFactory:["type",lo],eventBus:["type",nr],graphicsFactory:["type",xr]};function p3(t){var e=new TS(t);return e.init(),e}function g3(t){t=t||{};var e={config:["value",t]},n=[e,h3].concat(t.modules||[]);return p3(n)}function Eu(t,e){this._injector=e=e||g3(t),this.get=e.get,this.invoke=e.invoke,this.get("eventBus").fire("diagram.init")}Eu.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")};Eu.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")};function Yv(){}Yv.prototype.get=function(t){return this.$model.properties.get(this,t)};Yv.prototype.set=function(t,e){this.$model.properties.set(this,t,e)};function XS(t,e){this.model=t,this.properties=e}XS.prototype.createType=function(t){var e=this.model,n=this.properties,r=Object.create(Yv.prototype);st(t.properties,function(u){!u.isMany&&u.default!==void 0&&(r[u.name]=u.default)}),n.defineModel(r,e),n.defineDescriptor(r,t);var a=t.ns.name;function s(u){n.define(this,"$type",{value:a,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),st(u,Vn(function(l,f){this.set(f,l)},this))}return s.prototype=r,s.hasType=r.$instanceOf=this.model.hasType,n.defineModel(s,e),n.defineDescriptor(s,t),s};var y3={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},qS={String:function(t){return t},Boolean:function(t){return t==="true"},Integer:function(t){return parseInt(t,10)},Real:function(t){return parseFloat(t)}};function Kv(t,e){var n=qS[t];return n?n(e):e}function nv(t){return!!y3[t]}function GS(t){return!!qS[t]}function $n(t,e){var n=t.split(/:/),r,a;if(n.length===1)r=t,a=e;else if(n.length===2)r=n[1],a=n[0];else throw new Error("expected <prefix:localName> or <localName>, got "+t);return t=(a?a+":":"")+r,{name:t,prefix:a,localName:r}}function br(t){this.ns=t,this.name=t.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}br.prototype.build=function(){return ro(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])};br.prototype.addProperty=function(t,e,n){typeof e=="boolean"&&(n=e,e=void 0),this.addNamedProperty(t,n!==!1);var r=this.properties;e!==void 0?r.splice(e,0,t):r.push(t)};br.prototype.replaceProperty=function(t,e,n){var r=t.ns,a=this.properties,s=this.propertiesByName,u=t.name!==e.name;if(t.isId){if(!e.isId)throw new Error("property <"+e.ns.name+"> must be id property to refine <"+t.ns.name+">");this.setIdProperty(e,!1)}if(t.isBody){if(!e.isBody)throw new Error("property <"+e.ns.name+"> must be body property to refine <"+t.ns.name+">");this.setBodyProperty(e,!1)}var l=a.indexOf(t);if(l===-1)throw new Error("property <"+r.name+"> not found in property list");a.splice(l,1),this.addProperty(e,n?void 0:l,u),s[r.name]=s[r.localName]=e};br.prototype.redefineProperty=function(t,e,n){var r=t.ns.prefix,a=e.split("#"),s=$n(a[0],r),u=$n(a[1],s.prefix).name,l=this.propertiesByName[u];if(l)this.replaceProperty(l,t,n);else throw new Error("refined property <"+u+"> not found");delete t.redefines};br.prototype.addNamedProperty=function(t,e){var n=t.ns,r=this.propertiesByName;e&&(this.assertNotDefined(t,n.name),this.assertNotDefined(t,n.localName)),r[n.name]=r[n.localName]=t};br.prototype.removeNamedProperty=function(t){var e=t.ns,n=this.propertiesByName;delete n[e.name],delete n[e.localName]};br.prototype.setBodyProperty=function(t,e){if(e&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+t.ns.name+">)");this.bodyProperty=t};br.prototype.setIdProperty=function(t,e){if(e&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+t.ns.name+">)");this.idProperty=t};br.prototype.assertNotTrait=function(t){if((t.extends||[]).length)throw new Error(`cannot create <${t.name}> extending <${t.extends}>`)};br.prototype.assertNotDefined=function(t,e){var n=t.name,r=this.propertiesByName[n];if(r)throw new Error("property <"+n+"> already defined; override of <"+r.definedBy.ns.name+"#"+r.ns.name+"> by <"+t.definedBy.ns.name+"#"+t.ns.name+"> not allowed without redefines")};br.prototype.hasProperty=function(t){return this.propertiesByName[t]};br.prototype.addTrait=function(t,e){e&&this.assertNotTrait(t);var n=this.allTypesByName,r=this.allTypes,a=t.name;a in n||(st(t.properties,Vn(function(s){s=ft({},s,{name:s.ns.localName,inherited:e}),Object.defineProperty(s,"definedBy",{value:t});var u=s.replaces,l=s.redefines;u||l?this.redefineProperty(s,u||l,u):(s.isBody&&this.setBodyProperty(s),s.isId&&this.setIdProperty(s),this.addProperty(s))},this)),r.push(t),n[a]=t)};function la(t,e){this.packageMap={},this.typeMap={},this.packages=[],this.properties=e,st(t,Vn(this.registerPackage,this))}la.prototype.getPackage=function(t){return this.packageMap[t]};la.prototype.getPackages=function(){return this.packages};la.prototype.registerPackage=function(t){t=ft({},t);var e=this.packageMap;xE(e,t,"prefix"),xE(e,t,"uri"),st(t.types,Vn(function(n){this.registerType(n,t)},this)),e[t.uri]=e[t.prefix]=t,this.packages.push(t)};la.prototype.registerType=function(t,e){t=ft({},t,{superClass:(t.superClass||[]).slice(),extends:(t.extends||[]).slice(),properties:(t.properties||[]).slice(),meta:ft(t.meta||{})});var n=$n(t.name,e.prefix),r=n.name,a={};st(t.properties,Vn(function(s){var u=$n(s.name,n.prefix),l=u.name;nv(s.type)||(s.type=$n(s.type,u.prefix).name),ft(s,{ns:u,name:l}),a[l]=s},this)),ft(t,{ns:n,name:r,propertiesByName:a}),st(t.extends,Vn(function(s){var u=$n(s,n.prefix),l=this.typeMap[u.name];l.traits=l.traits||[],l.traits.push(r)},this)),this.definePackage(t,e),this.typeMap[r]=t};la.prototype.mapTypes=function(t,e,n){var r=nv(t.name)?{name:t.name}:this.typeMap[t.name],a=this;function s(f,h){var p=$n(f,nv(f)?"":t.prefix);a.mapTypes(p,e,h)}function u(f){return s(f,!0)}function l(f){return s(f,!1)}if(!r)throw new Error("unknown type <"+t.name+">");st(r.superClass,n?u:l),e(r,!n),st(r.traits,u)};la.prototype.getEffectiveDescriptor=function(t){var e=$n(t),n=new br(e);this.mapTypes(e,function(a,s){n.addTrait(a,s)});var r=n.build();return this.definePackage(r,r.allTypes[r.allTypes.length-1].$pkg),r};la.prototype.definePackage=function(t,e){this.properties.define(t,"$pkg",{value:e})};function xE(t,e,n){var r=e[n];if(r in t)throw new Error("package with "+n+" <"+r+"> already defined")}function ss(t){this.model=t}ss.prototype.set=function(t,e,n){if(!jr(e)||!e.length)throw new TypeError("property name must be a non-empty string");var r=this.getProperty(t,e),a=r&&r.name;m3(n)?r?delete t[a]:delete t.$attrs[rv(e)]:r?a in t?t[a]=n:VS(t,r,n):t.$attrs[rv(e)]=n};ss.prototype.get=function(t,e){var n=this.getProperty(t,e);if(!n)return t.$attrs[rv(e)];var r=n.name;return!t[r]&&n.isMany&&VS(t,n,[]),t[r]};ss.prototype.define=function(t,e,n){if(!n.writable){var r=n.value;n=ft({},n,{get:function(){return r}}),delete n.value}Object.defineProperty(t,e,n)};ss.prototype.defineDescriptor=function(t,e){this.define(t,"$descriptor",{value:e})};ss.prototype.defineModel=function(t,e){this.define(t,"$model",{value:e})};ss.prototype.getProperty=function(t,e){var n=this.model,r=n.getPropertyDescriptor(t,e);if(r)return r;if(e.includes(":"))return null;const a=n.config.strict;if(typeof a<"u"){const s=new TypeError(`unknown property <${e}> on <${t.$type}>`);if(a)throw s;typeof console<"u"&&console.warn(s)}return null};function m3(t){return typeof t>"u"}function VS(t,e,n){Object.defineProperty(t,e.name,{enumerable:!e.isReference,writable:!0,value:n,configurable:!0})}function rv(t){return t.replace(/^:/,"")}function Hr(t,e={}){this.properties=new ss(this),this.factory=new XS(this,this.properties),this.registry=new la(t,this.properties),this.typeCache={},this.config=e}Hr.prototype.create=function(t,e){var n=this.getType(t);if(!n)throw new Error("unknown type <"+t+">");return new n(e)};Hr.prototype.getType=function(t){var e=this.typeCache,n=jr(t)?t:t.ns.name,r=e[n];return r||(t=this.registry.getEffectiveDescriptor(n),r=e[n]=this.factory.createType(t)),r};Hr.prototype.createAny=function(t,e,n){var r=$n(t),a={$type:t,$instanceOf:function(u){return u===this.$type},get:function(u){return this[u]},set:function(u,l){KN(this,[u],l)}},s={name:t,isGeneric:!0,ns:{prefix:r.prefix,localName:r.localName,uri:e}};return this.properties.defineDescriptor(a,s),this.properties.defineModel(a,this),this.properties.define(a,"get",{enumerable:!1,writable:!0}),this.properties.define(a,"set",{enumerable:!1,writable:!0}),this.properties.define(a,"$parent",{enumerable:!1,writable:!0}),this.properties.define(a,"$instanceOf",{enumerable:!1,writable:!0}),st(n,function(u,l){On(u)&&u.value!==void 0?a[u.name]=u.value:a[l]=u}),a};Hr.prototype.getPackage=function(t){return this.registry.getPackage(t)};Hr.prototype.getPackages=function(){return this.registry.getPackages()};Hr.prototype.getElementDescriptor=function(t){return t.$descriptor};Hr.prototype.hasType=function(t,e){e===void 0&&(e=t,t=this);var n=t.$model.getElementDescriptor(t);return e in n.allTypesByName};Hr.prototype.getPropertyDescriptor=function(t,e){return this.getElementDescriptor(t).propertiesByName[e]};Hr.prototype.getTypeDescriptor=function(t){return this.registry.typeMap[t]};var bE=String.fromCharCode,v3=Object.prototype.hasOwnProperty,_3=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/ig,Zc={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};Object.keys(Zc).forEach(function(t){Zc[t.toUpperCase()]=Zc[t]});function x3(t,e,n,r){return r?v3.call(Zc,r)?Zc[r]:"&"+r+";":bE(e||parseInt(n,16))}function qa(t){return t.length>3&&t.indexOf("&")!==-1?t.replace(_3,x3):t}var b3="http://www.w3.org/2001/XMLSchema-instance",E3="xsi",EE="xsi:type",wE="non-whitespace outside of root node";function Js(t){return new Error(t)}function TE(t){return"missing namespace for prefix <"+t+">"}function Wf(t){return{get:t,enumerable:!0}}function w3(t){var e={},n;for(n in t)e[n]=t[n];return e}function iv(t){return t+"$uri"}function T3(t){var e={},n,r;for(n in t)r=t[n],e[r]=r,e[iv(r)]=n;return e}function SE(){return{line:0,column:0}}function S3(t){throw t}function YS(t){if(!this)return new YS(t);var e=t&&t.proxy,n,r,a,s,u=S3,l,f,h,p,g=SE,v=!1,_=!1,E=null,M=!1,O;function S(w){w instanceof Error||(w=Js(w)),E=w,u(w,g)}function x(w){l&&(w instanceof Error||(w=Js(w)),l(w,g))}this.on=function(w,C){if(typeof C!="function")throw Js("required args <name, cb>");switch(w){case"openTag":r=C;break;case"text":n=C;break;case"closeTag":a=C;break;case"error":u=C;break;case"warn":l=C;break;case"cdata":s=C;break;case"attention":p=C;break;case"question":h=C;break;case"comment":f=C;break;default:throw Js("unsupported event: "+w)}return this},this.ns=function(w){if(typeof w>"u"&&(w={}),typeof w!="object")throw Js("required args <nsMap={}>");var C={},A;for(A in w)C[A]=w[A];return C[b3]=E3,_=!0,O=C,this},this.parse=function(w){if(typeof w!="string")throw Js("required args <xml=string>");return E=null,m(w),g=SE,M=!1,E},this.stop=function(){M=!0};function m(w){var C=_?[]:null,A=_?T3(O):null,B,P=[],T=0,j=!1,z=!1,I=0,F=0,at,Et,it,lt,Mt,zt,G,H,K,nt="",tt=0,xt;function wt(){if(xt!==null)return xt;var L,W,q,Tt=_&&A.xmlns,Rt=_&&v?[]:null,Ct=tt,dt=nt,mt=dt.length,kt,Lt,Bt,te,It,Xt={},Vt={},fe,Dt,jt;t:for(;Ct<mt;Ct++)if(fe=!1,Dt=dt.charCodeAt(Ct),!(Dt===32||Dt<14&&Dt>8)){for((Dt<65||Dt>122||Dt>90&&Dt<97)&&Dt!==95&&Dt!==58&&(x("illegal first char attribute name"),fe=!0),jt=Ct+1;jt<mt;jt++)if(Dt=dt.charCodeAt(jt),!(Dt>96&&Dt<123||Dt>64&&Dt<91||Dt>47&&Dt<59||Dt===46||Dt===45||Dt===95)){if(Dt===32||Dt<14&&Dt>8){x("missing attribute value"),Ct=jt;continue t}if(Dt===61)break;x("illegal attribute name char"),fe=!0}if(It=dt.substring(Ct,jt),It==="xmlns:xmlns"&&(x("illegal declaration of xmlns"),fe=!0),Dt=dt.charCodeAt(jt+1),Dt===34)jt=dt.indexOf('"',Ct=jt+2),jt===-1&&(jt=dt.indexOf("'",Ct),jt!==-1&&(x("attribute value quote missmatch"),fe=!0));else if(Dt===39)jt=dt.indexOf("'",Ct=jt+2),jt===-1&&(jt=dt.indexOf('"',Ct),jt!==-1&&(x("attribute value quote missmatch"),fe=!0));else for(x("missing attribute value quotes"),fe=!0,jt=jt+1;jt<mt&&(Dt=dt.charCodeAt(jt+1),!(Dt===32||Dt<14&&Dt>8));jt++);for(jt===-1&&(x("missing closing quotes"),jt=mt,fe=!0),fe||(Bt=dt.substring(Ct,jt)),Ct=jt;jt+1<mt&&(Dt=dt.charCodeAt(jt+1),!(Dt===32||Dt<14&&Dt>8));jt++)Ct===jt&&(x("illegal character after attribute end"),fe=!0);if(Ct=jt+1,fe)continue t;if(It in Vt){x("attribute <"+It+"> already defined");continue}if(Vt[It]=!0,!_){Xt[It]=Bt;continue}if(v){if(Lt=It==="xmlns"?"xmlns":It.charCodeAt(0)===120&&It.substr(0,6)==="xmlns:"?It.substr(6):null,Lt!==null){if(L=qa(Bt),W=iv(Lt),te=O[L],!te){if(Lt==="xmlns"||W in A&&A[W]!==L)do te="ns"+T++;while(typeof A[te]<"u");else te=Lt;O[L]=te}A[Lt]!==te&&(kt||(A=w3(A),kt=!0),A[Lt]=te,Lt==="xmlns"&&(A[iv(te)]=L,Tt=te),A[W]=L),Xt[It]=Bt;continue}Rt.push(It,Bt);continue}if(Dt=It.indexOf(":"),Dt===-1){Xt[It]=Bt;continue}if(!(q=A[It.substring(0,Dt)])){x(TE(It.substring(0,Dt)));continue}It=Tt===q?It.substr(Dt+1):q+It.substr(Dt),It===EE&&(Dt=Bt.indexOf(":"),Dt!==-1?(q=Bt.substring(0,Dt),q=A[q]||q,Bt=q+Bt.substring(Dt)):Bt=Tt+":"+Bt),Xt[It]=Bt}if(v)for(Ct=0,mt=Rt.length;Ct<mt;Ct++){if(It=Rt[Ct++],Bt=Rt[Ct],Dt=It.indexOf(":"),Dt!==-1){if(!(q=A[It.substring(0,Dt)])){x(TE(It.substring(0,Dt)));continue}It=Tt===q?It.substr(Dt+1):q+It.substr(Dt),It===EE&&(Dt=Bt.indexOf(":"),Dt!==-1?(q=Bt.substring(0,Dt),q=A[q]||q,Bt=q+Bt.substring(Dt)):Bt=Tt+":"+Bt)}Xt[It]=Bt}return xt=Xt}function k(){for(var L=/(\r\n|\r|\n)/g,W=0,q=0,Tt=0,Rt=F,Ct,dt;I>=Tt&&(Ct=L.exec(w),!(!Ct||(Rt=Ct[0].length+Ct.index,Rt>I)));)W+=1,Tt=Rt;return I==-1?(q=Rt,dt=w.substring(F)):F===0?dt=w.substring(F,I):(q=I-Tt,dt=F==-1?w.substring(I):w.substring(I,F+1)),{data:dt,line:W,column:q}}for(g=k,e&&(K=Object.create({},{name:Wf(function(){return G}),originalName:Wf(function(){return H}),attrs:Wf(wt),ns:Wf(function(){return A})}));F!==-1;){if(w.charCodeAt(F)===60?I=F:I=w.indexOf("<",F),I===-1){if(P.length)return S("unexpected end of file");if(F===0)return S("missing start tag");F<w.length&&w.substring(F).trim()&&x(wE);return}if(F!==I){if(P.length){if(n&&(n(w.substring(F,I),qa,g),M))return}else if(w.substring(F,I).trim()&&(x(wE),M))return}if(lt=w.charCodeAt(I+1),lt===33){if(it=w.charCodeAt(I+2),it===91&&w.substr(I+3,6)==="CDATA["){if(F=w.indexOf("]]>",I),F===-1)return S("unclosed cdata");if(s&&(s(w.substring(I+9,F),g),M))return;F+=3;continue}if(it===45&&w.charCodeAt(I+3)===45){if(F=w.indexOf("-->",I),F===-1)return S("unclosed comment");if(f&&(f(w.substring(I+4,F),qa,g),M))return;F+=3;continue}}if(lt===63){if(F=w.indexOf("?>",I),F===-1)return S("unclosed question");if(h&&(h(w.substring(I,F+2),g),M))return;F+=2;continue}for(at=I+1;;at++){if(Mt=w.charCodeAt(at),isNaN(Mt))return F=-1,S("unclosed tag");if(Mt===34)it=w.indexOf('"',at+1),at=it!==-1?it:at;else if(Mt===39)it=w.indexOf("'",at+1),at=it!==-1?it:at;else if(Mt===62){F=at;break}}if(lt===33){if(p&&(p(w.substring(I,F+1),qa,g),M))return;F+=1;continue}if(xt={},lt===47){if(j=!1,z=!0,!P.length)return S("missing open tag");if(at=G=P.pop(),it=I+2+at.length,w.substring(I+2,it)!==at)return S("closing tag mismatch");for(;it<F;it++)if(lt=w.charCodeAt(it),!(lt===32||lt>8&&lt<14))return S("close tag")}else{if(w.charCodeAt(F-1)===47?(at=G=w.substring(I+1,F-1),j=!0,z=!0):(at=G=w.substring(I+1,F),j=!0,z=!1),!(lt>96&&lt<123||lt>64&&lt<91||lt===95||lt===58))return S("illegal first char nodeName");for(it=1,Et=at.length;it<Et;it++)if(lt=at.charCodeAt(it),!(lt>96&&lt<123||lt>64&&lt<91||lt>47&&lt<59||lt===45||lt===95||lt==46)){if(lt===32||lt<14&&lt>8){G=at.substring(0,it),xt=null;break}return S("invalid nodeName")}z||P.push(G)}if(_){if(B=A,j&&(z||C.push(B),xt===null&&(v=at.indexOf("xmlns",it)!==-1)&&(tt=it,nt=at,wt(),v=!1)),H=G,lt=G.indexOf(":"),lt!==-1){if(zt=A[G.substring(0,lt)],!zt)return S("missing namespace on <"+H+">");G=G.substr(lt+1)}else zt=A.xmlns;zt&&(G=zt+":"+G)}if(j&&(tt=it,nt=at,r&&(e?r(K,qa,z,g):r(G,wt,qa,z,g),M)))return;if(z){if(a&&(a(e?K:G,qa,j,g),M))return;_&&(j?A=B:A=C.pop())}F+=1}}}function KS(t){return t.xml&&t.xml.tagAlias==="lowerCase"}var C3={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},Zh="xsi:type";function ZS(t){return t.xml&&t.xml.serialize}function WS(t){return ZS(t)===Zh}function M3(t){return ZS(t)==="property"}function A3(t){return t.charAt(0).toUpperCase()+t.slice(1)}function QS(t,e){return KS(e)?t.prefix+":"+A3(t.localName):t.name}function O3(t,e){var n=t.name,r=t.localName,a=e.xml&&e.xml.typePrefix;return a&&r.indexOf(a)===0?t.prefix+":"+r.slice(a.length):n}function R3(t,e){var n=$n(t),r=e.getPackage(n.prefix);return O3(n,r)}function aa(t){return new Error(t)}function to(t){return t.$descriptor}function N3(t){ft(this,t),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e)throw aa("expected element");var n=this.elementsById,r=to(e),a=r.idProperty,s;if(a&&(s=e.get(a.name),s)){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(s))throw new Error("illegal ID <"+s+">");if(n[s])throw aa("duplicate ID <"+s+">");n[s]=e}},this.addWarning=function(e){this.warnings.push(e)}}function vl(){}vl.prototype.handleEnd=function(){};vl.prototype.handleText=function(){};vl.prototype.handleNode=function(){};function Zv(){}Zv.prototype=Object.create(vl.prototype);Zv.prototype.handleNode=function(){return this};function wu(){}wu.prototype=Object.create(vl.prototype);wu.prototype.handleText=function(t){this.body=(this.body||"")+t};function _l(t,e){this.property=t,this.context=e}_l.prototype=Object.create(wu.prototype);_l.prototype.handleNode=function(t){if(this.element)throw aa("expected no sub nodes");return this.element=this.createReference(t),this};_l.prototype.handleEnd=function(){this.element.id=this.body};_l.prototype.createReference=function(t){return{property:this.property.ns.name,id:""}};function Wv(t,e){this.element=e,this.propertyDesc=t}Wv.prototype=Object.create(wu.prototype);Wv.prototype.handleEnd=function(){var t=this.body||"",e=this.element,n=this.propertyDesc;t=Kv(n.type,t),n.isMany?e.get(n.name).push(t):e.set(n.name,t)};function Wh(){}Wh.prototype=Object.create(wu.prototype);Wh.prototype.handleNode=function(t){var e=this,n=this.element;return n?e=this.handleChild(t):(n=this.element=this.createElement(t),this.context.addElement(n)),e};function zn(t,e,n){this.model=t,this.type=t.getType(e),this.context=n}zn.prototype=Object.create(Wh.prototype);zn.prototype.addReference=function(t){this.context.addReference(t)};zn.prototype.handleText=function(t){var e=this.element,n=to(e),r=n.bodyProperty;if(!r)throw aa("unexpected body text <"+t+">");wu.prototype.handleText.call(this,t)};zn.prototype.handleEnd=function(){var t=this.body,e=this.element,n=to(e),r=n.bodyProperty;r&&t!==void 0&&(t=Kv(r.type,t),e.set(r.name,t))};zn.prototype.createElement=function(t){var e=t.attributes,n=this.type,r=to(n),a=this.context,s=new n({}),u=this.model,l;return st(e,function(f,h){var p=r.propertiesByName[h],g;p&&p.isReference?p.isMany?(g=f.split(" "),st(g,function(v){a.addReference({element:s,property:p.ns.name,id:v})})):a.addReference({element:s,property:p.ns.name,id:f}):(p?f=Kv(p.type,f):h!=="xmlns"&&(l=$n(h,r.ns.prefix),u.getPackage(l.prefix)&&a.addWarning({message:"unknown attribute <"+h+">",element:s,property:h,value:f})),s.set(h,f))}),s};zn.prototype.getPropertyForNode=function(t){var e=t.name,n=$n(e),r=this.type,a=this.model,s=to(r),u=n.name,l=s.propertiesByName[u],f,h;if(l&&!l.isAttr)return WS(l)&&(f=t.attributes[Zh],f)?(f=R3(f,a),h=a.getType(f),ft({},l,{effectiveType:to(h).name})):l;var p=a.getPackage(n.prefix);if(p){if(f=QS(n,p),h=a.getType(f),l=Ie(s.properties,function(g){return!g.isVirtual&&!g.isReference&&!g.isAttribute&&h.hasType(g.type)}),l)return ft({},l,{effectiveType:to(h).name})}else if(l=Ie(s.properties,function(g){return!g.isReference&&!g.isAttribute&&g.type==="Element"}),l)return l;throw aa("unrecognized element <"+n.name+">")};zn.prototype.toString=function(){return"ElementDescriptor["+to(this.type).name+"]"};zn.prototype.valueHandler=function(t,e){return new Wv(t,e)};zn.prototype.referenceHandler=function(t){return new _l(t,this.context)};zn.prototype.handler=function(t){return t==="Element"?new cu(this.model,t,this.context):new zn(this.model,t,this.context)};zn.prototype.handleChild=function(t){var e,n,r,a;if(e=this.getPropertyForNode(t),r=this.element,n=e.effectiveType||e.type,GS(n))return this.valueHandler(e,r);e.isReference?a=this.referenceHandler(e).handleNode(t):a=this.handler(n).handleNode(t);var s=a.element;return s!==void 0&&(e.isMany?r.get(e.name).push(s):r.set(e.name,s),e.isReference?(ft(s,{element:r}),this.context.addReference(s)):s.$parent=r),a};function Qv(t,e,n){zn.call(this,t,e,n)}Qv.prototype=Object.create(zn.prototype);Qv.prototype.createElement=function(t){var e=t.name,n=$n(e),r=this.model,a=this.type,s=r.getPackage(n.prefix),u=s&&QS(n,s)||e;if(!a.hasType(u))throw aa("unexpected element <"+t.originalName+">");return zn.prototype.createElement.call(this,t)};function cu(t,e,n){this.model=t,this.context=n}cu.prototype=Object.create(Wh.prototype);cu.prototype.createElement=function(t){var e=t.name,n=$n(e),r=n.prefix,a=t.ns[r+"$uri"],s=t.attributes;return this.model.createAny(e,a,s)};cu.prototype.handleChild=function(t){var e=new cu(this.model,"Element",this.context).handleNode(t),n=this.element,r=e.element,a;return r!==void 0&&(a=n.$children=n.$children||[],a.push(r),r.$parent=n),e};cu.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)};function Jv(t){t instanceof Hr&&(t={model:t}),ft(this,{lax:!1},t)}Jv.prototype.fromXML=function(t,e,n){var r=e.rootHandler;e instanceof zn?(r=e,e={}):typeof e=="string"?(r=this.handler(e),e={}):typeof r=="string"&&(r=this.handler(r));var a=this.model,s=this.lax,u=new N3(ft({},e,{rootHandler:r})),l=new YS({proxy:!0}),f=D3();r.context=u,f.push(r);function h(C,A,B){var P=A(),T=P.line,j=P.column,z=P.data;z.charAt(0)==="<"&&z.indexOf(" ")!==-1&&(z=z.slice(0,z.indexOf(" "))+">");var I="unparsable content "+(z?z+" ":"")+`detected
	line: `+T+`
	column: `+j+`
	nested error: `+C.message;if(B)return u.addWarning({message:I,error:C}),!0;throw aa(I)}function p(C,A){return h(C,A,!0)}function g(){var C=u.elementsById,A=u.references,B,P;for(B=0;P=A[B];B++){var T=P.element,j=C[P.id],z=to(T).propertiesByName[P.property];if(j||u.addWarning({message:"unresolved reference <"+P.id+">",element:P.element,property:P.property,value:P.id}),z.isMany){var I=T.get(z.name),F=I.indexOf(P);F===-1&&(F=I.length),j?I[F]=j:I.splice(F,1)}else T.set(z.name,j)}}function v(){f.pop().handleEnd()}var _=/^<\?xml /i,E=/ encoding="([^"]+)"/i,M=/^utf-8$/i;function O(C){if(_.test(C)){var A=E.exec(C),B=A&&A[1];!B||M.test(B)||u.addWarning({message:"unsupported document encoding <"+B+">, falling back to UTF-8"})}}function S(C,A){var B=f.peek();try{f.push(B.handleNode(C))}catch(P){h(P,A,s)&&f.push(new Zv)}}function x(C,A){try{f.peek().handleText(C)}catch(B){p(B,A)}}function m(C,A){C.trim()&&x(C,A)}var w=a.getPackages().reduce(function(C,A){return C[A.uri]=A.prefix,C},{"http://www.w3.org/XML/1998/namespace":"xml"});return l.ns(w).on("openTag",function(C,A,B,P){var T=C.attrs||{},j=Object.keys(T).reduce(function(I,F){var at=A(T[F]);return I[F]=at,I},{}),z={name:C.name,originalName:C.originalName,attributes:j,ns:C.ns};S(z,P)}).on("question",O).on("closeTag",v).on("cdata",x).on("text",function(C,A,B){m(A(C),B)}).on("error",h).on("warn",p),new Promise(function(C,A){var B;try{l.parse(t),g()}catch(I){B=I}var P=r.element;!B&&!P&&(B=aa("failed to parse document as <"+r.type.$descriptor.name+">"));var T=u.warnings,j=u.references,z=u.elementsById;return B?(B.warnings=T,A(B)):C({rootElement:P,elementsById:z,references:j,warnings:T})})};Jv.prototype.handler=function(t){return new Qv(this.model,t)};function D3(){var t=[];return Object.defineProperty(t,"peek",{value:function(){return this[this.length-1]}}),t}var L3=`<?xml version="1.0" encoding="UTF-8"?>
`,P3=/<|>|'|"|&|\n\r|\n/g,JS=/<|>|&/g;function B3(t){var e={},n={},r={},a=[],s=[];this.byUri=function(u){return n[u]||t&&t.byUri(u)},this.add=function(u,l){n[u.uri]=u,l?a.push(u):s.push(u),this.mapPrefix(u.prefix,u.uri)},this.uriByPrefix=function(u){return e[u||"xmlns"]},this.mapPrefix=function(u,l){e[u||"xmlns"]=l},this.getNSKey=function(u){return u.prefix!==void 0?u.uri+"|"+u.prefix:u.uri},this.logUsed=function(u){var l=u.uri,f=this.getNSKey(u);r[f]=this.byUri(l),t&&t.logUsed(u)},this.getUsed=function(u){function l(p){var g=f.getNSKey(p);return r[g]}var f=this,h=[].concat(a,s);return h.filter(l)}}function k3(t){return t.charAt(0).toLowerCase()+t.slice(1)}function I3(t,e){return KS(e)?k3(t):t}function tC(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function eC(t){return jr(t)?t:(t.prefix?t.prefix+":":"")+t.localName}function j3(t){return t.getUsed().filter(function(e){return e.prefix!=="xml"}).map(function(e){var n="xmlns"+(e.prefix?":"+e.prefix:"");return{name:n,value:e.uri}})}function $3(t,e){return e.isGeneric?ft({localName:e.ns.localName},t):ft({localName:I3(e.ns.localName,e.$pkg)},t)}function z3(t,e){return ft({localName:e.ns.localName},t)}function U3(t){var e=t.$descriptor;return sn(e.properties,function(n){var r=n.name;if(n.isVirtual||!dl(t,r))return!1;var a=t[r];return a===n.default||a===null?!1:n.isMany?a.length:!0})}var H3={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},F3={"<":"lt",">":"gt","&":"amp"};function nC(t,e,n){return t=jr(t)?t:""+t,t.replace(e,function(r){return"&"+n[r]+";"})}function X3(t){return nC(t,P3,H3)}function q3(t){return nC(t,JS,F3)}function G3(t){return sn(t,function(e){return e.isAttr})}function V3(t){return sn(t,function(e){return!e.isAttr})}function t0(t){this.tagName=t}t0.prototype.build=function(t){return this.element=t,this};t0.prototype.serializeTo=function(t){t.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()};function os(){}os.prototype.serializeValue=os.prototype.serializeTo=function(t){t.append(this.escape?q3(this.value):this.value)};os.prototype.build=function(t,e){return this.value=e,t.type==="String"&&e.search(JS)!==-1&&(this.escape=!0),this};function e0(t){this.tagName=t}tC(e0,os);e0.prototype.serializeTo=function(t){t.appendIndent().append("<"+this.tagName+">"),this.serializeValue(t),t.append("</"+this.tagName+">").appendNewLine()};function Be(t,e){this.body=[],this.attrs=[],this.parent=t,this.propertyDescriptor=e}Be.prototype.build=function(t){this.element=t;var e=t.$descriptor,n=this.propertyDescriptor,r,a,s=e.isGeneric;return s?r=this.parseGeneric(t):r=this.parseNsAttributes(t),n?this.ns=this.nsPropertyTagName(n):this.ns=this.nsTagName(e),this.tagName=this.addTagName(this.ns),s||(a=U3(t),this.parseAttributes(G3(a)),this.parseContainments(V3(a))),this.parseGenericAttributes(t,r),this};Be.prototype.nsTagName=function(t){var e=this.logNamespaceUsed(t.ns);return $3(e,t)};Be.prototype.nsPropertyTagName=function(t){var e=this.logNamespaceUsed(t.ns);return z3(e,t)};Be.prototype.isLocalNs=function(t){return t.uri===this.ns.uri};Be.prototype.nsAttributeName=function(t){var e;if(jr(t)?e=$n(t):e=t.ns,t.inherited)return{localName:e.localName};var n=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:e.localName}:ft({localName:e.localName},n)};Be.prototype.parseGeneric=function(t){var e=this,n=this.body,r=[];return st(t,function(a,s){var u;s==="$body"?n.push(new os().build({type:"String"},a)):s==="$children"?st(a,function(l){n.push(new Be(e).build(l))}):s.indexOf("$")!==0&&(u=e.parseNsAttribute(t,s,a),u&&r.push({name:s,value:a}))}),r};Be.prototype.parseNsAttribute=function(t,e,n){var r=t.$model,a=$n(e),s;if(a.prefix==="xmlns"&&(s={prefix:a.localName,uri:n}),!a.prefix&&a.localName==="xmlns"&&(s={uri:n}),!s)return{name:e,value:n};if(r&&r.getPackage(n))this.logNamespace(s,!0,!0);else{var u=this.logNamespaceUsed(s,!0);this.getNamespaces().logUsed(u)}};Be.prototype.parseNsAttributes=function(t,e){var n=this,r=t.$attrs,a=[];return st(r,function(s,u){var l=n.parseNsAttribute(t,u,s);l&&a.push(l)}),a};Be.prototype.parseGenericAttributes=function(t,e){var n=this;st(e,function(r){if(r.name!==Zh)try{n.addAttribute(n.nsAttributeName(r.name),r.value)}catch(a){console.warn("missing namespace information for ",r.name,"=",r.value,"on",t,a)}})};Be.prototype.parseContainments=function(t){var e=this,n=this.body,r=this.element;st(t,function(a){var s=r.get(a.name),u=a.isReference,l=a.isMany;if(l||(s=[s]),a.isBody)n.push(new os().build(a,s[0]));else if(GS(a.type))st(s,function(p){n.push(new e0(e.addTagName(e.nsPropertyTagName(a))).build(a,p))});else if(u)st(s,function(p){n.push(new t0(e.addTagName(e.nsPropertyTagName(a))).build(p))});else{var f=WS(a),h=M3(a);st(s,function(p){var g;f?g=new Qh(e,a):h?g=new Be(e,a):g=new Be(e),n.push(g.build(p))})}})};Be.prototype.getNamespaces=function(t){var e=this.namespaces,n=this.parent,r;return e||(r=n&&n.getNamespaces(),t||!r?this.namespaces=e=new B3(r):e=r),e};Be.prototype.logNamespace=function(t,e,n){var r=this.getNamespaces(n),a=t.uri,s=t.prefix,u=r.byUri(a);return(!u||n)&&r.add(t,e),r.mapPrefix(s,a),t};Be.prototype.logNamespaceUsed=function(t,e){var n=this.element,r=n.$model,a=this.getNamespaces(e),s=t.prefix,u=t.uri,l,f,h;if(!s&&!u)return{localName:t.localName};if(h=C3[s]||r&&(r.getPackage(s)||{}).uri,u=u||h||a.uriByPrefix(s),!u)throw new Error("no namespace uri given for prefix <"+s+">");if(t=a.byUri(u),!t){for(l=s,f=1;a.uriByPrefix(l);)l=s+"_"+f++;t=this.logNamespace({prefix:l,uri:u},h===u)}return s&&a.mapPrefix(s,u),t};Be.prototype.parseAttributes=function(t){var e=this,n=this.element;st(t,function(r){var a=n.get(r.name);if(r.isReference)if(!r.isMany)a=a.id;else{var s=[];st(a,function(u){s.push(u.id)}),a=s.join(" ")}e.addAttribute(e.nsAttributeName(r),a)})};Be.prototype.addTagName=function(t){var e=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(e),eC(t)};Be.prototype.addAttribute=function(t,e){var n=this.attrs;jr(e)&&(e=X3(e));var r=dS(n,function(s){return s.name.localName===t.localName&&s.name.uri===t.uri&&s.name.prefix===t.prefix}),a={name:t,value:e};r!==-1?n.splice(r,1,a):n.push(a)};Be.prototype.serializeAttributes=function(t){var e=this.attrs,n=this.namespaces;n&&(e=j3(n).concat(e)),st(e,function(r){t.append(" ").append(eC(r.name)).append('="').append(r.value).append('"')})};Be.prototype.serializeTo=function(t){var e=this.body[0],n=e&&e.constructor!==os;t.appendIndent().append("<"+this.tagName),this.serializeAttributes(t),t.append(e?">":" />"),e&&(n&&t.appendNewLine().indent(),st(this.body,function(r){r.serializeTo(t)}),n&&t.unindent().appendIndent(),t.append("</"+this.tagName+">")),t.appendNewLine()};function Qh(t,e){Be.call(this,t,e)}tC(Qh,Be);Qh.prototype.parseNsAttributes=function(t){var e=Be.prototype.parseNsAttributes.call(this,t),n=t.$descriptor;if(n.name===this.propertyDescriptor.type)return e;var r=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var a=t.$model.getPackage(r.uri),s=a.xml&&a.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(Zh),(r.prefix?r.prefix+":":"")+s+n.ns.localName),e};Qh.prototype.isLocalNs=function(t){return t.uri===(this.typeNs||this.ns).uri};function Y3(){this.value="",this.write=function(t){this.value+=t}}function K3(t,e){var n=[""];this.append=function(r){return t.write(r),this},this.appendNewLine=function(){return e&&t.write(`
`),this},this.appendIndent=function(){return e&&t.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}function Z3(t){t=ft({format:!1,preamble:!0},t||{});function e(n,r){var a=r||new Y3,s=new K3(a,t.format);if(t.preamble&&s.append(L3),new Be().build(n).serializeTo(s),!r)return a.value}return{toXML:e}}function Jh(t,e){Hr.call(this,t,e)}Jh.prototype=Object.create(Hr.prototype);Jh.prototype.fromXML=function(t,e,n){jr(e)||(n=e,e="dcr:Definitions");var r=new Jv(ft({model:this,lax:!1},n)),a=r.handler(e);return r.fromXML(t,a)};Jh.prototype.toXML=function(t,e){console.log(t);var n=new Z3(e);return new Promise(function(r,a){try{var s=n.toXML(t);return r({xml:s})}catch(u){return a(u)}})};const W3="DCR Graph diagram",Q3="http://tk/schema/dcr",J3="dcr",t5={tagAlias:"lowerCase"},e5=[{name:"BoardElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0}]},{name:"Event",superClass:["BoardElement"],properties:[{name:"role",isAttr:!0,type:"String"},{name:"description",isAttr:!0,type:"String"},{name:"included",isAttr:!0,type:"Boolean"},{name:"executed",isAttr:!0,type:"Boolean"},{name:"pending",isAttr:!0,type:"Boolean"},{name:"enabled",isAttr:!0,type:"Boolean"}]},{name:"Nesting",superClass:["BoardElement"],properties:[{name:"role",isAttr:!0,type:"String"},{name:"description",isAttr:!0,type:"String"},{name:"boardElements",type:"BoardElement",isMany:!0}]},{name:"SubProcess",superClass:["BoardElement"],properties:[{name:"description",isAttr:!0,type:"String"},{name:"boardElements",type:"BoardElement",isMany:!0},{name:"included",isAttr:!0,type:"Boolean"},{name:"executed",isAttr:!0,type:"Boolean"},{name:"pending",isAttr:!0,type:"Boolean"},{name:"multi-instance",isAttr:!0,type:"Boolean"}]},{name:"Relation",superClass:["BoardElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"sourceRef",isAttr:!0,isReference:!0,type:"Event"},{name:"targetRef",isAttr:!0,isReference:!0,type:"Event"}]},{name:"DcrGraph",superClass:["RootElement"],properties:[{name:"boardElements",isMany:!0,type:"BoardElement"}]},{name:"TextBox",superClass:["BoardElement"]},{name:"RootElement",isAbstract:!0,superClass:["BoardElement"]},{name:"Definitions",superClass:["BoardElement"],properties:[{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"rootElements",type:"RootElement",isMany:!0},{name:"rootBoards",isMany:!0,type:"dcrDi:DcrRootBoard"},{name:"exporter",isAttr:!0,type:"String"},{name:"exporterVersion",isAttr:!0,type:"String"}]}],n5={name:W3,uri:Q3,prefix:J3,xml:t5,types:e5},r5="DCRDI",i5="http://tk/schema/dcrDi",o5="dcrDi",a5={tagAlias:"lowerCase"},s5=[{name:"DcrRootBoard",properties:[{name:"plane",type:"DcrPlane",redefines:"Board#rootElement"},{name:"labelStyle",type:"OdLabelStyle",isMany:!0}],superClass:["Board"]},{name:"DcrPlane",properties:[{name:"boardElement",isAttr:!0,isReference:!0,type:"dcr:BoardElement",redefines:"BoardElement#modelElement"}],superClass:["Plane"]},{name:"DcrShape",properties:[{name:"boardElement",isAttr:!0,isReference:!0,type:"dcr:BoardElement",redefines:"BoardElement#modelElement"},{name:"label",type:"OdLabel"}],superClass:["LabeledShape"]},{name:"Relation",properties:[{name:"label",type:"OdLabel"},{name:"boardElement",isAttr:!0,isReference:!0,type:"dcr:BoardElement",redefines:"BoardElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"dcr:BoardElement",redefines:"Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"dcr:BoardElement",redefines:"Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["LabeledEdge"]},{name:"OdLabel",properties:[{name:"labelStyle",type:"OdLabelStyle",isAttr:!0,isReference:!0,redefines:"BoardElement#style"}],superClass:["Label"]},{name:"OdLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["Style"]},{name:"BoardElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"owningBoard",type:"Board",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"BoardElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0}]},{name:"Node",isAbstract:!0,superClass:["BoardElement"]},{name:"Edge",isAbstract:!0,superClass:["BoardElement"],properties:[{name:"source",type:"dcr:BoardElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"dcr:BoardElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Board",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"BoardElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"BoardElement",subsettedProperty:"BoardElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"BoardElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"BoardElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],u5=[],c5=[],l5={name:r5,uri:i5,prefix:o5,xml:a5,types:s5,enumerations:u5,associations:c5},f5="dc",d5="http://www.omg.org/spec/DD/20100524/DC",h5="dc",p5=[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],g5=[],y5={name:f5,uri:d5,prefix:h5,types:p5,associations:g5};var m5={dcr:n5,dcrDi:l5,dc:y5};function v5(t,e){var n=ft({},m5,t);return new Jh(n,e)}function dr(t){return t?"<"+t.$type+(t.id?' id="'+t.id:"")+'" />':"<null>"}var _5=new xu({name:"boardElement",enumerable:!0},{name:"di",configurable:!0});function ov(t,e){return t.$instanceOf(e)}function x5(t){return Ie(t.rootElements,function(e){return ov(e,"dcr:DcrGraph")})}function b5(t,e){var n={},r=[];function a(x,m){return t.root(x,m)}function s(x,m){var w=x.gfx;if(w)throw new Error(e("already rendered {element}",{element:dr(x)}));var C=t.element(x,m);return x.boardElements&&M(x.boardElements,C),C}function u(x,m){try{var w=x.di&&s(x,m);return f(x),w}catch(C){l(C.message,{element:x,error:C}),console.error(e("failed to import {element}",{element:dr(x)})),console.error(C)}}function l(x,m){t.error(x,m)}function f(x){n[x.id]=x}function h(x){var m=x.boardElement;m?m.di?l(e("multiple DI elements defined for {element}",{element:dr(m)}),{element:m}):(_5.bind(m,"di"),m.di=x):l(e("no boardElement referenced in {element}",{element:dr(x)}),{element:x})}function p(x){g(x.plane)}function g(x){h(x),st(x.planeElement,v)}function v(x){h(x)}function _(x,m){u(x,m)}function E(x,m){var w=x.rootBoards;if(m&&w.indexOf(m)===-1)throw new Error(e("rootBoard not part of dcr:Definitions"));if(!m&&w&&w.length&&(m=w[0]),!m)throw new Error(e("no rootBoard to display"));p(m);var C=m.plane;if(!C)throw new Error(e("no plane for {element}",{element:dr(m)}));var A=C.boardElement;if(!A)if(A=x5(x),A)l(e("correcting missing boardElement on {plane} to {rootElement}",{plane:dr(C),rootElement:dr(A)})),C.boardElement=A,h(C);else throw new Error(e("no board to display"));var B=a(A,C);ov(A,"dcr:DcrGraph")&&O(A,B),S()}function M(x,m){st(x,function(w){ov(w,"dcr:Relation")?r.push(function(){_(w,m)}):u(w,m)})}function O(x,m){M(x.boardElements,m),f(x)}function S(){for(var x;r.length;)x=r.shift(),x()}return{handleDeferred:S,handleDefinitions:E,registerDi:h}}function E5(t,e,n){var r,a,s,u,l=[];function f(h,p){var g={root:function(_){return r.add(_)},element:function(_,E){return r.add(_,E)},error:function(_,E){l.push({message:_,context:E})}},v=new b5(g,s);v.handleDefinitions(h,p)}return new Promise(function(h,p){try{return r=t.get("DCRImporter"),a=t.get("eventBus"),s=t.get("translate"),a.fire("import.render.start",{definitions:e}),f(e,n),a.fire("import.render.complete",{error:u,warnings:l}),h({warnings:l})}catch(g){return p(g)}})}var mi={},Qf={},CE;function n0(){return CE||(CE=1,(function(){Qf.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:`
`},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(Qf)),Qf}var Jf={},vi={},_i={},ME;function fo(){return ME||(ME=1,(function(){var t,e,n,r,a,s,u,l=[].slice,f={}.hasOwnProperty;t=function(){var h,p,g,v,_,E;if(E=arguments[0],_=2<=arguments.length?l.call(arguments,1):[],a(Object.assign))Object.assign.apply(null,arguments);else for(h=0,g=_.length;h<g;h++)if(v=_[h],v!=null)for(p in v)f.call(v,p)&&(E[p]=v[p]);return E},a=function(h){return!!h&&Object.prototype.toString.call(h)==="[object Function]"},s=function(h){var p;return!!h&&((p=typeof h)=="function"||p==="object")},n=function(h){return a(Array.isArray)?Array.isArray(h):Object.prototype.toString.call(h)==="[object Array]"},r=function(h){var p;if(n(h))return!h.length;for(p in h)if(f.call(h,p))return!1;return!0},u=function(h){var p,g;return s(h)&&(g=Object.getPrototypeOf(h))&&(p=g.constructor)&&typeof p=="function"&&p instanceof p&&Function.prototype.toString.call(p)===Function.prototype.toString.call(Object)},e=function(h){return a(h.valueOf)?h.valueOf():h},_i.assign=t,_i.isFunction=a,_i.isObject=s,_i.isArray=n,_i.isEmpty=r,_i.isPlainObject=u,_i.getValue=e}).call(_i)),_i}var Td={exports:{}},w5=Td.exports,AE;function rC(){return AE||(AE=1,(function(){Td.exports=function(){function t(){}return t.prototype.hasFeature=function(e,n){return!0},t.prototype.createDocumentType=function(e,n,r){throw new Error("This DOM method is not implemented.")},t.prototype.createDocument=function(e,n,r){throw new Error("This DOM method is not implemented.")},t.prototype.createHTMLDocument=function(e){throw new Error("This DOM method is not implemented.")},t.prototype.getFeature=function(e,n){throw new Error("This DOM method is not implemented.")},t}()}).call(w5)),Td.exports}var Sd={exports:{}},Cd={exports:{}},Md={exports:{}},T5=Md.exports,OE;function S5(){return OE||(OE=1,(function(){Md.exports=function(){function t(){}return t.prototype.handleError=function(e){throw new Error(e)},t}()}).call(T5)),Md.exports}var Ad={exports:{}},C5=Ad.exports,RE;function M5(){return RE||(RE=1,(function(){Ad.exports=function(){function t(e){this.arr=e||[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.arr.length}}),t.prototype.item=function(e){return this.arr[e]||null},t.prototype.contains=function(e){return this.arr.indexOf(e)!==-1},t}()}).call(C5)),Ad.exports}var A5=Cd.exports,NE;function O5(){return NE||(NE=1,(function(){var t,e;t=S5(),e=M5(),Cd.exports=function(){function n(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new t,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(n.prototype,"parameterNames",{get:function(){return new e(Object.keys(this.defaultParams))}}),n.prototype.getParameter=function(r){return this.params.hasOwnProperty(r)?this.params[r]:null},n.prototype.canSetParameter=function(r,a){return!0},n.prototype.setParameter=function(r,a){return a!=null?this.params[r]=a:delete this.params[r]},n}()}).call(A5)),Cd.exports}var Od={exports:{}},Rd={exports:{}},Nd={exports:{}},R5=Nd.exports,DE;function un(){return DE||(DE=1,(function(){Nd.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(R5)),Nd.exports}var Dd={exports:{}},N5=Dd.exports,LE;function iC(){return LE||(LE=1,(function(){var t;t=un(),Fr(),Dd.exports=function(){function e(n,r,a){if(this.parent=n,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),r==null)throw new Error("Missing attribute name. "+this.debugInfo(r));this.name=this.stringify.name(r),this.value=this.stringify.attValue(a),this.type=t.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(e.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(n){return this.value=n||""}}),Object.defineProperty(e.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(e.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(e.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(e.prototype,"specified",{get:function(){return!0}}),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(n){return this.options.writer.attribute(this,this.options.writer.filterOptions(n))},e.prototype.debugInfo=function(n){return n=n||this.name,n==null?"parent: <"+this.parent.name+">":"attribute: {"+n+"}, parent: <"+this.parent.name+">"},e.prototype.isEqualNode=function(n){return!(n.namespaceURI!==this.namespaceURI||n.prefix!==this.prefix||n.localName!==this.localName||n.value!==this.value)},e}()}).call(N5)),Dd.exports}var Ld={exports:{}},D5=Ld.exports,PE;function r0(){return PE||(PE=1,(function(){Ld.exports=function(){function t(e){this.nodes=e}return Object.defineProperty(t.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.getNamedItem=function(e){return this.nodes[e]},t.prototype.setNamedItem=function(e){var n;return n=this.nodes[e.nodeName],this.nodes[e.nodeName]=e,n||null},t.prototype.removeNamedItem=function(e){var n;return n=this.nodes[e],delete this.nodes[e],n||null},t.prototype.item=function(e){return this.nodes[Object.keys(this.nodes)[e]]||null},t.prototype.getNamedItemNS=function(e,n){throw new Error("This DOM method is not implemented.")},t.prototype.setNamedItemNS=function(e){throw new Error("This DOM method is not implemented.")},t.prototype.removeNamedItemNS=function(e,n){throw new Error("This DOM method is not implemented.")},t}()}).call(D5)),Ld.exports}var L5=Rd.exports,BE;function i0(){return BE||(BE=1,(function(){var t,e,n,r,a,s,u,l,f=function(p,g){for(var v in g)h.call(g,v)&&(p[v]=g[v]);function _(){this.constructor=p}return _.prototype=g.prototype,p.prototype=new _,p.__super__=g.prototype,p},h={}.hasOwnProperty;l=fo(),u=l.isObject,s=l.isFunction,a=l.getValue,r=Fr(),t=un(),e=iC(),n=r0(),Rd.exports=function(p){f(g,p);function g(v,_,E){var M,O,S,x;if(g.__super__.constructor.call(this,v),_==null)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(_),this.type=t.Element,this.attribs={},this.schemaTypeInfo=null,E!=null&&this.attribute(E),v.type===t.Document&&(this.isRoot=!0,this.documentObject=v,v.rootObject=this,v.children)){for(x=v.children,O=0,S=x.length;O<S;O++)if(M=x[O],M.type===t.DocType){M.name=this.name;break}}}return Object.defineProperty(g.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(g.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(g.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(g.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(g.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(g.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(g.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(g.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new n(this.attribs)),this.attributeMap}}),g.prototype.clone=function(){var v,_,E,M;E=Object.create(this),E.isRoot&&(E.documentObject=null),E.attribs={},M=this.attribs;for(_ in M)h.call(M,_)&&(v=M[_],E.attribs[_]=v.clone());return E.children=[],this.children.forEach(function(O){var S;return S=O.clone(),S.parent=E,E.children.push(S)}),E},g.prototype.attribute=function(v,_){var E,M;if(v!=null&&(v=a(v)),u(v))for(E in v)h.call(v,E)&&(M=v[E],this.attribute(E,M));else s(_)&&(_=_.apply()),this.options.keepNullAttributes&&_==null?this.attribs[v]=new e(this,v,""):_!=null&&(this.attribs[v]=new e(this,v,_));return this},g.prototype.removeAttribute=function(v){var _,E,M;if(v==null)throw new Error("Missing attribute name. "+this.debugInfo());if(v=a(v),Array.isArray(v))for(E=0,M=v.length;E<M;E++)_=v[E],delete this.attribs[_];else delete this.attribs[v];return this},g.prototype.toString=function(v){return this.options.writer.element(this,this.options.writer.filterOptions(v))},g.prototype.att=function(v,_){return this.attribute(v,_)},g.prototype.a=function(v,_){return this.attribute(v,_)},g.prototype.getAttribute=function(v){return this.attribs.hasOwnProperty(v)?this.attribs[v].value:null},g.prototype.setAttribute=function(v,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getAttributeNode=function(v){return this.attribs.hasOwnProperty(v)?this.attribs[v]:null},g.prototype.setAttributeNode=function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.removeAttributeNode=function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getElementsByTagName=function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getAttributeNS=function(v,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.setAttributeNS=function(v,_,E){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.removeAttributeNS=function(v,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getAttributeNodeNS=function(v,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.setAttributeNodeNS=function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getElementsByTagNameNS=function(v,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.hasAttribute=function(v){return this.attribs.hasOwnProperty(v)},g.prototype.hasAttributeNS=function(v,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.setIdAttribute=function(v,_){return this.attribs.hasOwnProperty(v)?this.attribs[v].isId:_},g.prototype.setIdAttributeNS=function(v,_,E){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.setIdAttributeNode=function(v,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getElementsByTagName=function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getElementsByTagNameNS=function(v,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getElementsByClassName=function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.isEqualNode=function(v){var _,E,M;if(!g.__super__.isEqualNode.apply(this,arguments).isEqualNode(v)||v.namespaceURI!==this.namespaceURI||v.prefix!==this.prefix||v.localName!==this.localName||v.attribs.length!==this.attribs.length)return!1;for(_=E=0,M=this.attribs.length-1;0<=M?E<=M:E>=M;_=0<=M?++E:--E)if(!this.attribs[_].isEqualNode(v.attribs[_]))return!1;return!0},g}(r)}).call(L5)),Rd.exports}var Pd={exports:{}},Bd={exports:{}},P5=Bd.exports,kE;function tp(){return kE||(kE=1,(function(){var t,e=function(r,a){for(var s in a)n.call(a,s)&&(r[s]=a[s]);function u(){this.constructor=r}return u.prototype=a.prototype,r.prototype=new u,r.__super__=a.prototype,r},n={}.hasOwnProperty;t=Fr(),Bd.exports=function(r){e(a,r);function a(s){a.__super__.constructor.call(this,s),this.value=""}return Object.defineProperty(a.prototype,"data",{get:function(){return this.value},set:function(s){return this.value=s||""}}),Object.defineProperty(a.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(a.prototype,"textContent",{get:function(){return this.value},set:function(s){return this.value=s||""}}),a.prototype.clone=function(){return Object.create(this)},a.prototype.substringData=function(s,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.appendData=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.insertData=function(s,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.deleteData=function(s,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.replaceData=function(s,u,l){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.isEqualNode=function(s){return!(!a.__super__.isEqualNode.apply(this,arguments).isEqualNode(s)||s.data!==this.data)},a}(t)}).call(P5)),Bd.exports}var B5=Pd.exports,IE;function o0(){return IE||(IE=1,(function(){var t,e,n=function(a,s){for(var u in s)r.call(s,u)&&(a[u]=s[u]);function l(){this.constructor=a}return l.prototype=s.prototype,a.prototype=new l,a.__super__=s.prototype,a},r={}.hasOwnProperty;t=un(),e=tp(),Pd.exports=function(a){n(s,a);function s(u,l){if(s.__super__.constructor.call(this,u),l==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=t.CData,this.value=this.stringify.cdata(l)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(u){return this.options.writer.cdata(this,this.options.writer.filterOptions(u))},s}(e)}).call(B5)),Pd.exports}var kd={exports:{}},k5=kd.exports,jE;function a0(){return jE||(jE=1,(function(){var t,e,n=function(a,s){for(var u in s)r.call(s,u)&&(a[u]=s[u]);function l(){this.constructor=a}return l.prototype=s.prototype,a.prototype=new l,a.__super__=s.prototype,a},r={}.hasOwnProperty;t=un(),e=tp(),kd.exports=function(a){n(s,a);function s(u,l){if(s.__super__.constructor.call(this,u),l==null)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=t.Comment,this.value=this.stringify.comment(l)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(u){return this.options.writer.comment(this,this.options.writer.filterOptions(u))},s}(e)}).call(k5)),kd.exports}var Id={exports:{}},I5=Id.exports,$E;function s0(){return $E||($E=1,(function(){var t,e,n,r=function(s,u){for(var l in u)a.call(u,l)&&(s[l]=u[l]);function f(){this.constructor=s}return f.prototype=u.prototype,s.prototype=new f,s.__super__=u.prototype,s},a={}.hasOwnProperty;n=fo().isObject,e=Fr(),t=un(),Id.exports=function(s){r(u,s);function u(l,f,h,p){var g;u.__super__.constructor.call(this,l),n(f)&&(g=f,f=g.version,h=g.encoding,p=g.standalone),f||(f="1.0"),this.type=t.Declaration,this.version=this.stringify.xmlVersion(f),h!=null&&(this.encoding=this.stringify.xmlEncoding(h)),p!=null&&(this.standalone=this.stringify.xmlStandalone(p))}return u.prototype.toString=function(l){return this.options.writer.declaration(this,this.options.writer.filterOptions(l))},u}(e)}).call(I5)),Id.exports}var jd={exports:{}},$d={exports:{}},j5=$d.exports,zE;function u0(){return zE||(zE=1,(function(){var t,e,n=function(a,s){for(var u in s)r.call(s,u)&&(a[u]=s[u]);function l(){this.constructor=a}return l.prototype=s.prototype,a.prototype=new l,a.__super__=s.prototype,a},r={}.hasOwnProperty;e=Fr(),t=un(),$d.exports=function(a){n(s,a);function s(u,l,f,h,p,g){if(s.__super__.constructor.call(this,u),l==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(f==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(l));if(!h)throw new Error("Missing DTD attribute type. "+this.debugInfo(l));if(!p)throw new Error("Missing DTD attribute default. "+this.debugInfo(l));if(p.indexOf("#")!==0&&(p="#"+p),!p.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(l));if(g&&!p.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(l));this.elementName=this.stringify.name(l),this.type=t.AttributeDeclaration,this.attributeName=this.stringify.name(f),this.attributeType=this.stringify.dtdAttType(h),g&&(this.defaultValue=this.stringify.dtdAttDefault(g)),this.defaultValueType=p}return s.prototype.toString=function(u){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(u))},s}(e)}).call(j5)),$d.exports}var zd={exports:{}},$5=zd.exports,UE;function c0(){return UE||(UE=1,(function(){var t,e,n,r=function(s,u){for(var l in u)a.call(u,l)&&(s[l]=u[l]);function f(){this.constructor=s}return f.prototype=u.prototype,s.prototype=new f,s.__super__=u.prototype,s},a={}.hasOwnProperty;n=fo().isObject,e=Fr(),t=un(),zd.exports=function(s){r(u,s);function u(l,f,h,p){if(u.__super__.constructor.call(this,l),h==null)throw new Error("Missing DTD entity name. "+this.debugInfo(h));if(p==null)throw new Error("Missing DTD entity value. "+this.debugInfo(h));if(this.pe=!!f,this.name=this.stringify.name(h),this.type=t.EntityDeclaration,!n(p))this.value=this.stringify.dtdEntityValue(p),this.internal=!0;else{if(!p.pubID&&!p.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(h));if(p.pubID&&!p.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(h));if(this.internal=!1,p.pubID!=null&&(this.pubID=this.stringify.dtdPubID(p.pubID)),p.sysID!=null&&(this.sysID=this.stringify.dtdSysID(p.sysID)),p.nData!=null&&(this.nData=this.stringify.dtdNData(p.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(h))}}return Object.defineProperty(u.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(u.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(u.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(u.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(u.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(u.prototype,"xmlVersion",{get:function(){return null}}),u.prototype.toString=function(l){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(l))},u}(e)}).call($5)),zd.exports}var Ud={exports:{}},z5=Ud.exports,HE;function l0(){return HE||(HE=1,(function(){var t,e,n=function(a,s){for(var u in s)r.call(s,u)&&(a[u]=s[u]);function l(){this.constructor=a}return l.prototype=s.prototype,a.prototype=new l,a.__super__=s.prototype,a},r={}.hasOwnProperty;e=Fr(),t=un(),Ud.exports=function(a){n(s,a);function s(u,l,f){if(s.__super__.constructor.call(this,u),l==null)throw new Error("Missing DTD element name. "+this.debugInfo());f||(f="(#PCDATA)"),Array.isArray(f)&&(f="("+f.join(",")+")"),this.name=this.stringify.name(l),this.type=t.ElementDeclaration,this.value=this.stringify.dtdElementValue(f)}return s.prototype.toString=function(u){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(u))},s}(e)}).call(z5)),Ud.exports}var Hd={exports:{}},U5=Hd.exports,FE;function f0(){return FE||(FE=1,(function(){var t,e,n=function(a,s){for(var u in s)r.call(s,u)&&(a[u]=s[u]);function l(){this.constructor=a}return l.prototype=s.prototype,a.prototype=new l,a.__super__=s.prototype,a},r={}.hasOwnProperty;e=Fr(),t=un(),Hd.exports=function(a){n(s,a);function s(u,l,f){if(s.__super__.constructor.call(this,u),l==null)throw new Error("Missing DTD notation name. "+this.debugInfo(l));if(!f.pubID&&!f.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(l));this.name=this.stringify.name(l),this.type=t.NotationDeclaration,f.pubID!=null&&(this.pubID=this.stringify.dtdPubID(f.pubID)),f.sysID!=null&&(this.sysID=this.stringify.dtdSysID(f.sysID))}return Object.defineProperty(s.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(s.prototype,"systemId",{get:function(){return this.sysID}}),s.prototype.toString=function(u){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(u))},s}(e)}).call(U5)),Hd.exports}var H5=jd.exports,XE;function d0(){return XE||(XE=1,(function(){var t,e,n,r,a,s,u,l,f=function(p,g){for(var v in g)h.call(g,v)&&(p[v]=g[v]);function _(){this.constructor=p}return _.prototype=g.prototype,p.prototype=new _,p.__super__=g.prototype,p},h={}.hasOwnProperty;l=fo().isObject,u=Fr(),t=un(),e=u0(),r=c0(),n=l0(),a=f0(),s=r0(),jd.exports=function(p){f(g,p);function g(v,_,E){var M,O,S,x,m,w;if(g.__super__.constructor.call(this,v),this.type=t.DocType,v.children){for(x=v.children,O=0,S=x.length;O<S;O++)if(M=x[O],M.type===t.Element){this.name=M.name;break}}this.documentObject=v,l(_)&&(m=_,_=m.pubID,E=m.sysID),E==null&&(w=[_,E],E=w[0],_=w[1]),_!=null&&(this.pubID=this.stringify.dtdPubID(_)),E!=null&&(this.sysID=this.stringify.dtdSysID(E))}return Object.defineProperty(g.prototype,"entities",{get:function(){var v,_,E,M,O;for(M={},O=this.children,_=0,E=O.length;_<E;_++)v=O[_],v.type===t.EntityDeclaration&&!v.pe&&(M[v.name]=v);return new s(M)}}),Object.defineProperty(g.prototype,"notations",{get:function(){var v,_,E,M,O;for(M={},O=this.children,_=0,E=O.length;_<E;_++)v=O[_],v.type===t.NotationDeclaration&&(M[v.name]=v);return new s(M)}}),Object.defineProperty(g.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(g.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(g.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),g.prototype.element=function(v,_){var E;return E=new n(this,v,_),this.children.push(E),this},g.prototype.attList=function(v,_,E,M,O){var S;return S=new e(this,v,_,E,M,O),this.children.push(S),this},g.prototype.entity=function(v,_){var E;return E=new r(this,!1,v,_),this.children.push(E),this},g.prototype.pEntity=function(v,_){var E;return E=new r(this,!0,v,_),this.children.push(E),this},g.prototype.notation=function(v,_){var E;return E=new a(this,v,_),this.children.push(E),this},g.prototype.toString=function(v){return this.options.writer.docType(this,this.options.writer.filterOptions(v))},g.prototype.ele=function(v,_){return this.element(v,_)},g.prototype.att=function(v,_,E,M,O){return this.attList(v,_,E,M,O)},g.prototype.ent=function(v,_){return this.entity(v,_)},g.prototype.pent=function(v,_){return this.pEntity(v,_)},g.prototype.not=function(v,_){return this.notation(v,_)},g.prototype.up=function(){return this.root()||this.documentObject},g.prototype.isEqualNode=function(v){return!(!g.__super__.isEqualNode.apply(this,arguments).isEqualNode(v)||v.name!==this.name||v.publicId!==this.publicId||v.systemId!==this.systemId)},g}(u)}).call(H5)),jd.exports}var Fd={exports:{}},F5=Fd.exports,qE;function h0(){return qE||(qE=1,(function(){var t,e,n=function(a,s){for(var u in s)r.call(s,u)&&(a[u]=s[u]);function l(){this.constructor=a}return l.prototype=s.prototype,a.prototype=new l,a.__super__=s.prototype,a},r={}.hasOwnProperty;t=un(),e=Fr(),Fd.exports=function(a){n(s,a);function s(u,l){if(s.__super__.constructor.call(this,u),l==null)throw new Error("Missing raw text. "+this.debugInfo());this.type=t.Raw,this.value=this.stringify.raw(l)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(u){return this.options.writer.raw(this,this.options.writer.filterOptions(u))},s}(e)}).call(F5)),Fd.exports}var Xd={exports:{}},X5=Xd.exports,GE;function p0(){return GE||(GE=1,(function(){var t,e,n=function(a,s){for(var u in s)r.call(s,u)&&(a[u]=s[u]);function l(){this.constructor=a}return l.prototype=s.prototype,a.prototype=new l,a.__super__=s.prototype,a},r={}.hasOwnProperty;t=un(),e=tp(),Xd.exports=function(a){n(s,a);function s(u,l){if(s.__super__.constructor.call(this,u),l==null)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=t.Text,this.value=this.stringify.text(l)}return Object.defineProperty(s.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(s.prototype,"wholeText",{get:function(){var u,l,f;for(f="",l=this.previousSibling;l;)f=l.data+f,l=l.previousSibling;for(f+=this.data,u=this.nextSibling;u;)f=f+u.data,u=u.nextSibling;return f}}),s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(u){return this.options.writer.text(this,this.options.writer.filterOptions(u))},s.prototype.splitText=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.replaceWholeText=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},s}(e)}).call(X5)),Xd.exports}var qd={exports:{}},q5=qd.exports,VE;function g0(){return VE||(VE=1,(function(){var t,e,n=function(a,s){for(var u in s)r.call(s,u)&&(a[u]=s[u]);function l(){this.constructor=a}return l.prototype=s.prototype,a.prototype=new l,a.__super__=s.prototype,a},r={}.hasOwnProperty;t=un(),e=tp(),qd.exports=function(a){n(s,a);function s(u,l,f){if(s.__super__.constructor.call(this,u),l==null)throw new Error("Missing instruction target. "+this.debugInfo());this.type=t.ProcessingInstruction,this.target=this.stringify.insTarget(l),this.name=this.target,f&&(this.value=this.stringify.insValue(f))}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(u){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(u))},s.prototype.isEqualNode=function(u){return!(!s.__super__.isEqualNode.apply(this,arguments).isEqualNode(u)||u.target!==this.target)},s}(e)}).call(q5)),qd.exports}var Gd={exports:{}},G5=Gd.exports,YE;function oC(){return YE||(YE=1,(function(){var t,e,n=function(a,s){for(var u in s)r.call(s,u)&&(a[u]=s[u]);function l(){this.constructor=a}return l.prototype=s.prototype,a.prototype=new l,a.__super__=s.prototype,a},r={}.hasOwnProperty;e=Fr(),t=un(),Gd.exports=function(a){n(s,a);function s(u){s.__super__.constructor.call(this,u),this.type=t.Dummy}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(u){return""},s}(e)}).call(G5)),Gd.exports}var Vd={exports:{}},V5=Vd.exports,KE;function Y5(){return KE||(KE=1,(function(){Vd.exports=function(){function t(e){this.nodes=e}return Object.defineProperty(t.prototype,"length",{get:function(){return this.nodes.length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.item=function(e){return this.nodes[e]||null},t}()}).call(V5)),Vd.exports}var Yd={exports:{}},K5=Yd.exports,ZE;function Z5(){return ZE||(ZE=1,(function(){Yd.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(K5)),Yd.exports}var W5=Od.exports,WE;function Fr(){return WE||(WE=1,(function(){var t,e,n,r,a,s,u,l,f,h,p,g,v,_,E,M,O,S={}.hasOwnProperty;O=fo(),M=O.isObject,E=O.isFunction,_=O.isEmpty,v=O.getValue,l=null,n=null,r=null,a=null,s=null,p=null,g=null,h=null,u=null,e=null,f=null,t=null,Od.exports=function(){function x(m){this.parent=m,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,l||(l=i0(),n=o0(),r=a0(),a=s0(),s=d0(),p=h0(),g=p0(),h=g0(),u=oC(),e=un(),f=Y5(),r0(),t=Z5())}return Object.defineProperty(x.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(x.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(x.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(x.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(x.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new f(this.children)),this.childNodeList}}),Object.defineProperty(x.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(x.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(x.prototype,"previousSibling",{get:function(){var m;return m=this.parent.children.indexOf(this),this.parent.children[m-1]||null}}),Object.defineProperty(x.prototype,"nextSibling",{get:function(){var m;return m=this.parent.children.indexOf(this),this.parent.children[m+1]||null}}),Object.defineProperty(x.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(x.prototype,"textContent",{get:function(){var m,w,C,A,B;if(this.nodeType===e.Element||this.nodeType===e.DocumentFragment){for(B="",A=this.children,w=0,C=A.length;w<C;w++)m=A[w],m.textContent&&(B+=m.textContent);return B}else return null},set:function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),x.prototype.setParent=function(m){var w,C,A,B,P;for(this.parent=m,m&&(this.options=m.options,this.stringify=m.stringify),B=this.children,P=[],C=0,A=B.length;C<A;C++)w=B[C],P.push(w.setParent(this));return P},x.prototype.element=function(m,w,C){var A,B,P,T,j,z,I,F,at,Et,it;if(z=null,w===null&&C==null&&(at=[{},null],w=at[0],C=at[1]),w==null&&(w={}),w=v(w),M(w)||(Et=[w,C],C=Et[0],w=Et[1]),m!=null&&(m=v(m)),Array.isArray(m))for(P=0,I=m.length;P<I;P++)B=m[P],z=this.element(B);else if(E(m))z=this.element(m.apply());else if(M(m)){for(j in m)if(S.call(m,j))if(it=m[j],E(it)&&(it=it.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&j.indexOf(this.stringify.convertAttKey)===0)z=this.attribute(j.substr(this.stringify.convertAttKey.length),it);else if(!this.options.separateArrayItems&&Array.isArray(it)&&_(it))z=this.dummy();else if(M(it)&&_(it))z=this.element(j);else if(!this.options.keepNullNodes&&it==null)z=this.dummy();else if(!this.options.separateArrayItems&&Array.isArray(it))for(T=0,F=it.length;T<F;T++)B=it[T],A={},A[j]=B,z=this.element(A);else M(it)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&j.indexOf(this.stringify.convertTextKey)===0?z=this.element(it):(z=this.element(j),z.element(it)):z=this.element(j,it)}else!this.options.keepNullNodes&&C===null?z=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&m.indexOf(this.stringify.convertTextKey)===0?z=this.text(C):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&m.indexOf(this.stringify.convertCDataKey)===0?z=this.cdata(C):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&m.indexOf(this.stringify.convertCommentKey)===0?z=this.comment(C):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&m.indexOf(this.stringify.convertRawKey)===0?z=this.raw(C):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&m.indexOf(this.stringify.convertPIKey)===0?z=this.instruction(m.substr(this.stringify.convertPIKey.length),C):z=this.node(m,w,C);if(z==null)throw new Error("Could not create any elements with: "+m+". "+this.debugInfo());return z},x.prototype.insertBefore=function(m,w,C){var A,B,P,T,j;if(m!=null&&m.type)return P=m,T=w,P.setParent(this),T?(B=children.indexOf(T),j=children.splice(B),children.push(P),Array.prototype.push.apply(children,j)):children.push(P),P;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(m));return B=this.parent.children.indexOf(this),j=this.parent.children.splice(B),A=this.parent.element(m,w,C),Array.prototype.push.apply(this.parent.children,j),A},x.prototype.insertAfter=function(m,w,C){var A,B,P;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(m));return B=this.parent.children.indexOf(this),P=this.parent.children.splice(B+1),A=this.parent.element(m,w,C),Array.prototype.push.apply(this.parent.children,P),A},x.prototype.remove=function(){var m;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return m=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[m,m-m+1].concat([])),this.parent},x.prototype.node=function(m,w,C){var A,B;return m!=null&&(m=v(m)),w||(w={}),w=v(w),M(w)||(B=[w,C],C=B[0],w=B[1]),A=new l(this,m,w),C!=null&&A.text(C),this.children.push(A),A},x.prototype.text=function(m){var w;return M(m)&&this.element(m),w=new g(this,m),this.children.push(w),this},x.prototype.cdata=function(m){var w;return w=new n(this,m),this.children.push(w),this},x.prototype.comment=function(m){var w;return w=new r(this,m),this.children.push(w),this},x.prototype.commentBefore=function(m){var w,C;return w=this.parent.children.indexOf(this),C=this.parent.children.splice(w),this.parent.comment(m),Array.prototype.push.apply(this.parent.children,C),this},x.prototype.commentAfter=function(m){var w,C;return w=this.parent.children.indexOf(this),C=this.parent.children.splice(w+1),this.parent.comment(m),Array.prototype.push.apply(this.parent.children,C),this},x.prototype.raw=function(m){var w;return w=new p(this,m),this.children.push(w),this},x.prototype.dummy=function(){var m;return m=new u(this),m},x.prototype.instruction=function(m,w){var C,A,B,P,T;if(m!=null&&(m=v(m)),w!=null&&(w=v(w)),Array.isArray(m))for(P=0,T=m.length;P<T;P++)C=m[P],this.instruction(C);else if(M(m))for(C in m)S.call(m,C)&&(A=m[C],this.instruction(C,A));else E(w)&&(w=w.apply()),B=new h(this,m,w),this.children.push(B);return this},x.prototype.instructionBefore=function(m,w){var C,A;return C=this.parent.children.indexOf(this),A=this.parent.children.splice(C),this.parent.instruction(m,w),Array.prototype.push.apply(this.parent.children,A),this},x.prototype.instructionAfter=function(m,w){var C,A;return C=this.parent.children.indexOf(this),A=this.parent.children.splice(C+1),this.parent.instruction(m,w),Array.prototype.push.apply(this.parent.children,A),this},x.prototype.declaration=function(m,w,C){var A,B;return A=this.document(),B=new a(A,m,w,C),A.children.length===0?A.children.unshift(B):A.children[0].type===e.Declaration?A.children[0]=B:A.children.unshift(B),A.root()||A},x.prototype.dtd=function(m,w){var C,A,B,P,T,j,z,I,F,at;for(A=this.document(),B=new s(A,m,w),F=A.children,P=T=0,z=F.length;T<z;P=++T)if(C=F[P],C.type===e.DocType)return A.children[P]=B,B;for(at=A.children,P=j=0,I=at.length;j<I;P=++j)if(C=at[P],C.isRoot)return A.children.splice(P,0,B),B;return A.children.push(B),B},x.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},x.prototype.root=function(){var m;for(m=this;m;){if(m.type===e.Document)return m.rootObject;if(m.isRoot)return m;m=m.parent}},x.prototype.document=function(){var m;for(m=this;m;){if(m.type===e.Document)return m;m=m.parent}},x.prototype.end=function(m){return this.document().end(m)},x.prototype.prev=function(){var m;if(m=this.parent.children.indexOf(this),m<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[m-1]},x.prototype.next=function(){var m;if(m=this.parent.children.indexOf(this),m===-1||m===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[m+1]},x.prototype.importDocument=function(m){var w;return w=m.root().clone(),w.parent=this,w.isRoot=!1,this.children.push(w),this},x.prototype.debugInfo=function(m){var w,C;return m=m||this.name,m==null&&!((w=this.parent)!=null&&w.name)?"":m==null?"parent: <"+this.parent.name+">":(C=this.parent)!=null&&C.name?"node: <"+m+">, parent: <"+this.parent.name+">":"node: <"+m+">"},x.prototype.ele=function(m,w,C){return this.element(m,w,C)},x.prototype.nod=function(m,w,C){return this.node(m,w,C)},x.prototype.txt=function(m){return this.text(m)},x.prototype.dat=function(m){return this.cdata(m)},x.prototype.com=function(m){return this.comment(m)},x.prototype.ins=function(m,w){return this.instruction(m,w)},x.prototype.doc=function(){return this.document()},x.prototype.dec=function(m,w,C){return this.declaration(m,w,C)},x.prototype.e=function(m,w,C){return this.element(m,w,C)},x.prototype.n=function(m,w,C){return this.node(m,w,C)},x.prototype.t=function(m){return this.text(m)},x.prototype.d=function(m){return this.cdata(m)},x.prototype.c=function(m){return this.comment(m)},x.prototype.r=function(m){return this.raw(m)},x.prototype.i=function(m,w){return this.instruction(m,w)},x.prototype.u=function(){return this.up()},x.prototype.importXMLBuilder=function(m){return this.importDocument(m)},x.prototype.replaceChild=function(m,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},x.prototype.removeChild=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},x.prototype.appendChild=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},x.prototype.hasChildNodes=function(){return this.children.length!==0},x.prototype.cloneNode=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},x.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},x.prototype.isSupported=function(m,w){return!0},x.prototype.hasAttributes=function(){return this.attribs.length!==0},x.prototype.compareDocumentPosition=function(m){var w,C;return w=this,w===m?0:this.document()!==m.document()?(C=t.Disconnected|t.ImplementationSpecific,Math.random()<.5?C|=t.Preceding:C|=t.Following,C):w.isAncestor(m)?t.Contains|t.Preceding:w.isDescendant(m)?t.Contains|t.Following:w.isPreceding(m)?t.Preceding:t.Following},x.prototype.isSameNode=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},x.prototype.lookupPrefix=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},x.prototype.isDefaultNamespace=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},x.prototype.lookupNamespaceURI=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},x.prototype.isEqualNode=function(m){var w,C,A;if(m.nodeType!==this.nodeType||m.children.length!==this.children.length)return!1;for(w=C=0,A=this.children.length-1;0<=A?C<=A:C>=A;w=0<=A?++C:--C)if(!this.children[w].isEqualNode(m.children[w]))return!1;return!0},x.prototype.getFeature=function(m,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},x.prototype.setUserData=function(m,w,C){throw new Error("This DOM method is not implemented."+this.debugInfo())},x.prototype.getUserData=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},x.prototype.contains=function(m){return m?m===this||this.isDescendant(m):!1},x.prototype.isDescendant=function(m){var w,C,A,B,P;for(P=this.children,A=0,B=P.length;A<B;A++)if(w=P[A],m===w||(C=w.isDescendant(m),C))return!0;return!1},x.prototype.isAncestor=function(m){return m.isDescendant(this)},x.prototype.isPreceding=function(m){var w,C;return w=this.treePosition(m),C=this.treePosition(this),w===-1||C===-1?!1:w<C},x.prototype.isFollowing=function(m){var w,C;return w=this.treePosition(m),C=this.treePosition(this),w===-1||C===-1?!1:w>C},x.prototype.treePosition=function(m){var w,C;return C=0,w=!1,this.foreachTreeNode(this.document(),function(A){if(C++,!w&&A===m)return w=!0}),w?C:-1},x.prototype.foreachTreeNode=function(m,w){var C,A,B,P,T;for(m||(m=this.document()),P=m.children,A=0,B=P.length;A<B;A++){if(C=P[A],T=w(C))return T;if(T=this.foreachTreeNode(C,w),T)return T}},x}()}).call(W5)),Od.exports}var Kd={exports:{}},Q5=Kd.exports,QE;function aC(){return QE||(QE=1,(function(){var t=function(n,r){return function(){return n.apply(r,arguments)}},e={}.hasOwnProperty;Kd.exports=function(){function n(r){this.assertLegalName=t(this.assertLegalName,this),this.assertLegalChar=t(this.assertLegalChar,this);var a,s,u;r||(r={}),this.options=r,this.options.version||(this.options.version="1.0"),s=r.stringify||{};for(a in s)e.call(s,a)&&(u=s[a],this[a]=u)}return n.prototype.name=function(r){return this.options.noValidation?r:this.assertLegalName(""+r||"")},n.prototype.text=function(r){return this.options.noValidation?r:this.assertLegalChar(this.textEscape(""+r||""))},n.prototype.cdata=function(r){return this.options.noValidation?r:(r=""+r||"",r=r.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(r))},n.prototype.comment=function(r){if(this.options.noValidation)return r;if(r=""+r||"",r.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+r);return this.assertLegalChar(r)},n.prototype.raw=function(r){return this.options.noValidation?r:""+r||""},n.prototype.attValue=function(r){return this.options.noValidation?r:this.assertLegalChar(this.attEscape(r=""+r||""))},n.prototype.insTarget=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.insValue=function(r){if(this.options.noValidation)return r;if(r=""+r||"",r.match(/\?>/))throw new Error("Invalid processing instruction value: "+r);return this.assertLegalChar(r)},n.prototype.xmlVersion=function(r){if(this.options.noValidation)return r;if(r=""+r||"",!r.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+r);return r},n.prototype.xmlEncoding=function(r){if(this.options.noValidation)return r;if(r=""+r||"",!r.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+r);return this.assertLegalChar(r)},n.prototype.xmlStandalone=function(r){return this.options.noValidation?r:r?"yes":"no"},n.prototype.dtdPubID=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.dtdSysID=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.dtdElementValue=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.dtdAttType=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.dtdAttDefault=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.dtdEntityValue=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.dtdNData=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(r){var a,s;if(this.options.noValidation)return r;if(a="",this.options.version==="1.0"){if(a=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,s=r.match(a))throw new Error("Invalid character in string: "+r+" at index "+s.index)}else if(this.options.version==="1.1"&&(a=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,s=r.match(a)))throw new Error("Invalid character in string: "+r+" at index "+s.index);return r},n.prototype.assertLegalName=function(r){var a;if(this.options.noValidation)return r;if(this.assertLegalChar(r),a=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!r.match(a))throw new Error("Invalid character in name");return r},n.prototype.textEscape=function(r){var a;return this.options.noValidation?r:(a=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(a,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},n.prototype.attEscape=function(r){var a;return this.options.noValidation?r:(a=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(a,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},n}()}).call(Q5)),Kd.exports}var Zd={exports:{}},Wd={exports:{}},Qd={exports:{}},J5=Qd.exports,JE;function ep(){return JE||(JE=1,(function(){Qd.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(J5)),Qd.exports}var t4=Wd.exports,tw;function sC(){return tw||(tw=1,(function(){var t,e,n,r={}.hasOwnProperty;n=fo().assign,t=un(),s0(),d0(),o0(),a0(),i0(),h0(),p0(),g0(),oC(),u0(),l0(),c0(),f0(),e=ep(),Wd.exports=function(){function a(s){var u,l,f;s||(s={}),this.options=s,l=s.writer||{};for(u in l)r.call(l,u)&&(f=l[u],this["_"+u]=this[u],this[u]=f)}return a.prototype.filterOptions=function(s){var u,l,f,h,p,g,v,_;return s||(s={}),s=n({},this.options,s),u={writer:this},u.pretty=s.pretty||!1,u.allowEmpty=s.allowEmpty||!1,u.indent=(l=s.indent)!=null?l:"  ",u.newline=(f=s.newline)!=null?f:`
`,u.offset=(h=s.offset)!=null?h:0,u.dontPrettyTextNodes=(p=(g=s.dontPrettyTextNodes)!=null?g:s.dontprettytextnodes)!=null?p:0,u.spaceBeforeSlash=(v=(_=s.spaceBeforeSlash)!=null?_:s.spacebeforeslash)!=null?v:"",u.spaceBeforeSlash===!0&&(u.spaceBeforeSlash=" "),u.suppressPrettyCount=0,u.user={},u.state=e.None,u},a.prototype.indent=function(s,u,l){var f;return!u.pretty||u.suppressPrettyCount?"":u.pretty&&(f=(l||0)+u.offset+1,f>0)?new Array(f).join(u.indent):""},a.prototype.endline=function(s,u,l){return!u.pretty||u.suppressPrettyCount?"":u.newline},a.prototype.attribute=function(s,u,l){var f;return this.openAttribute(s,u,l),f=" "+s.name+'="'+s.value+'"',this.closeAttribute(s,u,l),f},a.prototype.cdata=function(s,u,l){var f;return this.openNode(s,u,l),u.state=e.OpenTag,f=this.indent(s,u,l)+"<![CDATA[",u.state=e.InsideTag,f+=s.value,u.state=e.CloseTag,f+="]]>"+this.endline(s,u,l),u.state=e.None,this.closeNode(s,u,l),f},a.prototype.comment=function(s,u,l){var f;return this.openNode(s,u,l),u.state=e.OpenTag,f=this.indent(s,u,l)+"<!-- ",u.state=e.InsideTag,f+=s.value,u.state=e.CloseTag,f+=" -->"+this.endline(s,u,l),u.state=e.None,this.closeNode(s,u,l),f},a.prototype.declaration=function(s,u,l){var f;return this.openNode(s,u,l),u.state=e.OpenTag,f=this.indent(s,u,l)+"<?xml",u.state=e.InsideTag,f+=' version="'+s.version+'"',s.encoding!=null&&(f+=' encoding="'+s.encoding+'"'),s.standalone!=null&&(f+=' standalone="'+s.standalone+'"'),u.state=e.CloseTag,f+=u.spaceBeforeSlash+"?>",f+=this.endline(s,u,l),u.state=e.None,this.closeNode(s,u,l),f},a.prototype.docType=function(s,u,l){var f,h,p,g,v;if(l||(l=0),this.openNode(s,u,l),u.state=e.OpenTag,g=this.indent(s,u,l),g+="<!DOCTYPE "+s.root().name,s.pubID&&s.sysID?g+=' PUBLIC "'+s.pubID+'" "'+s.sysID+'"':s.sysID&&(g+=' SYSTEM "'+s.sysID+'"'),s.children.length>0){for(g+=" [",g+=this.endline(s,u,l),u.state=e.InsideTag,v=s.children,h=0,p=v.length;h<p;h++)f=v[h],g+=this.writeChildNode(f,u,l+1);u.state=e.CloseTag,g+="]"}return u.state=e.CloseTag,g+=u.spaceBeforeSlash+">",g+=this.endline(s,u,l),u.state=e.None,this.closeNode(s,u,l),g},a.prototype.element=function(s,u,l){var f,h,p,g,v,_,E,M,O,S,x,m,w,C;l||(l=0),S=!1,x="",this.openNode(s,u,l),u.state=e.OpenTag,x+=this.indent(s,u,l)+"<"+s.name,m=s.attribs;for(O in m)r.call(m,O)&&(f=m[O],x+=this.attribute(f,u,l));if(p=s.children.length,g=p===0?null:s.children[0],p===0||s.children.every(function(A){return(A.type===t.Text||A.type===t.Raw)&&A.value===""}))u.allowEmpty?(x+=">",u.state=e.CloseTag,x+="</"+s.name+">"+this.endline(s,u,l)):(u.state=e.CloseTag,x+=u.spaceBeforeSlash+"/>"+this.endline(s,u,l));else if(u.pretty&&p===1&&(g.type===t.Text||g.type===t.Raw)&&g.value!=null)x+=">",u.state=e.InsideTag,u.suppressPrettyCount++,S=!0,x+=this.writeChildNode(g,u,l+1),u.suppressPrettyCount--,S=!1,u.state=e.CloseTag,x+="</"+s.name+">"+this.endline(s,u,l);else{if(u.dontPrettyTextNodes){for(w=s.children,v=0,E=w.length;v<E;v++)if(h=w[v],(h.type===t.Text||h.type===t.Raw)&&h.value!=null){u.suppressPrettyCount++,S=!0;break}}for(x+=">"+this.endline(s,u,l),u.state=e.InsideTag,C=s.children,_=0,M=C.length;_<M;_++)h=C[_],x+=this.writeChildNode(h,u,l+1);u.state=e.CloseTag,x+=this.indent(s,u,l)+"</"+s.name+">",S&&u.suppressPrettyCount--,x+=this.endline(s,u,l),u.state=e.None}return this.closeNode(s,u,l),x},a.prototype.writeChildNode=function(s,u,l){switch(s.type){case t.CData:return this.cdata(s,u,l);case t.Comment:return this.comment(s,u,l);case t.Element:return this.element(s,u,l);case t.Raw:return this.raw(s,u,l);case t.Text:return this.text(s,u,l);case t.ProcessingInstruction:return this.processingInstruction(s,u,l);case t.Dummy:return"";case t.Declaration:return this.declaration(s,u,l);case t.DocType:return this.docType(s,u,l);case t.AttributeDeclaration:return this.dtdAttList(s,u,l);case t.ElementDeclaration:return this.dtdElement(s,u,l);case t.EntityDeclaration:return this.dtdEntity(s,u,l);case t.NotationDeclaration:return this.dtdNotation(s,u,l);default:throw new Error("Unknown XML node type: "+s.constructor.name)}},a.prototype.processingInstruction=function(s,u,l){var f;return this.openNode(s,u,l),u.state=e.OpenTag,f=this.indent(s,u,l)+"<?",u.state=e.InsideTag,f+=s.target,s.value&&(f+=" "+s.value),u.state=e.CloseTag,f+=u.spaceBeforeSlash+"?>",f+=this.endline(s,u,l),u.state=e.None,this.closeNode(s,u,l),f},a.prototype.raw=function(s,u,l){var f;return this.openNode(s,u,l),u.state=e.OpenTag,f=this.indent(s,u,l),u.state=e.InsideTag,f+=s.value,u.state=e.CloseTag,f+=this.endline(s,u,l),u.state=e.None,this.closeNode(s,u,l),f},a.prototype.text=function(s,u,l){var f;return this.openNode(s,u,l),u.state=e.OpenTag,f=this.indent(s,u,l),u.state=e.InsideTag,f+=s.value,u.state=e.CloseTag,f+=this.endline(s,u,l),u.state=e.None,this.closeNode(s,u,l),f},a.prototype.dtdAttList=function(s,u,l){var f;return this.openNode(s,u,l),u.state=e.OpenTag,f=this.indent(s,u,l)+"<!ATTLIST",u.state=e.InsideTag,f+=" "+s.elementName+" "+s.attributeName+" "+s.attributeType,s.defaultValueType!=="#DEFAULT"&&(f+=" "+s.defaultValueType),s.defaultValue&&(f+=' "'+s.defaultValue+'"'),u.state=e.CloseTag,f+=u.spaceBeforeSlash+">"+this.endline(s,u,l),u.state=e.None,this.closeNode(s,u,l),f},a.prototype.dtdElement=function(s,u,l){var f;return this.openNode(s,u,l),u.state=e.OpenTag,f=this.indent(s,u,l)+"<!ELEMENT",u.state=e.InsideTag,f+=" "+s.name+" "+s.value,u.state=e.CloseTag,f+=u.spaceBeforeSlash+">"+this.endline(s,u,l),u.state=e.None,this.closeNode(s,u,l),f},a.prototype.dtdEntity=function(s,u,l){var f;return this.openNode(s,u,l),u.state=e.OpenTag,f=this.indent(s,u,l)+"<!ENTITY",u.state=e.InsideTag,s.pe&&(f+=" %"),f+=" "+s.name,s.value?f+=' "'+s.value+'"':(s.pubID&&s.sysID?f+=' PUBLIC "'+s.pubID+'" "'+s.sysID+'"':s.sysID&&(f+=' SYSTEM "'+s.sysID+'"'),s.nData&&(f+=" NDATA "+s.nData)),u.state=e.CloseTag,f+=u.spaceBeforeSlash+">"+this.endline(s,u,l),u.state=e.None,this.closeNode(s,u,l),f},a.prototype.dtdNotation=function(s,u,l){var f;return this.openNode(s,u,l),u.state=e.OpenTag,f=this.indent(s,u,l)+"<!NOTATION",u.state=e.InsideTag,f+=" "+s.name,s.pubID&&s.sysID?f+=' PUBLIC "'+s.pubID+'" "'+s.sysID+'"':s.pubID?f+=' PUBLIC "'+s.pubID+'"':s.sysID&&(f+=' SYSTEM "'+s.sysID+'"'),u.state=e.CloseTag,f+=u.spaceBeforeSlash+">"+this.endline(s,u,l),u.state=e.None,this.closeNode(s,u,l),f},a.prototype.openNode=function(s,u,l){},a.prototype.closeNode=function(s,u,l){},a.prototype.openAttribute=function(s,u,l){},a.prototype.closeAttribute=function(s,u,l){},a}()}).call(t4)),Wd.exports}var e4=Zd.exports,ew;function y0(){return ew||(ew=1,(function(){var t,e=function(r,a){for(var s in a)n.call(a,s)&&(r[s]=a[s]);function u(){this.constructor=r}return u.prototype=a.prototype,r.prototype=new u,r.__super__=a.prototype,r},n={}.hasOwnProperty;t=sC(),Zd.exports=function(r){e(a,r);function a(s){a.__super__.constructor.call(this,s)}return a.prototype.document=function(s,u){var l,f,h,p,g;for(u=this.filterOptions(u),p="",g=s.children,f=0,h=g.length;f<h;f++)l=g[f],p+=this.writeChildNode(l,u,0);return u.pretty&&p.slice(-u.newline.length)===u.newline&&(p=p.slice(0,-u.newline.length)),p},a}(t)}).call(e4)),Zd.exports}var n4=Sd.exports,nw;function uC(){return nw||(nw=1,(function(){var t,e,n,r,a,s,u,l=function(h,p){for(var g in p)f.call(p,g)&&(h[g]=p[g]);function v(){this.constructor=h}return v.prototype=p.prototype,h.prototype=new v,h.__super__=p.prototype,h},f={}.hasOwnProperty;u=fo().isPlainObject,n=rC(),e=O5(),r=Fr(),t=un(),s=aC(),a=y0(),Sd.exports=function(h){l(p,h);function p(g){p.__super__.constructor.call(this,null),this.name="#document",this.type=t.Document,this.documentURI=null,this.domConfig=new e,g||(g={}),g.writer||(g.writer=new a),this.options=g,this.stringify=new s(g)}return Object.defineProperty(p.prototype,"implementation",{value:new n}),Object.defineProperty(p.prototype,"doctype",{get:function(){var g,v,_,E;for(E=this.children,v=0,_=E.length;v<_;v++)if(g=E[v],g.type===t.DocType)return g;return null}}),Object.defineProperty(p.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(p.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(p.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(p.prototype,"xmlEncoding",{get:function(){return this.children.length!==0&&this.children[0].type===t.Declaration?this.children[0].encoding:null}}),Object.defineProperty(p.prototype,"xmlStandalone",{get:function(){return this.children.length!==0&&this.children[0].type===t.Declaration?this.children[0].standalone==="yes":!1}}),Object.defineProperty(p.prototype,"xmlVersion",{get:function(){return this.children.length!==0&&this.children[0].type===t.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(p.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(p.prototype,"origin",{get:function(){return null}}),Object.defineProperty(p.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(p.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(p.prototype,"contentType",{get:function(){return null}}),p.prototype.end=function(g){var v;return v={},g?u(g)&&(v=g,g=this.options.writer):g=this.options.writer,g.document(this,g.filterOptions(v))},p.prototype.toString=function(g){return this.options.writer.document(this,this.options.writer.filterOptions(g))},p.prototype.createElement=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createTextNode=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createComment=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createCDATASection=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createProcessingInstruction=function(g,v){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createAttribute=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createEntityReference=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getElementsByTagName=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.importNode=function(g,v){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createElementNS=function(g,v){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createAttributeNS=function(g,v){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getElementsByTagNameNS=function(g,v){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getElementById=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.adoptNode=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.renameNode=function(g,v,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getElementsByClassName=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createEvent=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createNodeIterator=function(g,v,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createTreeWalker=function(g,v,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},p}(r)}).call(n4)),Sd.exports}var Jd={exports:{}},r4=Jd.exports,rw;function i4(){return rw||(rw=1,(function(){var t,e,n,r,a,s,u,l,f,h,p,g,v,_,E,M,O,S,x,m,w,C,A,B={}.hasOwnProperty;A=fo(),w=A.isObject,m=A.isFunction,C=A.isPlainObject,x=A.getValue,t=un(),g=uC(),v=i0(),r=o0(),a=a0(),E=h0(),S=p0(),_=g0(),h=s0(),p=d0(),s=u0(),l=c0(),u=l0(),f=f0(),n=iC(),O=aC(),M=y0(),e=ep(),Jd.exports=function(){function P(T,j,z){var I;this.name="?xml",this.type=t.Document,T||(T={}),I={},T.writer?C(T.writer)&&(I=T.writer,T.writer=new M):T.writer=new M,this.options=T,this.writer=T.writer,this.writerOptions=this.writer.filterOptions(I),this.stringify=new O(T),this.onDataCallback=j||function(){},this.onEndCallback=z||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return P.prototype.createChildNode=function(T){var j,z,I,F,at,Et,it,lt;switch(T.type){case t.CData:this.cdata(T.value);break;case t.Comment:this.comment(T.value);break;case t.Element:I={},it=T.attribs;for(z in it)B.call(it,z)&&(j=it[z],I[z]=j.value);this.node(T.name,I);break;case t.Dummy:this.dummy();break;case t.Raw:this.raw(T.value);break;case t.Text:this.text(T.value);break;case t.ProcessingInstruction:this.instruction(T.target,T.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+T.constructor.name)}for(lt=T.children,at=0,Et=lt.length;at<Et;at++)F=lt[at],this.createChildNode(F),F.type===t.Element&&this.up();return this},P.prototype.dummy=function(){return this},P.prototype.node=function(T,j,z){var I;if(T==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(T));return this.openCurrent(),T=x(T),j==null&&(j={}),j=x(j),w(j)||(I=[j,z],z=I[0],j=I[1]),this.currentNode=new v(this,T,j),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,z!=null&&this.text(z),this},P.prototype.element=function(T,j,z){var I,F,at,Et,it,lt;if(this.currentNode&&this.currentNode.type===t.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(T)||w(T)||m(T))for(Et=this.options.noValidation,this.options.noValidation=!0,lt=new g(this.options).element("TEMP_ROOT"),lt.element(T),this.options.noValidation=Et,it=lt.children,F=0,at=it.length;F<at;F++)I=it[F],this.createChildNode(I),I.type===t.Element&&this.up();else this.node(T,j,z);return this},P.prototype.attribute=function(T,j){var z,I;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(T));if(T!=null&&(T=x(T)),w(T))for(z in T)B.call(T,z)&&(I=T[z],this.attribute(z,I));else m(j)&&(j=j.apply()),this.options.keepNullAttributes&&j==null?this.currentNode.attribs[T]=new n(this,T,""):j!=null&&(this.currentNode.attribs[T]=new n(this,T,j));return this},P.prototype.text=function(T){var j;return this.openCurrent(),j=new S(this,T),this.onData(this.writer.text(j,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},P.prototype.cdata=function(T){var j;return this.openCurrent(),j=new r(this,T),this.onData(this.writer.cdata(j,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},P.prototype.comment=function(T){var j;return this.openCurrent(),j=new a(this,T),this.onData(this.writer.comment(j,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},P.prototype.raw=function(T){var j;return this.openCurrent(),j=new E(this,T),this.onData(this.writer.raw(j,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},P.prototype.instruction=function(T,j){var z,I,F,at,Et;if(this.openCurrent(),T!=null&&(T=x(T)),j!=null&&(j=x(j)),Array.isArray(T))for(z=0,at=T.length;z<at;z++)I=T[z],this.instruction(I);else if(w(T))for(I in T)B.call(T,I)&&(F=T[I],this.instruction(I,F));else m(j)&&(j=j.apply()),Et=new _(this,T,j),this.onData(this.writer.processingInstruction(Et,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},P.prototype.declaration=function(T,j,z){var I;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return I=new h(this,T,j,z),this.onData(this.writer.declaration(I,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},P.prototype.doctype=function(T,j,z){if(this.openCurrent(),T==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new p(this,j,z),this.currentNode.rootNodeName=T,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},P.prototype.dtdElement=function(T,j){var z;return this.openCurrent(),z=new u(this,T,j),this.onData(this.writer.dtdElement(z,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},P.prototype.attList=function(T,j,z,I,F){var at;return this.openCurrent(),at=new s(this,T,j,z,I,F),this.onData(this.writer.dtdAttList(at,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},P.prototype.entity=function(T,j){var z;return this.openCurrent(),z=new l(this,!1,T,j),this.onData(this.writer.dtdEntity(z,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},P.prototype.pEntity=function(T,j){var z;return this.openCurrent(),z=new l(this,!0,T,j),this.onData(this.writer.dtdEntity(z,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},P.prototype.notation=function(T,j){var z;return this.openCurrent(),z=new f(this,T,j),this.onData(this.writer.dtdNotation(z,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},P.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},P.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},P.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},P.prototype.openNode=function(T){var j,z,I,F;if(!T.isOpen){if(!this.root&&this.currentLevel===0&&T.type===t.Element&&(this.root=T),z="",T.type===t.Element){this.writerOptions.state=e.OpenTag,z=this.writer.indent(T,this.writerOptions,this.currentLevel)+"<"+T.name,F=T.attribs;for(I in F)B.call(F,I)&&(j=F[I],z+=this.writer.attribute(j,this.writerOptions,this.currentLevel));z+=(T.children?">":"/>")+this.writer.endline(T,this.writerOptions,this.currentLevel),this.writerOptions.state=e.InsideTag}else this.writerOptions.state=e.OpenTag,z=this.writer.indent(T,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+T.rootNodeName,T.pubID&&T.sysID?z+=' PUBLIC "'+T.pubID+'" "'+T.sysID+'"':T.sysID&&(z+=' SYSTEM "'+T.sysID+'"'),T.children?(z+=" [",this.writerOptions.state=e.InsideTag):(this.writerOptions.state=e.CloseTag,z+=">"),z+=this.writer.endline(T,this.writerOptions,this.currentLevel);return this.onData(z,this.currentLevel),T.isOpen=!0}},P.prototype.closeNode=function(T){var j;if(!T.isClosed)return j="",this.writerOptions.state=e.CloseTag,T.type===t.Element?j=this.writer.indent(T,this.writerOptions,this.currentLevel)+"</"+T.name+">"+this.writer.endline(T,this.writerOptions,this.currentLevel):j=this.writer.indent(T,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(T,this.writerOptions,this.currentLevel),this.writerOptions.state=e.None,this.onData(j,this.currentLevel),T.isClosed=!0},P.prototype.onData=function(T,j){return this.documentStarted=!0,this.onDataCallback(T,j+1)},P.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},P.prototype.debugInfo=function(T){return T==null?"":"node: <"+T+">"},P.prototype.ele=function(){return this.element.apply(this,arguments)},P.prototype.nod=function(T,j,z){return this.node(T,j,z)},P.prototype.txt=function(T){return this.text(T)},P.prototype.dat=function(T){return this.cdata(T)},P.prototype.com=function(T){return this.comment(T)},P.prototype.ins=function(T,j){return this.instruction(T,j)},P.prototype.dec=function(T,j,z){return this.declaration(T,j,z)},P.prototype.dtd=function(T,j,z){return this.doctype(T,j,z)},P.prototype.e=function(T,j,z){return this.element(T,j,z)},P.prototype.n=function(T,j,z){return this.node(T,j,z)},P.prototype.t=function(T){return this.text(T)},P.prototype.d=function(T){return this.cdata(T)},P.prototype.c=function(T){return this.comment(T)},P.prototype.r=function(T){return this.raw(T)},P.prototype.i=function(T,j){return this.instruction(T,j)},P.prototype.att=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},P.prototype.a=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},P.prototype.ent=function(T,j){return this.entity(T,j)},P.prototype.pent=function(T,j){return this.pEntity(T,j)},P.prototype.not=function(T,j){return this.notation(T,j)},P}()}).call(r4)),Jd.exports}var th={exports:{}},o4=th.exports,iw;function a4(){return iw||(iw=1,(function(){var t,e,n,r=function(s,u){for(var l in u)a.call(u,l)&&(s[l]=u[l]);function f(){this.constructor=s}return f.prototype=u.prototype,s.prototype=new f,s.__super__=u.prototype,s},a={}.hasOwnProperty;t=un(),n=sC(),e=ep(),th.exports=function(s){r(u,s);function u(l,f){this.stream=l,u.__super__.constructor.call(this,f)}return u.prototype.endline=function(l,f,h){return l.isLastRootNode&&f.state===e.CloseTag?"":u.__super__.endline.call(this,l,f,h)},u.prototype.document=function(l,f){var h,p,g,v,_,E,M,O,S;for(M=l.children,p=g=0,_=M.length;g<_;p=++g)h=M[p],h.isLastRootNode=p===l.children.length-1;for(f=this.filterOptions(f),O=l.children,S=[],v=0,E=O.length;v<E;v++)h=O[v],S.push(this.writeChildNode(h,f,0));return S},u.prototype.attribute=function(l,f,h){return this.stream.write(u.__super__.attribute.call(this,l,f,h))},u.prototype.cdata=function(l,f,h){return this.stream.write(u.__super__.cdata.call(this,l,f,h))},u.prototype.comment=function(l,f,h){return this.stream.write(u.__super__.comment.call(this,l,f,h))},u.prototype.declaration=function(l,f,h){return this.stream.write(u.__super__.declaration.call(this,l,f,h))},u.prototype.docType=function(l,f,h){var p,g,v,_;if(h||(h=0),this.openNode(l,f,h),f.state=e.OpenTag,this.stream.write(this.indent(l,f,h)),this.stream.write("<!DOCTYPE "+l.root().name),l.pubID&&l.sysID?this.stream.write(' PUBLIC "'+l.pubID+'" "'+l.sysID+'"'):l.sysID&&this.stream.write(' SYSTEM "'+l.sysID+'"'),l.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(l,f,h)),f.state=e.InsideTag,_=l.children,g=0,v=_.length;g<v;g++)p=_[g],this.writeChildNode(p,f,h+1);f.state=e.CloseTag,this.stream.write("]")}return f.state=e.CloseTag,this.stream.write(f.spaceBeforeSlash+">"),this.stream.write(this.endline(l,f,h)),f.state=e.None,this.closeNode(l,f,h)},u.prototype.element=function(l,f,h){var p,g,v,_,E,M,O,S,x;h||(h=0),this.openNode(l,f,h),f.state=e.OpenTag,this.stream.write(this.indent(l,f,h)+"<"+l.name),S=l.attribs;for(O in S)a.call(S,O)&&(p=S[O],this.attribute(p,f,h));if(v=l.children.length,_=v===0?null:l.children[0],v===0||l.children.every(function(m){return(m.type===t.Text||m.type===t.Raw)&&m.value===""}))f.allowEmpty?(this.stream.write(">"),f.state=e.CloseTag,this.stream.write("</"+l.name+">")):(f.state=e.CloseTag,this.stream.write(f.spaceBeforeSlash+"/>"));else if(f.pretty&&v===1&&(_.type===t.Text||_.type===t.Raw)&&_.value!=null)this.stream.write(">"),f.state=e.InsideTag,f.suppressPrettyCount++,this.writeChildNode(_,f,h+1),f.suppressPrettyCount--,f.state=e.CloseTag,this.stream.write("</"+l.name+">");else{for(this.stream.write(">"+this.endline(l,f,h)),f.state=e.InsideTag,x=l.children,E=0,M=x.length;E<M;E++)g=x[E],this.writeChildNode(g,f,h+1);f.state=e.CloseTag,this.stream.write(this.indent(l,f,h)+"</"+l.name+">")}return this.stream.write(this.endline(l,f,h)),f.state=e.None,this.closeNode(l,f,h)},u.prototype.processingInstruction=function(l,f,h){return this.stream.write(u.__super__.processingInstruction.call(this,l,f,h))},u.prototype.raw=function(l,f,h){return this.stream.write(u.__super__.raw.call(this,l,f,h))},u.prototype.text=function(l,f,h){return this.stream.write(u.__super__.text.call(this,l,f,h))},u.prototype.dtdAttList=function(l,f,h){return this.stream.write(u.__super__.dtdAttList.call(this,l,f,h))},u.prototype.dtdElement=function(l,f,h){return this.stream.write(u.__super__.dtdElement.call(this,l,f,h))},u.prototype.dtdEntity=function(l,f,h){return this.stream.write(u.__super__.dtdEntity.call(this,l,f,h))},u.prototype.dtdNotation=function(l,f,h){return this.stream.write(u.__super__.dtdNotation.call(this,l,f,h))},u}(n)}).call(o4)),th.exports}var ow;function s4(){return ow||(ow=1,(function(){var t,e,n,r,a,s,u,l,f,h;h=fo(),l=h.assign,f=h.isFunction,n=rC(),r=uC(),a=i4(),u=y0(),s=a4(),t=un(),e=ep(),vi.create=function(p,g,v,_){var E,M;if(p==null)throw new Error("Root element needs a name.");return _=l({},g,v,_),E=new r(_),M=E.element(p),_.headless||(E.declaration(_),(_.pubID!=null||_.sysID!=null)&&E.dtd(_)),M},vi.begin=function(p,g,v){var _;return f(p)&&(_=[p,g],g=_[0],v=_[1],p={}),g?new a(p,g,v):new r(p)},vi.stringWriter=function(p){return new u(p)},vi.streamWriter=function(p,g){return new s(p,g)},vi.implementation=new n,vi.nodeType=t,vi.writerState=e}).call(vi)),vi}var aw;function u4(){return aw||(aw=1,(function(){var t,e,n,r,a,s={}.hasOwnProperty;t=s4(),e=n0().defaults,r=function(u){return typeof u=="string"&&(u.indexOf("&")>=0||u.indexOf(">")>=0||u.indexOf("<")>=0)},a=function(u){return"<![CDATA["+n(u)+"]]>"},n=function(u){return u.replace("]]>","]]]]><![CDATA[>")},Jf.Builder=function(){function u(l){var f,h,p;this.options={},h=e["0.2"];for(f in h)s.call(h,f)&&(p=h[f],this.options[f]=p);for(f in l)s.call(l,f)&&(p=l[f],this.options[f]=p)}return u.prototype.buildObject=function(l){var f,h,p,g,v;return f=this.options.attrkey,h=this.options.charkey,Object.keys(l).length===1&&this.options.rootName===e["0.2"].rootName?(v=Object.keys(l)[0],l=l[v]):v=this.options.rootName,p=function(_){return function(E,M){var O,S,x,m,w,C;if(typeof M!="object")_.options.cdata&&r(M)?E.raw(a(M)):E.txt(M);else if(Array.isArray(M)){for(m in M)if(s.call(M,m)){S=M[m];for(w in S)x=S[w],E=p(E.ele(w),x).up()}}else for(w in M)if(s.call(M,w))if(S=M[w],w===f){if(typeof S=="object")for(O in S)C=S[O],E=E.att(O,C)}else if(w===h)_.options.cdata&&r(S)?E=E.raw(a(S)):E=E.txt(S);else if(Array.isArray(S))for(m in S)s.call(S,m)&&(x=S[m],typeof x=="string"?_.options.cdata&&r(x)?E=E.ele(w).raw(a(x)).up():E=E.ele(w,x).up():E=p(E.ele(w),x).up());else typeof S=="object"?E=p(E.ele(w),S).up():typeof S=="string"&&_.options.cdata&&r(S)?E=E.ele(w).raw(a(S)).up():(S==null&&(S=""),E=E.ele(w,S.toString()).up());return E}}(this),g=t.create(v,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),p(g,l).end(this.options.renderOpts)},u}()}).call(Jf)),Jf}var td={},Qy={},Jy={exports:{}},sw;function c4(){return sw||(sw=1,function(t){function e(r){if(r)return n(r);this._callbacks=new Map}function n(r){return Object.assign(r,e.prototype),r._callbacks=new Map,r}e.prototype.on=function(r,a){const s=this._callbacks.get(r)??[];return s.push(a),this._callbacks.set(r,s),this},e.prototype.once=function(r,a){const s=(...u)=>{this.off(r,s),a.apply(this,u)};return s.fn=a,this.on(r,s),this},e.prototype.off=function(r,a){if(r===void 0&&a===void 0)return this._callbacks.clear(),this;if(a===void 0)return this._callbacks.delete(r),this;const s=this._callbacks.get(r);if(s){for(const[u,l]of s.entries())if(l===a||l.fn===a){s.splice(u,1);break}s.length===0?this._callbacks.delete(r):this._callbacks.set(r,s)}return this},e.prototype.emit=function(r,...a){const s=this._callbacks.get(r);if(s){const u=[...s];for(const l of u)l.apply(this,a)}return this},e.prototype.listeners=function(r){return this._callbacks.get(r)??[]},e.prototype.listenerCount=function(r){if(r)return this.listeners(r).length;let a=0;for(const s of this._callbacks.values())a+=s.length;return a},e.prototype.hasListeners=function(r){return this.listenerCount(r)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(Jy)),Jy.exports}var tm,uw;function l4(){if(uw)return tm;uw=1;var t=c4();function e(){t.call(this)}return e.prototype=new t,tm=e,e.Stream=e,e.prototype.pipe=function(n,r){var a=this;function s(v){n.writable&&n.write(v)===!1&&a.pause&&a.pause()}a.on("data",s);function u(){a.readable&&a.resume&&a.resume()}n.on("drain",u),!n._isStdio&&(!r||r.end!==!1)&&(a.on("end",f),a.on("close",h));var l=!1;function f(){l||(l=!0,n.end())}function h(){l||(l=!0,typeof n.destroy=="function"&&n.destroy())}function p(v){if(g(),!this.hasListeners("error"))throw v}a.on("error",p),n.on("error",p);function g(){a.off("data",s),n.off("drain",u),a.off("end",f),a.off("close",h),a.off("error",p),n.off("error",p),a.off("end",g),a.off("close",g),n.off("end",g),n.off("close",g)}return a.on("end",g),a.on("close",g),n.on("end",g),n.on("close",g),n.emit("pipe",a),n},tm}var em={},ed={exports:{}},nm={},kc={},cw;function f4(){if(cw)return kc;cw=1,kc.byteLength=l,kc.toByteArray=h,kc.fromByteArray=v;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=r.length;a<s;++a)t[a]=r[a],e[r.charCodeAt(a)]=a;e[45]=62,e[95]=63;function u(_){var E=_.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var M=_.indexOf("=");M===-1&&(M=E);var O=M===E?0:4-M%4;return[M,O]}function l(_){var E=u(_),M=E[0],O=E[1];return(M+O)*3/4-O}function f(_,E,M){return(E+M)*3/4-M}function h(_){var E,M=u(_),O=M[0],S=M[1],x=new n(f(_,O,S)),m=0,w=S>0?O-4:O,C;for(C=0;C<w;C+=4)E=e[_.charCodeAt(C)]<<18|e[_.charCodeAt(C+1)]<<12|e[_.charCodeAt(C+2)]<<6|e[_.charCodeAt(C+3)],x[m++]=E>>16&255,x[m++]=E>>8&255,x[m++]=E&255;return S===2&&(E=e[_.charCodeAt(C)]<<2|e[_.charCodeAt(C+1)]>>4,x[m++]=E&255),S===1&&(E=e[_.charCodeAt(C)]<<10|e[_.charCodeAt(C+1)]<<4|e[_.charCodeAt(C+2)]>>2,x[m++]=E>>8&255,x[m++]=E&255),x}function p(_){return t[_>>18&63]+t[_>>12&63]+t[_>>6&63]+t[_&63]}function g(_,E,M){for(var O,S=[],x=E;x<M;x+=3)O=(_[x]<<16&16711680)+(_[x+1]<<8&65280)+(_[x+2]&255),S.push(p(O));return S.join("")}function v(_){for(var E,M=_.length,O=M%3,S=[],x=16383,m=0,w=M-O;m<w;m+=x)S.push(g(_,m,m+x>w?w:m+x));return O===1?(E=_[M-1],S.push(t[E>>2]+t[E<<4&63]+"==")):O===2&&(E=(_[M-2]<<8)+_[M-1],S.push(t[E>>10]+t[E>>4&63]+t[E<<2&63]+"=")),S.join("")}return kc}var nd={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var lw;function d4(){return lw||(lw=1,nd.read=function(t,e,n,r,a){var s,u,l=a*8-r-1,f=(1<<l)-1,h=f>>1,p=-7,g=n?a-1:0,v=n?-1:1,_=t[e+g];for(g+=v,s=_&(1<<-p)-1,_>>=-p,p+=l;p>0;s=s*256+t[e+g],g+=v,p-=8);for(u=s&(1<<-p)-1,s>>=-p,p+=r;p>0;u=u*256+t[e+g],g+=v,p-=8);if(s===0)s=1-h;else{if(s===f)return u?NaN:(_?-1:1)*(1/0);u=u+Math.pow(2,r),s=s-h}return(_?-1:1)*u*Math.pow(2,s-r)},nd.write=function(t,e,n,r,a,s){var u,l,f,h=s*8-a-1,p=(1<<h)-1,g=p>>1,v=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=r?0:s-1,E=r?1:-1,M=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,u=p):(u=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-u))<1&&(u--,f*=2),u+g>=1?e+=v/f:e+=v*Math.pow(2,1-g),e*f>=2&&(u++,f/=2),u+g>=p?(l=0,u=p):u+g>=1?(l=(e*f-1)*Math.pow(2,a),u=u+g):(l=e*Math.pow(2,g-1)*Math.pow(2,a),u=0));a>=8;t[n+_]=l&255,_+=E,l/=256,a-=8);for(u=u<<a|l,h+=a;h>0;t[n+_]=u&255,_+=E,u/=256,h-=8);t[n+_-E]|=M*128}),nd}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var fw;function h4(){return fw||(fw=1,function(t){const e=f4(),n=d4(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=x,t.INSPECT_MAX_BYTES=50;const a=2147483647;t.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const U=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(U,R),U.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function u(U){if(U>a)throw new RangeError('The value "'+U+'" is invalid for option "size"');const R=new Uint8Array(U);return Object.setPrototypeOf(R,l.prototype),R}function l(U,R,N){if(typeof U=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(U)}return f(U,R,N)}l.poolSize=8192;function f(U,R,N){if(typeof U=="string")return v(U,R);if(ArrayBuffer.isView(U))return E(U);if(U==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(Vt(U,ArrayBuffer)||U&&Vt(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Vt(U,SharedArrayBuffer)||U&&Vt(U.buffer,SharedArrayBuffer)))return M(U,R,N);if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Y=U.valueOf&&U.valueOf();if(Y!=null&&Y!==U)return l.from(Y,R,N);const et=O(U);if(et)return et;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return l.from(U[Symbol.toPrimitive]("string"),R,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}l.from=function(U,R,N){return f(U,R,N)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function h(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function p(U,R,N){return h(U),U<=0?u(U):R!==void 0?typeof N=="string"?u(U).fill(R,N):u(U).fill(R):u(U)}l.alloc=function(U,R,N){return p(U,R,N)};function g(U){return h(U),u(U<0?0:S(U)|0)}l.allocUnsafe=function(U){return g(U)},l.allocUnsafeSlow=function(U){return g(U)};function v(U,R){if((typeof R!="string"||R==="")&&(R="utf8"),!l.isEncoding(R))throw new TypeError("Unknown encoding: "+R);const N=m(U,R)|0;let Y=u(N);const et=Y.write(U,R);return et!==N&&(Y=Y.slice(0,et)),Y}function _(U){const R=U.length<0?0:S(U.length)|0,N=u(R);for(let Y=0;Y<R;Y+=1)N[Y]=U[Y]&255;return N}function E(U){if(Vt(U,Uint8Array)){const R=new Uint8Array(U);return M(R.buffer,R.byteOffset,R.byteLength)}return _(U)}function M(U,R,N){if(R<0||U.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<R+(N||0))throw new RangeError('"length" is outside of buffer bounds');let Y;return R===void 0&&N===void 0?Y=new Uint8Array(U):N===void 0?Y=new Uint8Array(U,R):Y=new Uint8Array(U,R,N),Object.setPrototypeOf(Y,l.prototype),Y}function O(U){if(l.isBuffer(U)){const R=S(U.length)|0,N=u(R);return N.length===0||U.copy(N,0,0,R),N}if(U.length!==void 0)return typeof U.length!="number"||fe(U.length)?u(0):_(U);if(U.type==="Buffer"&&Array.isArray(U.data))return _(U.data)}function S(U){if(U>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return U|0}function x(U){return+U!=U&&(U=0),l.alloc(+U)}l.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==l.prototype},l.compare=function(R,N){if(Vt(R,Uint8Array)&&(R=l.from(R,R.offset,R.byteLength)),Vt(N,Uint8Array)&&(N=l.from(N,N.offset,N.byteLength)),!l.isBuffer(R)||!l.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===N)return 0;let Y=R.length,et=N.length;for(let ht=0,_t=Math.min(Y,et);ht<_t;++ht)if(R[ht]!==N[ht]){Y=R[ht],et=N[ht];break}return Y<et?-1:et<Y?1:0},l.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(R,N){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return l.alloc(0);let Y;if(N===void 0)for(N=0,Y=0;Y<R.length;++Y)N+=R[Y].length;const et=l.allocUnsafe(N);let ht=0;for(Y=0;Y<R.length;++Y){let _t=R[Y];if(Vt(_t,Uint8Array))ht+_t.length>et.length?(l.isBuffer(_t)||(_t=l.from(_t)),_t.copy(et,ht)):Uint8Array.prototype.set.call(et,_t,ht);else if(l.isBuffer(_t))_t.copy(et,ht);else throw new TypeError('"list" argument must be an Array of Buffers');ht+=_t.length}return et};function m(U,R){if(l.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||Vt(U,ArrayBuffer))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);const N=U.length,Y=arguments.length>2&&arguments[2]===!0;if(!Y&&N===0)return 0;let et=!1;for(;;)switch(R){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return Lt(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N*2;case"hex":return N>>>1;case"base64":return It(U).length;default:if(et)return Y?-1:Lt(U).length;R=(""+R).toLowerCase(),et=!0}}l.byteLength=m;function w(U,R,N){let Y=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0,R>>>=0,N<=R))return"";for(U||(U="utf8");;)switch(U){case"hex":return zt(this,R,N);case"utf8":case"utf-8":return at(this,R,N);case"ascii":return lt(this,R,N);case"latin1":case"binary":return Mt(this,R,N);case"base64":return F(this,R,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,R,N);default:if(Y)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),Y=!0}}l.prototype._isBuffer=!0;function C(U,R,N){const Y=U[R];U[R]=U[N],U[N]=Y}l.prototype.swap16=function(){const R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let N=0;N<R;N+=2)C(this,N,N+1);return this},l.prototype.swap32=function(){const R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let N=0;N<R;N+=4)C(this,N,N+3),C(this,N+1,N+2);return this},l.prototype.swap64=function(){const R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let N=0;N<R;N+=8)C(this,N,N+7),C(this,N+1,N+6),C(this,N+2,N+5),C(this,N+3,N+4);return this},l.prototype.toString=function(){const R=this.length;return R===0?"":arguments.length===0?at(this,0,R):w.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(R){if(!l.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:l.compare(this,R)===0},l.prototype.inspect=function(){let R="";const N=t.INSPECT_MAX_BYTES;return R=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(R+=" ... "),"<Buffer "+R+">"},r&&(l.prototype[r]=l.prototype.inspect),l.prototype.compare=function(R,N,Y,et,ht){if(Vt(R,Uint8Array)&&(R=l.from(R,R.offset,R.byteLength)),!l.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(N===void 0&&(N=0),Y===void 0&&(Y=R?R.length:0),et===void 0&&(et=0),ht===void 0&&(ht=this.length),N<0||Y>R.length||et<0||ht>this.length)throw new RangeError("out of range index");if(et>=ht&&N>=Y)return 0;if(et>=ht)return-1;if(N>=Y)return 1;if(N>>>=0,Y>>>=0,et>>>=0,ht>>>=0,this===R)return 0;let _t=ht-et,qt=Y-N;const Me=Math.min(_t,qt),he=this.slice(et,ht),re=R.slice(N,Y);for(let ie=0;ie<Me;++ie)if(he[ie]!==re[ie]){_t=he[ie],qt=re[ie];break}return _t<qt?-1:qt<_t?1:0};function A(U,R,N,Y,et){if(U.length===0)return-1;if(typeof N=="string"?(Y=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),N=+N,fe(N)&&(N=et?0:U.length-1),N<0&&(N=U.length+N),N>=U.length){if(et)return-1;N=U.length-1}else if(N<0)if(et)N=0;else return-1;if(typeof R=="string"&&(R=l.from(R,Y)),l.isBuffer(R))return R.length===0?-1:B(U,R,N,Y,et);if(typeof R=="number")return R=R&255,typeof Uint8Array.prototype.indexOf=="function"?et?Uint8Array.prototype.indexOf.call(U,R,N):Uint8Array.prototype.lastIndexOf.call(U,R,N):B(U,[R],N,Y,et);throw new TypeError("val must be string, number or Buffer")}function B(U,R,N,Y,et){let ht=1,_t=U.length,qt=R.length;if(Y!==void 0&&(Y=String(Y).toLowerCase(),Y==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if(U.length<2||R.length<2)return-1;ht=2,_t/=2,qt/=2,N/=2}function Me(re,ie){return ht===1?re[ie]:re.readUInt16BE(ie*ht)}let he;if(et){let re=-1;for(he=N;he<_t;he++)if(Me(U,he)===Me(R,re===-1?0:he-re)){if(re===-1&&(re=he),he-re+1===qt)return re*ht}else re!==-1&&(he-=he-re),re=-1}else for(N+qt>_t&&(N=_t-qt),he=N;he>=0;he--){let re=!0;for(let ie=0;ie<qt;ie++)if(Me(U,he+ie)!==Me(R,ie)){re=!1;break}if(re)return he}return-1}l.prototype.includes=function(R,N,Y){return this.indexOf(R,N,Y)!==-1},l.prototype.indexOf=function(R,N,Y){return A(this,R,N,Y,!0)},l.prototype.lastIndexOf=function(R,N,Y){return A(this,R,N,Y,!1)};function P(U,R,N,Y){N=Number(N)||0;const et=U.length-N;Y?(Y=Number(Y),Y>et&&(Y=et)):Y=et;const ht=R.length;Y>ht/2&&(Y=ht/2);let _t;for(_t=0;_t<Y;++_t){const qt=parseInt(R.substr(_t*2,2),16);if(fe(qt))return _t;U[N+_t]=qt}return _t}function T(U,R,N,Y){return Xt(Lt(R,U.length-N),U,N,Y)}function j(U,R,N,Y){return Xt(Bt(R),U,N,Y)}function z(U,R,N,Y){return Xt(It(R),U,N,Y)}function I(U,R,N,Y){return Xt(te(R,U.length-N),U,N,Y)}l.prototype.write=function(R,N,Y,et){if(N===void 0)et="utf8",Y=this.length,N=0;else if(Y===void 0&&typeof N=="string")et=N,Y=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite(Y)?(Y=Y>>>0,et===void 0&&(et="utf8")):(et=Y,Y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ht=this.length-N;if((Y===void 0||Y>ht)&&(Y=ht),R.length>0&&(Y<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");et||(et="utf8");let _t=!1;for(;;)switch(et){case"hex":return P(this,R,N,Y);case"utf8":case"utf-8":return T(this,R,N,Y);case"ascii":case"latin1":case"binary":return j(this,R,N,Y);case"base64":return z(this,R,N,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,R,N,Y);default:if(_t)throw new TypeError("Unknown encoding: "+et);et=(""+et).toLowerCase(),_t=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(U,R,N){return R===0&&N===U.length?e.fromByteArray(U):e.fromByteArray(U.slice(R,N))}function at(U,R,N){N=Math.min(U.length,N);const Y=[];let et=R;for(;et<N;){const ht=U[et];let _t=null,qt=ht>239?4:ht>223?3:ht>191?2:1;if(et+qt<=N){let Me,he,re,ie;switch(qt){case 1:ht<128&&(_t=ht);break;case 2:Me=U[et+1],(Me&192)===128&&(ie=(ht&31)<<6|Me&63,ie>127&&(_t=ie));break;case 3:Me=U[et+1],he=U[et+2],(Me&192)===128&&(he&192)===128&&(ie=(ht&15)<<12|(Me&63)<<6|he&63,ie>2047&&(ie<55296||ie>57343)&&(_t=ie));break;case 4:Me=U[et+1],he=U[et+2],re=U[et+3],(Me&192)===128&&(he&192)===128&&(re&192)===128&&(ie=(ht&15)<<18|(Me&63)<<12|(he&63)<<6|re&63,ie>65535&&ie<1114112&&(_t=ie))}}_t===null?(_t=65533,qt=1):_t>65535&&(_t-=65536,Y.push(_t>>>10&1023|55296),_t=56320|_t&1023),Y.push(_t),et+=qt}return it(Y)}const Et=4096;function it(U){const R=U.length;if(R<=Et)return String.fromCharCode.apply(String,U);let N="",Y=0;for(;Y<R;)N+=String.fromCharCode.apply(String,U.slice(Y,Y+=Et));return N}function lt(U,R,N){let Y="";N=Math.min(U.length,N);for(let et=R;et<N;++et)Y+=String.fromCharCode(U[et]&127);return Y}function Mt(U,R,N){let Y="";N=Math.min(U.length,N);for(let et=R;et<N;++et)Y+=String.fromCharCode(U[et]);return Y}function zt(U,R,N){const Y=U.length;(!R||R<0)&&(R=0),(!N||N<0||N>Y)&&(N=Y);let et="";for(let ht=R;ht<N;++ht)et+=Dt[U[ht]];return et}function G(U,R,N){const Y=U.slice(R,N);let et="";for(let ht=0;ht<Y.length-1;ht+=2)et+=String.fromCharCode(Y[ht]+Y[ht+1]*256);return et}l.prototype.slice=function(R,N){const Y=this.length;R=~~R,N=N===void 0?Y:~~N,R<0?(R+=Y,R<0&&(R=0)):R>Y&&(R=Y),N<0?(N+=Y,N<0&&(N=0)):N>Y&&(N=Y),N<R&&(N=R);const et=this.subarray(R,N);return Object.setPrototypeOf(et,l.prototype),et};function H(U,R,N){if(U%1!==0||U<0)throw new RangeError("offset is not uint");if(U+R>N)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(R,N,Y){R=R>>>0,N=N>>>0,Y||H(R,N,this.length);let et=this[R],ht=1,_t=0;for(;++_t<N&&(ht*=256);)et+=this[R+_t]*ht;return et},l.prototype.readUintBE=l.prototype.readUIntBE=function(R,N,Y){R=R>>>0,N=N>>>0,Y||H(R,N,this.length);let et=this[R+--N],ht=1;for(;N>0&&(ht*=256);)et+=this[R+--N]*ht;return et},l.prototype.readUint8=l.prototype.readUInt8=function(R,N){return R=R>>>0,N||H(R,1,this.length),this[R]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(R,N){return R=R>>>0,N||H(R,2,this.length),this[R]|this[R+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(R,N){return R=R>>>0,N||H(R,2,this.length),this[R]<<8|this[R+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(R,N){return R=R>>>0,N||H(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(R,N){return R=R>>>0,N||H(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},l.prototype.readBigUInt64LE=jt(function(R){R=R>>>0,Ct(R,"offset");const N=this[R],Y=this[R+7];(N===void 0||Y===void 0)&&dt(R,this.length-8);const et=N+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24,ht=this[++R]+this[++R]*2**8+this[++R]*2**16+Y*2**24;return BigInt(et)+(BigInt(ht)<<BigInt(32))}),l.prototype.readBigUInt64BE=jt(function(R){R=R>>>0,Ct(R,"offset");const N=this[R],Y=this[R+7];(N===void 0||Y===void 0)&&dt(R,this.length-8);const et=N*2**24+this[++R]*2**16+this[++R]*2**8+this[++R],ht=this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+Y;return(BigInt(et)<<BigInt(32))+BigInt(ht)}),l.prototype.readIntLE=function(R,N,Y){R=R>>>0,N=N>>>0,Y||H(R,N,this.length);let et=this[R],ht=1,_t=0;for(;++_t<N&&(ht*=256);)et+=this[R+_t]*ht;return ht*=128,et>=ht&&(et-=Math.pow(2,8*N)),et},l.prototype.readIntBE=function(R,N,Y){R=R>>>0,N=N>>>0,Y||H(R,N,this.length);let et=N,ht=1,_t=this[R+--et];for(;et>0&&(ht*=256);)_t+=this[R+--et]*ht;return ht*=128,_t>=ht&&(_t-=Math.pow(2,8*N)),_t},l.prototype.readInt8=function(R,N){return R=R>>>0,N||H(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},l.prototype.readInt16LE=function(R,N){R=R>>>0,N||H(R,2,this.length);const Y=this[R]|this[R+1]<<8;return Y&32768?Y|4294901760:Y},l.prototype.readInt16BE=function(R,N){R=R>>>0,N||H(R,2,this.length);const Y=this[R+1]|this[R]<<8;return Y&32768?Y|4294901760:Y},l.prototype.readInt32LE=function(R,N){return R=R>>>0,N||H(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},l.prototype.readInt32BE=function(R,N){return R=R>>>0,N||H(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},l.prototype.readBigInt64LE=jt(function(R){R=R>>>0,Ct(R,"offset");const N=this[R],Y=this[R+7];(N===void 0||Y===void 0)&&dt(R,this.length-8);const et=this[R+4]+this[R+5]*2**8+this[R+6]*2**16+(Y<<24);return(BigInt(et)<<BigInt(32))+BigInt(N+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24)}),l.prototype.readBigInt64BE=jt(function(R){R=R>>>0,Ct(R,"offset");const N=this[R],Y=this[R+7];(N===void 0||Y===void 0)&&dt(R,this.length-8);const et=(N<<24)+this[++R]*2**16+this[++R]*2**8+this[++R];return(BigInt(et)<<BigInt(32))+BigInt(this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+Y)}),l.prototype.readFloatLE=function(R,N){return R=R>>>0,N||H(R,4,this.length),n.read(this,R,!0,23,4)},l.prototype.readFloatBE=function(R,N){return R=R>>>0,N||H(R,4,this.length),n.read(this,R,!1,23,4)},l.prototype.readDoubleLE=function(R,N){return R=R>>>0,N||H(R,8,this.length),n.read(this,R,!0,52,8)},l.prototype.readDoubleBE=function(R,N){return R=R>>>0,N||H(R,8,this.length),n.read(this,R,!1,52,8)};function K(U,R,N,Y,et,ht){if(!l.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>et||R<ht)throw new RangeError('"value" argument is out of bounds');if(N+Y>U.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(R,N,Y,et){if(R=+R,N=N>>>0,Y=Y>>>0,!et){const qt=Math.pow(2,8*Y)-1;K(this,R,N,Y,qt,0)}let ht=1,_t=0;for(this[N]=R&255;++_t<Y&&(ht*=256);)this[N+_t]=R/ht&255;return N+Y},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(R,N,Y,et){if(R=+R,N=N>>>0,Y=Y>>>0,!et){const qt=Math.pow(2,8*Y)-1;K(this,R,N,Y,qt,0)}let ht=Y-1,_t=1;for(this[N+ht]=R&255;--ht>=0&&(_t*=256);)this[N+ht]=R/_t&255;return N+Y},l.prototype.writeUint8=l.prototype.writeUInt8=function(R,N,Y){return R=+R,N=N>>>0,Y||K(this,R,N,1,255,0),this[N]=R&255,N+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(R,N,Y){return R=+R,N=N>>>0,Y||K(this,R,N,2,65535,0),this[N]=R&255,this[N+1]=R>>>8,N+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(R,N,Y){return R=+R,N=N>>>0,Y||K(this,R,N,2,65535,0),this[N]=R>>>8,this[N+1]=R&255,N+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(R,N,Y){return R=+R,N=N>>>0,Y||K(this,R,N,4,4294967295,0),this[N+3]=R>>>24,this[N+2]=R>>>16,this[N+1]=R>>>8,this[N]=R&255,N+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(R,N,Y){return R=+R,N=N>>>0,Y||K(this,R,N,4,4294967295,0),this[N]=R>>>24,this[N+1]=R>>>16,this[N+2]=R>>>8,this[N+3]=R&255,N+4};function nt(U,R,N,Y,et){Rt(R,Y,et,U,N,7);let ht=Number(R&BigInt(4294967295));U[N++]=ht,ht=ht>>8,U[N++]=ht,ht=ht>>8,U[N++]=ht,ht=ht>>8,U[N++]=ht;let _t=Number(R>>BigInt(32)&BigInt(4294967295));return U[N++]=_t,_t=_t>>8,U[N++]=_t,_t=_t>>8,U[N++]=_t,_t=_t>>8,U[N++]=_t,N}function tt(U,R,N,Y,et){Rt(R,Y,et,U,N,7);let ht=Number(R&BigInt(4294967295));U[N+7]=ht,ht=ht>>8,U[N+6]=ht,ht=ht>>8,U[N+5]=ht,ht=ht>>8,U[N+4]=ht;let _t=Number(R>>BigInt(32)&BigInt(4294967295));return U[N+3]=_t,_t=_t>>8,U[N+2]=_t,_t=_t>>8,U[N+1]=_t,_t=_t>>8,U[N]=_t,N+8}l.prototype.writeBigUInt64LE=jt(function(R,N=0){return nt(this,R,N,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=jt(function(R,N=0){return tt(this,R,N,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(R,N,Y,et){if(R=+R,N=N>>>0,!et){const Me=Math.pow(2,8*Y-1);K(this,R,N,Y,Me-1,-Me)}let ht=0,_t=1,qt=0;for(this[N]=R&255;++ht<Y&&(_t*=256);)R<0&&qt===0&&this[N+ht-1]!==0&&(qt=1),this[N+ht]=(R/_t>>0)-qt&255;return N+Y},l.prototype.writeIntBE=function(R,N,Y,et){if(R=+R,N=N>>>0,!et){const Me=Math.pow(2,8*Y-1);K(this,R,N,Y,Me-1,-Me)}let ht=Y-1,_t=1,qt=0;for(this[N+ht]=R&255;--ht>=0&&(_t*=256);)R<0&&qt===0&&this[N+ht+1]!==0&&(qt=1),this[N+ht]=(R/_t>>0)-qt&255;return N+Y},l.prototype.writeInt8=function(R,N,Y){return R=+R,N=N>>>0,Y||K(this,R,N,1,127,-128),R<0&&(R=255+R+1),this[N]=R&255,N+1},l.prototype.writeInt16LE=function(R,N,Y){return R=+R,N=N>>>0,Y||K(this,R,N,2,32767,-32768),this[N]=R&255,this[N+1]=R>>>8,N+2},l.prototype.writeInt16BE=function(R,N,Y){return R=+R,N=N>>>0,Y||K(this,R,N,2,32767,-32768),this[N]=R>>>8,this[N+1]=R&255,N+2},l.prototype.writeInt32LE=function(R,N,Y){return R=+R,N=N>>>0,Y||K(this,R,N,4,2147483647,-2147483648),this[N]=R&255,this[N+1]=R>>>8,this[N+2]=R>>>16,this[N+3]=R>>>24,N+4},l.prototype.writeInt32BE=function(R,N,Y){return R=+R,N=N>>>0,Y||K(this,R,N,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[N]=R>>>24,this[N+1]=R>>>16,this[N+2]=R>>>8,this[N+3]=R&255,N+4},l.prototype.writeBigInt64LE=jt(function(R,N=0){return nt(this,R,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=jt(function(R,N=0){return tt(this,R,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function xt(U,R,N,Y,et,ht){if(N+Y>U.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function wt(U,R,N,Y,et){return R=+R,N=N>>>0,et||xt(U,R,N,4),n.write(U,R,N,Y,23,4),N+4}l.prototype.writeFloatLE=function(R,N,Y){return wt(this,R,N,!0,Y)},l.prototype.writeFloatBE=function(R,N,Y){return wt(this,R,N,!1,Y)};function k(U,R,N,Y,et){return R=+R,N=N>>>0,et||xt(U,R,N,8),n.write(U,R,N,Y,52,8),N+8}l.prototype.writeDoubleLE=function(R,N,Y){return k(this,R,N,!0,Y)},l.prototype.writeDoubleBE=function(R,N,Y){return k(this,R,N,!1,Y)},l.prototype.copy=function(R,N,Y,et){if(!l.isBuffer(R))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!et&&et!==0&&(et=this.length),N>=R.length&&(N=R.length),N||(N=0),et>0&&et<Y&&(et=Y),et===Y||R.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(et<0)throw new RangeError("sourceEnd out of bounds");et>this.length&&(et=this.length),R.length-N<et-Y&&(et=R.length-N+Y);const ht=et-Y;return this===R&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(N,Y,et):Uint8Array.prototype.set.call(R,this.subarray(Y,et),N),ht},l.prototype.fill=function(R,N,Y,et){if(typeof R=="string"){if(typeof N=="string"?(et=N,N=0,Y=this.length):typeof Y=="string"&&(et=Y,Y=this.length),et!==void 0&&typeof et!="string")throw new TypeError("encoding must be a string");if(typeof et=="string"&&!l.isEncoding(et))throw new TypeError("Unknown encoding: "+et);if(R.length===1){const _t=R.charCodeAt(0);(et==="utf8"&&_t<128||et==="latin1")&&(R=_t)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(N<0||this.length<N||this.length<Y)throw new RangeError("Out of range index");if(Y<=N)return this;N=N>>>0,Y=Y===void 0?this.length:Y>>>0,R||(R=0);let ht;if(typeof R=="number")for(ht=N;ht<Y;++ht)this[ht]=R;else{const _t=l.isBuffer(R)?R:l.from(R,et),qt=_t.length;if(qt===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(ht=0;ht<Y-N;++ht)this[ht+N]=_t[ht%qt]}return this};const L={};function W(U,R,N){L[U]=class extends N{constructor(){super(),Object.defineProperty(this,"message",{value:R.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${U}]`,this.stack,delete this.name}get code(){return U}set code(et){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:et,writable:!0})}toString(){return`${this.name} [${U}]: ${this.message}`}}}W("ERR_BUFFER_OUT_OF_BOUNDS",function(U){return U?`${U} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),W("ERR_INVALID_ARG_TYPE",function(U,R){return`The "${U}" argument must be of type number. Received type ${typeof R}`},TypeError),W("ERR_OUT_OF_RANGE",function(U,R,N){let Y=`The value of "${U}" is out of range.`,et=N;return Number.isInteger(N)&&Math.abs(N)>2**32?et=q(String(N)):typeof N=="bigint"&&(et=String(N),(N>BigInt(2)**BigInt(32)||N<-(BigInt(2)**BigInt(32)))&&(et=q(et)),et+="n"),Y+=` It must be ${R}. Received ${et}`,Y},RangeError);function q(U){let R="",N=U.length;const Y=U[0]==="-"?1:0;for(;N>=Y+4;N-=3)R=`_${U.slice(N-3,N)}${R}`;return`${U.slice(0,N)}${R}`}function Tt(U,R,N){Ct(R,"offset"),(U[R]===void 0||U[R+N]===void 0)&&dt(R,U.length-(N+1))}function Rt(U,R,N,Y,et,ht){if(U>N||U<R){const _t=typeof R=="bigint"?"n":"";let qt;throw R===0||R===BigInt(0)?qt=`>= 0${_t} and < 2${_t} ** ${(ht+1)*8}${_t}`:qt=`>= -(2${_t} ** ${(ht+1)*8-1}${_t}) and < 2 ** ${(ht+1)*8-1}${_t}`,new L.ERR_OUT_OF_RANGE("value",qt,U)}Tt(Y,et,ht)}function Ct(U,R){if(typeof U!="number")throw new L.ERR_INVALID_ARG_TYPE(R,"number",U)}function dt(U,R,N){throw Math.floor(U)!==U?(Ct(U,N),new L.ERR_OUT_OF_RANGE("offset","an integer",U)):R<0?new L.ERR_BUFFER_OUT_OF_BOUNDS:new L.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${R}`,U)}const mt=/[^+/0-9A-Za-z-_]/g;function kt(U){if(U=U.split("=")[0],U=U.trim().replace(mt,""),U.length<2)return"";for(;U.length%4!==0;)U=U+"=";return U}function Lt(U,R){R=R||1/0;let N;const Y=U.length;let et=null;const ht=[];for(let _t=0;_t<Y;++_t){if(N=U.charCodeAt(_t),N>55295&&N<57344){if(!et){if(N>56319){(R-=3)>-1&&ht.push(239,191,189);continue}else if(_t+1===Y){(R-=3)>-1&&ht.push(239,191,189);continue}et=N;continue}if(N<56320){(R-=3)>-1&&ht.push(239,191,189),et=N;continue}N=(et-55296<<10|N-56320)+65536}else et&&(R-=3)>-1&&ht.push(239,191,189);if(et=null,N<128){if((R-=1)<0)break;ht.push(N)}else if(N<2048){if((R-=2)<0)break;ht.push(N>>6|192,N&63|128)}else if(N<65536){if((R-=3)<0)break;ht.push(N>>12|224,N>>6&63|128,N&63|128)}else if(N<1114112){if((R-=4)<0)break;ht.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw new Error("Invalid code point")}return ht}function Bt(U){const R=[];for(let N=0;N<U.length;++N)R.push(U.charCodeAt(N)&255);return R}function te(U,R){let N,Y,et;const ht=[];for(let _t=0;_t<U.length&&!((R-=2)<0);++_t)N=U.charCodeAt(_t),Y=N>>8,et=N%256,ht.push(et),ht.push(Y);return ht}function It(U){return e.toByteArray(kt(U))}function Xt(U,R,N,Y){let et;for(et=0;et<Y&&!(et+N>=R.length||et>=U.length);++et)R[et+N]=U[et];return et}function Vt(U,R){return U instanceof R||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===R.name}function fe(U){return U!==U}const Dt=function(){const U="0123456789abcdef",R=new Array(256);for(let N=0;N<16;++N){const Y=N*16;for(let et=0;et<16;++et)R[Y+et]=U[N]+U[et]}return R}();function jt(U){return typeof BigInt>"u"?Zn:U}function Zn(){throw new Error("BigInt not supported")}}(nm)),nm}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var dw;function p4(){return dw||(dw=1,function(t,e){var n=h4(),r=n.Buffer;function a(u,l){for(var f in u)l[f]=u[f]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(a(n,e),e.Buffer=s);function s(u,l,f){return r(u,l,f)}s.prototype=Object.create(r.prototype),a(r,s),s.from=function(u,l,f){if(typeof u=="number")throw new TypeError("Argument must not be a number");return r(u,l,f)},s.alloc=function(u,l,f){if(typeof u!="number")throw new TypeError("Argument must be a number");var h=r(u);return l!==void 0?typeof f=="string"?h.fill(l,f):h.fill(l):h.fill(0),h},s.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r(u)},s.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(u)}}(ed,ed.exports)),ed.exports}var hw;function g4(){if(hw)return em;hw=1;var t=p4().Buffer,e=t.isEncoding||function(S){switch(S=""+S,S&&S.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(S){if(!S)return"utf8";for(var x;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(x)return;S=(""+S).toLowerCase(),x=!0}}function r(S){var x=n(S);if(typeof x!="string"&&(t.isEncoding===e||!e(S)))throw new Error("Unknown encoding: "+S);return x||S}em.StringDecoder=a;function a(S){this.encoding=r(S);var x;switch(this.encoding){case"utf16le":this.text=g,this.end=v,x=4;break;case"utf8":this.fillLast=f,x=4;break;case"base64":this.text=_,this.end=E,x=3;break;default:this.write=M,this.end=O;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(x)}a.prototype.write=function(S){if(S.length===0)return"";var x,m;if(this.lastNeed){if(x=this.fillLast(S),x===void 0)return"";m=this.lastNeed,this.lastNeed=0}else m=0;return m<S.length?x?x+this.text(S,m):this.text(S,m):x||""},a.prototype.end=p,a.prototype.text=h,a.prototype.fillLast=function(S){if(this.lastNeed<=S.length)return S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,S.length),this.lastNeed-=S.length};function s(S){return S<=127?0:S>>5===6?2:S>>4===14?3:S>>3===30?4:S>>6===2?-1:-2}function u(S,x,m){var w=x.length-1;if(w<m)return 0;var C=s(x[w]);return C>=0?(C>0&&(S.lastNeed=C-1),C):--w<m||C===-2?0:(C=s(x[w]),C>=0?(C>0&&(S.lastNeed=C-2),C):--w<m||C===-2?0:(C=s(x[w]),C>=0?(C>0&&(C===2?C=0:S.lastNeed=C-3),C):0))}function l(S,x,m){if((x[0]&192)!==128)return S.lastNeed=0,"�";if(S.lastNeed>1&&x.length>1){if((x[1]&192)!==128)return S.lastNeed=1,"�";if(S.lastNeed>2&&x.length>2&&(x[2]&192)!==128)return S.lastNeed=2,"�"}}function f(S){var x=this.lastTotal-this.lastNeed,m=l(this,S);if(m!==void 0)return m;if(this.lastNeed<=S.length)return S.copy(this.lastChar,x,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,x,0,S.length),this.lastNeed-=S.length}function h(S,x){var m=u(this,S,x);if(!this.lastNeed)return S.toString("utf8",x);this.lastTotal=m;var w=S.length-(m-this.lastNeed);return S.copy(this.lastChar,0,w),S.toString("utf8",x,w)}function p(S){var x=S&&S.length?this.write(S):"";return this.lastNeed?x+"�":x}function g(S,x){if((S.length-x)%2===0){var m=S.toString("utf16le",x);if(m){var w=m.charCodeAt(m.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1],m.slice(0,-1)}return m}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=S[S.length-1],S.toString("utf16le",x,S.length-1)}function v(S){var x=S&&S.length?this.write(S):"";if(this.lastNeed){var m=this.lastTotal-this.lastNeed;return x+this.lastChar.toString("utf16le",0,m)}return x}function _(S,x){var m=(S.length-x)%3;return m===0?S.toString("base64",x):(this.lastNeed=3-m,this.lastTotal=3,m===1?this.lastChar[0]=S[S.length-1]:(this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1]),S.toString("base64",x,S.length-m))}function E(S){var x=S&&S.length?this.write(S):"";return this.lastNeed?x+this.lastChar.toString("base64",0,3-this.lastNeed):x}function M(S){return S.toString(this.encoding)}function O(S){return S&&S.length?this.write(S):""}return em}var pw;function y4(){return pw||(pw=1,function(t){(function(e){e.parser=function(k,L){return new r(k,L)},e.SAXParser=r,e.SAXStream=p,e.createStream=h,e.MAX_BUFFER_LENGTH=64*1024;var n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(k,L){if(!(this instanceof r))return new r(k,L);var W=this;s(W),W.q=W.c="",W.bufferCheckPosition=e.MAX_BUFFER_LENGTH,W.opt=L||{},W.opt.lowercase=W.opt.lowercase||W.opt.lowercasetags,W.looseCase=W.opt.lowercase?"toLowerCase":"toUpperCase",W.tags=[],W.closed=W.closedRoot=W.sawRoot=!1,W.tag=W.error=null,W.strict=!!k,W.noscript=!!(k||W.opt.noscript),W.state=T.BEGIN,W.strictEntities=W.opt.strictEntities,W.ENTITIES=W.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),W.attribList=[],W.opt.xmlns&&(W.ns=Object.create(M)),W.trackPosition=W.opt.position!==!1,W.trackPosition&&(W.position=W.line=W.column=0),z(W,"onready")}Object.create||(Object.create=function(k){function L(){}L.prototype=k;var W=new L;return W}),Object.keys||(Object.keys=function(k){var L=[];for(var W in k)k.hasOwnProperty(W)&&L.push(W);return L});function a(k){for(var L=Math.max(e.MAX_BUFFER_LENGTH,10),W=0,q=0,Tt=n.length;q<Tt;q++){var Rt=k[n[q]].length;if(Rt>L)switch(n[q]){case"textNode":F(k);break;case"cdata":I(k,"oncdata",k.cdata),k.cdata="";break;case"script":I(k,"onscript",k.script),k.script="";break;default:Et(k,"Max buffer length exceeded: "+n[q])}W=Math.max(W,Rt)}var Ct=e.MAX_BUFFER_LENGTH-W;k.bufferCheckPosition=Ct+k.position}function s(k){for(var L=0,W=n.length;L<W;L++)k[n[L]]=""}function u(k){F(k),k.cdata!==""&&(I(k,"oncdata",k.cdata),k.cdata=""),k.script!==""&&(I(k,"onscript",k.script),k.script="")}r.prototype={end:function(){it(this)},write:wt,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){u(this)}};var l;try{l=l4().Stream}catch{l=function(){}}var f=e.EVENTS.filter(function(k){return k!=="error"&&k!=="end"});function h(k,L){return new p(k,L)}function p(k,L){if(!(this instanceof p))return new p(k,L);l.apply(this),this._parser=new r(k,L),this.writable=!0,this.readable=!0;var W=this;this._parser.onend=function(){W.emit("end")},this._parser.onerror=function(q){W.emit("error",q),W._parser.error=null},this._decoder=null,f.forEach(function(q){Object.defineProperty(W,"on"+q,{get:function(){return W._parser["on"+q]},set:function(Tt){if(!Tt)return W.removeAllListeners(q),W._parser["on"+q]=Tt,Tt;W.on(q,Tt)},enumerable:!0,configurable:!1})})}p.prototype=Object.create(l.prototype,{constructor:{value:p}}),p.prototype.write=function(k){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(k)){if(!this._decoder){var L=g4().StringDecoder;this._decoder=new L("utf8")}k=this._decoder.write(k)}return this._parser.write(k.toString()),this.emit("data",k),!0},p.prototype.end=function(k){return k&&k.length&&this.write(k),this._parser.end(),!0},p.prototype.on=function(k,L){var W=this;return!W._parser["on"+k]&&f.indexOf(k)!==-1&&(W._parser["on"+k]=function(){var q=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);q.splice(0,0,k),W.emit.apply(W,q)}),l.prototype.on.call(W,k,L)};var g="[CDATA[",v="DOCTYPE",_="http://www.w3.org/XML/1998/namespace",E="http://www.w3.org/2000/xmlns/",M={xml:_,xmlns:E},O=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,S=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,x=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function w(k){return k===" "||k===`
`||k==="\r"||k==="	"}function C(k){return k==='"'||k==="'"}function A(k){return k===">"||w(k)}function B(k,L){return k.test(L)}function P(k,L){return!B(k,L)}var T=0;e.STATE={BEGIN:T++,BEGIN_WHITESPACE:T++,TEXT:T++,TEXT_ENTITY:T++,OPEN_WAKA:T++,SGML_DECL:T++,SGML_DECL_QUOTED:T++,DOCTYPE:T++,DOCTYPE_QUOTED:T++,DOCTYPE_DTD:T++,DOCTYPE_DTD_QUOTED:T++,COMMENT_STARTING:T++,COMMENT:T++,COMMENT_ENDING:T++,COMMENT_ENDED:T++,CDATA:T++,CDATA_ENDING:T++,CDATA_ENDING_2:T++,PROC_INST:T++,PROC_INST_BODY:T++,PROC_INST_ENDING:T++,OPEN_TAG:T++,OPEN_TAG_SLASH:T++,ATTRIB:T++,ATTRIB_NAME:T++,ATTRIB_NAME_SAW_WHITE:T++,ATTRIB_VALUE:T++,ATTRIB_VALUE_QUOTED:T++,ATTRIB_VALUE_CLOSED:T++,ATTRIB_VALUE_UNQUOTED:T++,ATTRIB_VALUE_ENTITY_Q:T++,ATTRIB_VALUE_ENTITY_U:T++,CLOSE_TAG:T++,CLOSE_TAG_SAW_WHITE:T++,SCRIPT:T++,SCRIPT_ENDING:T++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(k){var L=e.ENTITIES[k],W=typeof L=="number"?String.fromCharCode(L):L;e.ENTITIES[k]=W});for(var j in e.STATE)e.STATE[e.STATE[j]]=j;T=e.STATE;function z(k,L,W){k[L]&&k[L](W)}function I(k,L,W){k.textNode&&F(k),z(k,L,W)}function F(k){k.textNode=at(k.opt,k.textNode),k.textNode&&z(k,"ontext",k.textNode),k.textNode=""}function at(k,L){return k.trim&&(L=L.trim()),k.normalize&&(L=L.replace(/\s+/g," ")),L}function Et(k,L){return F(k),k.trackPosition&&(L+=`
Line: `+k.line+`
Column: `+k.column+`
Char: `+k.c),L=new Error(L),k.error=L,z(k,"onerror",L),k}function it(k){return k.sawRoot&&!k.closedRoot&&lt(k,"Unclosed root tag"),k.state!==T.BEGIN&&k.state!==T.BEGIN_WHITESPACE&&k.state!==T.TEXT&&Et(k,"Unexpected end"),F(k),k.c="",k.closed=!0,z(k,"onend"),r.call(k,k.strict,k.opt),k}function lt(k,L){if(typeof k!="object"||!(k instanceof r))throw new Error("bad call to strictFail");k.strict&&Et(k,L)}function Mt(k){k.strict||(k.tagName=k.tagName[k.looseCase]());var L=k.tags[k.tags.length-1]||k,W=k.tag={name:k.tagName,attributes:{}};k.opt.xmlns&&(W.ns=L.ns),k.attribList.length=0,I(k,"onopentagstart",W)}function zt(k,L){var W=k.indexOf(":"),q=W<0?["",k]:k.split(":"),Tt=q[0],Rt=q[1];return L&&k==="xmlns"&&(Tt="xmlns",Rt=""),{prefix:Tt,local:Rt}}function G(k){if(k.strict||(k.attribName=k.attribName[k.looseCase]()),k.attribList.indexOf(k.attribName)!==-1||k.tag.attributes.hasOwnProperty(k.attribName)){k.attribName=k.attribValue="";return}if(k.opt.xmlns){var L=zt(k.attribName,!0),W=L.prefix,q=L.local;if(W==="xmlns")if(q==="xml"&&k.attribValue!==_)lt(k,"xml: prefix must be bound to "+_+`
Actual: `+k.attribValue);else if(q==="xmlns"&&k.attribValue!==E)lt(k,"xmlns: prefix must be bound to "+E+`
Actual: `+k.attribValue);else{var Tt=k.tag,Rt=k.tags[k.tags.length-1]||k;Tt.ns===Rt.ns&&(Tt.ns=Object.create(Rt.ns)),Tt.ns[q]=k.attribValue}k.attribList.push([k.attribName,k.attribValue])}else k.tag.attributes[k.attribName]=k.attribValue,I(k,"onattribute",{name:k.attribName,value:k.attribValue});k.attribName=k.attribValue=""}function H(k,L){if(k.opt.xmlns){var W=k.tag,q=zt(k.tagName);W.prefix=q.prefix,W.local=q.local,W.uri=W.ns[q.prefix]||"",W.prefix&&!W.uri&&(lt(k,"Unbound namespace prefix: "+JSON.stringify(k.tagName)),W.uri=q.prefix);var Tt=k.tags[k.tags.length-1]||k;W.ns&&Tt.ns!==W.ns&&Object.keys(W.ns).forEach(function(Vt){I(k,"onopennamespace",{prefix:Vt,uri:W.ns[Vt]})});for(var Rt=0,Ct=k.attribList.length;Rt<Ct;Rt++){var dt=k.attribList[Rt],mt=dt[0],kt=dt[1],Lt=zt(mt,!0),Bt=Lt.prefix,te=Lt.local,It=Bt===""?"":W.ns[Bt]||"",Xt={name:mt,value:kt,prefix:Bt,local:te,uri:It};Bt&&Bt!=="xmlns"&&!It&&(lt(k,"Unbound namespace prefix: "+JSON.stringify(Bt)),Xt.uri=Bt),k.tag.attributes[mt]=Xt,I(k,"onattribute",Xt)}k.attribList.length=0}k.tag.isSelfClosing=!!L,k.sawRoot=!0,k.tags.push(k.tag),I(k,"onopentag",k.tag),L||(!k.noscript&&k.tagName.toLowerCase()==="script"?k.state=T.SCRIPT:k.state=T.TEXT,k.tag=null,k.tagName=""),k.attribName=k.attribValue="",k.attribList.length=0}function K(k){if(!k.tagName){lt(k,"Weird empty close tag."),k.textNode+="</>",k.state=T.TEXT;return}if(k.script){if(k.tagName!=="script"){k.script+="</"+k.tagName+">",k.tagName="",k.state=T.SCRIPT;return}I(k,"onscript",k.script),k.script=""}var L=k.tags.length,W=k.tagName;k.strict||(W=W[k.looseCase]());for(var q=W;L--;){var Tt=k.tags[L];if(Tt.name!==q)lt(k,"Unexpected close tag");else break}if(L<0){lt(k,"Unmatched closing tag: "+k.tagName),k.textNode+="</"+k.tagName+">",k.state=T.TEXT;return}k.tagName=W;for(var Rt=k.tags.length;Rt-- >L;){var Ct=k.tag=k.tags.pop();k.tagName=k.tag.name,I(k,"onclosetag",k.tagName);var dt={};for(var mt in Ct.ns)dt[mt]=Ct.ns[mt];var kt=k.tags[k.tags.length-1]||k;k.opt.xmlns&&Ct.ns!==kt.ns&&Object.keys(Ct.ns).forEach(function(Lt){var Bt=Ct.ns[Lt];I(k,"onclosenamespace",{prefix:Lt,uri:Bt})})}L===0&&(k.closedRoot=!0),k.tagName=k.attribValue=k.attribName="",k.attribList.length=0,k.state=T.TEXT}function nt(k){var L=k.entity,W=L.toLowerCase(),q,Tt="";return k.ENTITIES[L]?k.ENTITIES[L]:k.ENTITIES[W]?k.ENTITIES[W]:(L=W,L.charAt(0)==="#"&&(L.charAt(1)==="x"?(L=L.slice(2),q=parseInt(L,16),Tt=q.toString(16)):(L=L.slice(1),q=parseInt(L,10),Tt=q.toString(10))),L=L.replace(/^0+/,""),isNaN(q)||Tt.toLowerCase()!==L?(lt(k,"Invalid character entity"),"&"+k.entity+";"):String.fromCodePoint(q))}function tt(k,L){L==="<"?(k.state=T.OPEN_WAKA,k.startTagPosition=k.position):w(L)||(lt(k,"Non-whitespace before first tag."),k.textNode=L,k.state=T.TEXT)}function xt(k,L){var W="";return L<k.length&&(W=k.charAt(L)),W}function wt(k){var L=this;if(this.error)throw this.error;if(L.closed)return Et(L,"Cannot write after close. Assign an onready handler.");if(k===null)return it(L);typeof k=="object"&&(k=k.toString());for(var W=0,q="";q=xt(k,W++),L.c=q,!!q;)switch(L.trackPosition&&(L.position++,q===`
`?(L.line++,L.column=0):L.column++),L.state){case T.BEGIN:if(L.state=T.BEGIN_WHITESPACE,q==="\uFEFF")continue;tt(L,q);continue;case T.BEGIN_WHITESPACE:tt(L,q);continue;case T.TEXT:if(L.sawRoot&&!L.closedRoot){for(var Tt=W-1;q&&q!=="<"&&q!=="&";)q=xt(k,W++),q&&L.trackPosition&&(L.position++,q===`
`?(L.line++,L.column=0):L.column++);L.textNode+=k.substring(Tt,W-1)}q==="<"&&!(L.sawRoot&&L.closedRoot&&!L.strict)?(L.state=T.OPEN_WAKA,L.startTagPosition=L.position):(!w(q)&&(!L.sawRoot||L.closedRoot)&&lt(L,"Text data outside of root node."),q==="&"?L.state=T.TEXT_ENTITY:L.textNode+=q);continue;case T.SCRIPT:q==="<"?L.state=T.SCRIPT_ENDING:L.script+=q;continue;case T.SCRIPT_ENDING:q==="/"?L.state=T.CLOSE_TAG:(L.script+="<"+q,L.state=T.SCRIPT);continue;case T.OPEN_WAKA:if(q==="!")L.state=T.SGML_DECL,L.sgmlDecl="";else if(!w(q))if(B(O,q))L.state=T.OPEN_TAG,L.tagName=q;else if(q==="/")L.state=T.CLOSE_TAG,L.tagName="";else if(q==="?")L.state=T.PROC_INST,L.procInstName=L.procInstBody="";else{if(lt(L,"Unencoded <"),L.startTagPosition+1<L.position){var Rt=L.position-L.startTagPosition;q=new Array(Rt).join(" ")+q}L.textNode+="<"+q,L.state=T.TEXT}continue;case T.SGML_DECL:(L.sgmlDecl+q).toUpperCase()===g?(I(L,"onopencdata"),L.state=T.CDATA,L.sgmlDecl="",L.cdata=""):L.sgmlDecl+q==="--"?(L.state=T.COMMENT,L.comment="",L.sgmlDecl=""):(L.sgmlDecl+q).toUpperCase()===v?(L.state=T.DOCTYPE,(L.doctype||L.sawRoot)&&lt(L,"Inappropriately located doctype declaration"),L.doctype="",L.sgmlDecl=""):q===">"?(I(L,"onsgmldeclaration",L.sgmlDecl),L.sgmlDecl="",L.state=T.TEXT):(C(q)&&(L.state=T.SGML_DECL_QUOTED),L.sgmlDecl+=q);continue;case T.SGML_DECL_QUOTED:q===L.q&&(L.state=T.SGML_DECL,L.q=""),L.sgmlDecl+=q;continue;case T.DOCTYPE:q===">"?(L.state=T.TEXT,I(L,"ondoctype",L.doctype),L.doctype=!0):(L.doctype+=q,q==="["?L.state=T.DOCTYPE_DTD:C(q)&&(L.state=T.DOCTYPE_QUOTED,L.q=q));continue;case T.DOCTYPE_QUOTED:L.doctype+=q,q===L.q&&(L.q="",L.state=T.DOCTYPE);continue;case T.DOCTYPE_DTD:L.doctype+=q,q==="]"?L.state=T.DOCTYPE:C(q)&&(L.state=T.DOCTYPE_DTD_QUOTED,L.q=q);continue;case T.DOCTYPE_DTD_QUOTED:L.doctype+=q,q===L.q&&(L.state=T.DOCTYPE_DTD,L.q="");continue;case T.COMMENT:q==="-"?L.state=T.COMMENT_ENDING:L.comment+=q;continue;case T.COMMENT_ENDING:q==="-"?(L.state=T.COMMENT_ENDED,L.comment=at(L.opt,L.comment),L.comment&&I(L,"oncomment",L.comment),L.comment=""):(L.comment+="-"+q,L.state=T.COMMENT);continue;case T.COMMENT_ENDED:q!==">"?(lt(L,"Malformed comment"),L.comment+="--"+q,L.state=T.COMMENT):L.state=T.TEXT;continue;case T.CDATA:q==="]"?L.state=T.CDATA_ENDING:L.cdata+=q;continue;case T.CDATA_ENDING:q==="]"?L.state=T.CDATA_ENDING_2:(L.cdata+="]"+q,L.state=T.CDATA);continue;case T.CDATA_ENDING_2:q===">"?(L.cdata&&I(L,"oncdata",L.cdata),I(L,"onclosecdata"),L.cdata="",L.state=T.TEXT):q==="]"?L.cdata+="]":(L.cdata+="]]"+q,L.state=T.CDATA);continue;case T.PROC_INST:q==="?"?L.state=T.PROC_INST_ENDING:w(q)?L.state=T.PROC_INST_BODY:L.procInstName+=q;continue;case T.PROC_INST_BODY:if(!L.procInstBody&&w(q))continue;q==="?"?L.state=T.PROC_INST_ENDING:L.procInstBody+=q;continue;case T.PROC_INST_ENDING:q===">"?(I(L,"onprocessinginstruction",{name:L.procInstName,body:L.procInstBody}),L.procInstName=L.procInstBody="",L.state=T.TEXT):(L.procInstBody+="?"+q,L.state=T.PROC_INST_BODY);continue;case T.OPEN_TAG:B(S,q)?L.tagName+=q:(Mt(L),q===">"?H(L):q==="/"?L.state=T.OPEN_TAG_SLASH:(w(q)||lt(L,"Invalid character in tag name"),L.state=T.ATTRIB));continue;case T.OPEN_TAG_SLASH:q===">"?(H(L,!0),K(L)):(lt(L,"Forward-slash in opening tag not followed by >"),L.state=T.ATTRIB);continue;case T.ATTRIB:if(w(q))continue;q===">"?H(L):q==="/"?L.state=T.OPEN_TAG_SLASH:B(O,q)?(L.attribName=q,L.attribValue="",L.state=T.ATTRIB_NAME):lt(L,"Invalid attribute name");continue;case T.ATTRIB_NAME:q==="="?L.state=T.ATTRIB_VALUE:q===">"?(lt(L,"Attribute without value"),L.attribValue=L.attribName,G(L),H(L)):w(q)?L.state=T.ATTRIB_NAME_SAW_WHITE:B(S,q)?L.attribName+=q:lt(L,"Invalid attribute name");continue;case T.ATTRIB_NAME_SAW_WHITE:if(q==="=")L.state=T.ATTRIB_VALUE;else{if(w(q))continue;lt(L,"Attribute without value"),L.tag.attributes[L.attribName]="",L.attribValue="",I(L,"onattribute",{name:L.attribName,value:""}),L.attribName="",q===">"?H(L):B(O,q)?(L.attribName=q,L.state=T.ATTRIB_NAME):(lt(L,"Invalid attribute name"),L.state=T.ATTRIB)}continue;case T.ATTRIB_VALUE:if(w(q))continue;C(q)?(L.q=q,L.state=T.ATTRIB_VALUE_QUOTED):(lt(L,"Unquoted attribute value"),L.state=T.ATTRIB_VALUE_UNQUOTED,L.attribValue=q);continue;case T.ATTRIB_VALUE_QUOTED:if(q!==L.q){q==="&"?L.state=T.ATTRIB_VALUE_ENTITY_Q:L.attribValue+=q;continue}G(L),L.q="",L.state=T.ATTRIB_VALUE_CLOSED;continue;case T.ATTRIB_VALUE_CLOSED:w(q)?L.state=T.ATTRIB:q===">"?H(L):q==="/"?L.state=T.OPEN_TAG_SLASH:B(O,q)?(lt(L,"No whitespace between attributes"),L.attribName=q,L.attribValue="",L.state=T.ATTRIB_NAME):lt(L,"Invalid attribute name");continue;case T.ATTRIB_VALUE_UNQUOTED:if(!A(q)){q==="&"?L.state=T.ATTRIB_VALUE_ENTITY_U:L.attribValue+=q;continue}G(L),q===">"?H(L):L.state=T.ATTRIB;continue;case T.CLOSE_TAG:if(L.tagName)q===">"?K(L):B(S,q)?L.tagName+=q:L.script?(L.script+="</"+L.tagName,L.tagName="",L.state=T.SCRIPT):(w(q)||lt(L,"Invalid tagname in closing tag"),L.state=T.CLOSE_TAG_SAW_WHITE);else{if(w(q))continue;P(O,q)?L.script?(L.script+="</"+q,L.state=T.SCRIPT):lt(L,"Invalid tagname in closing tag."):L.tagName=q}continue;case T.CLOSE_TAG_SAW_WHITE:if(w(q))continue;q===">"?K(L):lt(L,"Invalid characters in closing tag");continue;case T.TEXT_ENTITY:case T.ATTRIB_VALUE_ENTITY_Q:case T.ATTRIB_VALUE_ENTITY_U:var Ct,dt;switch(L.state){case T.TEXT_ENTITY:Ct=T.TEXT,dt="textNode";break;case T.ATTRIB_VALUE_ENTITY_Q:Ct=T.ATTRIB_VALUE_QUOTED,dt="attribValue";break;case T.ATTRIB_VALUE_ENTITY_U:Ct=T.ATTRIB_VALUE_UNQUOTED,dt="attribValue";break}q===";"?(L[dt]+=nt(L),L.entity="",L.state=Ct):B(L.entity.length?m:x,q)?L.entity+=q:(lt(L,"Invalid character in entity name"),L[dt]+="&"+L.entity+q,L.entity="",L.state=Ct);continue;default:throw new Error(L,"Unknown state: "+L.state)}return L.position>=L.bufferCheckPosition&&a(L),L}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var k=String.fromCharCode,L=Math.floor,W=function(){var q=16384,Tt=[],Rt,Ct,dt=-1,mt=arguments.length;if(!mt)return"";for(var kt="";++dt<mt;){var Lt=Number(arguments[dt]);if(!isFinite(Lt)||Lt<0||Lt>1114111||L(Lt)!==Lt)throw RangeError("Invalid code point: "+Lt);Lt<=65535?Tt.push(Lt):(Lt-=65536,Rt=(Lt>>10)+55296,Ct=Lt%1024+56320,Tt.push(Rt,Ct)),(dt+1===mt||Tt.length>q)&&(kt+=k.apply(null,Tt),Tt.length=0)}return kt};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:W,configurable:!0,writable:!0}):String.fromCodePoint=W}()})(t)}(Qy)),Qy}var rd={exports:{}},gw;function m4(){if(gw)return rd.exports;gw=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(C,A,B){return Function.prototype.apply.call(C,A,B)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:n=function(C){return Object.getOwnPropertyNames(C)};function r(w){console&&console.warn&&console.warn(w)}var a=Number.isNaN||function(C){return C!==C};function s(){s.init.call(this)}rd.exports=s,rd.exports.once=S,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(w){if(typeof w!="number"||w<0||a(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");u=w}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||a(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function f(w){return w._maxListeners===void 0?s.defaultMaxListeners:w._maxListeners}s.prototype.getMaxListeners=function(){return f(this)},s.prototype.emit=function(C){for(var A=[],B=1;B<arguments.length;B++)A.push(arguments[B]);var P=C==="error",T=this._events;if(T!==void 0)P=P&&T.error===void 0;else if(!P)return!1;if(P){var j;if(A.length>0&&(j=A[0]),j instanceof Error)throw j;var z=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw z.context=j,z}var I=T[C];if(I===void 0)return!1;if(typeof I=="function")e(I,this,A);else for(var F=I.length,at=E(I,F),B=0;B<F;++B)e(at[B],this,A);return!0};function h(w,C,A,B){var P,T,j;if(l(A),T=w._events,T===void 0?(T=w._events=Object.create(null),w._eventsCount=0):(T.newListener!==void 0&&(w.emit("newListener",C,A.listener?A.listener:A),T=w._events),j=T[C]),j===void 0)j=T[C]=A,++w._eventsCount;else if(typeof j=="function"?j=T[C]=B?[A,j]:[j,A]:B?j.unshift(A):j.push(A),P=f(w),P>0&&j.length>P&&!j.warned){j.warned=!0;var z=new Error("Possible EventEmitter memory leak detected. "+j.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");z.name="MaxListenersExceededWarning",z.emitter=w,z.type=C,z.count=j.length,r(z)}return w}s.prototype.addListener=function(C,A){return h(this,C,A,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(C,A){return h(this,C,A,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(w,C,A){var B={fired:!1,wrapFn:void 0,target:w,type:C,listener:A},P=p.bind(B);return P.listener=A,B.wrapFn=P,P}s.prototype.once=function(C,A){return l(A),this.on(C,g(this,C,A)),this},s.prototype.prependOnceListener=function(C,A){return l(A),this.prependListener(C,g(this,C,A)),this},s.prototype.removeListener=function(C,A){var B,P,T,j,z;if(l(A),P=this._events,P===void 0)return this;if(B=P[C],B===void 0)return this;if(B===A||B.listener===A)--this._eventsCount===0?this._events=Object.create(null):(delete P[C],P.removeListener&&this.emit("removeListener",C,B.listener||A));else if(typeof B!="function"){for(T=-1,j=B.length-1;j>=0;j--)if(B[j]===A||B[j].listener===A){z=B[j].listener,T=j;break}if(T<0)return this;T===0?B.shift():M(B,T),B.length===1&&(P[C]=B[0]),P.removeListener!==void 0&&this.emit("removeListener",C,z||A)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(C){var A,B,P;if(B=this._events,B===void 0)return this;if(B.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):B[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete B[C]),this;if(arguments.length===0){var T=Object.keys(B),j;for(P=0;P<T.length;++P)j=T[P],j!=="removeListener"&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(A=B[C],typeof A=="function")this.removeListener(C,A);else if(A!==void 0)for(P=A.length-1;P>=0;P--)this.removeListener(C,A[P]);return this};function v(w,C,A){var B=w._events;if(B===void 0)return[];var P=B[C];return P===void 0?[]:typeof P=="function"?A?[P.listener||P]:[P]:A?O(P):E(P,P.length)}s.prototype.listeners=function(C){return v(this,C,!0)},s.prototype.rawListeners=function(C){return v(this,C,!1)},s.listenerCount=function(w,C){return typeof w.listenerCount=="function"?w.listenerCount(C):_.call(w,C)},s.prototype.listenerCount=_;function _(w){var C=this._events;if(C!==void 0){var A=C[w];if(typeof A=="function")return 1;if(A!==void 0)return A.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function E(w,C){for(var A=new Array(C),B=0;B<C;++B)A[B]=w[B];return A}function M(w,C){for(;C+1<w.length;C++)w[C]=w[C+1];w.pop()}function O(w){for(var C=new Array(w.length),A=0;A<C.length;++A)C[A]=w[A].listener||w[A];return C}function S(w,C){return new Promise(function(A,B){function P(j){w.removeListener(C,T),B(j)}function T(){typeof w.removeListener=="function"&&w.removeListener("error",P),A([].slice.call(arguments))}m(w,C,T,{once:!0}),C!=="error"&&x(w,P,{once:!0})})}function x(w,C,A){typeof w.on=="function"&&m(w,"error",C,A)}function m(w,C,A,B){if(typeof w.on=="function")B.once?w.once(C,A):w.on(C,A);else if(typeof w.addEventListener=="function")w.addEventListener(C,function P(T){B.once&&w.removeEventListener(C,P),A(T)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w)}return rd.exports}var id={},yw;function v4(){return yw||(yw=1,(function(){id.stripBOM=function(t){return t[0]==="\uFEFF"?t.substring(1):t}}).call(id)),id}var Go={},mw;function cC(){return mw||(mw=1,(function(){var t;t=new RegExp(/(?!xmlns)^.*:/),Go.normalize=function(e){return e.toLowerCase()},Go.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},Go.stripPrefix=function(e){return e.replace(t,"")},Go.parseNumbers=function(e){return isNaN(e)||(e=e%1===0?parseInt(e,10):parseFloat(e)),e},Go.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e=e.toLowerCase()==="true"),e}}).call(Go)),Go}const _4={},x4=Object.freeze(Object.defineProperty({__proto__:null,default:_4},Symbol.toStringTag,{value:"Module"})),b4=ON(x4);var vw;function E4(){return vw||(vw=1,function(t){(function(){var e,n,r,a,s,u,l,f,h,p=function(_,E){return function(){return _.apply(E,arguments)}},g=function(_,E){for(var M in E)v.call(E,M)&&(_[M]=E[M]);function O(){this.constructor=_}return O.prototype=E.prototype,_.prototype=new O,_.__super__=E.prototype,_},v={}.hasOwnProperty;f=y4(),a=m4(),e=v4(),l=cC(),h=b4.setImmediate,n=n0().defaults,s=function(_){return typeof _=="object"&&_!=null&&Object.keys(_).length===0},u=function(_,E,M){var O,S,x;for(O=0,S=_.length;O<S;O++)x=_[O],E=x(E,M);return E},r=function(_,E,M){var O;return O=Object.create(null),O.value=M,O.writable=!0,O.enumerable=!0,O.configurable=!0,Object.defineProperty(_,E,O)},t.Parser=function(_){g(E,_);function E(M){this.parseStringPromise=p(this.parseStringPromise,this),this.parseString=p(this.parseString,this),this.reset=p(this.reset,this),this.assignOrPush=p(this.assignOrPush,this),this.processAsync=p(this.processAsync,this);var O,S,x;if(!(this instanceof t.Parser))return new t.Parser(M);this.options={},S=n["0.2"];for(O in S)v.call(S,O)&&(x=S[O],this.options[O]=x);for(O in M)v.call(M,O)&&(x=M[O],this.options[O]=x);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(l.normalize)),this.reset()}return E.prototype.processAsync=function(){var M,O;try{return this.remaining.length<=this.options.chunkSize?(M=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(M),this.saxParser.close()):(M=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(M),h(this.processAsync))}catch(S){if(O=S,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(O)}},E.prototype.assignOrPush=function(M,O,S){return O in M?(M[O]instanceof Array||r(M,O,[M[O]]),M[O].push(S)):this.options.explicitArray?r(M,O,[S]):r(M,O,S)},E.prototype.reset=function(){var M,O,S,x;return this.removeAllListeners(),this.saxParser=f.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(m){return function(w){if(m.saxParser.resume(),!m.saxParser.errThrown)return m.saxParser.errThrown=!0,m.emit("error",w)}}(this),this.saxParser.onend=function(m){return function(){if(!m.saxParser.ended)return m.saxParser.ended=!0,m.emit("end",m.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,x=[],M=this.options.attrkey,O=this.options.charkey,this.saxParser.onopentag=function(m){return function(w){var C,A,B,P,T;if(B={},B[O]="",!m.options.ignoreAttrs){T=w.attributes;for(C in T)v.call(T,C)&&(!(M in B)&&!m.options.mergeAttrs&&(B[M]={}),A=m.options.attrValueProcessors?u(m.options.attrValueProcessors,w.attributes[C],C):w.attributes[C],P=m.options.attrNameProcessors?u(m.options.attrNameProcessors,C):C,m.options.mergeAttrs?m.assignOrPush(B,P,A):r(B[M],P,A))}return B["#name"]=m.options.tagNameProcessors?u(m.options.tagNameProcessors,w.name):w.name,m.options.xmlns&&(B[m.options.xmlnskey]={uri:w.uri,local:w.local}),x.push(B)}}(this),this.saxParser.onclosetag=function(m){return function(){var w,C,A,B,P,T,j,z,I,F;if(T=x.pop(),P=T["#name"],(!m.options.explicitChildren||!m.options.preserveChildrenOrder)&&delete T["#name"],T.cdata===!0&&(w=T.cdata,delete T.cdata),I=x[x.length-1],T[O].match(/^\s*$/)&&!w?(C=T[O],delete T[O]):(m.options.trim&&(T[O]=T[O].trim()),m.options.normalize&&(T[O]=T[O].replace(/\s{2,}/g," ").trim()),T[O]=m.options.valueProcessors?u(m.options.valueProcessors,T[O],P):T[O],Object.keys(T).length===1&&O in T&&!m.EXPLICIT_CHARKEY&&(T=T[O])),s(T)&&(typeof m.options.emptyTag=="function"?T=m.options.emptyTag():T=m.options.emptyTag!==""?m.options.emptyTag:C),m.options.validator!=null&&(F="/"+function(){var at,Et,it;for(it=[],at=0,Et=x.length;at<Et;at++)B=x[at],it.push(B["#name"]);return it}().concat(P).join("/"),function(){var at;try{return T=m.options.validator(F,I&&I[P],T)}catch(Et){return at=Et,m.emit("error",at)}}()),m.options.explicitChildren&&!m.options.mergeAttrs&&typeof T=="object"){if(!m.options.preserveChildrenOrder)B={},m.options.attrkey in T&&(B[m.options.attrkey]=T[m.options.attrkey],delete T[m.options.attrkey]),!m.options.charsAsChildren&&m.options.charkey in T&&(B[m.options.charkey]=T[m.options.charkey],delete T[m.options.charkey]),Object.getOwnPropertyNames(T).length>0&&(B[m.options.childkey]=T),T=B;else if(I){I[m.options.childkey]=I[m.options.childkey]||[],j={};for(A in T)v.call(T,A)&&r(j,A,T[A]);I[m.options.childkey].push(j),delete T["#name"],Object.keys(T).length===1&&O in T&&!m.EXPLICIT_CHARKEY&&(T=T[O])}}return x.length>0?m.assignOrPush(I,P,T):(m.options.explicitRoot&&(z=T,T={},r(T,P,z)),m.resultObject=T,m.saxParser.ended=!0,m.emit("end",m.resultObject))}}(this),S=function(m){return function(w){var C,A;if(A=x[x.length-1],A)return A[O]+=w,m.options.explicitChildren&&m.options.preserveChildrenOrder&&m.options.charsAsChildren&&(m.options.includeWhiteChars||w.replace(/\\n/g,"").trim()!=="")&&(A[m.options.childkey]=A[m.options.childkey]||[],C={"#name":"__text__"},C[O]=w,m.options.normalize&&(C[O]=C[O].replace(/\s{2,}/g," ").trim()),A[m.options.childkey].push(C)),A}}(this),this.saxParser.ontext=S,this.saxParser.oncdata=function(m){return function(w){var C;if(C=S(w),C)return C.cdata=!0}}()},E.prototype.parseString=function(M,O){var S;O!=null&&typeof O=="function"&&(this.on("end",function(x){return this.reset(),O(null,x)}),this.on("error",function(x){return this.reset(),O(x)}));try{return M=M.toString(),M.trim()===""?(this.emit("end",null),!0):(M=e.stripBOM(M),this.options.async?(this.remaining=M,h(this.processAsync),this.saxParser):this.saxParser.write(M).close())}catch(x){if(S=x,this.saxParser.errThrown||this.saxParser.ended){if(this.saxParser.ended)throw S}else return this.emit("error",S),this.saxParser.errThrown=!0}},E.prototype.parseStringPromise=function(M){return new Promise(function(O){return function(S,x){return O.parseString(M,function(m,w){return m?x(m):S(w)})}}(this))},E}(a),t.parseString=function(_,E,M){var O,S,x;return M!=null?(typeof M=="function"&&(O=M),typeof E=="object"&&(S=E)):(typeof E=="function"&&(O=E),S={}),x=new t.Parser(S),x.parseString(_,O)},t.parseStringPromise=function(_,E){var M,O;return typeof E=="object"&&(M=E),O=new t.Parser(M),O.parseStringPromise(_)}}).call(td)}(td)),td}var _w;function w4(){return _w||(_w=1,(function(){var t,e,n,r,a=function(u,l){for(var f in l)s.call(l,f)&&(u[f]=l[f]);function h(){this.constructor=u}return h.prototype=l.prototype,u.prototype=new h,u.__super__=l.prototype,u},s={}.hasOwnProperty;e=n0(),t=u4(),n=E4(),r=cC(),mi.defaults=e.defaults,mi.processors=r,mi.ValidationError=function(u){a(l,u);function l(f){this.message=f}return l}(Error),mi.Builder=t.Builder,mi.Parser=n.Parser,mi.parseString=n.parseString,mi.parseStringPromise=n.parseStringPromise}).call(mi)),mi}var m0=w4();const v0=ua(m0);function lC(){return{dcrgraph:{specification:{resources:{events:{event:[]},subProcesses:{subProcess:[]},labels:{label:[]},labelMappings:{labelMapping:[]},variables:{variable:[]},expressions:{expression:[]},variableAccesses:{readAccessess:{readAccess:[]},writeAccessess:{writeAccess:[]}}},constraints:{conditions:{condition:[]},responses:{response:[]},coresponces:{coresponce:[]},excludes:{exclude:[]},includes:{include:[]},milestones:{milestone:[]},updates:{update:[]},spawns:{spawn:[]}}},runtime:{marking:{globalStore:{},executed:{event:[]},included:{event:[]},pendingResponses:{event:[]}}}}}}function _0(t,e){e.description&&e.description.trim().length>0&&(t.dcrgraph.specification.resources.labels.label.some(n=>n.$.id===e.description)||t.dcrgraph.specification.resources.labels.label.push({$:{id:e.description}}),t.dcrgraph.specification.resources.labelMappings.labelMapping.push({$:{eventId:e.id,labelId:e.description}}))}function fC(t,e){e.role&&(t.custom||(t.custom={}),ft(t.custom,{roles:{role:{_:e.role}}}))}function Sh(t,e){t.custom||(t.custom={}),ft(t.custom,{visualization:{location:{$:{xLoc:e.di.bounds.x,yLoc:e.di.bounds.y}},size:{$:{width:e.di.bounds.width,height:e.di.bounds.height}}}})}function dC(t,e){e.included&&t.dcrgraph.runtime.marking.included.event.push({$:{id:e.id}}),e.executed&&t.dcrgraph.runtime.marking.executed.event.push({$:{id:e.id}}),e.pending&&t.dcrgraph.runtime.marking.pendingResponses.event.push({$:{id:e.id}})}function T4(t,e,n,r){_0(t,n),fC(r,n),dC(t,n),Sh(r,n),e.push(r)}function S4(t,e,n,r){ft(r.$,{type:"nesting"}),_0(t,n),fC(r,n),Sh(r,n),r.event=[],e.push(r);for(let a of n.boardElements||[])Ch(t,r.event,a)}function C4(t,e,n,r){if(n["multi-instance"]){ft(r.$,{name:n.description,multiInstance:n["multi-instance"]}),Sh(r,n),r.dcrgraph=lC().dcrgraph,t.dcrgraph.specification.resources.subProcesses.subProcess.push(r);for(let a of n.boardElements||[])Ch(r,r.dcrgraph.specification.resources.events.event,a)}else{ft(r.$,{type:"subprocess"}),_0(t,n),dC(t,n),Sh(r,n),r.event=[],e.push(r);for(let a of n.boardElements||[])Ch(t,r.event,a)}}function M4(t,e,n,r){r={$:{sourceId:n.sourceRef.id,targetId:n.targetRef.id},custom:{waypoints:{waypoint:n.di.waypoint.map(a=>({$:{x:a.x,y:a.y}}))},id:{$:{id:n.id}}}},t.dcrgraph.specification.constraints[`${n.type}s`][n.type].push(r)}function Ch(t,e,n){let r={$:{id:n.id}};switch(n.$type){case"dcr:Event":T4(t,e,n,r);break;case"dcr:Nesting":S4(t,e,n,r);break;case"dcr:SubProcess":C4(t,e,n,r);break;case"dcr:Relation":M4(t,e,n,r);break;default:console.warn("unknown element type",n.$type);break}}function A4(t,e){return new Promise((n,r)=>{if(!e){var a=new Error("no definitions loaded");return r(a)}let s=lC();if(e.rootElements[0].boardElements)for(let l of e.rootElements[0].boardElements)Ch(s,s.dcrgraph.specification.resources.events.event,l);let u=new v0.Builder;return n({xml:u.buildObject(s)})})}function O4(){return{"dcr:definitions":{$:{"xmlns:dcr":"http://tk/schema/dcr","xmlns:dcrDi":"http://tk/schema/dcrDi","xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC"},"dcr:dcrGraph":{$:{id:"dcrGraph"},"dcr:event":[],"dcr:nesting":[],"dcr:subProcess":[],"dcr:relation":[]},"dcrDi:dcrRootBoard":{$:{id:"dcrRootBoard"},"dcrDi:dcrPlane":{$:{id:"dcrPlane",boardElement:"dcrGraph"},"dcrDi:dcrShape":[],"dcrDi:relation":[]}}}}}function rm(t,e){var n,r;return(r=(n=e.specification[0].resources[0].labelMappings[0].labelMapping)==null?void 0:n.find(a=>a.$.eventId===t))==null?void 0:r.$.labelId}function xw(t,e){var n,r;return((r=(n=e.runtime[0].marking[0].included[0])==null?void 0:n.event)==null?void 0:r.find(a=>a.$.id===t))!==void 0}function bw(t,e){var n,r;return((r=(n=e.runtime[0].marking[0].executed[0])==null?void 0:n.event)==null?void 0:r.find(a=>a.$.id===t))!==void 0}function Ew(t,e){var n,r;return((r=(n=e.runtime[0].marking[0].pendingResponses[0])==null?void 0:n.event)==null?void 0:r.find(a=>a.$.id===t))!==void 0}function Mh(t,e,n,r,a){var s,u,l,f,h,p,g,v,_,E,M,O,S,x,m,w,C,A,B,P,T,j,z,I,F,at,Et,it,lt,Mt,zt,G,H,K,nt,tt,xt,wt,k,L,W,q,Tt,Rt,Ct,dt,mt,kt,Lt,Bt,te,It,Xt,Vt;if(a.set(t.$.id,r),!t.$.type)r["dcr:event"].push({$:{id:t.$.id,role:(l=(u=(s=t.custom[0])==null?void 0:s.roles)==null?void 0:u[0])==null?void 0:l.role[0],description:rm(t.$.id,e),included:xw(t.$.id,e),executed:bw(t.$.id,e),pending:Ew(t.$.id,e)}}),n["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:dcrShape"].push({$:{id:`${t.$.id}_di`,boardElement:t.$.id},"dc:Bounds":{$:{x:(g=(p=(h=(f=t.custom[0])==null?void 0:f.visualization[0])==null?void 0:h.location[0])==null?void 0:p.$)==null?void 0:g.xLoc,y:(M=(E=(_=(v=t.custom[0])==null?void 0:v.visualization[0])==null?void 0:_.location[0])==null?void 0:E.$)==null?void 0:M.yLoc,width:(m=(x=(S=(O=t.custom[0])==null?void 0:O.visualization[0])==null?void 0:S.size[0])==null?void 0:x.$)==null?void 0:m.width,height:(B=(A=(C=(w=t.custom[0])==null?void 0:w.visualization[0])==null?void 0:C.size[0])==null?void 0:A.$)==null?void 0:B.height}}});else if(t.$.type==="nesting"){if(r["dcr:nesting"].push({$:{id:t.$.id,role:(j=(T=(P=t.custom[0])==null?void 0:P.roles)==null?void 0:T[0])==null?void 0:j.role[0],description:rm(t.$.id,e)},"dcr:event":[],"dcr:nesting":[],"dcr:subProcess":[],"dcr:relation":[]}),n["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:dcrShape"].push({$:{id:`${t.$.id}_di`,boardElement:t.$.id},"dc:Bounds":{$:{x:(at=(F=(I=(z=t.custom[0])==null?void 0:z.visualization[0])==null?void 0:I.location[0])==null?void 0:F.$)==null?void 0:at.xLoc,y:(Mt=(lt=(it=(Et=t.custom[0])==null?void 0:Et.visualization[0])==null?void 0:it.location[0])==null?void 0:lt.$)==null?void 0:Mt.yLoc,width:(K=(H=(G=(zt=t.custom[0])==null?void 0:zt.visualization[0])==null?void 0:G.size[0])==null?void 0:H.$)==null?void 0:K.width,height:(wt=(xt=(tt=(nt=t.custom[0])==null?void 0:nt.visualization[0])==null?void 0:tt.size[0])==null?void 0:xt.$)==null?void 0:wt.height}}}),t.event)for(let fe of t.event)Mh(fe,e,n,r["dcr:nesting"][r["dcr:nesting"].length-1],a)}else if(t.$.type==="subprocess"&&(r["dcr:subProcess"].push({$:{id:t.$.id,description:rm(t.$.id,e),included:xw(t.$.id,e),executed:bw(t.$.id,e),pending:Ew(t.$.id,e)},"dcr:event":[],"dcr:nesting":[],"dcr:subProcess":[],"dcr:relation":[]}),n["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:dcrShape"].push({$:{id:`${t.$.id}_di`,boardElement:t.$.id},"dc:Bounds":{$:{x:(q=(W=(L=(k=t.custom[0])==null?void 0:k.visualization[0])==null?void 0:L.location[0])==null?void 0:W.$)==null?void 0:q.xLoc,y:(dt=(Ct=(Rt=(Tt=t.custom[0])==null?void 0:Tt.visualization[0])==null?void 0:Rt.location[0])==null?void 0:Ct.$)==null?void 0:dt.yLoc,width:(Bt=(Lt=(kt=(mt=t.custom[0])==null?void 0:mt.visualization[0])==null?void 0:kt.size[0])==null?void 0:Lt.$)==null?void 0:Bt.width,height:(Vt=(Xt=(It=(te=t.custom[0])==null?void 0:te.visualization[0])==null?void 0:It.size[0])==null?void 0:Xt.$)==null?void 0:Vt.height}}}),t.event))for(let fe of t.event)Mh(fe,e,n,r["dcr:subProcess"][r["dcr:subProcess"].length-1],a)}function R4(t,e,n){var r,a,s,u,l,f,h,p,g,v,_,E,M,O,S,x;for(let m of Object.values(t.specification[0].resources[0].subProcesses[0].subProcess)){e["dcr:definitions"]["dcr:dcrGraph"]["dcr:subProcess"].push({$:{id:m.$.id,description:m.$.name,"multi-instance":!0,included:!0},"dcr:event":[],"dcr:nesting":[],"dcr:subProcess":[],"dcr:relation":[]}),e["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:dcrShape"].push({$:{id:`${m.$.id}_di`,boardElement:m.$.id},"dc:Bounds":{$:{x:(u=(s=(a=(r=m.custom[0])==null?void 0:r.visualization[0])==null?void 0:a.location[0])==null?void 0:s.$)==null?void 0:u.xLoc,y:(p=(h=(f=(l=m.custom[0])==null?void 0:l.visualization[0])==null?void 0:f.location[0])==null?void 0:h.$)==null?void 0:p.yLoc,width:(E=(_=(v=(g=m.custom[0])==null?void 0:g.visualization[0])==null?void 0:v.size[0])==null?void 0:_.$)==null?void 0:E.width,height:(x=(S=(O=(M=m.custom[0])==null?void 0:M.visualization[0])==null?void 0:O.size[0])==null?void 0:S.$)==null?void 0:x.height}}});for(let w of m.dcrgraph[0].specification[0].resources[0].events[0].event)Mh(w,m.dcrgraph[0],e,e["dcr:definitions"]["dcr:dcrGraph"]["dcr:subProcess"][e["dcr:definitions"]["dcr:dcrGraph"]["dcr:subProcess"].length-1],n);hC(m.dcrgraph[0],e,n)}}function hC(t,e,n){var r,a,s,u,l,f,h,p,g,v;for(let _ of Object.values(t.specification[0].constraints[0])){if(_[0]==="")continue;let E=Object.keys(_[0])[0];for(let M of Object.values(_[0])[0])n.get(M.$.sourceId)["dcr:relation"].push({$:{id:(s=(a=(r=M.custom[0])==null?void 0:r.id)==null?void 0:a[0])==null?void 0:s.$.id,type:E,sourceRef:M.$.sourceId,targetRef:M.$.targetId}}),e["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:relation"].push({$:{id:`${(f=(l=(u=M.custom[0])==null?void 0:u.id)==null?void 0:l[0])==null?void 0:f.$.id}_di`,boardElement:(g=(p=(h=M.custom[0])==null?void 0:h.id)==null?void 0:p[0])==null?void 0:g.$.id},"dcrDi:waypoint":(v=M.custom[0])==null?void 0:v.waypoints[0].waypoint})}}async function N4(t){try{const e=await m0.parseStringPromise(t),n=O4(),r=new Map;for(let u of e.dcrgraph.specification[0].resources[0].events[0].event)Mh(u,e.dcrgraph,n,n["dcr:definitions"]["dcr:dcrGraph"],r);return e.dcrgraph.specification[0].resources[0].subProcesses[0]!==""&&R4(e.dcrgraph,n,r),hC(e.dcrgraph,n,r),new v0.Builder().buildObject(n)}catch(e){console.error("Failed to parse custom XML",e)}}function D4(){return{"dcr:definitions":{$:{"xmlns:dcr":"http://tk/schema/dcr","xmlns:dcrDi":"http://tk/schema/dcrDi","xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC"},"dcr:dcrGraph":{$:{id:"dcrGraph"},"dcr:event":[],"dcr:nesting":[],"dcr:subProcess":[],"dcr:relation":[]},"dcrDi:dcrRootBoard":{$:{id:"dcrRootBoard"},"dcrDi:dcrPlane":{$:{id:"dcrPlane",boardElement:"dcrGraph"},"dcrDi:dcrShape":[],"dcrDi:relation":[]}}}}}function Vc(t,e){var n,r,a,s,u,l,f,h,p,g;if(e){const v=(l=(u=(s=(a=(r=(n=e==null?void 0:e.specification)==null?void 0:n[0])==null?void 0:r.resources)==null?void 0:a[0])==null?void 0:s.events)==null?void 0:u[0])==null?void 0:l.event;if(v)for(let _ of v){const E=Vc(t,(h=(f=_.template)==null?void 0:f[0])==null?void 0:h.dcrgraph[0]);if(E)return E}return(g=(p=e.specification[0].resources[0].labelMappings[0].labelMapping)==null?void 0:p.find(_=>_.$.eventId===t))==null?void 0:g.$.labelId}}function eh(t,e){var n,r,a,s,u,l,f,h,p,g,v,_,E,M,O;if(e){const S=(l=(u=(s=(a=(r=(n=e==null?void 0:e.specification)==null?void 0:n[0])==null?void 0:r.resources)==null?void 0:a[0])==null?void 0:s.events)==null?void 0:u[0])==null?void 0:l.event;if(S){for(let x of S)if(eh(t,(h=(f=x.template)==null?void 0:f[0])==null?void 0:h.dcrgraph[0]))return!0}return((O=(M=(E=(_=(v=(g=(p=e==null?void 0:e.runtime)==null?void 0:p[0])==null?void 0:g.marking)==null?void 0:v[0])==null?void 0:_.included)==null?void 0:E[0])==null?void 0:M.event)==null?void 0:O.find(x=>x.$.id===t))!==void 0}return!1}function im(t,e){var n,r;return((r=(n=e.runtime[0].marking[0].executed[0])==null?void 0:n.event)==null?void 0:r.find(a=>a.$.id===t))!==void 0}function om(t,e){var n,r;return((r=(n=e.runtime[0].marking[0].pendingResponses[0])==null?void 0:n.event)==null?void 0:r.find(a=>a.$.id===t))!==void 0}const pC=130,gC=150;function yC(t){var e,n,r,a,s,u,l,f,h,p;return t.event||((p=(h=(f=(l=(u=(s=(a=(r=(n=(e=t.template)==null?void 0:e[0])==null?void 0:n.dcrgraph)==null?void 0:r[0])==null?void 0:a.specification)==null?void 0:s[0])==null?void 0:u.resources)==null?void 0:l[0])==null?void 0:f.events)==null?void 0:h[0])==null?void 0:p.event)}function mC(t){var f,h,p,g,v,_,E,M,O,S,x,m,w,C,A,B,P,T;const e=parseInt((g=(p=(h=(f=t.custom[0])==null?void 0:f.visualization[0])==null?void 0:h.location[0])==null?void 0:p.$)==null?void 0:g.xLoc),n=parseInt((M=(E=(_=(v=t.custom[0])==null?void 0:v.visualization[0])==null?void 0:_.location[0])==null?void 0:E.$)==null?void 0:M.yLoc),r=(w=(m=(x=(S=(O=t.custom[0])==null?void 0:O.visualization[0])==null?void 0:S.size)==null?void 0:x[0])==null?void 0:m.$)==null?void 0:w.width,a=(T=(P=(B=(A=(C=t.custom[0])==null?void 0:C.visualization[0])==null?void 0:A.size)==null?void 0:B[0])==null?void 0:P.$)==null?void 0:T.height;if(r&&a)return{x:e+r,y:n+a};const s=e+pC,u=n+gC,l=yC(t);if(l){let[j,z]=l.reduce(function([I,F],at){let Et=mC(at);return[Math.max(I,Et.x+30),Math.max(F,Et.y+30)]},[s,u]);return{x:j,y:z}}return{x:s,y:u}}function Wc(t,e,n,r,a){var p,g,v,_,E,M,O,S,x,m,w,C,A,B;const s=parseInt((_=(v=(g=(p=t.custom[0])==null?void 0:p.visualization[0])==null?void 0:g.location[0])==null?void 0:v.$)==null?void 0:_.xLoc),u=parseInt((S=(O=(M=(E=t.custom[0])==null?void 0:E.visualization[0])==null?void 0:M.location[0])==null?void 0:O.$)==null?void 0:S.yLoc),l=mC(t),f=l.x-s,h=l.y-u;if(a.set(t.$.id,r),!t.$.type)r["dcr:event"].push({$:{id:t.$.id,role:(w=(m=(x=t.custom[0])==null?void 0:x.roles)==null?void 0:m[0])==null?void 0:w.role.join(", "),description:Vc(t.$.id,e),included:eh(t.$.id,e),executed:im(t.$.id,e),pending:om(t.$.id,e)}}),n["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:dcrShape"].push({$:{id:`${t.$.id}_id`,boardElement:t.$.id},"dc:Bounds":{$:{x:s,y:u,width:pC,height:gC}}});else if(t.$.type==="nesting"){if(r["dcr:nesting"].push({$:{id:t.$.id,role:(B=(A=(C=t.custom[0])==null?void 0:C.roles)==null?void 0:A[0])==null?void 0:B.role[0],description:Vc(t.$.id,e)},"dcr:event":[],"dcr:nesting":[],"dcr:subProcess":[],"dcr:relation":[]}),n["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:dcrShape"].push({$:{id:`${t.$.id}_di`,boardElement:t.$.id},"dc:Bounds":{$:{x:s,y:u,width:f,height:h}}}),t.event)for(let P of t.event)Wc(P,e,n,r["dcr:nesting"][r["dcr:nesting"].length-1],a)}else if(t.$.type==="subprocess"){if(r["dcr:subProcess"].push({$:{id:t.$.id,description:Vc(t.$.id,e),included:eh(t.$.id,e),executed:im(t.$.id,e),pending:om(t.$.id,e)},"dcr:event":[],"dcr:nesting":[],"dcr:subProcess":[],"dcr:relation":[]}),n["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:dcrShape"].push({$:{id:`${t.$.id}_id`,boardElement:t.$.id},"dc:Bounds":{$:{x:s,y:u,width:f,height:h}}}),t.event)for(let P of t.event)Wc(P,e,n,r["dcr:subProcess"][r["dcr:subProcess"].length-1],a)}else if(t.$.type==="template"){r["dcr:subProcess"].push({$:{id:t.$.id,description:Vc(t.$.id,e),included:eh(t.$.id,e),executed:im(t.$.id,e),pending:om(t.$.id,e),"multi-instance":!0},"dcr:event":[],"dcr:nesting":[],"dcr:subProcess":[],"dcr:relation":[]}),n["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:dcrShape"].push({$:{id:`${t.$.id}_id`,boardElement:t.$.id},"dc:Bounds":{$:{x:s,y:u,width:f,height:h}}});let P=yC(t);if(P)for(let T of P)Wc(T,e,n,r["dcr:subProcess"][r["dcr:subProcess"].length-1],a)}}function L4(t,e,n){var r,a,s,u,l,f,h,p,g,v,_,E,M,O,S,x;for(let m of Object.values(t.specification[0].resources[0].subProcesses[0].subProcess)){e["dcr:definitions"]["dcr:dcrGraph"]["dcr:subProcess"].push({$:{id:m.$.id,description:m.$.name,"multi-instance":!0,included:!0},"dcr:event":[],"dcr:nesting":[],"dcr:subProcess":[],"dcr:relation":[]}),e["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:dcrShape"].push({$:{id:`${m.$.id}_id`,boardElement:m.$.id},"dc:Bounds":{$:{x:(u=(s=(a=(r=m.custom[0])==null?void 0:r.visualization[0])==null?void 0:a.location[0])==null?void 0:s.$)==null?void 0:u.xLoc,y:(p=(h=(f=(l=m.custom[0])==null?void 0:l.visualization[0])==null?void 0:f.location[0])==null?void 0:h.$)==null?void 0:p.yLoc,width:(E=(_=(v=(g=m.custom[0])==null?void 0:g.visualization[0])==null?void 0:v.size[0])==null?void 0:_.$)==null?void 0:E.width,height:(x=(S=(O=(M=m.custom[0])==null?void 0:M.visualization[0])==null?void 0:O.size[0])==null?void 0:S.$)==null?void 0:x.height}}});for(let w of m.dcrgraph[0].specification[0].resources[0].events[0].event)Wc(w,m.dcrgraph[0],e,e["dcr:definitions"]["dcr:dcrGraph"]["dcr:subProcess"][e["dcr:definitions"]["dcr:dcrGraph"]["dcr:subProcess"].length-1],n);vC(m.dcrgraph[0],e,n)}}function P4(t){let e=Object.keys(t[0])[0];return e==="templateSpawn"?"spawn":e}function vC(t,e,n){for(let r of Object.values(t.specification[0].constraints[0])){if(r[0]==="")continue;let a=P4(r);for(let s of Object.values(r[0])[0]){const u=s.$.sourceId+s.$.targetId;n.get(s.$.sourceId)["dcr:relation"].push({$:{id:u,type:a,sourceRef:s.$.sourceId,targetRef:s.$.targetId}});const l=e["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:dcrShape"],f=l.find(j=>j.$.id==s.$.sourceId+"_id"),h=parseInt(f["dc:Bounds"].$.x),p=parseInt(f["dc:Bounds"].$.y),g=parseInt(f["dc:Bounds"].$.width),v=parseInt(f["dc:Bounds"].$.height),_=l.find(j=>j.$.id==s.$.targetId+"_id"),E=parseInt(_["dc:Bounds"].$.x),M=parseInt(_["dc:Bounds"].$.y),O=parseInt(_["dc:Bounds"].$.width),S=parseInt(_["dc:Bounds"].$.height);let x,m,w,C,A=h+g/2,B=p+v/2,P=E+O/2,T=M+S/2;A<P&&B<T?(x=A,m=p+v,w=E,C=T):A<P&&B>=T?(x=h+g,m=B,w=P,C=M+S):A>=P&&B>=T?(x=A,m=p,w=E+O,C=T):(x=h,m=B,w=P,C=M),e["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:relation"].push({$:{id:`${u}id`,boardElement:u},"dcrDi:waypoint":[{$:{x,y:m}},{$:{x:w,y:C}}]})}}}function Zi(t){return typeof t=="object"}function B4(t){var e;for(let n of t.specification.filter(Zi)){for(let r of n.constraints.filter(Zi))for(let a of r.conditions.filter(Zi))for(let s of a.condition.filter(Zi))if((e=s.$)!=null&&e.time)return'"time" attribute is not supported.';for(let r of n.resources.filter(Zi))for(let a of r.events.filter(Zi))for(let s of a.event.filter(Zi))for(let u of s.custom.filter(Zi))for(let l of u.eventData.filter(Zi))if(l.dataType[0])return'"dataType" attribute is not supported.'}}async function k4(t){try{const e=await m0.parseStringPromise(t),n=D4(),r=new Map,a=B4(e.dcrgraph);if(a)throw alert(a),new Error(a);for(let l of e.dcrgraph.specification[0].resources[0].events[0].event)Wc(l,e.dcrgraph,n,n["dcr:definitions"]["dcr:dcrGraph"],r);return e.dcrgraph.specification[0].resources[0].subProcesses[0]!==""&&L4(e.dcrgraph,n,r),vC(e.dcrgraph,n,r),new v0.Builder().buildObject(n)}catch(e){console.error("Failed to parse custom XML",e)}}function ke(t,e){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=e,this._eventBus=t,this._uid=1,t.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}ke.$inject=["eventBus","injector"];ke.prototype.execute=function(t,e){if(!t)throw new Error("command required");this._currentExecution.trigger="execute";const n={command:t,context:e};this._pushAction(n),this._internalExecute(n),this._popAction()};ke.prototype.canExecute=function(t,e){const n={command:t,context:e},r=this._getHandler(t);let a=this._fire(t,"canExecute",n);if(a===void 0){if(!r)return!1;r.canExecute&&(a=r.canExecute(e))}return a};ke.prototype.clear=function(t){this._stack.length=0,this._stackIdx=-1,t!==!1&&this._fire("changed",{trigger:"clear"})};ke.prototype.undo=function(){let t=this._getUndoAction(),e;if(t){for(this._currentExecution.trigger="undo",this._pushAction(t);t&&(this._internalUndo(t),e=this._getUndoAction(),!(!e||e.id!==t.id));)t=e;this._popAction()}};ke.prototype.redo=function(){let t=this._getRedoAction(),e;if(t){for(this._currentExecution.trigger="redo",this._pushAction(t);t&&(this._internalExecute(t,!0),e=this._getRedoAction(),!(!e||e.id!==t.id));)t=e;this._popAction()}};ke.prototype.register=function(t,e){this._setHandler(t,e)};ke.prototype.registerHandler=function(t,e){if(!t||!e)throw new Error("command and handlerCls must be defined");const n=this._injector.instantiate(e);this.register(t,n)};ke.prototype.canUndo=function(){return!!this._getUndoAction()};ke.prototype.canRedo=function(){return!!this._getRedoAction()};ke.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]};ke.prototype._getUndoAction=function(){return this._stack[this._stackIdx]};ke.prototype._internalUndo=function(t){const e=t.command,n=t.context,r=this._getHandler(e);this._atomicDo(()=>{this._fire(e,"revert",t),r.revert&&this._markDirty(r.revert(n)),this._revertedAction(t),this._fire(e,"reverted",t)})};ke.prototype._fire=function(t,e,n){arguments.length<3&&(n=e,e=null);const r=e?[t+"."+e,e]:[t];let a;n=this._eventBus.createEvent(n);for(const s of r)if(a=this._eventBus.fire("commandStack."+s,n),n.cancelBubble)break;return a};ke.prototype._createId=function(){return this._uid++};ke.prototype._atomicDo=function(t){const e=this._currentExecution;e.atomic=!0;try{t()}finally{e.atomic=!1}};ke.prototype._internalExecute=function(t,e){const n=t.command,r=t.context,a=this._getHandler(n);if(!a)throw new Error("no command handler registered for <"+n+">");this._pushAction(t),e||(this._fire(n,"preExecute",t),a.preExecute&&a.preExecute(r),this._fire(n,"preExecuted",t)),this._atomicDo(()=>{this._fire(n,"execute",t),a.execute&&this._markDirty(a.execute(r)),this._executedAction(t,e),this._fire(n,"executed",t)}),e||(this._fire(n,"postExecute",t),a.postExecute&&a.postExecute(r),this._fire(n,"postExecuted",t)),this._popAction()};ke.prototype._pushAction=function(t){const e=this._currentExecution,n=e.actions,r=n[0];if(e.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+t.command+")");t.id||(t.id=r&&r.id||this._createId()),n.push(t)};ke.prototype._popAction=function(){const t=this._currentExecution,e=t.trigger,n=t.actions,r=t.dirty;n.pop(),n.length||(this._eventBus.fire("elements.changed",{elements:pS("id",r.reverse())}),r.length=0,this._fire("changed",{trigger:e}),t.trigger=null)};ke.prototype._markDirty=function(t){const e=this._currentExecution;t&&(t=ne(t)?t:[t],e.dirty=e.dirty.concat(t))};ke.prototype._executedAction=function(t,e){const n=++this._stackIdx;e||this._stack.splice(n,this._stack.length,t)};ke.prototype._revertedAction=function(t){this._stackIdx--};ke.prototype._getHandler=function(t){return this._handlerMap[t]};ke.prototype._setHandler=function(t,e){if(!t||!e)throw new Error("command and handler required");if(this._handlerMap[t])throw new Error("overriding handler for command <"+t+">");this._handlerMap[t]=e};function Jt(t,e){var n=gr(t);return n&&typeof n.$instanceOf=="function"&&n.$instanceOf(e)}function gr(t){return t&&t.businessObject||t}const bi={markerNotation:"TAL2023",blackRelations:!1};let _C;const I4=(t,e)=>{_C.execute("settings.update",{settings:{},key:t,value:e})};function xC(t,e){_C=t,t.registerHandler("settings.update",np)}xC.$inject=["commandStack","eventBus"];function np(t){this._elementRegistry=t}np.$inject=["elementRegistry"];np.prototype.execute=function(t){return t.oldValue=bi[t.key],bi[t.key]=t.value,this._elementRegistry.filter(function(e){return Jt(e,"dcr:Relation")})};np.prototype.revert=function(t){return bi[t.key]=t.oldValue,this._elementRegistry.filter(function(e){return Jt(e,"dcr:Relation")})};var j4=["c","C"],$4=["v","V"],z4=["y","Y"],bC=["z","Z"];function U4(t){return t.ctrlKey||t.metaKey||t.shiftKey||t.altKey}function yr(t){return t.altKey?!1:t.ctrlKey||t.metaKey}function Br(t,e){return t=ne(t)?t:[t],t.indexOf(e.key)!==-1||t.indexOf(e.code)!==-1}function x0(t){return t.shiftKey}function H4(t){return yr(t)&&Br(j4,t)}function F4(t){return yr(t)&&Br($4,t)}function X4(t){return yr(t)&&!x0(t)&&Br(bC,t)}function q4(t){return yr(t)&&(Br(z4,t)||Br(bC,t)&&x0(t))}var G4=500;function Tu(t,e){var n=this;t.on("editorActions.init",G4,function(r){var a=r.editorActions;n.registerBindings(e,a)})}Tu.$inject=["eventBus","keyboard"];Tu.prototype.registerBindings=function(t,e){function n(r,a){e.isRegistered(r)&&t.addListener(a)}n("undo",function(r){var a=r.keyEvent;if(X4(a))return e.trigger("undo"),!0}),n("redo",function(r){var a=r.keyEvent;if(q4(a))return e.trigger("redo"),!0}),n("copy",function(r){var a=r.keyEvent;if(H4(a))return e.trigger("copy"),!0}),n("paste",function(r){var a=r.keyEvent;if(F4(a))return e.trigger("paste"),!0}),n("stepZoom",function(r){var a=r.keyEvent;if(Br(["+","Add","="],a)&&yr(a))return e.trigger("stepZoom",{value:1}),!0}),n("stepZoom",function(r){var a=r.keyEvent;if(Br(["-","Subtract"],a)&&yr(a))return e.trigger("stepZoom",{value:-1}),!0}),n("zoom",function(r){var a=r.keyEvent;if(Br("0",a)&&yr(a))return e.trigger("zoom",{value:1}),!0}),n("removeSelection",function(r){var a=r.keyEvent;if(Br(["Backspace","Delete","Del"],a))return e.trigger("removeSelection"),!0})};function rp(t){t.invoke(Tu,this)}Te(rp,Tu);rp.$inject=["injector"];var iu=!1;const V4=function(t){iu=t};rp.prototype.registerBindings=function(t,e){Tu.prototype.registerBindings.call(this,t,e);function n(r,a){e.isRegistered(r)&&t.addListener(a)}n("selectElements",function(r){if(!iu){var a=r.keyEvent;if(t.isKey(["a","A"],a)&&t.isCmd(a))return e.trigger("selectElements"),!0}}),n("find",function(r){var a=r.keyEvent;if(t.isKey(["f","F"],a)&&t.isCmd(a))return e.trigger("find"),!0}),n("spaceTool",function(r){if(!iu){var a=r.keyEvent;if(t.hasModifier(a))return;if(t.isKey(["s","S"],a))return e.trigger("spaceTool"),!0}}),n("lassoTool",function(r){if(!iu){var a=r.keyEvent;if(t.hasModifier(a))return;if(t.isKey(["l","L"],a))return e.trigger("lassoTool"),!0}}),n("handTool",function(r){if(!iu){var a=r.keyEvent;if(t.hasModifier(a))return;if(t.isKey(["h","H"],a))return e.trigger("handTool"),!0}}),n("directEditing",function(r){if(!iu){var a=r.keyEvent;if(t.hasModifier(a))return;if(t.isKey(["e","E"],a))return e.trigger("directEditing"),!0}})};const EC=()=>{Set.prototype.union=function(t){for(const e of t)this.add(e);return this},Set.prototype.intersect=function(t){for(const e of this)t.has(e)||this.delete(e);return this},Set.prototype.difference=function(t){for(const e of this)t.has(e)&&this.delete(e);return this}},b0=t=>t.parent!==void 0,nh=t=>new Set(t),lu=t=>({executed:nh(t.executed),included:nh(t.included),pending:nh(t.pending)});EC();const E0=(t,e)=>{e.marking.executed.add(t),e.marking.pending.delete(t);for(const r of e.excludesTo[t])e.marking.included.delete(r);for(const r of e.includesTo[t])e.marking.included.add(r);for(const r of e.responseTo[t])e.marking.pending.add(r);const n=e.subProcessMap[t];n&&w0(n,e)&&E0(n.id,e)},wC=(t,e)=>e.marking.included.has(t.id)?b0(t.parent)?wC(t.parent,e):!1:!0,w0=(t,e)=>{let n=nh(e.marking.pending).intersect(e.marking.included);for(const r of n.intersect(t.events)){const a=e.subProcessMap[r];if(!a||!wC(a,e))return!1}return!0},Ic=(t,e)=>t===""?`Unnamed ${e}`:t,ip=(t,e,n)=>{if(!e.marking.included.has(t))return{enabled:!1,msg:`${Ic(e.labelMap[t],"Subprocess")} is not included...`};if(b0(n)){const r=ip(n.id,e,n.parent);if(!r.enabled)return r}for(const r of e.conditionsFor[t])if(e.marking.included.has(r)&&!e.marking.executed.has(r))return{enabled:!1,msg:`At minimum, ${Ic(e.labelMap[r],"Event")} is conditioning for ${Ic(e.labelMap[t],"Event")}...`};for(const r of e.milestonesFor[t])if(e.marking.included.has(r)&&e.marking.pending.has(r))return{enabled:!1,msg:`At minimum, ${Ic(e.labelMap[r],"Event")} is a milestone for ${Ic(e.labelMap[t],"Event")}...`};return{enabled:!0,msg:""}},T0=t=>{const e=Y4();e.events.union||EC();const n=t.filter(l=>l.type==="dcr:Relation"),r=t.get("dcrGraph"),a=r.children.filter(l=>l.type==="dcr:Event"),s=r.children.filter(l=>l.type==="dcr:Nesting"),u=r.children.filter(l=>l.type==="dcr:SubProcess");return fu(e,e,a),fu(e,e,u),S0(e,e,u),C0(e,e,s),n.forEach(l=>{const f=l.businessObject.get("sourceRef").id,h=l.businessObject.get("targetRef").id;switch(l.businessObject.get("type")){case"condition":Za(e.conditionsFor,s,h,f);break;case"milestone":Za(e.milestonesFor,s,h,f);break;case"response":Za(e.responseTo,s,f,h);break;case"include":Za(e.includesTo,s,f,h);break;case"exclude":Za(e.excludesTo,s,f,h);break}}),e},S0=(t,e,n)=>{n.forEach(r=>{const a={id:r.id,parent:e,events:new Set},s=r.children.filter(h=>h.type==="dcr:Event"),u=r.children.filter(h=>h.type==="dcr:SubProcess"),l=r.children.filter(h=>h.type==="dcr:Nesting");fu(t,a,s),fu(t,a,u),S0(t,a,u),C0(t,a,l),t.subProcesses[r.id]=a;let f=r.businessObject.get("description");f||(f=""),t.labelMap[r.id]=f,t.labelMapInv[f]||(t.labelMapInv[f]=new Set),t.labelMapInv[f].add(r.id)})},C0=(t,e,n)=>{n.forEach(r=>{const a=r.children.filter(l=>l.type==="dcr:Event"),s=r.children.filter(l=>l.type==="dcr:Nesting"),u=r.children.filter(l=>l.type==="dcr:SubProcess");fu(t,e,a),fu(t,e,u),C0(t,e,s),S0(t,e,u)})},fu=(t,e,n)=>{n.forEach(r=>{const a=r.businessObject.get("description");e.events.add(r.id),t.labels.add(a),t.labelMap[r.id]=a,t.labelMapInv[a]||(t.labelMapInv[a]=new Set),t.labelMapInv[a].add(r.id),b0(e)&&(t.subProcessMap[r.id]=e),r.businessObject.get("pending")&&t.marking.pending.add(r.id),r.businessObject.get("executed")&&t.marking.executed.add(r.id),r.businessObject.get("included")&&t.marking.included.add(r.id),t.conditionsFor[r.id]=new Set,t.milestonesFor[r.id]=new Set,t.responseTo[r.id]=new Set,t.includesTo[r.id]=new Set,t.excludesTo[r.id]=new Set})},Za=(t,e,n,r)=>{n.includes("Nesting")?e.forEach(a=>{a.id===n&&a.children.forEach(s=>{(s.type==="dcr:SubProcess"||s.type==="dcr:Event"||s.type==="dcr:Nesting")&&Za(t,e,s.id,r)})}):r.includes("Nesting")?e.forEach(a=>{a.id===r&&a.children.forEach(s=>{(s.type==="dcr:SubProcess"||s.type==="dcr:Event"||s.type==="dcr:Nesting")&&Za(t,e,n,s.id)})}):t[n].add(r)},Y4=()=>({events:new Set,labels:new Set,labelMap:{},labelMapInv:{},subProcesses:{},subProcessMap:{},conditionsFor:{},milestonesFor:{},responseTo:{},includesTo:{},excludesTo:{},marking:{executed:new Set,included:new Set,pending:new Set}});var am={},sm={},um={},ww;function io(){return ww||(ww=1,function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",r="["+e+"]["+n+"]*",a=new RegExp("^"+r+"$"),s=function(l,f){const h=[];let p=f.exec(l);for(;p;){const g=[];g.startIndex=f.lastIndex-p[0].length;const v=p.length;for(let _=0;_<v;_++)g.push(p[_]);h.push(g),p=f.exec(l)}return h},u=function(l){const f=a.exec(l);return!(f===null||typeof f>"u")};t.isExist=function(l){return typeof l<"u"},t.isEmptyObject=function(l){return Object.keys(l).length===0},t.merge=function(l,f,h){if(f){const p=Object.keys(f),g=p.length;for(let v=0;v<g;v++)h==="strict"?l[p[v]]=[f[p[v]]]:l[p[v]]=f[p[v]]}},t.getValue=function(l){return t.isExist(l)?l:""},t.buildOptions=function(l,f,h){let p={};if(!l)return f;for(let g=0;g<h.length;g++)l[h[g]]!==void 0?p[h[g]]=l[h[g]]:p[h[g]]=f[h[g]];return p},t.isTagNameInArrayMode=function(l,f,h){return f===!1?!1:f instanceof RegExp?f.test(l):typeof f=="function"?!!f(l,h):f==="strict"},t.isName=u,t.getAllMatches=s,t.nameRegexp=r}(um)),um}var Tw;function K4(){if(Tw)return sm;Tw=1;const t=io(),e=function(n,r,a){const s={};if(!r.alwaysCreateTextNode&&(!n.child||t.isEmptyObject(n.child))&&(!n.attrsMap||t.isEmptyObject(n.attrsMap)))return t.isExist(n.val)?n.val:"";if(t.isExist(n.val)&&!(typeof n.val=="string"&&(n.val===""||n.val===r.cdataPositionChar))){const l=t.isTagNameInArrayMode(n.tagname,r.arrayMode,a);s[r.textNodeName]=l?[n.val]:n.val}t.merge(s,n.attrsMap,r.arrayMode);const u=Object.keys(n.child);for(let l=0;l<u.length;l++){const f=u[l];if(n.child[f]&&n.child[f].length>1){s[f]=[];for(let h in n.child[f])n.child[f].hasOwnProperty(h)&&s[f].push(e(n.child[f][h],r,f))}else{const h=e(n.child[f][0],r,f),p=r.arrayMode===!0&&typeof h=="object"||t.isTagNameInArrayMode(f,r.arrayMode,a);s[f]=p?[h]:h}}return s};return sm.convertToJson=e,sm}var jc={},cm,Sw;function Z4(){return Sw||(Sw=1,cm=function(t,e,n){this.tagname=t,this.parent=e,this.child={},this.attrsMap={},this.val=n,this.addChild=function(r){Array.isArray(this.child[r.tagname])?this.child[r.tagname].push(r):this.child[r.tagname]=[r]}}),cm}var lm,Cw;function W4(){if(Cw)return lm;Cw=1;const t=/^[-+]?0x[a-fA-F0-9]+$/,e=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,n={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function r(u,l={}){if(l=Object.assign({},n,l),!u||typeof u!="string")return u;let f=u.trim();if(l.skipLike!==void 0&&l.skipLike.test(f))return u;if(u==="0")return 0;if(l.hex&&t.test(f))return s(f,16);if(f.search(/[eE]/)!==-1){const h=f.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(h){if(l.leadingZeros)f=(h[1]||"")+h[3];else if(!(h[2]==="0"&&h[3][0]==="."))return u;return l.eNotation?Number(f):u}else return u}else{const h=e.exec(f);if(h){const p=h[1],g=h[2];let v=a(h[3]);if(!l.leadingZeros&&g.length>0&&p&&f[2]!==".")return u;if(!l.leadingZeros&&g.length>0&&!p&&f[1]!==".")return u;if(l.leadingZeros&&g===u)return 0;{const _=Number(f),E=""+_;return E.search(/[eE]/)!==-1?l.eNotation?_:u:f.indexOf(".")!==-1?E==="0"&&v===""||E===v||p&&E==="-"+v?_:u:g?v===E||p+v===E?_:u:f===E||f===p+E?_:u}}else return u}}function a(u){return u&&u.indexOf(".")!==-1&&(u=u.replace(/0+$/,""),u==="."?u="0":u[0]==="."?u="0"+u:u[u.length-1]==="."&&(u=u.substr(0,u.length-1))),u}function s(u,l){if(parseInt)return parseInt(u,l);if(Number.parseInt)return Number.parseInt(u,l);if(window&&window.parseInt)return window.parseInt(u,l);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}return lm=r,lm}var Mw;function Ah(){if(Mw)return jc;Mw=1;const t=io(),e=io().buildOptions,n=Z4(),r=W4();"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,t.nameRegexp),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const a={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",numParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(E,M){return E},attrValueProcessor:function(E,M){return E},stopNodes:[],alwaysCreateTextNode:!1};jc.defaultOptions=a;const s=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","numParseOptions","stopNodes","alwaysCreateTextNode"];jc.props=s;function u(E,M,O){return M&&(O.trimValues&&(M=M.trim()),M=O.tagValueProcessor(M,E),M=f(M,O.parseNodeValue,O.numParseOptions)),M}function l(E,M){if(M.ignoreNameSpace){const O=E.split(":"),S=E.charAt(0)==="/"?"/":"";if(O[0]==="xmlns")return"";O.length===2&&(E=S+O[1])}return E}function f(E,M,O){if(M&&typeof E=="string"){const S=E.trim();return S==="true"?!0:S==="false"?!1:r(E,O)}else return t.isExist(E)?E:""}const h=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])(.*?)\\3)?`,"g");function p(E,M){if(!M.ignoreAttributes&&typeof E=="string"){E=E.replace(/\r?\n/g," ");const O=t.getAllMatches(E,h),S=O.length,x={};for(let m=0;m<S;m++){const w=l(O[m][1],M);w.length&&(O[m][4]!==void 0?(M.trimValues&&(O[m][4]=O[m][4].trim()),O[m][4]=M.attrValueProcessor(O[m][4],w),x[M.attributeNamePrefix+w]=f(O[m][4],M.parseAttributeValue,M.numParseOptions)):M.allowBooleanAttributes&&(x[M.attributeNamePrefix+w]=!0))}if(!Object.keys(x).length)return;if(M.attrNodeName){const m={};return m[M.attrNodeName]=x,m}return x}}const g=function(E,M){E=E.replace(/\r\n?/g,`
`),M=e(M,a,s);const O=new n("!xml");let S=O,x="";for(let m=0;m<E.length;m++)if(E[m]==="<")if(E[m+1]==="/"){const C=_(E,">",m,"Closing Tag is not closed.");let A=E.substring(m+2,C).trim();if(M.ignoreNameSpace){const B=A.indexOf(":");B!==-1&&(A=A.substr(B+1))}S&&(S.val?S.val=t.getValue(S.val)+""+u(A,x,M):S.val=u(A,x,M)),M.stopNodes.length&&M.stopNodes.includes(S.tagname)&&(S.child=[],S.attrsMap==null&&(S.attrsMap={}),S.val=E.substr(S.startIndex+1,m-S.startIndex-1)),S=S.parent,x="",m=C}else if(E[m+1]==="?")m=_(E,"?>",m,"Pi Tag is not closed.");else if(E.substr(m+1,3)==="!--")m=_(E,"-->",m,"Comment is not closed.");else if(E.substr(m+1,2)==="!D"){const C=_(E,">",m,"DOCTYPE is not closed.");E.substring(m,C).indexOf("[")>=0?m=E.indexOf("]>",m)+1:m=C}else if(E.substr(m+1,2)==="!["){const C=_(E,"]]>",m,"CDATA is not closed.")-2,A=E.substring(m+9,C);if(x&&(S.val=t.getValue(S.val)+""+u(S.tagname,x,M),x=""),M.cdataTagName){const B=new n(M.cdataTagName,S,A);S.addChild(B),S.val=t.getValue(S.val)+M.cdataPositionChar,A&&(B.val=A)}else S.val=(S.val||"")+(A||"");m=C+2}else{const C=v(E,m+1);let A=C.data;const B=C.index,P=A.indexOf(" ");let T=A,j=!0;if(P!==-1&&(T=A.substr(0,P).replace(/\s\s*$/,""),A=A.substr(P+1)),M.ignoreNameSpace){const z=T.indexOf(":");z!==-1&&(T=T.substr(z+1),j=T!==C.data.substr(z+1))}if(S&&x&&S.tagname!=="!xml"&&(S.val=t.getValue(S.val)+""+u(S.tagname,x,M)),A.length>0&&A.lastIndexOf("/")===A.length-1){T[T.length-1]==="/"?(T=T.substr(0,T.length-1),A=T):A=A.substr(0,A.length-1);const z=new n(T,S,"");T!==A&&(z.attrsMap=p(A,M)),S.addChild(z)}else{const z=new n(T,S);M.stopNodes.length&&M.stopNodes.includes(z.tagname)&&(z.startIndex=B),T!==A&&j&&(z.attrsMap=p(A,M)),S.addChild(z),S=z}x="",m=B}else x+=E[m];return O};function v(E,M){let O,S="";for(let x=M;x<E.length;x++){let m=E[x];if(O)m===O&&(O="");else if(m==='"'||m==="'")O=m;else{if(m===">")return{data:S,index:x};m==="	"&&(m=" ")}S+=m}}function _(E,M,O,S){const x=E.indexOf(M,O);if(x===-1)throw new Error(S);return x+M.length-1}return jc.getTraversalObj=g,jc}var fm={},Aw;function Q4(){if(Aw)return fm;Aw=1;const t=io(),e={allowBooleanAttributes:!1},n=["allowBooleanAttributes"];fm.validate=function(S,x){x=t.buildOptions(x,e,n);const m=[];let w=!1,C=!1;S[0]==="\uFEFF"&&(S=S.substr(1));for(let A=0;A<S.length;A++)if(S[A]==="<"&&S[A+1]==="?"){if(A+=2,A=r(S,A),A.err)return A}else if(S[A]==="<"){let B=A;if(A++,S[A]==="!"){A=a(S,A);continue}else{let P=!1;S[A]==="/"&&(P=!0,A++);let T="";for(;A<S.length&&S[A]!==">"&&S[A]!==" "&&S[A]!=="	"&&S[A]!==`
`&&S[A]!=="\r";A++)T+=S[A];if(T=T.trim(),T[T.length-1]==="/"&&(T=T.substring(0,T.length-1),A--),!E(T)){let I;return T.trim().length===0?I="Invalid space after '<'.":I="Tag '"+T+"' is an invalid name.",v("InvalidTag",I,M(S,A))}const j=l(S,A);if(j===!1)return v("InvalidAttr","Attributes for '"+T+"' have open quote.",M(S,A));let z=j.value;if(A=j.index,z[z.length-1]==="/"){const I=A-z.length;z=z.substring(0,z.length-1);const F=h(z,x);if(F===!0)w=!0;else return v(F.err.code,F.err.msg,M(S,I+F.err.line))}else if(P)if(j.tagClosed){if(z.trim().length>0)return v("InvalidTag","Closing tag '"+T+"' can't have attributes or invalid starting.",M(S,B));{const I=m.pop();if(T!==I.tagName){let F=M(S,I.tagStartPos);return v("InvalidTag","Expected closing tag '"+I.tagName+"' (opened in line "+F.line+", col "+F.col+") instead of closing tag '"+T+"'.",M(S,B))}m.length==0&&(C=!0)}}else return v("InvalidTag","Closing tag '"+T+"' doesn't have proper closing.",M(S,A));else{const I=h(z,x);if(I!==!0)return v(I.err.code,I.err.msg,M(S,A-z.length+I.err.line));if(C===!0)return v("InvalidXml","Multiple possible root nodes found.",M(S,A));m.push({tagName:T,tagStartPos:B}),w=!0}for(A++;A<S.length;A++)if(S[A]==="<")if(S[A+1]==="!"){A++,A=a(S,A);continue}else if(S[A+1]==="?"){if(A=r(S,++A),A.err)return A}else break;else if(S[A]==="&"){const I=g(S,A);if(I==-1)return v("InvalidChar","char '&' is not expected.",M(S,A));A=I}S[A]==="<"&&A--}}else{if(S[A]===" "||S[A]==="	"||S[A]===`
`||S[A]==="\r")continue;return v("InvalidChar","char '"+S[A]+"' is not expected.",M(S,A))}if(w){if(m.length==1)return v("InvalidTag","Unclosed tag '"+m[0].tagName+"'.",M(S,m[0].tagStartPos));if(m.length>0)return v("InvalidXml","Invalid '"+JSON.stringify(m.map(A=>A.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return v("InvalidXml","Start tag expected.",1);return!0};function r(S,x){const m=x;for(;x<S.length;x++)if(S[x]=="?"||S[x]==" "){const w=S.substr(m,x-m);if(x>5&&w==="xml")return v("InvalidXml","XML declaration allowed only at the start of the document.",M(S,x));if(S[x]=="?"&&S[x+1]==">"){x++;break}else continue}return x}function a(S,x){if(S.length>x+5&&S[x+1]==="-"&&S[x+2]==="-"){for(x+=3;x<S.length;x++)if(S[x]==="-"&&S[x+1]==="-"&&S[x+2]===">"){x+=2;break}}else if(S.length>x+8&&S[x+1]==="D"&&S[x+2]==="O"&&S[x+3]==="C"&&S[x+4]==="T"&&S[x+5]==="Y"&&S[x+6]==="P"&&S[x+7]==="E"){let m=1;for(x+=8;x<S.length;x++)if(S[x]==="<")m++;else if(S[x]===">"&&(m--,m===0))break}else if(S.length>x+9&&S[x+1]==="["&&S[x+2]==="C"&&S[x+3]==="D"&&S[x+4]==="A"&&S[x+5]==="T"&&S[x+6]==="A"&&S[x+7]==="["){for(x+=8;x<S.length;x++)if(S[x]==="]"&&S[x+1]==="]"&&S[x+2]===">"){x+=2;break}}return x}const s='"',u="'";function l(S,x){let m="",w="",C=!1;for(;x<S.length;x++){if(S[x]===s||S[x]===u)w===""?w=S[x]:w!==S[x]||(w="");else if(S[x]===">"&&w===""){C=!0;break}m+=S[x]}return w!==""?!1:{value:m,index:x,tagClosed:C}}const f=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function h(S,x){const m=t.getAllMatches(S,f),w={};for(let C=0;C<m.length;C++){if(m[C][1].length===0)return v("InvalidAttr","Attribute '"+m[C][2]+"' has no space in starting.",O(m[C]));if(m[C][3]===void 0&&!x.allowBooleanAttributes)return v("InvalidAttr","boolean attribute '"+m[C][2]+"' is not allowed.",O(m[C]));const A=m[C][2];if(!_(A))return v("InvalidAttr","Attribute '"+A+"' is an invalid name.",O(m[C]));if(!w.hasOwnProperty(A))w[A]=1;else return v("InvalidAttr","Attribute '"+A+"' is repeated.",O(m[C]))}return!0}function p(S,x){let m=/\d/;for(S[x]==="x"&&(x++,m=/[\da-fA-F]/);x<S.length;x++){if(S[x]===";")return x;if(!S[x].match(m))break}return-1}function g(S,x){if(x++,S[x]===";")return-1;if(S[x]==="#")return x++,p(S,x);let m=0;for(;x<S.length;x++,m++)if(!(S[x].match(/\w/)&&m<20)){if(S[x]===";")break;return-1}return x}function v(S,x,m){return{err:{code:S,msg:x,line:m.line||m,col:m.col}}}function _(S){return t.isName(S)}function E(S){return t.isName(S)}function M(S,x){const m=S.substring(0,x).split(/\r?\n/);return{line:m.length,col:m[m.length-1].length+1}}function O(S){return S.startIndex+S[1].length}return fm}var dm={},Ow;function J4(){if(Ow)return dm;Ow=1;const t=function(g){return String.fromCharCode(g)},e={nilChar:t(176),missingChar:t(201),nilPremitive:t(175),missingPremitive:t(200),emptyChar:t(178),emptyValue:t(177),boundryChar:t(179),objStart:t(198),arrStart:t(204),arrayEnd:t(185)},n=[e.nilChar,e.nilPremitive,e.missingChar,e.missingPremitive,e.boundryChar,e.emptyChar,e.emptyValue,e.arrayEnd,e.objStart,e.arrStart],r=function(g,v,_){if(typeof v=="string")return g&&g[0]&&g[0].val!==void 0?a(g[0].val):a(g);{const E=l(g);if(E===!0){let M="";if(Array.isArray(v)){M+=e.arrStart;const O=v[0],S=g.length;if(typeof O=="string")for(let x=0;x<S;x++){const m=a(g[x].val);M=s(M,m)}else for(let x=0;x<S;x++){const m=r(g[x],O,_);M=s(M,m)}M+=e.arrayEnd}else{M+=e.objStart;const O=Object.keys(v);Array.isArray(g)&&(g=g[0]);for(let S in O){const x=O[S];let m;!_.ignoreAttributes&&g.attrsMap&&g.attrsMap[x]?m=r(g.attrsMap[x],v[x],_):x===_.textNodeName?m=r(g.val,v[x],_):m=r(g.child[x],v[x],_),M=s(M,m)}}return M}else return E}},a=function(g){switch(g){case void 0:return e.missingPremitive;case null:return e.nilPremitive;case"":return e.emptyValue;default:return g}},s=function(g,v){return!u(v[0])&&!u(g[g.length-1])&&(g+=e.boundryChar),g+v},u=function(g){return n.indexOf(g)!==-1};function l(g){return g===void 0?e.missingChar:g===null?e.nilChar:g.child&&Object.keys(g.child).length===0&&(!g.attrsMap||Object.keys(g.attrsMap).length===0)?e.emptyChar:!0}const f=Ah(),h=io().buildOptions,p=function(g,v,_){return _=h(_,f.defaultOptions,f.props),r(g,v,_)};return dm.convert2nimn=p,dm}var hm={},Rw;function tL(){if(Rw)return hm;Rw=1;const t=io(),e=io().buildOptions,n=Ah(),r=function(u,l){return l=e(l,n.defaultOptions,n.props),l.indentBy=l.indentBy||"",a(u,l)},a=function(u,l,f){let h="{";const p=Object.keys(u.child);for(let g=0;g<p.length;g++){const v=p[g];if(u.child[v]&&u.child[v].length>1){h+='"'+v+'" : [ ';for(let _ in u.child[v])h+=a(u.child[v][_],l)+" , ";h=h.substr(0,h.length-1)+" ] "}else h+='"'+v+'" : '+a(u.child[v][0],l)+" ,"}return t.merge(h,u.attrsMap),t.isEmptyObject(h)?t.isExist(u.val)?u.val:"":(t.isExist(u.val)&&(typeof u.val=="string"&&(u.val===""||u.val===l.cdataPositionChar)||(h+='"'+l.textNodeName+'" : '+s(u.val))),h[h.length-1]===","&&(h=h.substr(0,h.length-2)),h+"}")};function s(u){return u===!0||u===!1||!isNaN(u)?u:'"'+u+'"'}return hm.convertToJsonString=r,hm}var pm,Nw;function eL(){if(Nw)return pm;Nw=1;const t=io().buildOptions,e={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(E){return E},attrValueProcessor:function(E){return E}},n=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor","rootNodeName"];function r(E){this.options=t(E,e,n),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=v),this.options.cdataTagName?this.isCDATA=_:this.isCDATA=function(){return!1},this.replaceCDATAstr=s,this.replaceCDATAarr=u,this.processTextOrObjNode=a,this.options.format?(this.indentate=g,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=p,this.buildObjNode=f):(this.buildTextNode=h,this.buildObjNode=l),this.buildTextValNode=h,this.buildObjectNode=l}r.prototype.parse=function(E){return Array.isArray(E)&&this.options.rootNodeName&&this.options.rootNodeName.length>1&&(E={[this.options.rootNodeName]:E}),this.j2x(E,0).val},r.prototype.j2x=function(E,M){let O="",S="";for(let x in E)if(!(typeof E[x]>"u"))if(E[x]===null)S+=this.indentate(M)+"<"+x+"/"+this.tagEndChar;else if(E[x]instanceof Date)S+=this.buildTextNode(E[x],x,"",M);else if(typeof E[x]!="object"){const m=this.isAttribute(x);m?O+=" "+m+'="'+this.options.attrValueProcessor(""+E[x])+'"':this.isCDATA(x)?E[this.options.textNodeName]?S+=this.replaceCDATAstr(E[this.options.textNodeName],E[x]):S+=this.replaceCDATAstr("",E[x]):x===this.options.textNodeName?E[this.options.cdataTagName]||(S+=this.options.tagValueProcessor(""+E[x])):S+=this.buildTextNode(E[x],x,"",M)}else if(Array.isArray(E[x]))if(this.isCDATA(x))S+=this.indentate(M),E[this.options.textNodeName]?S+=this.replaceCDATAarr(E[this.options.textNodeName],E[x]):S+=this.replaceCDATAarr("",E[x]);else{const m=E[x].length;for(let w=0;w<m;w++){const C=E[x][w];typeof C>"u"||(C===null?S+=this.indentate(M)+"<"+x+"/"+this.tagEndChar:typeof C=="object"?S+=this.processTextOrObjNode(C,x,M):S+=this.buildTextNode(C,x,"",M))}}else if(this.options.attrNodeName&&x===this.options.attrNodeName){const m=Object.keys(E[x]),w=m.length;for(let C=0;C<w;C++)O+=" "+m[C]+'="'+this.options.attrValueProcessor(""+E[x][m[C]])+'"'}else S+=this.processTextOrObjNode(E[x],x,M);return{attrStr:O,val:S}};function a(E,M,O){const S=this.j2x(E,O+1);return E[this.options.textNodeName]!==void 0&&Object.keys(E).length===1?this.buildTextNode(S.val,M,S.attrStr,O):this.buildObjNode(S.val,M,S.attrStr,O)}function s(E,M){return E=this.options.tagValueProcessor(""+E),this.options.cdataPositionChar===""||E===""?E+"<![CDATA["+M+"]]"+this.tagEndChar:E.replace(this.options.cdataPositionChar,"<![CDATA["+M+"]]"+this.tagEndChar)}function u(E,M){if(E=this.options.tagValueProcessor(""+E),this.options.cdataPositionChar===""||E==="")return E+"<![CDATA["+M.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let O in M)E=E.replace(this.options.cdataPositionChar,"<![CDATA["+M[O]+"]]>");return E+this.newLine}function l(E,M,O,S){return O&&E.indexOf("<")===-1?this.indentate(S)+"<"+M+O+">"+E+"</"+M+this.tagEndChar:this.indentate(S)+"<"+M+O+this.tagEndChar+E+this.indentate(S)+"</"+M+this.tagEndChar}function f(E,M,O,S){return E!==""?this.buildObjectNode(E,M,O,S):this.indentate(S)+"<"+M+O+"/"+this.tagEndChar}function h(E,M,O,S){return this.indentate(S)+"<"+M+O+">"+this.options.tagValueProcessor(E)+"</"+M+this.tagEndChar}function p(E,M,O,S){return E!==""?this.buildTextValNode(E,M,O,S):this.indentate(S)+"<"+M+O+"/"+this.tagEndChar}function g(E){return this.options.indentBy.repeat(E)}function v(E){return E.startsWith(this.options.attributeNamePrefix)?E.substr(this.attrPrefixLen):!1}function _(E){return E===this.options.cdataTagName}return pm=r,pm}var Dw;function nL(){return Dw||(Dw=1,function(t){const e=K4(),n=Ah(),r=Ah(),a=io().buildOptions,s=Q4();t.parse=function(u,l={},f){if(f){f===!0&&(f={});const g=s.validate(u,f);if(g!==!0)throw Error(g.err.msg)}l.parseTrueNumberOnly&&l.parseNodeValue!==!1&&!l.numParseOptions&&(l.numParseOptions={leadingZeros:!1});let h=a(l,r.defaultOptions,r.props);const p=n.getTraversalObj(u,h);return e.convertToJson(p,h)},t.convertTonimn=J4().convert2nimn,t.getTraversalObj=n.getTraversalObj,t.convertToJson=e.convertToJson,t.convertToJsonString=tL().convertToJsonString,t.validate=s.validate,t.j2xParser=eL(),t.parseToNimn=function(u,l,f){return t.convertTonimn(t.getTraversalObj(u,f),l,f)}}(am)),am}var TC=nL();const rL=ua(TC),iL={attributeNamePrefix:"",attrNodeName:"attr",textNodeName:"#text",ignoreAttributes:!1,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!0,trimValues:!0,parseTrueNumberOnly:!1,arrayMode:!0,stopNodes:["parse-me-as-string"]},oL={attributeNamePrefix:"@",ignoreAttributes:!1,format:!0,arrayMode:!1,indentBy:"  ",supressEmptyNode:!0},SC=(t,e="Event Name")=>{const n=rL.parse(t.toString(),iL),r={events:new Set,traces:{}};let a="";for(const l in n.log[0].classifier)n.log[0].classifier[l].attr.name===e&&(a=n.log[0].classifier[l].attr.keys);a===""&&(a="concept:name");const s=(a+" ").split("'").map(l=>l.startsWith(" ")||l.endsWith(" ")?l.split(" "):l).flat().filter(l=>l!=="").sort();let u=0;for(const l in n.log[0].trace){const f=[];let h="";const p=n.log[0].trace[l];try{for(const v of p.string)v.attr.key==="concept:name"&&(h=v.attr.value)}catch{throw new Error("No trace id found!")}h===""&&(h=(u++).toString());const g=p.event?p.event:[];for(const v of g){let _=[];for(const M of s)try{const O=v.string.find(S=>S.attr.key===M);_.push(O.attr.value)}catch{throw new Error("Couldn't discern Events with classifiers: "+s)}const E=_.join(":");f.push(E),r.events.add(E)}r.traces[h]=f}return r},aL=t=>{const e={log:{"@xes.version":"1.0","@xes.features":"nested-attributes","@openxes.version":"1.0RC7",global:{"@scope":"event",string:{"@key":"concept:name","@value":"__INVALID__"}},classifier:{"@name":"Event Name","@keys":"concept:name"},trace:[]}};for(const a in t.traces){const s=t.traces[a],u={string:{"@key":"concept:name","@value":a},event:[]};for(const l of s){const f={string:{"@key":"concept:name","@value":l}};u.event.push(f)}e.log.trace.push(u)}return new TC.j2xParser(oL).parse(e)},Qa=(t,e)=>{let n=!1;if(e.length===0)return w0(t,t);const[r,...a]=e;if(!t.labels.has(r))return Qa(t,a);const s=lu(t.marking);for(const u of t.labelMapInv[r]){const l=t.subProcessMap[u]?t.subProcessMap[u]:t;ip(u,t,l).enabled&&(E0(u,t),n=n||Qa(t,a),t.marking=lu(s))}return n};function be(t){t=ft({},cL,t),this._moddle=this._createModdle(t),this._container=this._createContainer(t),this._init(this._container,this._moddle,t),this.importCustomXML=this.importCustomXML.bind(this),this.importXML=this.importXML.bind(this),this.importDCRPortalXML=this.importCustomXML.bind(this),this.getSelection=this.getSelection.bind(this)}Te(be,Eu);be.prototype.importXML=function(t,e){var n=this;return new Promise(function(r,a){t=n._emit("import.parse.start",{xml:t})||t,n._moddle.fromXML(t,"dcr:Definitions").then(function(s){var u=s.rootElement,l=s.references,f=s.warnings,h=s.elementsById,p={references:l,elementsById:h,warnings:f};u=n._emit("import.parse.complete",{definitions:u,context:p})||u,n.importDefinitions(u,e).then(function(g){var v=[].concat(f,g.warnings||[]);return n._emit("import.done",{error:null,warnings:v}),r({warnings:v})}).catch(function(g){var v=[].concat(f,g.warnings||[]);return n._emit("import.done",{error:g,warnings:v}),a(rh(g,v))})}).catch(function(s){return n._emit("import.parse.complete",{error:s}),s=uL(s),n._emit("import.done",{error:s,warnings:s.warnings}),a(s)})})};be.prototype.importCustomXML=async function(t,e){return this.importXML(await N4(t),e)};be.prototype.importDCRPortalXML=async function(t,e){return this.importXML(await k4(t),e)};be.prototype.importDefinitions=function(t,e){var n=this;return new Promise(function(r,a){n._setDefinitions(t),n.open(e).then(function(s){var u=s.warnings;return r({warnings:u})}).catch(function(s){return a(s)})})};be.prototype.open=function(t){var e=this._definitions,n=t,r=this;return new Promise(function(a,s){if(!e){var u=new Error("no XML imported");return s(rh(u,[]))}if(typeof t=="string"&&(n=lL(e,t),!n)){var l=new Error("DcrRootBoard <"+t+"> not found");return s(rh(l,[]))}try{r.clear()}catch(f){return s(rh(f,[]))}E5(r,e,n).then(function(f){var h=f.warnings;return a({warnings:h})}).catch(function(f){return s(f)})})};be.prototype.saveXML=function(t){t=t||{};var e=this,n=this._definitions;return new Promise(function(r,a){if(!n){var s=new Error("no definitions loaded");return a(s)}n=e._emit("saveXML.start",{definitions:n})||n,e._moddle.toXML(n,t).then(function(u){var l=u.xml;try{l=e._emit("saveXML.serialized",{error:null,xml:l})||l,e._emit("saveXML.done",{error:null,xml:l})}catch(f){console.error("error in saveXML life-cycle listener",f)}return r({xml:l})}).catch(function(u){return a(u)})})};be.prototype.saveDCRXML=function(t){return A4(t,this._definitions)};be.prototype.saveSVG=function(t){const e=this;return new Promise(function(n,r){e._emit("saveSVG.start");let a,s;try{const u=e.get("canvas"),l=u.getActiveLayer(),f=an("defs",u._svg),h=fE(l),p=f?"<defs>"+fE(f)+"</defs>":"",g=l.getBBox();a=`<?xml version="1.0" encoding="utf-8"?>
<!-- created with diagram-js -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="`+g.width+'" height="'+g.height+'" viewBox="'+g.x+" "+g.y+" "+g.width+" "+g.height+'" version="1.1">'+p+h+"</svg>"}catch(u){s=u}return e._emit("saveSVG.done",{error:s,svg:a}),s?r(s):n({svg:a})})};be.prototype._setDefinitions=function(t){this._definitions=t};be.prototype.getModules=function(){return this._modules};be.prototype.clear=function(){this.getDefinitions()&&(this.get("elementRegistry").forEach(function(t){var e=t.businessObject;e&&e.di&&delete e.di}),Eu.prototype.clear.call(this))};be.prototype.destroy=function(){Eu.prototype.destroy.call(this),Ci(this._container)};const sL=(t,e,n)=>{const r=a=>{a.events.forEach(s=>{let u=n.get(s);e.updateProperties(u,{executed:t.marking.executed.has(s)}),e.updateProperties(u,{included:t.marking.included.has(s)}),e.updateProperties(u,{pending:t.marking.pending.has(s)}),s.includes("Event")&&e.updateProperties(u,{enabled:ip(s,t,a).enabled})})};r(t),Object.keys(t.subProcesses).forEach(a=>{r(t.subProcesses[a])})};be.prototype.setSimulating=function(t){V4(t)};be.prototype.getSelection=function(){return this.get("selection")};be.prototype.getElementRegistry=function(){return this.get("elementRegistry")};be.prototype.updateRendering=function(t){const e=this.get("modeling");sL(t,e,this.get("elementRegistry"))};be.prototype.on=function(t,e,n,r){return this.get("eventBus").on(t,e,n,r)};be.prototype.off=function(t,e){this.get("eventBus").off(t,e)};be.prototype.setSetting=function(t,e){I4(t,e)};be.prototype.attachTo=function(t){if(!t)throw new Error("parentNode required");this.detach(),t.get&&t.constructor.prototype.jquery&&(t=t.get(0)),typeof t=="string"&&(t=an(t)),t.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()};be.prototype.getDefinitions=function(){return this._definitions};be.prototype.detach=function(){var t=this._container,e=t.parentNode;e&&(this._emit("detach",{}),e.removeChild(t))};be.prototype._init=function(t,e,n){var r=n.modules||this.getModules(),a=n.additionalModules||[],s=[{odm:["value",this],moddle:["value",e]}],u=[].concat(s,r,a),l=ft(ao(n,["additionalModules"]),{canvas:ft({},n.canvas,{container:t}),modules:u});Eu.call(this,l),n&&n.container&&this.attachTo(n.container)};be.prototype._emit=function(t,e){return this.get("eventBus").fire(t,e)};be.prototype._createContainer=function(t){var e=dn('<div class="pjs-container"></div>');return ft(e.style,{width:Lw(t.width),height:Lw(t.height),position:t.position}),e};be.prototype._createModdle=function(t){var e=ft({},this._moddleExtensions,t.moddleExtensions);return new v5(e)};be.prototype._modules=[];be.prototype._moddleExtensions={};function rh(t,e){return t.warnings=e,t}function uL(t){var e=/unparsable content <([^>]+)> detected([\s\S]*)$/,n=e.exec(t.message);return n&&(t.message="unparsable content <"+n[1]+"> detected; this may indicate an invalid Dcr board file"+n[2]),t}var cL={width:"100%",height:"100%",position:"relative"};function Lw(t){return t+(Kt(t)?"px":"")}function lL(t,e){return e&&Ie(t.rootBoards,function(n){return n.id===e})||null}function xl(t){be.call(this,t),this.on("import.parse.complete",function(e){e.error||this._collectIds(e.definitions,e.context)},this),this.on("diagram.destroy",function(){this.get("moddle").ids.clear()},this)}Te(xl,be);xl.prototype._createModdle=function(t){var e=be.prototype._createModdle.call(this,t);return e.ids=new Si([32,36,1]),e};xl.prototype._collectIds=function(t,e){var n=t.$model,r=n.ids,a;r.clear();for(a in e.elementsById)r.claim(a,e.elementsById[a])};var fL="#FEA00F",dL="#2192FF",hL="#2CA81A",pL="#FB1818",gL="#A932D0",tu="#000000";function yL(t,e){t.appendChild(e)}function jn(t){var e=Nt("g");return t.forEach(function(n){yL(e,n)}),e}function ti(t){var e=t==="left-to-right"?"":t==="right-to-left"?"rotate(180, 10, 10)":t==="top-to-bottom"?"rotate(270, 10, 10)":t==="bottom-to-top"?"rotate(90, 10, 10)":"";return e}function hn(t,e){return qh(e,function(n){return Jt(t,n)})}function CC(t){if(t.labelAttribute)return t.labelAttribute;if(hn(t,["dcr:TextBox","dcr:Relation"]))return"name";if(Jt(t,"dcr:Event"))return"role"}function du(t){var e=t.businessObject,n=CC(e);if(n)return e[n]||""}function mL(t,e){var n=t.businessObject,r=CC(n);return r&&(n[r]=e),t}function M0(t){return t.businessObject.di}function gm(t){return t.businessObject}function $c(t,e){return MC(t)||M0(t).get("bioc:fill")||e||"white"}function eu(t,e){return MC(t)||M0(t).get("bioc:stroke")||e||"black"}function vL(t){var e=t.x,n=t.y,r=t.width,a=t.height,s=[["M",e,n],["l",r,0],["l",0,a],["l",-r,0],["z"]];return Vh(s)}function MC(t){var e=gr(t);return e.color||t.color}function _L(t,e,n){yt(e,{markerEnd:t("default-condition-flow-end",n,n),stroke:n})}function xL(t,e,n){yt(e,{markerStart:t("default-response-flow-start",n,n),markerEnd:t("default-response-flow-end",n,n),stroke:n})}function bL(t,e,n){yt(e,{markerEnd:t("default-include-flow-end",n,n),stroke:n})}function EL(t,e,n,r,a,s){yt(e,{markerEnd:t("default-exclude-flow-end",n,n,a,s),stroke:n})}function wL(t,e,n){yt(e,{markerEnd:t("default-milestone-flow-end",n,n),stroke:n})}function TL(t,e,n){yt(e,{markerEnd:t("default-spawn-flow-end","#4D6180","#4D6180"),stroke:n})}function SL(t,e,n,r,a,s,u){if(n==="default-response-flow-end"){var l=Nt("rect");yt(l,{x:18,y:9.15,width:2,height:1.7,fill:"white"});var f=Nt("path");yt(f,{d:"M10 14.5L10 5.5L20 10L10 14.5Z"});var h=jn([l,f]);t(e,{element:h,scale:.8,attrs:{fill:r},ref:{x:20.65,y:10}})}if(n==="default-response-flow-start"){var p=Nt("circle");yt(p,{cx:4,cy:10,r:4}),t(e,{element:p,scale:.8,attrs:{fill:r},ref:{x:-.65,y:10}})}if(n==="default-exclude-flow-end"){var g;u==="right-to-left"?g="translate(12.1, 0)":u==="left-to-right"?g="":u==="top-to-bottom"?g="translate(6,6.5)":g="translate(6, -6)";var l=Nt("rect");yt(l,{x:8,y:9.15,width:12,height:1.7,fill:"white"});var f=Nt("path");yt(f,{d:"M2 14.5L2 5.5L12 10L2 14.5Z"});var v=Nt("path");yt(v,{d:"M13.8 9.6C14.7941 9.6 15.6 8.79411 15.6 7.8C15.6 6.80589 14.7941 6 13.8 6C12.8059 6 12 6.80589 12 7.8C12 8.79411 12.8059 9.6 13.8 9.6ZM13.8 8.4C14.1314 8.4 14.4 8.13137 14.4 7.8C14.4 7.46863 14.1314 7.2 13.8 7.2C13.4686 7.2 13.2 7.46863 13.2 7.8C13.2 8.13137 13.4686 8.4 13.8 8.4ZM12.9485 13.9647L12.1 13.1162L19.1162 6.1L19.9647 6.94852L12.9485 13.9647ZM20 12.2C20 13.1941 19.1941 14 18.2 14C17.2059 14 16.4 13.1941 16.4 12.2C16.4 11.2059 17.2059 10.4 18.2 10.4C19.1941 10.4 20 11.2059 20 12.2ZM18.8 12.2C18.8 12.5314 18.5314 12.8 18.2 12.8C17.8686 12.8 17.6 12.5314 17.6 12.2C17.6 11.8686 17.8686 11.6 18.2 11.6C18.5314 11.6 18.8 11.8686 18.8 12.2Z",fillRule:"evenodd",clipRule:"evenodd"}),yt(v,{transform:g+" "+ti(u)});var _=jn([l,f,v]);t(e,{element:_,scale:.8,attrs:{fill:r},ref:{x:20.65,y:10}})}if(n==="default-include-flow-end"){var l=Nt("rect");yt(l,{x:8,y:9.15,width:12,height:1.7,fill:"white"});var E=Nt("path");yt(E,{d:"M20 10.7H16.7V14H15.3V10.7H12L12 9.3H15.3V6L16.7 6V9.3H20V10.7Z"});var f=Nt("path");yt(f,{d:"M2 14.5L2 5.5L12 10L2 14.5Z"});var M=jn([l,f,E]);t(e,{element:M,scale:.8,attrs:{fill:r},ref:{x:20.65,y:10}})}if(n==="default-condition-flow-end"){var l=Nt("rect");yt(l,{x:9,y:9.15,width:4,height:1.7,fill:"white"});var p=Nt("circle");yt(p,{cx:16,cy:10,r:4});var f=Nt("path");yt(f,{d:"M2 14.5L2 5.5L12 10L2 14.5Z"});var O=jn([l,p,f]);t(e,{element:O,scale:.8,attrs:{fill:r},ref:{x:20.65,y:10}})}if(n==="default-milestone-flow-end"){var l=Nt("rect");yt(l,{x:8,y:9.15,width:12,height:1.7,fill:"white"});var S=Nt("path");yt(S,{d:"M10 9.99925L14.9992 5L19.9985 9.99925L14.9992 14.9985L10 9.99925Z"});var x=Nt("path");yt(x,{d:"M11.98 9.99919L14.9993 6.97985L18.0187 9.99919L14.9993 13.0185L11.98 9.99919Z",fill:"white"});var f=Nt("path");yt(f,{d:"M-4.801e-07 14.5L-8.66976e-08 5.5L10 10L-4.801e-07 14.5Z"});var m=jn([l,f,S,x]);t(e,{element:m,scale:.8,attrs:{fill:r},ref:{x:20.65,y:10}})}if(n==="default-spawn-flow-end"){var w=Nt("path");yt(w,{d:"M 13.85,5.21 C 14.23,5.49 14.60,5.34 14.67,4.87 14.67,4.87 14.98,2.83 14.98,2.83 15.06,2.35 15.17,2.35 15.24,2.83 15.24,2.83 15.55,4.87 15.55,4.87 15.63,5.34 16.00,5.49 16.38,5.21 16.38,5.21 18.13,3.92 18.13,3.92 18.51,3.64 18.60,3.73 18.32,4.11 18.32,4.11 17.04,5.89 17.04,5.89 16.77,6.27 16.92,6.65 17.39,6.72 17.39,6.72 19.40,7.03 19.40,7.03 19.87,7.11 19.87,7.22 19.40,7.30 19.40,7.30 17.39,7.61 17.39,7.61 16.92,7.68 16.77,8.06 17.04,8.44 17.04,8.44 18.32,10.22 18.32,10.22 18.60,10.60 18.51,10.69 18.13,10.41 18.13,10.41 16.38,9.12 16.38,9.12 16.00,8.84 15.63,8.99 15.55,9.46 15.55,9.46 15.24,11.50 15.24,11.50 15.17,11.98 15.06,11.98 14.98,11.50 14.98,11.50 14.67,9.46 14.67,9.46 14.60,8.99 14.23,8.84 13.85,9.12 13.85,9.12 12.10,10.41 12.10,10.41 11.72,10.69 11.65,10.61 11.94,10.24 11.94,10.24 13.39,8.42 13.39,8.42 13.69,8.05 13.55,7.69 13.08,7.62 13.08,7.62 10.78,7.30 10.78,7.30 10.32,7.24 10.32,7.12 10.78,7.05 10.78,7.05 12.84,6.72 12.84,6.72 13.31,6.65 13.46,6.27 13.19,5.89 13.19,5.89 11.91,4.11 11.91,4.11 11.63,3.73 11.72,3.64 12.10,3.92 12.10,3.92 13.85,5.21 13.85,5.21 Z M 10.60,7.18 C 10.60,7.18 5.30,9.56 5.30,9.56 5.30,9.56 -0.00,11.94 -0.00,11.94 -0.00,11.94 0.01,7.16 0.01,7.16 0.01,7.16 0.03,2.37 0.03,2.37 0.03,2.37 5.31,4.77 5.31,4.77 5.31,4.77 10.60,7.18 10.60,7.18 Z"}),t(e,{element:w,attrs:{fill:r,stroke:a,strokeLinecap:"butt"},ref:{x:21.2,y:7.2},scale:.6})}}const CL=Object.freeze(Object.defineProperty({__proto__:null,conditionMarker:_L,createMarker:SL,excludeMarker:EL,includeMarker:bL,milestoneMarker:wL,responseMarker:xL,spawnMarker:TL},Symbol.toStringTag,{value:"Module"}));function ML(t,e,n,r,a,s){yt(e,{markerEnd:t("proposed-condition-flow-end",r,n,a,s),markerStart:t("proposed-condition-flow-start",n,n),stroke:n})}function AL(t,e,n,r,a,s){yt(e,{markerStart:t("proposed-response-flow-start",n,n),markerEnd:t("proposed-response-flow-end",r,n,a,s),stroke:n})}function OL(t,e,n,r,a,s){yt(e,{markerStart:t("proposed-include-flow-start",n,n),markerEnd:t("proposed-include-flow-end",r,n,a,s),stroke:n})}function RL(t,e,n,r,a,s){yt(e,{markerStart:t("proposed-exclude-flow-start",n,n),markerEnd:t("proposed-exclude-flow-end",r,n,a,s),stroke:n})}function NL(t,e,n,r,a,s){yt(e,{markerEnd:t("proposed-milestone-flow-end",r,n,a,s),markerStart:t("proposed-milestone-flow-start",r,n,a,s),stroke:n})}function DL(t,e,n,r){yt(e,{markerEnd:t("proposed-spawn-flow-end","#4D6180","#4D6180"),markerStart:t("proposed-spawn-flow-start","#4D6180","#4D6180"),stroke:n})}function LL(t,e,n,r,a,s,u){if(n==="proposed-response-flow-end"){var l=Nt("circle");yt(l,{cx:10,cy:10,r:9});var f=Nt("path");yt(f,{d:"M12 0.8V5","stroke-width":2.3,"stroke-linecap":"round",transform:"translate(-2, 5)"});var h=Nt("circle");yt(h,{cx:10,cy:14,r:.21});var p=jn([l,f,h]);t(e,{element:p,attrs:{stroke:a,"stroke-width":"2",fill:"white",transform:ti(u)},ref:{x:21,y:10},scale:.5})}if(n==="proposed-response-flow-start"){var g=Nt("path");yt(g,{d:"M0 24V0L24 12L0 24Z",transform:"scale(0.6)"}),t(e,{element:g,attrs:{fill:r,stroke:a,"stroke-linecap":"round"},ref:{x:0,y:7.22},scale:.5})}if(n==="proposed-exclude-flow-end"){var v=Nt("circle");yt(v,{cx:10,cy:10,r:9});var _=Nt("path");yt(_,{d:"M16 12H10",fill:a,"stroke-width":2,"stroke-linecap":"round",transform:"translate(-3, -2)"});var E=jn([v,_]);t(e,{element:E,attrs:{stroke:a,"stroke-width":"2",fill:"white",transform:ti(u)},ref:{x:21,y:10},scale:.5})}if(n==="proposed-exclude-flow-start"){var M=Nt("path");yt(M,{d:"M0 24V0L24 12L0 24Z",transform:"scale(0.6)"}),t(e,{element:M,attrs:{fill:r,stroke:a,"stroke-linecap":"round"},ref:{x:0,y:7.22},scale:.5})}if(n==="proposed-include-flow-end"){var O=Nt("circle");yt(O,{cx:10,cy:10,r:9});var S=Nt("path");yt(S,{d:"M16 12L8 12M12 16L12 8",fill:a,"stroke-width":2,"stroke-linecap":"round",transform:"translate(-2, -2)"});var E=jn([O,S]);t(e,{element:E,attrs:{stroke:a,"stroke-width":"2",fill:"white",transform:ti(u)},ref:{x:21,y:10},scale:.5})}if(n==="proposed-include-flow-start"){var x=Nt("path");yt(x,{d:"M0 24V0L24 12L0 24Z",transform:"scale(0.6)"}),t(e,{element:x,attrs:{fill:r,stroke:a,"stroke-linecap":"round"},ref:{x:0,y:7.22},scale:.5})}if(n==="proposed-condition-flow-end"){var m=Nt("circle");yt(m,{cx:10,cy:10,r:9,fill:"white",stroke:a,strokeWidth:2});var w=Nt("circle");yt(w,{cx:6.5,cy:10,r:2.1,stroke:a,strokeWidth:2});var C=Nt("path");yt(C,{d:"M9.5 10H12.5M15.5 12.5V10H12.5M12.5 10V12.5",stroke:a,strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"});var A=jn([m,w,C]);t(e,{element:A,scale:.5,attrs:{fill:r,transform:ti(u)},ref:{x:20.65,y:10}})}if(n==="proposed-condition-flow-start"){var B=Nt("path");yt(B,{d:"M0 24V0L24 12L0 24Z",transform:"scale(0.6)"}),t(e,{element:B,attrs:{fill:r,stroke:a,"stroke-linecap":"round"},ref:{x:0,y:7.22},scale:.5})}if(n==="proposed-milestone-flow-end"){var m=Nt("circle");yt(m,{cx:10,cy:10,r:9,fill:"white",stroke:a,strokeWidth:2});var w=Nt("circle");yt(w,{cx:6.5,cy:10,r:2.1,stroke:a,strokeWidth:2});var C=Nt("path");yt(C,{d:"M9.5 10H12.5M15.5 12.5V10H12.5M12.5 10V12.5",stroke:a,strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"});var A=jn([m,w,C]);t(e,{element:A,scale:.5,attrs:{fill:r,transform:ti(u)},ref:{x:20.65,y:10}})}if(n==="proposed-milestone-flow-start"){let F=Nt("path");yt(F,{d:"M3,1 l17,8.5 l-17,8.5 z","stroke-width":"2",transform:"scale(0.5)"});var P;s==="right-to-left"?P="translate(-14, -10.5)":s==="left-to-right"?P="":s==="top-to-bottom"?P="translate(0.15,-12.2)":P="translate(-10.5, 1.8)";var f=Nt("path");yt(f,{d:"M3 2.7V4.8","stroke-width":1,"stroke-linecap":"round"});var h=Nt("circle");yt(h,{cx:3,cy:6.5,r:.1});var T=jn([f,h]);yt(T,{transform:P+" "+ti(s)});var j=jn([F,T]);t(e,{element:j,attrs:{fill:r,stroke:a,"stroke-linecap":"round"},ref:{x:1.5,y:4.7}})}if(n==="proposed-spawn-flow-end"){var z=Nt("path");yt(z,{d:"M 13.85,5.21 C 14.23,5.49 14.60,5.34 14.67,4.87 14.67,4.87 14.98,2.83 14.98,2.83 15.06,2.35 15.17,2.35 15.24,2.83 15.24,2.83 15.55,4.87 15.55,4.87 15.63,5.34 16.00,5.49 16.38,5.21 16.38,5.21 18.13,3.92 18.13,3.92 18.51,3.64 18.60,3.73 18.32,4.11 18.32,4.11 17.04,5.89 17.04,5.89 16.77,6.27 16.92,6.65 17.39,6.72 17.39,6.72 19.40,7.03 19.40,7.03 19.87,7.11 19.87,7.22 19.40,7.30 19.40,7.30 17.39,7.61 17.39,7.61 16.92,7.68 16.77,8.06 17.04,8.44 17.04,8.44 18.32,10.22 18.32,10.22 18.60,10.60 18.51,10.69 18.13,10.41 18.13,10.41 16.38,9.12 16.38,9.12 16.00,8.84 15.63,8.99 15.55,9.46 15.55,9.46 15.24,11.50 15.24,11.50 15.17,11.98 15.06,11.98 14.98,11.50 14.98,11.50 14.67,9.46 14.67,9.46 14.60,8.99 14.23,8.84 13.85,9.12 13.85,9.12 12.10,10.41 12.10,10.41 11.72,10.69 11.65,10.61 11.94,10.24 11.94,10.24 13.39,8.42 13.39,8.42 13.69,8.05 13.55,7.69 13.08,7.62 13.08,7.62 10.78,7.30 10.78,7.30 10.32,7.24 10.32,7.12 10.78,7.05 10.78,7.05 12.84,6.72 12.84,6.72 13.31,6.65 13.46,6.27 13.19,5.89 13.19,5.89 11.91,4.11 11.91,4.11 11.63,3.73 11.72,3.64 12.10,3.92 12.10,3.92 13.85,5.21 13.85,5.21 Z M 10.60,7.18 C 10.60,7.18 5.30,9.56 5.30,9.56 5.30,9.56 -0.00,11.94 -0.00,11.94 -0.00,11.94 0.01,7.16 0.01,7.16 0.01,7.16 0.03,2.37 0.03,2.37 0.03,2.37 5.31,4.77 5.31,4.77 5.31,4.77 10.60,7.18 10.60,7.18 Z"}),t(e,{element:z,attrs:{fill:r,stroke:a},ref:{x:21.2,y:7.2},scale:.6})}if(n==="proposed-spawn-flow-start"){var I=Nt("path");yt(I,{d:"M0 24V0L24 12L0 24Z",transform:"scale(0.6)"}),t(e,{element:I,attrs:{fill:r,stroke:a,"stroke-linecap":"round"},ref:{x:0,y:7.22},scale:.5})}}const PL=Object.freeze(Object.defineProperty({__proto__:null,conditionMarker:ML,createMarker:LL,excludeMarker:RL,includeMarker:OL,milestoneMarker:NL,responseMarker:AL,spawnMarker:DL},Symbol.toStringTag,{value:"Module"}));function BL(t,e,n,r,a,s){yt(e,{markerEnd:t("new-condition-flow-end",r,n,a,s),stroke:n})}function kL(t,e,n,r,a,s){yt(e,{markerStart:t("new-response-flow-start",n,n,a,s),stroke:n})}function IL(t,e,n,r,a,s){yt(e,{markerStart:t("new-include-flow-start",n,n,a,s),stroke:n})}function jL(t,e,n,r,a,s){yt(e,{markerStart:t("new-exclude-flow-start",n,n,a,s),stroke:n})}function $L(t,e,n,r,a,s){yt(e,{markerEnd:t("new-milestone-flow-end",r,n,a,s),stroke:n})}function zL(t,e,n,r,a,s,u){if(n==="new-response-flow-start"){var l=Nt("rect");yt(l,{x:1,y:1,width:18,height:18,rx:1,ry:1,fill:a});var f=Nt("path");yt(f,{d:"M12 0.8V5","stroke-width":2.3,"stroke-linecap":"round",transform:"translate(-2, 5)",stroke:"white"});var h=Nt("circle");yt(h,{cx:10,cy:14,r:.21,fill:"white",stroke:"white"});var p=jn([l,f,h]);t(e,{element:p,attrs:{stroke:a,"stroke-width":"2",transform:ti(s)},ref:{x:-.6,y:10},scale:.5})}if(n==="new-exclude-flow-start"){var g=Nt("rect");yt(g,{x:1,y:1,width:18,height:18,rx:1,ry:1,fill:a});var v=Nt("path");yt(v,{d:"M16 12H10","stroke-width":2,"stroke-linecap":"round",transform:"translate(-3, -2)",stroke:"white"});var _=jn([g,v]);t(e,{element:_,attrs:{stroke:a,"stroke-width":"2",transform:ti(s)},ref:{x:-.6,y:10},scale:.5})}if(n==="new-include-flow-start"){var E=Nt("rect");yt(E,{x:1,y:1,width:18,height:18,rx:1,ry:1,fill:a});var M=Nt("path");yt(M,{d:"M16 12L8 12M12 16L12 8","stroke-width":2,"stroke-linecap":"round",transform:"translate(-2, -2)",stroke:"white"});var _=jn([E,M]);t(e,{element:_,attrs:{stroke:a,"stroke-width":"2",transform:ti(s)},ref:{x:-.6,y:10},scale:.5})}if(n==="new-condition-flow-end"){var O=Nt("circle");yt(O,{cx:10,cy:10,r:9}),t(e,{element:O,attrs:{stroke:a,fill:"white","stroke-width":"2"},ref:{x:21,y:10},scale:.5})}if(n==="new-milestone-flow-end"){var S=Nt("circle");yt(S,{cx:10,cy:10,r:9,fill:a});var f=Nt("path");yt(f,{d:"M12 0.8V5","stroke-width":2.3,"stroke-linecap":"round",transform:"translate(-2, 5)",stroke:"white"});var h=Nt("circle");yt(h,{cx:10,cy:14,r:.21,fill:"white",stroke:"white"});var x=jn([S,f,h]);t(e,{element:x,attrs:{stroke:a,"stroke-width":"2",transform:ti(u)},ref:{x:21,y:10},scale:.5})}}const UL=Object.freeze(Object.defineProperty({__proto__:null,conditionMarker:BL,createMarker:zL,excludeMarker:jL,includeMarker:IL,milestoneMarker:$L,responseMarker:kL},Symbol.toStringTag,{value:"Module"}));var HL=new Si,ym=.35,Pw={};function us(t,e,n,r,a,s,u,l){co.call(this,e,l);var f=t&&t.defaultFillColor,h=t&&t.defaultStrokeColor,p=HL.next(),g=n.computeStyle;function v(I,F,at,Et,it,lt){On(it)&&(lt=it,it=0),it=it||0,lt=g(lt,{fill:"white"});var Mt=Nt("rect");return yt(Mt,{x:it,y:it,width:F-it*2,height:at-it*2,rx:Et,ry:Et}),yt(Mt,lt),Wt(I,Mt),Mt}function _(I,F,at){at=g(at,["no-fill"],{strokeWidth:2});var Et=Nt("path");return yt(Et,{d:F}),yt(Et,at),Wt(I,Et),Et}function E(I,F,at,Et){return _(F,at,ft({"data-marker":I},Et))}function M(I){return z[I]}function O(I,F,at){at=ft({size:{width:100}},at);var Et=s.createText(F||"",at);return le(Et).add("djs-label"),Wt(I,Et),Et}function S(I,F){var at={width:90,height:30,x:F.width/2+F.x,y:F.height/2+F.y};return O(I,du(F),{box:at,fitBox:!0,style:ft({},s.getExternalStyle(),{fill:"black"})})}function x(I,F){let Et=gm(F).role||"";O(I,Et,{box:{height:30,width:F.width},padding:5,align:"center-middle",style:{fill:h}})}function m(I,F,at,Et){var it=gm(F);it.description&&O(I,it.description,{box:{height:F.height+Et,width:F.width},padding:{top:5+Et,bottom:5,left:5,right:5},align:at,style:{fill:h}})}function w(){switch(bi.markerNotation){case"DCR Solutions":return UL;case"TAL2023":return PL;case"HM2011":return CL}}function C(I,F,at=!1){A(I,[{x:0,y:30},{x:F.width,y:30}],{stroke:eu(F,h),"stroke-dasharray":at?"12, 5":void 0})}function A(I,F,at){at=g(at,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"});var Et=Yh(F,at);return Wt(I,Et),Et}function B(I){for(var F=I.waypoints,at="m  "+F[0].x+","+F[0].y,Et=1;Et<F.length;Et++)at+="L"+F[Et].x+","+F[Et].y+" ";return at}function P(I,F,at,Et,it){var lt=I+"-"+j(F)+"-"+j(at)+"-"+p+"-"+Et+"-"+it;return Pw[lt]||w().createMarker(T,lt,I,F,at,Et,it),"url(#"+lt+")"}function T(I,F){var at=ft({fill:"black",strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},F.attrs),Et=F.ref||{x:0,y:0},it=F.scale||1;at.strokeDasharray==="none"&&(at.strokeDasharray=[1e4,1]);var lt=Nt("marker");yt(F.element,at),Wt(lt,F.element),yt(lt,{id:I,viewBox:"0 0 20 20",refX:Et.x,refY:Et.y,markerWidth:20*it,markerHeight:20*it,orient:"auto"});var Mt=an("defs",a._svg);Mt||(Mt=Nt("defs"),Wt(a._svg,Mt)),Wt(Mt,lt),Pw[I]=lt}function j(I){return I.replace(/[^0-9a-zA-z]+/g,"_")}var z=this.handlers={"dcr:Event":function(I,F,at){let Et=F.businessObject.get("included"),it=F.businessObject.get("pending"),lt=F.businessObject.get("executed"),Mt=F.businessObject.get("enabled");var zt=v(I,F.width,F.height,7,ft({fill:$c(F,f),fillOpacity:ym,stroke:Mt?"green":eu(F,h),strokeWidth:Mt?3:2,"stroke-dasharray":Et?void 0:"12, 5"}),at);return C(I,F,!Et),x(I,F),m(I,F,"center-middle",30),it&&M("PendingMarker")(I,F),lt&&M("ExecutedMarker")(I,F),zt},"dcr:Nesting":function(I,F,at){var Et=v(I,F.width,F.height,7,ft({fill:$c(F,f),fillOpacity:ym,stroke:eu(F,h),strokeWidth:2}),at);return C(I,F),x(I,F),m(I,F,"center-top",30),M("NestingMarker")(I,F),Et},"dcr:SubProcess":function(I,F,at){let Et=F.businessObject.get("included"),it=F.businessObject.get("pending"),lt=F.businessObject.get("executed"),Mt=F.businessObject.get("multi-instance");var zt=v(I,F.width,F.height,7,ft({fill:$c(F,f),fillOpacity:ym,stroke:eu(F,h),strokeWidth:2,"stroke-dasharray":Et?void 0:"12, 5"}),at);return m(I,F,"center-top",0),Mt?M("MultiInstanceMarker")(I,F):M("SubProcessMarker")(I,F),it&&M("PendingMarker")(I,F),lt&&M("ExecutedMarker")(I,F),zt},"dcr:Relation":function(I,F){let at=F.businessObject.get("type");var Et=B(F),it=$c(F,f),lt=eu(F,h);gm(F);var Mt=_(I,Et,{strokeLinejoin:"round",stroke:lt});let zt=F.waypoints,G=zt[0],H=zt[1],K,nt;G.y==H.y?K=G.x>H.x?"right-to-left":"left-to-right":K=G.y>H.y?"bottom-to-top":"top-to-bottom";let tt=zt[zt.length-1],xt=zt[zt.length-2];tt.y==xt.y?nt=tt.x>xt.x?"left-to-right":"right-to-left":nt=tt.y>xt.y?"top-to-bottom":"bottom-to-top";let wt=w();return at==="condition"?wt.conditionMarker(P,Mt,bi.blackRelations?tu:fL,it,K,nt):at==="response"?wt.responseMarker(P,Mt,bi.blackRelations?tu:dL,it,K,nt):at==="include"?wt.includeMarker(P,Mt,bi.blackRelations?tu:hL,it,K,nt):at==="exclude"?wt.excludeMarker(P,Mt,bi.blackRelations?tu:pL,it,K,nt):at==="milestone"?wt.milestoneMarker(P,Mt,bi.blackRelations?tu:gL,it,K,nt):at==="spawn"&&wt.spawnMarker(P,Mt,bi.blackRelations?tu:"#4D6180",it,K,nt),Mt},label:function(I,F){return S(I,F)},PendingMarker:function(I,F){var at=r.getScaledPath("MARKER_PENDING",{xScaleFactor:1,yScaleFactor:1,containerWidth:F.width,containerHeight:F.height,position:{mx:6/F.width,my:60/F.height}});E("pending",I,at,{fill:"#039BE5",stroke:"#039BE5"})},ExecutedMarker:function(I,F){var at=r.getScaledPath("MARKER_EXECUTED",{xScaleFactor:1,yScaleFactor:1,containerWidth:F.width,containerHeight:F.height,position:{mx:15/F.width,my:50/F.height}});E("executed",I,at,{strokeWidth:1,fill:"#4CAF50",stroke:"#4CAF50"})},NestingMarker:function(I,F){var at=r.getScaledPath("MARKER_NESTING",{xScaleFactor:1,yScaleFactor:1,containerWidth:F.width,containerHeight:F.height,position:{mx:(F.width-15)/F.width,my:(F.height-5)/F.height}});E("nesting",I,at,{strokeWidth:1,fill:"grey",stroke:"grey"})},SubProcessMarker:function(I,F){var at=r.getScaledPath("MARKER_SUBPROCESS",{xScaleFactor:1,yScaleFactor:1,containerWidth:F.width,containerHeight:F.height,position:{mx:(F.width-15)/F.width,my:(F.height-5)/F.height}});E("subprocess",I,at,{strokeWidth:1,fill:"grey",stroke:"grey"})},MultiInstanceMarker:function(I,F){var at=r.getScaledPath("MARKER_MULTI_INSTANCE",{xScaleFactor:1,yScaleFactor:1,containerWidth:F.width,containerHeight:F.height,position:{mx:F.width/2/F.width,my:(F.height-20)/F.height}});E("multi-instance",I,at,{strokeWidth:2,fill:$c(F,f),stroke:eu(F,h)})}}}Te(us,co);us.$inject=["config.odm","eventBus","styles","pathMap","canvas","textRenderer","dcrSettings"];us.prototype.canRender=function(t){return Jt(t,"dcr:BoardElement")};us.prototype.drawShape=function(t,e){var n=e.type,r=this.handlers[n];return r(t,e)};us.prototype.drawConnection=function(t,e){var n=e.type,r=this.handlers[n];return r(t,e)};us.prototype.getShapePath=function(t){return vL(t)};var FL=0,XL={width:150,height:50};function qL(t){var e=t.split("-");return{horizontal:e[0]||"center",vertical:e[1]||"top"}}function GL(t){return On(t)?ft({top:0,left:0,right:0,bottom:0},t):{top:t,left:t,right:t,bottom:t}}function VL(t,e){e.textContent=t;var n;try{var r,a=t==="";return e.textContent=a?"dummy":t,n=e.getBBox(),r={width:n.width+n.x*2,height:n.height},a&&(r.width=0),r}catch{return{width:0,height:0}}}function YL(t,e,n){for(var r=t.shift(),a=r,s;;){if(s=VL(a,n),s.width=a?s.width:0,a===" "||a===""||s.width<Math.round(e)||a.length<2)return KL(t,a,r,s);a=WL(a,s.width,e)}}function KL(t,e,n,r){if(e.length<n.length){var a=n.slice(e.length).trim();t.unshift(a)}return{width:r.width,height:r.height,text:e}}var Bw="­";function ZL(t,e){var n=t.split(/(\s|-|\u00AD)/g),r,a=[],s=0;if(n.length>1)for(;r=n.shift();)if(r.length+s<e)a.push(r),s+=r.length;else{(r==="-"||r===Bw)&&a.pop();break}var u=a[a.length-1];return u&&u===Bw&&(a[a.length-1]="-"),a.join("")}function WL(t,e,n){var r=Math.max(t.length*(n/e),1),a=ZL(t,r);return a||(a=t.slice(0,Math.max(Math.round(r-1),1))),a}function QL(){var t=document.getElementById("helper-svg");return t||(t=Nt("svg"),yt(t,{id:"helper-svg"}),so(t,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(t)),t}function op(t){this._config=ft({},{size:XL,padding:FL,style:{},align:"center-top"},t||{})}op.prototype.createText=function(t,e){return this.layoutText(t,e).element};op.prototype.getDimensions=function(t,e){return this.layoutText(t,e).dimensions};op.prototype.layoutText=function(t,e){var n=ft({},this._config.size,e.box),r=ft({},this._config.style,e.style),a=qL(e.align||this._config.align),s=GL(e.padding!==void 0?e.padding:this._config.padding),u=e.fitBox||!1,l=JL(r),f=t.split(/\u00AD?\r?\n/),h=[],p=n.width-s.left-s.right,g=Nt("text");yt(g,{x:0,y:0}),yt(g,r);var v=QL();for(Wt(v,g);f.length;)h.push(YL(f,p,g));a.vertical==="middle"&&(s.top=s.bottom=0);var _=$r(h,function(x,m,w){return x+(l||m.height)},0)+s.top+s.bottom,E=$r(h,function(x,m,w){return m.width>x?m.width:x},0),M=s.top;a.vertical==="middle"&&(M+=(n.height-_)/2),M-=(l||h[0].height)/4;var O=Nt("text");yt(O,r),st(h,function(x){var m;switch(M+=l||x.height,a.horizontal){case"left":m=s.left;break;case"right":m=(u?E:p)-s.right-x.width;break;default:m=Math.max(((u?E:p)-x.width)/2+s.left,0)}var w=Nt("tspan");yt(w,{x:m,y:M}),w.textContent=x.text,Wt(O,w)}),Qe(g);var S={width:E,height:_};return{dimensions:S,element:O}};function JL(t){if("fontSize"in t&&"lineHeight"in t)return t.lineHeight*parseInt(t.fontSize,10)}var t8=16,e8=1.2;function AC(t){var e=ft({fontFamily:"IBM Plex, sans-serif",fontSize:t8,fontWeight:"normal",lineHeight:e8},t&&t.defaultStyle||{}),n=parseInt(e.fontSize,10)-1,r=ft({},e,{fontSize:n},t&&t.externalStyle||{}),a=new op({style:e});this.getExternalLabelBounds=function(s,u){var l=a.getDimensions(u,{box:{width:90,height:30,x:s.width/2+s.x,y:s.height/2+s.y},style:r});return{x:Math.round(s.x+s.width/2-l.width/2),y:Math.round(s.y),width:Math.ceil(l.width),height:Math.ceil(l.height)}},this.createText=function(s,u){return a.createText(s,u||{})},this.getDefaultStyle=function(){return e},this.getExternalStyle=function(){return r}}AC.$inject=["config.textRenderer"];function n8(){this.pathMap={MARKER_PENDING:{d:"m {mx},{my} c0,0,0,0,0,0c0,-1.79,1.34,-3.25,3,-3.25c1.66,0,3,1.46,3,3.25c0,0,0,0,0,0c0,1.8,-1.34,3.25,-3,3.25c-1.66,0,-3,-1.45,-3,-3.25c0,0,0,0,0,0zm0.29,-19.5c-0.01,-0.1,-0.01,-0.21,-0.01,-0.31c0,-1.62,1.21,-2.94,2.71,-2.94c1.5,0,2.72,1.32,2.72,2.94c0,0.1,-0.01,0.21,-0.02,0.31c0,0,-1.05,11.39,-1.05,11.39c-0.08,0.9,-0.79,1.61,-1.65,1.61c-0.85,0,-1.56,-0.71,-1.65,-1.61c0,0,-1.05,-11.39,-1.05,-11.39z",height:10,width:10,heightElements:[],widthElements:[]},MARKER_EXECUTED:{d:"m {mx},{my} c3.45,3.86,6.8,7.34,10.02,11.74c3.49,-7.2,7.07,-14.42,12.98,-22.25c0,0,-1.59,-0.75,-1.59,-0.75c-4.99,5.47,-8.86,10.65,-12.23,16.81c-2.34,-2.18,-6.13,-5.27,-8.44,-6.86c0,0,-0.74,1.31,-0.74,1.31z",height:4,width:15,heightElements:[],widthElements:[]},MARKER_NESTING:{d:"m {mx},{my} l -2.25 0 l 0 -13 l 2.175 0 l 0 2.175 q 0.7 -0.95, 1.788 -1.762 a 4.329 4.329 0 0 1 1.776 -0.656 a 5.657 5.657 0 0 1 0.811, -0.056 a 5.806 5.806 0 0 1 1.266 0.13 q 0.836 0.186 1.445 0.643 a 3.315, 3.315 0 0 1 0.576 0.552 a 4.601 4.601 0 0 1 0.902 1.845 q 0.163 0.66 0.183, 1.432 a 8.441 8.441 0 0 1 0.003 0.223 l 0 8.475 l -2.25 0 l 0 -8.225 q 0, -1.148 -0.445 -1.926 a 2.741 2.741 0 0 0 -0.217 -0.324 a 2.145 2.145 0 0 0, -1.57 -0.838 a 3.015 3.015 0 0 0 -0.268 -0.012 a 3.28 3.28 0 0 0 -1.712 0.491, a 4.338 4.338 0 0 0 -0.463 0.322 q -1.025 0.812 -1.75 1.912 l 0 8.6 Z",height:4,width:15,heightElements:[],widthElements:[]},MARKER_SUBPROCESS:{d:"m {mx},{my} l0.95,-1.875a4.639,4.639,0,0,0,0.786,0.531q0.389,0.212,0.852, 0.382a6.018,6.018,0,0,0,1.902,0.359a6.866,6.866,0,0,0,0.21,0.003a6.778,6.778, 0,0,0,0.771,-0.041q0.796,-0.091,1.288,-0.388a1.934,1.934,0,0,0,0.054, -0.033a1.862,1.862,0,0,0,0.383,-0.324a1.263,1.263,0,0,0,0.329,-0.864a1.781, 1.781,0,0,0,-0.079,-0.537a1.553,1.553,0,0,0,-0.183,-0.388q-0.263,-0.4,-0.963, -0.787a7.116,7.116,0,0,0,-0.499,-0.249q-0.529,-0.24,-1.276,-0.503a25.896, 25.896,0,0,0,-0.25,-0.086a11.654,11.654,0,0,1,-1.099,-0.436q-1.025,-0.472, -1.638,-1.051a2.831,2.831,0,0,1,-0.824,-1.5a4.198,4.198,0,0,1,-0.089,-0.888a3.03, 3.03,0,0,1,0.987,-2.254a4.366,4.366,0,0,1,0.326,-0.283a4.441,4.441,0,0,1,1.509, -0.762q0.929,-0.276,2.128,-0.276q1.25,0,2.225,0.263a9.692,9.692,0,0,1,1.034, 0.338a7.778,7.778,0,0,1,0.716,0.324l-0.625,1.85a6.132,6.132,0,0,0,-0.917, -0.441a7.548,7.548,0,0,0,-0.62,-0.209q-0.863,-0.25,-1.913,-0.25a5.158,5.158,0, 0,0,-0.734,0.049q-0.772,0.111,-1.241,0.476a2.33,2.33,0,0,0,-0.339,0.318q-0.176, 0.205,-0.26,0.423a1.132,1.132,0,0,0,-0.076,0.409a1.23,1.23,0,0,0,0.374,0.888a1.771, 1.771,0,0,0,0.151,0.137q0.516,0.418,2,0.908a21.155,21.155,0,0,0,0.05,0.017a16.938, 16.938,0,0,1,1.266,0.475q1.203,0.511,1.892,1.082a3.737,3.737,0,0,1,0.292,0.268q0.975, 1,0.975,2.5a3.468,3.468,0,0,1,-0.266,1.379q-0.346,0.81,-1.146,1.384q-1.185,0.849, -3.048,0.986a10.106,10.106,0,0,1,-0.74,0.026a9.997,9.997,0,0,1,-1.465,-0.103a7.737, 7.737,0,0,1,-1.197,-0.272a7.721,7.721,0,0,1,-0.961,-0.371q-0.566,-0.266,-1.002,-0.604z",height:4,width:15,heightElements:[],widthElements:[]},MARKER_MULTI_INSTANCE:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]}},this.getRawPath=function(e){return this.pathMap[e].d},this.getScaledPath=function(e,n){var r=this.pathMap[e],a,s;n.abspos?(a=n.abspos.x,s=n.abspos.y):(a=n.containerWidth*n.position.mx,s=n.containerHeight*n.position.my);var u={};if(n.position){for(var l=n.containerHeight/r.height*n.yScaleFactor,f=n.containerWidth/r.width*n.xScaleFactor,h=0;h<r.heightElements.length;h++)u["y"+h]=r.heightElements[h]*l;for(var p=0;p<r.widthElements.length;p++)u["x"+p]=r.widthElements[p]*f}var g=a8(r.d,{mx:a,my:s,e:u});return g}}var r8=/\{([^{}]+)\}/g,i8=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;function o8(t,e,n){var r=n;return e.replace(i8,function(a,s,u,l,f){s=s||l,r&&(s in r&&(r=r[s]),typeof r=="function"&&f&&(r=r()))}),r=(r==null||r==n?t:r)+"",r}function a8(t,e){return String(t).replace(r8,function(n,r){return o8(n,r,e)})}const s8={__init__:["odRenderer"],odRenderer:["type",us],textRenderer:["type",AC],pathMap:["type",n8]};function u8(t,e){return e=e||{},t.replace(/{([^}]+)}/g,function(n,r){return e[r]||"{"+r+"}"})}const ap={translate:["value",u8]};var Oh={width:90,height:20},kw=15;function c8(t){return!1}function OC(t){return Ir(t.label)}function l8(t){var e=t.length/2-1,n=t[Math.floor(e)],r=t[Math.ceil(e+.01)],a=f8(t),s=Math.atan((r.y-n.y)/(r.x-n.x)),u=a.x,l=a.y;return Math.abs(s)<Math.PI/2?l-=kw:u+=kw,{x:u,y:l}}function f8(t){var e=t.length/2-1,n=t[Math.floor(e)],r=t[Math.ceil(e+.01)];return{x:n.x+(r.x-n.x)/2,y:n.y+(r.y-n.y)/2}}function d8(t){return t.waypoints?l8(t.waypoints):{x:t.x+t.width/2,y:t.y+t.height+Oh.height/2}}function h8(t,e){var n,r,a,s=t.di,u=s.label;return u&&u.bounds?(a=u.bounds,r={width:Math.max(Oh.width,a.width),height:a.height},n={x:a.x+a.width/2,y:a.y+a.height/2}):(n=d8(e),r=Oh),ft({x:n.x-r.width/2,y:n.y-r.height/2},r)}function Ir(t){return t&&!!t.labelTarget}function ih(t,e){return ft({id:t.id,type:t.$type,businessObject:t},e)}function RC(t,e,n,r){return new Error(t("element {element} referenced by {referenced}#{property} not yet drawn",{element:dr(n),referenced:dr(e),property:r}))}function ho(t,e,n,r,a,s){this._eventBus=t,this._canvas=e,this._elementFactory=n,this._elementRegistry=r,this._translate=a,this._textRenderer=s}ho.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"];ho.prototype.add=function(t,e){var n=t.di,r,a=this._translate,s,u;if(Jt(n,"dcrDi:DcrPlane"))r=this._elementFactory.createRoot(ih(t)),this._canvas.setRootElement(r);else if(Jt(n,"dcrDi:DcrShape")){var l=g8(t);s=e&&(e.hidden||e.collapsed);var f=t.di.bounds;r=this._elementFactory.createShape(ih(t,{hidden:s,x:Math.round(f.x),y:Math.round(f.y),width:Math.round(f.width),height:Math.round(f.height),isFrame:l})),this._canvas.addShape(r,e,u)}else if(Jt(n,"dcrDi:Relation")){var h=this._getSource(t),p=this._getTarget(t);s=e&&(e.hidden||e.collapsed),r=this._elementFactory.createConnection(ih(t,{hidden:s,source:h,target:p,waypoints:p8(t,h,p)})),this._canvas.addConnection(r,e,0)}else throw new Error(a("unknown di {di} for element {semantic}",{di:dr(n),semantic:dr(t)}));return this._eventBus.fire("boardElement.added",{element:r}),r};function p8(t,e,n){var r=t.di.waypoint;return!r||r.length<2?[me(e),me(n)]:r.map(function(a){return{x:a.x,y:a.y}})}ho.prototype._attachBoundary=function(t,e){var n=this._translate,r=t.attachedToRef;if(!r)throw new Error(n("missing {semantic}#attachedToRef",{semantic:dr(t)}));var a=this._elementRegistry.get(r.id),s=a&&a.attachers;if(!a)throw RC(n,t,r,"attachedToRef");e.host=a,s||(a.attachers=s=[]),s.indexOf(e)===-1&&s.push(e)};ho.prototype.addLabel=function(t,e){var n,r,a;return n=h8(t,e),r=du(e),r&&(n=this._textRenderer.getExternalLabelBounds(n,r)),a=this._elementFactory.createLabel(ih(t,{id:t.id+"_label",labelTarget:e,type:"label",hidden:e.hidden||!du(e),x:Math.round(n.x),y:Math.round(n.y),width:Math.round(n.width),height:Math.round(n.height)})),this._canvas.addShape(a,e.parent)};ho.prototype._getEnd=function(t,e){var n,r,a=this._translate;if(r=t[e+"Ref"],n=r&&this._getElement(r),n)return n;throw r?RC(a,t,r,e+"Ref"):new Error(a("{semantic}#{side} Ref not specified",{semantic:dr(t),side:e}))};ho.prototype._getSource=function(t){return this._getEnd(t,"source")};ho.prototype._getTarget=function(t){return this._getEnd(t,"target")};ho.prototype._getElement=function(t){return this._elementRegistry.get(t.id)};function g8(t){return Jt(t,"dcr:Group")}const y8={__depends__:[ap],DCRImporter:["type",ho]},m8={__depends__:[s8,y8]};function Iw(t){!t||typeof t.stopPropagation!="function"||t.stopPropagation()}function Su(t){return t.originalEvent||t.srcEvent}function mm(t){Iw(t),Iw(Su(t))}function sa(t){return t.pointers&&t.pointers.length&&(t=t.pointers[0]),t.touches&&t.touches.length&&(t=t.touches[0]),t?{x:t.clientX,y:t.clientY}:null}function NC(){return/mac/i.test(navigator.platform)}function DC(t,e){return(Su(t)||t).button===e}function fa(t){return DC(t,0)}function v8(t){return DC(t,1)}function nl(t){var e=Su(t)||t;return fa(t)?NC()?e.metaKey:e.ctrlKey:!1}function A0(t){var e=Su(t)||t;return fa(t)&&e.shiftKey}function _8(t){return!0}function od(t){return fa(t)||v8(t)}var jw=500;function LC(t,e,n){var r=this;function a(P,T,j){if(!l(P,T)){var z,I,F;j?I=e.getGraphics(j):(z=T.delegateTarget||T.target,z&&(I=z,j=e.get(I))),!(!I||!j)&&(F=t.fire(P,{element:j,gfx:I,originalEvent:T}),F===!1&&(T.stopPropagation(),T.preventDefault()))}}var s={};function u(P){return s[P]}function l(P,T){var j=h[P]||fa;return!j(T)}var f={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},h={"element.contextmenu":_8,"element.mousedown":od,"element.mouseup":od,"element.click":od,"element.dblclick":od};function p(P,T,j){var z=f[P];if(!z)throw new Error("unmapped DOM event name <"+P+">");return a(z,T,j)}var g="svg, .djs-element";function v(P,T,j,z){var I=s[j]=function(F){a(j,F)};z&&(h[j]=z),I.$delegate=ei.bind(P,g,T,I)}function _(P,T,j){var z=u(j);z&&ei.unbind(P,T,z.$delegate)}function E(P){st(f,function(T,j){v(P,j,T)})}function M(P){st(f,function(T,j){_(P,j,T)})}t.on("canvas.destroy",function(P){M(P.svg)}),t.on("canvas.init",function(P){E(P.svg)}),t.on(["shape.added","connection.added"],function(P){var T=P.element,j=P.gfx;t.fire("interactionEvents.createHit",{element:T,gfx:j})}),t.on(["shape.changed","connection.changed"],jw,function(P){var T=P.element,j=P.gfx;t.fire("interactionEvents.updateHit",{element:T,gfx:j})}),t.on("interactionEvents.createHit",jw,function(P){var T=P.element,j=P.gfx;r.createDefaultHit(T,j)}),t.on("interactionEvents.updateHit",function(P){var T=P.element,j=P.gfx;r.updateDefaultHit(T,j)});var O=C("djs-hit djs-hit-stroke"),S=C("djs-hit djs-hit-click-stroke"),x=C("djs-hit djs-hit-all"),m=C("djs-hit djs-hit-no-move"),w={all:x,"click-stroke":S,stroke:O,"no-move":m};function C(P,T){return T=ft({stroke:"white",strokeWidth:15},T||{}),n.cls(P,["no-fill","no-border"],T)}function A(P,T){var j=w[T];if(!j)throw new Error("invalid hit type <"+T+">");return yt(P,j),P}function B(P,T){Wt(P,T)}this.removeHits=function(P){var T=Wm(".djs-hit",P);st(T,Qe)},this.createDefaultHit=function(P,T){var j=P.waypoints,z=P.isFrame,I;return j?this.createWaypointsHit(T,j):(I=z?"stroke":"all",this.createBoxHit(T,I,{width:P.width,height:P.height}))},this.createWaypointsHit=function(P,T){var j=Yh(T);return A(j,"stroke"),B(P,j),j},this.createBoxHit=function(P,T,j){j=ft({x:0,y:0},j);var z=Nt("rect");return A(z,T),yt(z,j),B(P,z),z},this.updateDefaultHit=function(P,T){var j=an(".djs-hit",T);if(j)return P.waypoints?SS(j,P.waypoints):yt(j,{width:P.width,height:P.height}),j},this.fire=a,this.triggerMouseEvent=p,this.mouseHandler=u,this.registerEvent=v,this.unregisterEvent=_}LC.$inject=["eventBus","elementRegistry","styles"];const bl={__init__:["interactionEvents"],interactionEvents:["type",LC]};var x8=500,b8=1e3;function cs(t,e){this._eventBus=t,this.offset=5;var n=e.cls("djs-outline",["no-fill"]),r=this;function a(s){var u=Nt("rect");return yt(u,ft({x:0,y:0,rx:4,width:100,height:100},n)),u}t.on(["shape.added","shape.changed"],x8,function(s){var u=s.element,l=s.gfx,f=an(".djs-outline",l);f||(f=r.getOutline(u)||a(),Wt(l,f)),r.updateShapeOutline(f,u)}),t.on(["connection.added","connection.changed"],function(s){var u=s.element,l=s.gfx,f=an(".djs-outline",l);f||(f=a(),Wt(l,f)),r.updateConnectionOutline(f,u)})}cs.prototype.updateShapeOutline=function(t,e){var n=!1,r=this._getProviders();r.length&&st(r,function(a){n=n||a.updateOutline(e,t)}),n||yt(t,{x:-this.offset,y:-this.offset,width:e.width+this.offset*2,height:e.height+this.offset*2})};cs.prototype.updateConnectionOutline=function(t,e){var n=bn(e);yt(t,{x:n.x-this.offset,y:n.y-this.offset,width:n.width+this.offset*2,height:n.height+this.offset*2})};cs.prototype.registerProvider=function(t,e){e||(e=t,t=b8),this._eventBus.on("outline.getProviders",t,function(n){n.providers.push(e)})};cs.prototype._getProviders=function(){var t=this._eventBus.createEvent({type:"outline.getProviders",providers:[]});return this._eventBus.fire(t),t.providers};cs.prototype.getOutline=function(t){var e,n=this._getProviders();return st(n,function(r){En(r.getOutline)&&(e=e||r.getOutline(t))}),e};cs.$inject=["eventBus","styles","elementRegistry"];const PC={__init__:["outline"],outline:["type",cs]};function Cu(t,e){this._eventBus=t,this._canvas=e,this._selectedElements=[];var n=this;t.on(["shape.remove","connection.remove"],function(r){var a=r.element;n.deselect(a)}),t.on(["diagram.clear","root.set"],function(r){n.select(null)})}Cu.$inject=["eventBus","canvas"];Cu.prototype.deselect=function(t){var e=this._selectedElements,n=e.indexOf(t);if(n!==-1){var r=e.slice();e.splice(n,1),this._eventBus.fire("selection.changed",{oldSelection:r,newSelection:e})}};Cu.prototype.get=function(){return this._selectedElements};Cu.prototype.isSelected=function(t){return this._selectedElements.indexOf(t)!==-1};Cu.prototype.select=function(t,e){var n=this._selectedElements,r=n.slice();ne(t)||(t=t?[t]:[]);var a=this._canvas,s=a.getRootElement();t=t.filter(function(u){var l=a.findRoot(u);return s===l}),e?st(t,function(u){n.indexOf(u)===-1&&n.push(u)}):this._selectedElements=n=t.slice(),this._eventBus.fire("selection.changed",{oldSelection:r,newSelection:n})};var $w="hover",zw="selected",ad=6;function O0(t,e,n){this._canvas=t;var r=this;this._multiSelectionBox=null;function a(u,l){t.addMarker(u,l)}function s(u,l){t.removeMarker(u,l)}e.on("element.hover",function(u){a(u.element,$w)}),e.on("element.out",function(u){s(u.element,$w)}),e.on("selection.changed",function(u){function l(g){s(g,zw)}function f(g){a(g,zw)}var h=u.oldSelection,p=u.newSelection;st(h,function(g){p.indexOf(g)===-1&&l(g)}),st(p,function(g){h.indexOf(g)===-1&&f(g)}),r._updateSelectionOutline(p)}),e.on("element.changed",function(u){n.isSelected(u.element)&&r._updateSelectionOutline(n.get())})}O0.$inject=["canvas","eventBus","selection"];O0.prototype._updateSelectionOutline=function(t){var e=this._canvas.getLayer("selectionOutline");Uv(e);var n=t.length>1,r=this._canvas.getContainer();if(le(r)[n?"add":"remove"]("djs-multi-select"),!!n){var a=E8(bn(t)),s=Nt("rect");yt(s,ft({rx:3},a)),le(s).add("djs-selection-outline"),Wt(e,s)}};function E8(t){return{x:t.x-ad,y:t.y-ad,width:t.width+ad*2,height:t.height+ad*2}}function BC(t,e,n,r){t.on("create.end",500,function(a){var s=a.context,u=s.canExecute,l=s.elements,f=s.hints||{},h=f.autoSelect;if(u){if(h===!1)return;ne(h)?e.select(h):e.select(l.filter(w8))}}),t.on("connect.end",500,function(a){var s=a.context,u=s.connection;u&&e.select(u)}),t.on("shape.move.end",500,function(a){var s=a.previousSelection||[],u=r.get(a.context.shape.id),l=Ie(s,function(f){return u.id===f.id});l||e.select(u)}),t.on("element.click",function(a){if(fa(a)){var s=a.element;s===n.getRootElement()&&(s=null);var u=e.isSelected(s),l=e.get().length>1,f=nl(a)||A0(a);if(u&&l)return f?e.deselect(s):e.select(s);u?e.deselect(s):e.select(s,f)}})}BC.$inject=["eventBus","selection","canvas","elementRegistry"];function w8(t){return!t.hidden}const po={__init__:["selectionVisuals","selectionBehavior"],__depends__:[bl,PC],selection:["type",Cu],selectionVisuals:["type",O0],selectionBehavior:["type",BC]};function R0(t){this._counter=0,this._prefix=(t?t+"-":"")+Math.floor(Math.random()*1e9)+"-"}R0.prototype.next=function(){return this._prefix+ ++this._counter};var T8=new R0("ov"),S8=500;function pn(t,e,n,r){this._eventBus=e,this._canvas=n,this._elementRegistry=r,this._ids=T8,this._overlayDefaults=ft({show:null,scale:!0},t&&t.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=C8(n.getContainer()),this._init()}pn.$inject=["config.overlays","eventBus","canvas","elementRegistry"];pn.prototype.get=function(t){if(jr(t)&&(t={id:t}),jr(t.element)&&(t.element=this._elementRegistry.get(t.element)),t.element){var e=this._getOverlayContainer(t.element,!0);return e?t.type?sn(e.overlays,Jo({type:t.type})):e.overlays.slice():[]}else return t.type?sn(this._overlays,Jo({type:t.type})):t.id?this._overlays[t.id]:null};pn.prototype.add=function(t,e,n){if(On(e)&&(n=e,e=null),t.id||(t=this._elementRegistry.get(t)),!n.position)throw new Error("must specifiy overlay position");if(!n.html)throw new Error("must specifiy overlay html");if(!t)throw new Error("invalid element specified");var r=this._ids.next();return n=ft({},this._overlayDefaults,n,{id:r,type:e,element:t,html:n.html}),this._addOverlay(n),r};pn.prototype.remove=function(t){var e=this.get(t)||[];ne(e)||(e=[e]);var n=this;st(e,function(r){var a=n._getOverlayContainer(r.element,!0);if(r&&(Ci(r.html),Ci(r.htmlContainer),delete r.htmlContainer,delete r.element,delete n._overlays[r.id]),a){var s=a.overlays.indexOf(r);s!==-1&&a.overlays.splice(s,1)}})};pn.prototype.isShown=function(){return this._overlayRoot.style.display!=="none"};pn.prototype.show=function(){sp(this._overlayRoot)};pn.prototype.hide=function(){sp(this._overlayRoot,!1)};pn.prototype.clear=function(){this._overlays={},this._overlayContainers=[],jv(this._overlayRoot)};pn.prototype._updateOverlayContainer=function(t){var e=t.element,n=t.html,r=e.x,a=e.y;if(e.waypoints){var s=bn(e);r=s.x,a=s.y}kC(n,r,a),pr(t.html,"data-container-id",e.id)};pn.prototype._updateOverlay=function(t){var e=t.position,n=t.htmlContainer,r=t.element,a=e.left,s=e.top;if(e.right!==void 0){var u;r.waypoints?u=bn(r).width:u=r.width,a=e.right*-1+u}if(e.bottom!==void 0){var l;r.waypoints?l=bn(r).height:l=r.height,s=e.bottom*-1+l}kC(n,a||0,s||0),this._updateOverlayVisibilty(t,this._canvas.viewbox())};pn.prototype._createOverlayContainer=function(t){var e=dn('<div class="djs-overlays" />');so(e,{position:"absolute"}),this._overlayRoot.appendChild(e);var n={html:e,element:t,overlays:[]};return this._updateOverlayContainer(n),this._overlayContainers.push(n),n};pn.prototype._updateRoot=function(t){var e=t.scale||1,n="matrix("+[e,0,0,e,-1*t.x*e,-1*t.y*e].join(",")+")";IC(this._overlayRoot,n)};pn.prototype._getOverlayContainer=function(t,e){var n=Ie(this._overlayContainers,function(r){return r.element===t});return!n&&!e?this._createOverlayContainer(t):n};pn.prototype._addOverlay=function(t){var e=t.id,n=t.element,r=t.html,a,s;r.get&&r.constructor.prototype.jquery&&(r=r.get(0)),jr(r)&&(r=dn(r)),s=this._getOverlayContainer(n),a=dn('<div class="djs-overlay" data-overlay-id="'+e+'">'),so(a,{position:"absolute"}),a.appendChild(r),t.type&&mr(a).add("djs-overlay-"+t.type);var u=this._canvas.findRoot(n),l=this._canvas.getRootElement();sp(a,u===l),t.htmlContainer=a,s.overlays.push(t),s.html.appendChild(a),this._overlays[e]=t,this._updateOverlay(t),this._updateOverlayVisibilty(t,this._canvas.viewbox())};pn.prototype._updateOverlayVisibilty=function(t,e){var n=t.show,r=this._canvas.findRoot(t.element),a=n&&n.minZoom,s=n&&n.maxZoom,u=t.htmlContainer,l=this._canvas.getRootElement(),f=!0;(r!==l||n&&(xn(a)&&a>e.scale||xn(s)&&s<e.scale))&&(f=!1),sp(u,f),this._updateOverlayScale(t,e)};pn.prototype._updateOverlayScale=function(t,e){var n=t.scale,r,a,s=t.htmlContainer,u,l="";n!==!0&&(n===!1?(r=1,a=1):(r=n.min,a=n.max),xn(r)&&e.scale<r&&(u=(1/e.scale||1)*r),xn(a)&&e.scale>a&&(u=(1/e.scale||1)*a)),xn(u)&&(l="scale("+u+","+u+")"),IC(s,l)};pn.prototype._updateOverlaysVisibilty=function(t){var e=this;st(this._overlays,function(n){e._updateOverlayVisibilty(n,t)})};pn.prototype._init=function(){var t=this._eventBus,e=this;function n(r){e._updateRoot(r),e._updateOverlaysVisibilty(r),e.show()}t.on("canvas.viewbox.changing",function(r){e.hide()}),t.on("canvas.viewbox.changed",function(r){n(r.viewbox)}),t.on(["shape.remove","connection.remove"],function(r){var a=r.element,s=e.get({element:a});st(s,function(f){e.remove(f.id)});var u=e._getOverlayContainer(a);if(u){Ci(u.html);var l=e._overlayContainers.indexOf(u);l!==-1&&e._overlayContainers.splice(l,1)}}),t.on("element.changed",S8,function(r){var a=r.element,s=e._getOverlayContainer(a,!0);s&&(st(s.overlays,function(u){e._updateOverlay(u)}),e._updateOverlayContainer(s))}),t.on("element.marker.update",function(r){var a=e._getOverlayContainer(r.element,!0);a&&mr(a.html)[r.add?"add":"remove"](r.marker)}),t.on("root.set",function(){e._updateOverlaysVisibilty(e._canvas.viewbox())}),t.on("diagram.clear",this.clear,this)};function C8(t){var e=dn('<div class="djs-overlay-container" />');return so(e,{position:"absolute",width:0,height:0}),t.insertBefore(e,t.firstChild),e}function kC(t,e,n){so(t,{left:e+"px",top:n+"px"})}function sp(t,e){t.style.display=e===!1?"none":""}function IC(t,e){t.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(n){t.style[n+"transform"]=e})}const jC={__init__:["overlays"],overlays:["type",pn]};function da(t){be.call(this,t)}Te(da,be);da.prototype._modules=[m8,ap,po,jC];da.prototype._moddleExtensions={};var up="keyboard.keydown",M8="keyboard.keyup",Uw="input-handle-modified-keys",A8=1e3;function wn(t,e){var n=this;this._config=t||{},this._eventBus=e,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),e.on("diagram.destroy",function(){n._fire("destroy"),n.unbind()}),e.on("diagram.init",function(){n._fire("init")}),e.on("attach",function(){t&&t.bindTo&&n.bind(t.bindTo)}),e.on("detach",function(){n.unbind()})}wn.$inject=["config.keyboard","eventBus"];wn.prototype._keydownHandler=function(t){this._keyHandler(t,up)};wn.prototype._keyupHandler=function(t){this._keyHandler(t,M8)};wn.prototype._keyHandler=function(t,e){var n;if(!this._isEventIgnored(t)){var r={keyEvent:t};n=this._eventBus.fire(e||up,r),n&&t.preventDefault()}};wn.prototype._isEventIgnored=function(t){return t.defaultPrevented?!0:O8(t.target)&&this._isModifiedKeyIgnored(t)};wn.prototype._isModifiedKeyIgnored=function(t){if(!yr(t))return!0;var e=this._getAllowedModifiers(t.target);return e.indexOf(t.key)===-1};wn.prototype._getAllowedModifiers=function(t){var e=uo(t,"["+Uw+"]",!0);return!e||this._node&&!this._node.contains(e)?[]:e.getAttribute(Uw).split(",")};wn.prototype.bind=function(t){this.unbind(),this._node=t,Yt.bind(t,"keydown",this._keydownHandler),Yt.bind(t,"keyup",this._keyupHandler),this._fire("bind")};wn.prototype.getBinding=function(){return this._node};wn.prototype.unbind=function(){var t=this._node;t&&(this._fire("unbind"),Yt.unbind(t,"keydown",this._keydownHandler),Yt.unbind(t,"keyup",this._keyupHandler)),this._node=null};wn.prototype._fire=function(t){this._eventBus.fire("keyboard."+t,{node:this._node})};wn.prototype.addListener=function(t,e,n){En(t)&&(n=e,e=t,t=A8),this._eventBus.on(n||up,t,e)};wn.prototype.removeListener=function(t,e){this._eventBus.off(e||up,t)};wn.prototype.hasModifier=U4;wn.prototype.isCmd=yr;wn.prototype.isShift=x0;wn.prototype.isKey=Br;function O8(t){return t&&(zv(t,"input, textarea")||t.contentEditable==="true")}const N0={__init__:["keyboard","keyboardBindings"],keyboard:["type",wn],keyboardBindings:["type",Tu]};var R8={moveSpeed:50,moveSpeedAccelerated:200};function $C(t,e,n){var r=this;this._config=ft({},R8,t||{}),e.addListener(a);function a(s){var u=s.keyEvent,l=r._config;if(e.isCmd(u)&&e.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],u)){var f=e.isShift(u)?l.moveSpeedAccelerated:l.moveSpeed,h;switch(u.key){case"ArrowLeft":case"Left":h="left";break;case"ArrowUp":case"Up":h="up";break;case"ArrowRight":case"Right":h="right";break;case"ArrowDown":case"Down":h="down";break}return r.moveCanvas({speed:f,direction:h}),!0}}this.moveCanvas=function(s){var u=0,l=0,f=s.speed,h=f/Math.min(Math.sqrt(n.viewbox().scale),1);switch(s.direction){case"left":u=h;break;case"up":l=h;break;case"right":u=-h;break;case"down":l=-h;break}n.scroll({dx:u,dy:l})}}$C.$inject=["config.keyboardMove","keyboard","canvas"];const zC={__depends__:[N0],__init__:["keyboardMove"],keyboardMove:["type",$C]};var N8=/^djs-cursor-.*$/;function cp(t){var e=mr(document.body);e.removeMatching(N8),t&&e.add("djs-cursor-"+t)}function UC(){cp(null)}var D8=5e3;function HC(t,e){e=e||"element.click";function n(){return!1}return t.once(e,D8,n),function(){t.off(e,n)}}function Qc(t){return{x:t.x+t.width/2,y:t.y+t.height/2}}function wi(t,e){return{x:t.x-e.x,y:t.y-e.y}}var L8=15;function FC(t,e){var n;t.on("element.mousedown",500,function(u){return s(u.originalEvent)});function r(u){var l=n.start,f=n.button,h=sa(u),p=wi(h,l);if(!n.dragging&&P8(p)>L8&&(n.dragging=!0,f===0&&HC(t),cp("grab")),n.dragging){var g=n.last||n.start;p=wi(h,g),e.scroll({dx:p.x,dy:p.y}),n.last=h}u.preventDefault()}function a(u){Yt.unbind(document,"mousemove",r),Yt.unbind(document,"mouseup",a),n=null,UC()}function s(u){if(!uo(u.target,".djs-draggable")){var l=u.button;if(!(l>=2||u.ctrlKey||u.shiftKey||u.altKey))return n={button:l,start:sa(u)},Yt.bind(document,"mousemove",r),Yt.bind(document,"mouseup",a),!0}}this.isActive=function(){return!!n}}FC.$inject=["eventBus","canvas"];function P8(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}const XC={__init__:["moveCanvas"],moveCanvas:["type",FC]};function av(t){return Math.log(t)/Math.log(10)}function qC(t,e){var n=av(t.min),r=av(t.max),a=Math.abs(n)+Math.abs(r);return a/e}function B8(t,e){return Math.max(t.min,Math.min(t.max,e))}var k8=Math.sign||function(t){return t>=0?1:-1},D0={min:.2,max:4},GC=10,I8=.1,j8=.75;function Mi(t,e,n){t=t||{},this._enabled=!1,this._canvas=n,this._container=n._container,this._handleWheel=Vn(this._handleWheel,this),this._totalDelta=0,this._scale=t.scale||j8;var r=this;e.on("canvas.init",function(a){r._init(t.enabled!==!1)})}Mi.$inject=["config.zoomScroll","eventBus","canvas"];Mi.prototype.scroll=function(e){this._canvas.scroll(e)};Mi.prototype.reset=function(){this._canvas.zoom("fit-viewport")};Mi.prototype.zoom=function(e,n){var r=qC(D0,GC*2);this._totalDelta+=e,Math.abs(this._totalDelta)>I8&&(this._zoom(e,n,r),this._totalDelta=0)};Mi.prototype._handleWheel=function(e){if(!uo(e.target,".djs-scrollable",!0)){var n=this._container;e.preventDefault();var r=e.ctrlKey||NC()&&e.metaKey,a=e.shiftKey,s=-1*this._scale,u;if(r?s*=e.deltaMode===0?.02:.32:s*=e.deltaMode===0?1:16,r){var l=n.getBoundingClientRect(),f={x:e.clientX-l.left,y:e.clientY-l.top};u=Math.sqrt(Math.pow(e.deltaY,2)+Math.pow(e.deltaX,2))*k8(e.deltaY)*s,this.zoom(u,f)}else a?u={dx:s*e.deltaY,dy:0}:u={dx:s*e.deltaX,dy:s*e.deltaY},this.scroll(u)}};Mi.prototype.stepZoom=function(e,n){var r=qC(D0,GC);this._zoom(e,n,r)};Mi.prototype._zoom=function(t,e,n){var r=this._canvas,a=t>0?1:-1,s=av(r.zoom()),u=Math.round(s/n)*n;u+=n*a;var l=Math.pow(10,u);r.zoom(B8(D0,l),e)};Mi.prototype.toggle=function(e){var n=this._container,r=this._handleWheel,a=this._enabled;return typeof e>"u"&&(e=!a),a!==e&&Yt[e?"bind":"unbind"](n,"wheel",r,!1),this._enabled=e,e};Mi.prototype._init=function(t){this.toggle(t)};const VC={__init__:["zoomScroll"],zoomScroll:["type",Mi]};function rl(t){da.call(this,t)}Te(rl,da);rl.prototype._navigationModules=[zC,XC,VC];rl.prototype._modules=[].concat(da.prototype._modules,rl.prototype._navigationModules);var vm={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */var Hw;function $8(){return Hw||(Hw=1,function(t){(function(e,n,r,a){var s=["","webkit","Moz","MS","ms","o"],u=n.createElement("div"),l="function",f=Math.round,h=Math.abs,p=Date.now;function g($,V,Q){return setTimeout(m($,Q),V)}function v($,V,Q){return Array.isArray($)?(_($,Q[V],Q),!0):!1}function _($,V,Q){var gt;if($)if($.forEach)$.forEach(V,Q);else if($.length!==a)for(gt=0;gt<$.length;)V.call(Q,$[gt],gt,$),gt++;else for(gt in $)$.hasOwnProperty(gt)&&V.call(Q,$[gt],gt,$)}function E($,V,Q){var gt="DEPRECATED METHOD: "+V+`
`+Q+` AT 
`;return function(){var Ot=new Error("get-stack-trace"),$t=Ot&&Ot.stack?Ot.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",oe=e.console&&(e.console.warn||e.console.log);return oe&&oe.call(e.console,gt,$t),$.apply(this,arguments)}}var M;typeof Object.assign!="function"?M=function(V){if(V===a||V===null)throw new TypeError("Cannot convert undefined or null to object");for(var Q=Object(V),gt=1;gt<arguments.length;gt++){var Ot=arguments[gt];if(Ot!==a&&Ot!==null)for(var $t in Ot)Ot.hasOwnProperty($t)&&(Q[$t]=Ot[$t])}return Q}:M=Object.assign;var O=E(function(V,Q,gt){for(var Ot=Object.keys(Q),$t=0;$t<Ot.length;)(!gt||gt&&V[Ot[$t]]===a)&&(V[Ot[$t]]=Q[Ot[$t]]),$t++;return V},"extend","Use `assign`."),S=E(function(V,Q){return O(V,Q,!0)},"merge","Use `assign`.");function x($,V,Q){var gt=V.prototype,Ot;Ot=$.prototype=Object.create(gt),Ot.constructor=$,Ot._super=gt,Q&&M(Ot,Q)}function m($,V){return function(){return $.apply(V,arguments)}}function w($,V){return typeof $==l?$.apply(V&&V[0]||a,V):$}function C($,V){return $===a?V:$}function A($,V,Q){_(j(V),function(gt){$.addEventListener(gt,Q,!1)})}function B($,V,Q){_(j(V),function(gt){$.removeEventListener(gt,Q,!1)})}function P($,V){for(;$;){if($==V)return!0;$=$.parentNode}return!1}function T($,V){return $.indexOf(V)>-1}function j($){return $.trim().split(/\s+/g)}function z($,V,Q){if($.indexOf&&!Q)return $.indexOf(V);for(var gt=0;gt<$.length;){if(Q&&$[gt][Q]==V||!Q&&$[gt]===V)return gt;gt++}return-1}function I($){return Array.prototype.slice.call($,0)}function F($,V,Q){for(var gt=[],Ot=[],$t=0;$t<$.length;){var oe=$[$t][V];z(Ot,oe)<0&&gt.push($[$t]),Ot[$t]=oe,$t++}return gt=gt.sort(function(cn,tn){return cn[V]>tn[V]}),gt}function at($,V){for(var Q,gt,Ot=V[0].toUpperCase()+V.slice(1),$t=0;$t<s.length;){if(Q=s[$t],gt=Q?Q+Ot:V,gt in $)return gt;$t++}return a}var Et=1;function it(){return Et++}function lt($){var V=$.ownerDocument||$;return V.defaultView||V.parentWindow||e}var Mt=/mobile|tablet|ip(ad|hone|od)|android/i,zt="ontouchstart"in e,G=at(e,"PointerEvent")!==a,H=zt&&Mt.test(navigator.userAgent),K="touch",nt="pen",tt="mouse",xt="kinect",wt=25,k=1,L=2,W=4,q=8,Tt=1,Rt=2,Ct=4,dt=8,mt=16,kt=Rt|Ct,Lt=dt|mt,Bt=kt|Lt,te=["x","y"],It=["clientX","clientY"];function Xt($,V){var Q=this;this.manager=$,this.callback=V,this.element=$.element,this.target=$.options.inputTarget,this.domHandler=function(gt){w($.options.enable,[$])&&Q.handler(gt)},this.init()}Xt.prototype={handler:function(){},init:function(){this.evEl&&A(this.element,this.evEl,this.domHandler),this.evTarget&&A(this.target,this.evTarget,this.domHandler),this.evWin&&A(lt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&B(this.element,this.evEl,this.domHandler),this.evTarget&&B(this.target,this.evTarget,this.domHandler),this.evWin&&B(lt(this.element),this.evWin,this.domHandler)}};function Vt($){var V,Q=$.options.inputClass;return Q?V=Q:G?V=ir:H?V=xs:zt?V=bs:V=ie,new V($,fe)}function fe($,V,Q){var gt=Q.pointers.length,Ot=Q.changedPointers.length,$t=V&k&&gt-Ot===0,oe=V&(W|q)&&gt-Ot===0;Q.isFirst=!!$t,Q.isFinal=!!oe,$t&&($.session={}),Q.eventType=V,Dt($,Q),$.emit("hammer.input",Q),$.recognize(Q),$.session.prevInput=Q}function Dt($,V){var Q=$.session,gt=V.pointers,Ot=gt.length;Q.firstInput||(Q.firstInput=U(V)),Ot>1&&!Q.firstMultiple?Q.firstMultiple=U(V):Ot===1&&(Q.firstMultiple=!1);var $t=Q.firstInput,oe=Q.firstMultiple,Je=oe?oe.center:$t.center,cn=V.center=R(gt);V.timeStamp=p(),V.deltaTime=V.timeStamp-$t.timeStamp,V.angle=ht(Je,cn),V.distance=et(Je,cn),jt(Q,V),V.offsetDirection=Y(V.deltaX,V.deltaY);var tn=N(V.deltaTime,V.deltaX,V.deltaY);V.overallVelocityX=tn.x,V.overallVelocityY=tn.y,V.overallVelocity=h(tn.x)>h(tn.y)?tn.x:tn.y,V.scale=oe?qt(oe.pointers,gt):1,V.rotation=oe?_t(oe.pointers,gt):0,V.maxPointers=Q.prevInput?V.pointers.length>Q.prevInput.maxPointers?V.pointers.length:Q.prevInput.maxPointers:V.pointers.length,Zn(Q,V);var Qn=$.element;P(V.srcEvent.target,Qn)&&(Qn=V.srcEvent.target),V.target=Qn}function jt($,V){var Q=V.center,gt=$.offsetDelta||{},Ot=$.prevDelta||{},$t=$.prevInput||{};(V.eventType===k||$t.eventType===W)&&(Ot=$.prevDelta={x:$t.deltaX||0,y:$t.deltaY||0},gt=$.offsetDelta={x:Q.x,y:Q.y}),V.deltaX=Ot.x+(Q.x-gt.x),V.deltaY=Ot.y+(Q.y-gt.y)}function Zn($,V){var Q=$.lastInterval||V,gt=V.timeStamp-Q.timeStamp,Ot,$t,oe,Je;if(V.eventType!=q&&(gt>wt||Q.velocity===a)){var cn=V.deltaX-Q.deltaX,tn=V.deltaY-Q.deltaY,Qn=N(gt,cn,tn);$t=Qn.x,oe=Qn.y,Ot=h(Qn.x)>h(Qn.y)?Qn.x:Qn.y,Je=Y(cn,tn),$.lastInterval=V}else Ot=Q.velocity,$t=Q.velocityX,oe=Q.velocityY,Je=Q.direction;V.velocity=Ot,V.velocityX=$t,V.velocityY=oe,V.direction=Je}function U($){for(var V=[],Q=0;Q<$.pointers.length;)V[Q]={clientX:f($.pointers[Q].clientX),clientY:f($.pointers[Q].clientY)},Q++;return{timeStamp:p(),pointers:V,center:R(V),deltaX:$.deltaX,deltaY:$.deltaY}}function R($){var V=$.length;if(V===1)return{x:f($[0].clientX),y:f($[0].clientY)};for(var Q=0,gt=0,Ot=0;Ot<V;)Q+=$[Ot].clientX,gt+=$[Ot].clientY,Ot++;return{x:f(Q/V),y:f(gt/V)}}function N($,V,Q){return{x:V/$||0,y:Q/$||0}}function Y($,V){return $===V?Tt:h($)>=h(V)?$<0?Rt:Ct:V<0?dt:mt}function et($,V,Q){Q||(Q=te);var gt=V[Q[0]]-$[Q[0]],Ot=V[Q[1]]-$[Q[1]];return Math.sqrt(gt*gt+Ot*Ot)}function ht($,V,Q){Q||(Q=te);var gt=V[Q[0]]-$[Q[0]],Ot=V[Q[1]]-$[Q[1]];return Math.atan2(Ot,gt)*180/Math.PI}function _t($,V){return ht(V[1],V[0],It)+ht($[1],$[0],It)}function qt($,V){return et(V[0],V[1],It)/et($[0],$[1],It)}var Me={mousedown:k,mousemove:L,mouseup:W},he="mousedown",re="mousemove mouseup";function ie(){this.evEl=he,this.evWin=re,this.pressed=!1,Xt.apply(this,arguments)}x(ie,Xt,{handler:function(V){var Q=Me[V.type];Q&k&&V.button===0&&(this.pressed=!0),Q&L&&V.which!==1&&(Q=W),this.pressed&&(Q&W&&(this.pressed=!1),this.callback(this.manager,Q,{pointers:[V],changedPointers:[V],pointerType:tt,srcEvent:V}))}});var ms={pointerdown:k,pointermove:L,pointerup:W,pointercancel:q,pointerout:q},vs={2:K,3:nt,4:tt,5:xt},ui="pointerdown",Nn="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(ui="MSPointerDown",Nn="MSPointerMove MSPointerUp MSPointerCancel");function ir(){this.evEl=ui,this.evWin=Nn,Xt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}x(ir,Xt,{handler:function(V){var Q=this.store,gt=!1,Ot=V.type.toLowerCase().replace("ms",""),$t=ms[Ot],oe=vs[V.pointerType]||V.pointerType,Je=oe==K,cn=z(Q,V.pointerId,"pointerId");$t&k&&(V.button===0||Je)?cn<0&&(Q.push(V),cn=Q.length-1):$t&(W|q)&&(gt=!0),!(cn<0)&&(Q[cn]=V,this.callback(this.manager,$t,{pointers:Q,changedPointers:[V],pointerType:oe,srcEvent:V}),gt&&Q.splice(cn,1))}});var Ri={touchstart:k,touchmove:L,touchend:W,touchcancel:q},ci="touchstart",bo="touchstart touchmove touchend touchcancel";function ba(){this.evTarget=ci,this.evWin=bo,this.started=!1,Xt.apply(this,arguments)}x(ba,Xt,{handler:function(V){var Q=Ri[V.type];if(Q===k&&(this.started=!0),!!this.started){var gt=_s.call(this,V,Q);Q&(W|q)&&gt[0].length-gt[1].length===0&&(this.started=!1),this.callback(this.manager,Q,{pointers:gt[0],changedPointers:gt[1],pointerType:K,srcEvent:V})}}});function _s($,V){var Q=I($.touches),gt=I($.changedTouches);return V&(W|q)&&(Q=F(Q.concat(gt),"identifier")),[Q,gt]}var Bu={touchstart:k,touchmove:L,touchend:W,touchcancel:q},Ea="touchstart touchmove touchend touchcancel";function xs(){this.evTarget=Ea,this.targetIds={},Xt.apply(this,arguments)}x(xs,Xt,{handler:function(V){var Q=Bu[V.type],gt=zl.call(this,V,Q);gt&&this.callback(this.manager,Q,{pointers:gt[0],changedPointers:gt[1],pointerType:K,srcEvent:V})}});function zl($,V){var Q=I($.touches),gt=this.targetIds;if(V&(k|L)&&Q.length===1)return gt[Q[0].identifier]=!0,[Q,Q];var Ot,$t,oe=I($.changedTouches),Je=[],cn=this.target;if($t=Q.filter(function(tn){return P(tn.target,cn)}),V===k)for(Ot=0;Ot<$t.length;)gt[$t[Ot].identifier]=!0,Ot++;for(Ot=0;Ot<oe.length;)gt[oe[Ot].identifier]&&Je.push(oe[Ot]),V&(W|q)&&delete gt[oe[Ot].identifier],Ot++;if(Je.length)return[F($t.concat(Je),"identifier"),Je]}var Ul=2500,ku=25;function bs(){Xt.apply(this,arguments);var $=m(this.handler,this);this.touch=new xs(this.manager,$),this.mouse=new ie(this.manager,$),this.primaryTouch=null,this.lastTouches=[]}x(bs,Xt,{handler:function(V,Q,gt){var Ot=gt.pointerType==K,$t=gt.pointerType==tt;if(!($t&&gt.sourceCapabilities&&gt.sourceCapabilities.firesTouchEvents)){if(Ot)zp.call(this,Q,gt);else if($t&&gn.call(this,gt))return;this.callback(V,Q,gt)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function zp($,V){$&k?(this.primaryTouch=V.changedPointers[0].identifier,Yr.call(this,V)):$&(W|q)&&Yr.call(this,V)}function Yr($){var V=$.changedPointers[0];if(V.identifier===this.primaryTouch){var Q={x:V.clientX,y:V.clientY};this.lastTouches.push(Q);var gt=this.lastTouches,Ot=function(){var $t=gt.indexOf(Q);$t>-1&&gt.splice($t,1)};setTimeout(Ot,Ul)}}function gn($){for(var V=$.srcEvent.clientX,Q=$.srcEvent.clientY,gt=0;gt<this.lastTouches.length;gt++){var Ot=this.lastTouches[gt],$t=Math.abs(V-Ot.x),oe=Math.abs(Q-Ot.y);if($t<=ku&&oe<=ku)return!0}return!1}var Tn=at(u.style,"touchAction"),Ni=Tn!==a,Es="compute",Hl="auto",Iu="manipulation",li="none",Kr="pan-x",Di="pan-y",Er=Eo();function fi($,V){this.manager=$,this.set(V)}fi.prototype={set:function($){$==Es&&($=this.compute()),Ni&&this.manager.element.style&&Er[$]&&(this.manager.element.style[Tn]=$),this.actions=$.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var $=[];return _(this.manager.recognizers,function(V){w(V.options.enable,[V])&&($=$.concat(V.getTouchAction()))}),wa($.join(" "))},preventDefaults:function($){var V=$.srcEvent,Q=$.offsetDirection;if(this.manager.session.prevented){V.preventDefault();return}var gt=this.actions,Ot=T(gt,li)&&!Er[li],$t=T(gt,Di)&&!Er[Di],oe=T(gt,Kr)&&!Er[Kr];if(Ot){var Je=$.pointers.length===1,cn=$.distance<2,tn=$.deltaTime<250;if(Je&&cn&&tn)return}if(!(oe&&$t)&&(Ot||$t&&Q&kt||oe&&Q&Lt))return this.preventSrc(V)},preventSrc:function($){this.manager.session.prevented=!0,$.preventDefault()}};function wa($){if(T($,li))return li;var V=T($,Kr),Q=T($,Di);return V&&Q?li:V||Q?V?Kr:Di:T($,Iu)?Iu:Hl}function Eo(){if(!Ni)return!1;var $={},V=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Q){$[Q]=V?e.CSS.supports("touch-action",Q):!0}),$}var je=1,Un=2,Li=4,Dn=8,Ln=Dn,Hn=16,wr=32;function Tr($){this.options=M({},this.defaults,$||{}),this.id=it(),this.manager=null,this.options.enable=C(this.options.enable,!0),this.state=je,this.simultaneous={},this.requireFail=[]}Tr.prototype={defaults:{},set:function($){return M(this.options,$),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function($){if(v($,"recognizeWith",this))return this;var V=this.simultaneous;return $=Pi($,this),V[$.id]||(V[$.id]=$,$.recognizeWith(this)),this},dropRecognizeWith:function($){return v($,"dropRecognizeWith",this)?this:($=Pi($,this),delete this.simultaneous[$.id],this)},requireFailure:function($){if(v($,"requireFailure",this))return this;var V=this.requireFail;return $=Pi($,this),z(V,$)===-1&&(V.push($),$.requireFailure(this)),this},dropRequireFailure:function($){if(v($,"dropRequireFailure",this))return this;$=Pi($,this);var V=z(this.requireFail,$);return V>-1&&this.requireFail.splice(V,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function($){return!!this.simultaneous[$.id]},emit:function($){var V=this,Q=this.state;function gt(Ot){V.manager.emit(Ot,$)}Q<Dn&&gt(V.options.event+ju(Q)),gt(V.options.event),$.additionalEvent&&gt($.additionalEvent),Q>=Dn&&gt(V.options.event+ju(Q))},tryEmit:function($){if(this.canEmit())return this.emit($);this.state=wr},canEmit:function(){for(var $=0;$<this.requireFail.length;){if(!(this.requireFail[$].state&(wr|je)))return!1;$++}return!0},recognize:function($){var V=M({},$);if(!w(this.options.enable,[this,V])){this.reset(),this.state=wr;return}this.state&(Ln|Hn|wr)&&(this.state=je),this.state=this.process(V),this.state&(Un|Li|Dn|Hn)&&this.tryEmit(V)},process:function($){},getTouchAction:function(){},reset:function(){}};function ju($){return $&Hn?"cancel":$&Dn?"end":$&Li?"move":$&Un?"start":""}function Fl($){return $==mt?"down":$==dt?"up":$==Rt?"left":$==Ct?"right":""}function Pi($,V){var Q=V.manager;return Q?Q.get($):$}function Pn(){Tr.apply(this,arguments)}x(Pn,Tr,{defaults:{pointers:1},attrTest:function($){var V=this.options.pointers;return V===0||$.pointers.length===V},process:function($){var V=this.state,Q=$.eventType,gt=V&(Un|Li),Ot=this.attrTest($);return gt&&(Q&q||!Ot)?V|Hn:gt||Ot?Q&W?V|Dn:V&Un?V|Li:Un:wr}});function Wn(){Pn.apply(this,arguments),this.pX=null,this.pY=null}x(Wn,Pn,{defaults:{event:"pan",threshold:10,pointers:1,direction:Bt},getTouchAction:function(){var $=this.options.direction,V=[];return $&kt&&V.push(Di),$&Lt&&V.push(Kr),V},directionTest:function($){var V=this.options,Q=!0,gt=$.distance,Ot=$.direction,$t=$.deltaX,oe=$.deltaY;return Ot&V.direction||(V.direction&kt?(Ot=$t===0?Tt:$t<0?Rt:Ct,Q=$t!=this.pX,gt=Math.abs($.deltaX)):(Ot=oe===0?Tt:oe<0?dt:mt,Q=oe!=this.pY,gt=Math.abs($.deltaY))),$.direction=Ot,Q&&gt>V.threshold&&Ot&V.direction},attrTest:function($){return Pn.prototype.attrTest.call(this,$)&&(this.state&Un||!(this.state&Un)&&this.directionTest($))},emit:function($){this.pX=$.deltaX,this.pY=$.deltaY;var V=Fl($.direction);V&&($.additionalEvent=this.options.event+V),this._super.emit.call(this,$)}});function Bn(){Pn.apply(this,arguments)}x(Bn,Pn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[li]},attrTest:function($){return this._super.attrTest.call(this,$)&&(Math.abs($.scale-1)>this.options.threshold||this.state&Un)},emit:function($){if($.scale!==1){var V=$.scale<1?"in":"out";$.additionalEvent=this.options.event+V}this._super.emit.call(this,$)}});function ws(){Tr.apply(this,arguments),this._timer=null,this._input=null}x(ws,Tr,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Hl]},process:function($){var V=this.options,Q=$.pointers.length===V.pointers,gt=$.distance<V.threshold,Ot=$.deltaTime>V.time;if(this._input=$,!gt||!Q||$.eventType&(W|q)&&!Ot)this.reset();else if($.eventType&k)this.reset(),this._timer=g(function(){this.state=Ln,this.tryEmit()},V.time,this);else if($.eventType&W)return Ln;return wr},reset:function(){clearTimeout(this._timer)},emit:function($){this.state===Ln&&($&&$.eventType&W?this.manager.emit(this.options.event+"up",$):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}});function $u(){Pn.apply(this,arguments)}x($u,Pn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[li]},attrTest:function($){return this._super.attrTest.call(this,$)&&(Math.abs($.rotation)>this.options.threshold||this.state&Un)}});function wo(){Pn.apply(this,arguments)}x(wo,Pn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:kt|Lt,pointers:1},getTouchAction:function(){return Wn.prototype.getTouchAction.call(this)},attrTest:function($){var V=this.options.direction,Q;return V&(kt|Lt)?Q=$.overallVelocity:V&kt?Q=$.overallVelocityX:V&Lt&&(Q=$.overallVelocityY),this._super.attrTest.call(this,$)&&V&$.offsetDirection&&$.distance>this.options.threshold&&$.maxPointers==this.options.pointers&&h(Q)>this.options.velocity&&$.eventType&W},emit:function($){var V=Fl($.offsetDirection);V&&this.manager.emit(this.options.event+V,$),this.manager.emit(this.options.event,$)}});function Ta(){Tr.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}x(Ta,Tr,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Iu]},process:function($){var V=this.options,Q=$.pointers.length===V.pointers,gt=$.distance<V.threshold,Ot=$.deltaTime<V.time;if(this.reset(),$.eventType&k&&this.count===0)return this.failTimeout();if(gt&&Ot&&Q){if($.eventType!=W)return this.failTimeout();var $t=this.pTime?$.timeStamp-this.pTime<V.interval:!0,oe=!this.pCenter||et(this.pCenter,$.center)<V.posThreshold;this.pTime=$.timeStamp,this.pCenter=$.center,!oe||!$t?this.count=1:this.count+=1,this._input=$;var Je=this.count%V.taps;if(Je===0)return this.hasRequireFailures()?(this._timer=g(function(){this.state=Ln,this.tryEmit()},V.interval,this),Un):Ln}return wr},failTimeout:function(){return this._timer=g(function(){this.state=wr},this.options.interval,this),wr},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ln&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function or($,V){return V=V||{},V.recognizers=C(V.recognizers,or.defaults.preset),new Sa($,V)}or.VERSION="2.0.7",or.defaults={domEvents:!1,touchAction:Es,enable:!0,inputTarget:null,inputClass:null,preset:[[$u,{enable:!1}],[Bn,{enable:!1},["rotate"]],[wo,{direction:kt}],[Wn,{direction:kt},["swipe"]],[Ta],[Ta,{event:"doubletap",taps:2},["tap"]],[ws]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Up=1,Fn=2;function Sa($,V){this.options=M({},or.defaults,V||{}),this.options.inputTarget=this.options.inputTarget||$,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=$,this.input=Vt(this),this.touchAction=new fi(this,this.options.touchAction),zu(this,!0),_(this.options.recognizers,function(Q){var gt=this.add(new Q[0](Q[1]));Q[2]&&gt.recognizeWith(Q[2]),Q[3]&&gt.requireFailure(Q[3])},this)}Sa.prototype={set:function($){return M(this.options,$),$.touchAction&&this.touchAction.update(),$.inputTarget&&(this.input.destroy(),this.input.target=$.inputTarget,this.input.init()),this},stop:function($){this.session.stopped=$?Fn:Up},recognize:function($){var V=this.session;if(!V.stopped){this.touchAction.preventDefaults($);var Q,gt=this.recognizers,Ot=V.curRecognizer;(!Ot||Ot&&Ot.state&Ln)&&(Ot=V.curRecognizer=null);for(var $t=0;$t<gt.length;)Q=gt[$t],V.stopped!==Fn&&(!Ot||Q==Ot||Q.canRecognizeWith(Ot))?Q.recognize($):Q.reset(),!Ot&&Q.state&(Un|Li|Dn)&&(Ot=V.curRecognizer=Q),$t++}},get:function($){if($ instanceof Tr)return $;for(var V=this.recognizers,Q=0;Q<V.length;Q++)if(V[Q].options.event==$)return V[Q];return null},add:function($){if(v($,"add",this))return this;var V=this.get($.options.event);return V&&this.remove(V),this.recognizers.push($),$.manager=this,this.touchAction.update(),$},remove:function($){if(v($,"remove",this))return this;if($=this.get($),$){var V=this.recognizers,Q=z(V,$);Q!==-1&&(V.splice(Q,1),this.touchAction.update())}return this},on:function($,V){if($!==a&&V!==a){var Q=this.handlers;return _(j($),function(gt){Q[gt]=Q[gt]||[],Q[gt].push(V)}),this}},off:function($,V){if($!==a){var Q=this.handlers;return _(j($),function(gt){V?Q[gt]&&Q[gt].splice(z(Q[gt],V),1):delete Q[gt]}),this}},emit:function($,V){this.options.domEvents&&Uu($,V);var Q=this.handlers[$]&&this.handlers[$].slice();if(!(!Q||!Q.length)){V.type=$,V.preventDefault=function(){V.srcEvent.preventDefault()};for(var gt=0;gt<Q.length;)Q[gt](V),gt++}},destroy:function(){this.element&&zu(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function zu($,V){var Q=$.element;if(Q.style){var gt;_($.options.cssProps,function(Ot,$t){gt=at(Q.style,$t),V?($.oldCssProps[gt]=Q.style[gt],Q.style[gt]=Ot):Q.style[gt]=$.oldCssProps[gt]||""}),V||($.oldCssProps={})}}function Uu($,V){var Q=n.createEvent("Event");Q.initEvent($,!0,!0),Q.gesture=V,V.target.dispatchEvent(Q)}M(or,{INPUT_START:k,INPUT_MOVE:L,INPUT_END:W,INPUT_CANCEL:q,STATE_POSSIBLE:je,STATE_BEGAN:Un,STATE_CHANGED:Li,STATE_ENDED:Dn,STATE_RECOGNIZED:Ln,STATE_CANCELLED:Hn,STATE_FAILED:wr,DIRECTION_NONE:Tt,DIRECTION_LEFT:Rt,DIRECTION_RIGHT:Ct,DIRECTION_UP:dt,DIRECTION_DOWN:mt,DIRECTION_HORIZONTAL:kt,DIRECTION_VERTICAL:Lt,DIRECTION_ALL:Bt,Manager:Sa,Input:Xt,TouchAction:fi,TouchInput:xs,MouseInput:ie,PointerEventInput:ir,TouchMouseInput:bs,SingleTouchInput:ba,Recognizer:Tr,AttrRecognizer:Pn,Tap:Ta,Pan:Wn,Swipe:wo,Pinch:Bn,Rotate:$u,Press:ws,on:A,off:B,each:_,merge:S,extend:O,assign:M,inherit:x,bindFn:m,prefixed:at});var To=typeof e<"u"?e:typeof self<"u"?self:{};To.Hammer=or,t.exports?t.exports=or:e[r]=or})(window,document,"Hammer")}(vm)),vm.exports}var z8=$8();const Ga=ua(z8);var U8=.2,H8=4,Fw=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function sd(t,e){return e.get(t,!1)}function sv(t){t.preventDefault(),typeof t.stopPropagation=="function"?t.stopPropagation():t.srcEvent&&typeof t.srcEvent.stopPropagation=="function"&&t.srcEvent.stopPropagation(),typeof t.stopImmediatePropagation=="function"&&t.stopImmediatePropagation()}function _m(t){function e(h){st(Fw,function(p){Yt.bind(t,p,sv,!0)})}function n(h){setTimeout(function(){st(Fw,function(p){Yt.unbind(t,p,sv,!0)})},500)}Yt.bind(t,"touchstart",e,!0),Yt.bind(t,"touchend",n,!0),Yt.bind(t,"touchcancel",n,!0);var r=new Ga.Manager(t,{inputClass:Ga.TouchInput,recognizers:[],domEvents:!0}),a=new Ga.Tap,s=new Ga.Pan({threshold:10}),u=new Ga.Press,l=new Ga.Pinch,f=new Ga.Tap({event:"doubletap",taps:2});return l.requireFailure(s),l.requireFailure(u),r.add([s,u,l,f,a]),r.reset=function(h){var p=this.recognizers,g=this.session;g.stopped||(r.stop(h),setTimeout(function(){var v,_;for(v=0;_=p[v];v++)_.reset(),_.state=8;g.curRecognizer=null},0))},r.on("hammer.input",function(h){h.srcEvent.defaultPrevented&&r.reset(!0)}),r}function YC(t,e,n,r,a){var s=sd("dragging",t),u=sd("move",t),l=sd("contextPad",t),f=sd("palette",t),h;function p(_,E){return function(M){var O=g(M.target),S=O&&r.get(O);return E&&(M.srcEvent.button=E),a.fire(_,M,S)}}function g(_){var E=uo(_,"svg, .djs-element",!0);return E}function v(_){h=_m(_);function E(S){var x=0,m=0;function w(A){var B=A.deltaX-x,P=A.deltaY-m;e.scroll({dx:B,dy:P}),x=A.deltaX,m=A.deltaY}function C(A){h.off("panmove",w),h.off("panend",C),h.off("pancancel",C)}h.on("panmove",w),h.on("panend",C),h.on("pancancel",C)}function M(S){var x=g(S.target),m=x&&r.get(x);if(u&&e.getRootElement()!==m)return u.start(S,m,!0);E()}function O(S){var x=e.zoom(),m=S.center;function w(A){var B=1-(1-A.scale)/1.5,P=Math.max(U8,Math.min(H8,B*x));e.zoom(P,m),sv(A)}function C(A){h.off("pinchmove",w),h.off("pinchend",C),h.off("pinchcancel",C),h.reset(!0)}h.on("pinchmove",w),h.on("pinchend",C),h.on("pinchcancel",C)}h.on("tap",p("element.click")),h.on("doubletap",p("element.dblclick",1)),h.on("panstart",M),h.on("press",M),h.on("pinchstart",O)}s&&n.on("drag.move",function(_){var E=_.originalEvent;if(!(!E||E instanceof MouseEvent)){var M=sa(E),O=document.elementFromPoint(M.x,M.y),S=g(O),x=S&&r.get(S);x!==_.hover&&(_.hover&&s.out(_),x&&(s.hover({element:x,gfx:S}),_.hover=x,_.hoverGfx=S))}}),l&&n.on("contextPad.create",function(_){var E=_.pad.html,M=_m(E);M.on("panstart",function(O){l.trigger("dragstart",O,!0)}),M.on("press",function(O){l.trigger("dragstart",O,!0)}),M.on("tap",function(O){l.trigger("click",O)})}),f&&n.on("palette.create",function(_){var E=_.container,M=_m(E);M.on("panstart",function(O){f.trigger("dragstart",O,!0)}),M.on("press",function(O){f.trigger("dragstart",O,!0)}),M.on("tap",function(O){f.trigger("click",O)})}),n.on("canvas.init",function(_){v(_.svg)})}YC.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"];function L0(t){var e=this;t.on("canvas.init",function(n){e.addBBoxMarker(n.svg)})}L0.$inject=["eventBus"];L0.prototype.addBBoxMarker=function(t){var e={fill:"none",class:"outer-bound-marker"},n=Nt("rect");yt(n,{x:-1e4,y:1e4,width:10,height:10}),yt(n,e),Wt(t,n);var r=Nt("rect");yt(r,{x:1e4,y:1e4,width:10,height:10}),yt(r,e),Wt(t,r)};const F8={__depends__:[bl],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",YC],touchFix:["type",L0]},X8={__depends__:[F8]};function xm(t){return t&&t[t.length-1]}function Xw(t){return t.y}function qw(t){return t.x}var q8={left:qw,center:qw,right:function(t){return t.x+t.width},top:Xw,middle:Xw,bottom:function(t){return t.y+t.height}};function Mu(t,e){this._modeling=t,this._rules=e}Mu.$inject=["modeling","rules"];Mu.prototype._getOrientationDetails=function(t){var e=["top","bottom","middle"],n="x",r="width";return e.indexOf(t)!==-1&&(n="y",r="height"),{axis:n,dimension:r}};Mu.prototype._isType=function(t,e){return e.indexOf(t)!==-1};Mu.prototype._alignmentPosition=function(t,e){var n=this._getOrientationDetails(t),r=n.axis,a=n.dimension,s={},u={},l=!1,f,h,p;function g(v,_){return Math.round((v[r]+_[r]+_[a])/2)}if(this._isType(t,["left","top"]))s[t]=e[0][r];else if(this._isType(t,["right","bottom"]))p=xm(e),s[t]=p[r]+p[a];else if(this._isType(t,["center","middle"])){if(st(e,function(v){var _=v[r]+Math.round(v[a]/2);u[_]?u[_].elements.push(v):u[_]={elements:[v],center:_}}),f=no(u,function(v){return v.elements.length>1&&(l=!0),v.elements.length}),l)return s[t]=xm(f).center,s;h=e[0],e=no(e,function(v){return v[r]+v[a]}),p=xm(e),s[t]=g(h,p)}return s};Mu.prototype.trigger=function(t,e){var n=this._modeling,r,a=sn(t,function(f){return!(f.waypoints||f.host||f.labelTarget)});if(r=this._rules.allowed("elements.align",{elements:a}),ne(r)&&(a=r),!(a.length<2||!r)){var s=q8[e],u=no(a,s),l=this._alignmentPosition(e,u);n.alignElements(u,l)}};const G8={__init__:["alignElements"],alignElements:["type",Mu]};var Gw=1500;function KC(t,e,n){var r=this,a=n.get("dragging",!1);function s(u){if(!u.hover){var l=u.originalEvent,f=r._findTargetGfx(l),h=f&&t.get(f);f&&h&&(u.stopPropagation(),a.hover({element:h,gfx:f}),a.move(l))}}a&&e.on("drag.start",function(u){e.once("drag.move",Gw,function(l){s(l)})}),function(){var u,l;e.on("element.hover",function(f){u=f.gfx,l=f.element}),e.on("element.hover",Gw,function(f){l&&e.fire("element.out",{element:l,gfx:u})}),e.on("element.out",function(){u=null,l=null})}(),this._findTargetGfx=function(u){var l,f;if(u instanceof MouseEvent)return l=sa(u),f=document.elementFromPoint(l.x,l.y),V8(f)}}KC.$inject=["elementRegistry","eventBus","injector"];function V8(t){return uo(t,"svg, .djs-element",!0)}const Y8={__init__:["hoverFix"],hoverFix:["type",KC]};var nu=Math.round,Vw="djs-drag-active";function Va(t){t.preventDefault()}function K8(t){return typeof TouchEvent<"u"&&t instanceof TouchEvent}function Z8(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}function ZC(t,e,n,r){var a={threshold:5,trapClick:!0},s;function u(m){var w=e.viewbox(),C=e._container.getBoundingClientRect();return{x:w.x+(m.x-C.left)/w.scale,y:w.y+(m.y-C.top)/w.scale}}function l(m,w){w=w||s;var C=t.createEvent(ft({},w.payload,w.data,{isTouch:w.isTouch}));return t.fire("drag."+m,C)===!1?!1:t.fire(w.prefix+"."+m,C)}function f(m){var w=m.filter(function(C){return r.get(C.id)});w.length&&n.select(w)}function h(m,w){var C=s.payload,A=s.displacement,B=s.globalStart,P=sa(m),T=wi(P,B),j=s.localStart,z=u(P),I=wi(z,j);if(!s.active&&(w||Z8(T)>s.threshold)){if(ft(C,{x:nu(j.x+A.x),y:nu(j.y+A.y),dx:0,dy:0},{originalEvent:m}),l("start")===!1)return O();s.active=!0,s.keepSelection||(C.previousSelection=n.get(),n.select(null)),s.cursor&&cp(s.cursor),e.addMarker(e.getRootElement(),Vw)}mm(m),s.active&&(ft(C,{x:nu(z.x+A.x),y:nu(z.y+A.y),dx:nu(I.x),dy:nu(I.y)},{originalEvent:m}),l("move"))}function p(m){var w,C=!0;s.active&&(m&&(s.payload.originalEvent=m,mm(m)),C=l("end")),C===!1&&l("rejected"),w=S(C!==!0),l("ended",w)}function g(m){Br("Escape",m)&&(Va(m),O())}function v(m){var w;s.active&&(w=HC(t),setTimeout(w,400),Va(m)),p(m)}function _(m){h(m)}function E(m){var w=s.payload;w.hoverGfx=m.gfx,w.hover=m.element,l("hover")}function M(m){l("out");var w=s.payload;w.hoverGfx=null,w.hover=null}function O(m){var w;if(s){var C=s.active;C&&l("cancel"),w=S(m),C&&l("canceled",w)}}function S(m){var w,C;l("cleanup"),UC(),s.trapClick?C=v:C=p,Yt.unbind(document,"mousemove",h),Yt.unbind(document,"dragstart",Va),Yt.unbind(document,"selectstart",Va),Yt.unbind(document,"mousedown",C,!0),Yt.unbind(document,"mouseup",C,!0),Yt.unbind(document,"keyup",g),Yt.unbind(document,"touchstart",_,!0),Yt.unbind(document,"touchcancel",O,!0),Yt.unbind(document,"touchmove",h,!0),Yt.unbind(document,"touchend",p,!0),t.off("element.hover",E),t.off("element.out",M),e.removeMarker(e.getRootElement(),Vw);var A=s.payload.previousSelection;return m!==!1&&A&&!n.get().length&&f(A),w=s,s=null,w}function x(m,w,C,A){s&&O(!1),typeof w=="string"&&(A=C,C=w,w=null),A=ft({},a,A||{});var B=A.data||{},P,T,j,z,I;A.trapClick?z=v:z=p,m?(P=Su(m)||m,T=sa(m),mm(m),P.type==="dragstart"&&Va(P)):(P=null,T={x:0,y:0}),j=u(T),w||(w=j),I=K8(P),s=ft({prefix:C,data:B,payload:{},globalStart:T,displacement:wi(w,j),localStart:j,isTouch:I},A),A.manual||(I?(Yt.bind(document,"touchstart",_,!0),Yt.bind(document,"touchcancel",O,!0),Yt.bind(document,"touchmove",h,!0),Yt.bind(document,"touchend",p,!0)):(Yt.bind(document,"mousemove",h),Yt.bind(document,"dragstart",Va),Yt.bind(document,"selectstart",Va),Yt.bind(document,"mousedown",z,!0),Yt.bind(document,"mouseup",z,!0)),Yt.bind(document,"keyup",g),t.on("element.hover",E),t.on("element.out",M)),l("init"),A.autoActivate&&h(m,!0)}t.on("diagram.destroy",O),this.init=x,this.move=h,this.hover=E,this.out=M,this.end=p,this.cancel=O,this.context=function(){return s},this.setOptions=function(m){ft(a,m)}}ZC.$inject=["eventBus","canvas","selection","elementRegistry"];const go={__depends__:[Y8,po],dragging:["type",ZC]};function Au(t,e,n){this._canvas=n,this._opts=ft({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},t);var r=this;e.on("drag.move",function(a){var s=r._toBorderPoint(a);r.startScroll(s)}),e.on(["drag.cleanup"],function(){r.stopScroll()})}Au.$inject=["config.autoScroll","eventBus","canvas"];Au.prototype.startScroll=function(t){var e=this._canvas,n=this._opts,r=this,a=e.getContainer().getBoundingClientRect(),s=[t.x,t.y,a.width-t.x,a.height-t.y];this.stopScroll();for(var u=0,l=0,f=0;f<4;f++)W8(s[f],n.scrollThresholdOut[f],n.scrollThresholdIn[f])&&(f===0?u=n.scrollStep:f==1?l=n.scrollStep:f==2?u=-n.scrollStep:f==3&&(l=-n.scrollStep));(u!==0||l!==0)&&(e.scroll({dx:u,dy:l}),this._scrolling=setTimeout(function(){r.startScroll(t)},n.scrollRepeatTimeout))};function W8(t,e,n){return e<t&&t<n}Au.prototype.stopScroll=function(){clearTimeout(this._scrolling)};Au.prototype.setOptions=function(t){this._opts=ft({},this._opts,t)};Au.prototype._toBorderPoint=function(t){var e=this._canvas._container.getBoundingClientRect(),n=sa(t.originalEvent);return{x:n.x-e.left,y:n.y-e.top}};const Q8={__depends__:[go],__init__:["autoScroll"],autoScroll:["type",Au]};function P0(t){this._commandStack=t.get("commandStack",!1)}P0.$inject=["injector"];P0.prototype.allowed=function(t,e){var n=!0,r=this._commandStack;return r&&(n=r.canExecute(t,e)),n===void 0?!0:n};const Ai={__init__:["rules"],rules:["type",P0]};var ud=Math.round,J8=Math.max;function t6(t,e){var n=t.x,r=t.y;return[["M",n,r],["m",0,-10],["a",e,e,0,1,1,0,2*e],["a",e,e,0,1,1,0,-2*e],["z"]]}function e6(t){var e=[];return t.forEach(function(n,r){e.push([r===0?"M":"L",n.x,n.y])}),e}var WC=10;function n6(t,e){var n,r;for(n=0;r=t[n];n++)if(gl(r,e)<=WC)return{point:t[n],bendpoint:!0,index:n};return null}function r6(t,e){var n=RS(t6(e,WC),e6(t)),r=n[0],a=n[n.length-1],s;return r?r!==a?r.segment2!==a.segment2?(s=J8(r.segment2,a.segment2)-1,{point:t[s],bendpoint:!0,index:s}):{point:{x:ud(r.x+a.x)/2,y:ud(r.y+a.y)/2},index:r.segment2}:{point:{x:ud(r.x),y:ud(r.y)},index:r.segment2}:null}function i6(t,e){return n6(t,e)||r6(t,e)}function o6(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}function a6(t,e,n){var r=[{n:t[0]-n[0],lambda:e[0]},{n:t[1]-n[1],lambda:e[1]}],a=r[0].n*e[0]+r[1].n*e[1],s=r[0].lambda*e[0]+r[1].lambda*e[1];return-a/s}function QC(t,e){var n=e[0],r=e[1],a={x:r.x-n.x,y:r.y-n.y},s=a6([n.x,n.y],[a.x,a.y],[t.x,t.y]);return{x:n.x+s*a.x,y:n.y+s*a.y}}function s6(t,e){var n=QC(t,e),r={x:n.x-t.x,y:n.y-t.y};return o6(r)}var JC="djs-bendpoint",tM="djs-segment-dragger";function u6(t,e){var n=sa(e),r=t._container.getBoundingClientRect(),a;a={x:r.left,y:r.top};var s=t.viewbox();return{x:s.x+(n.x-a.x)/s.scale,y:s.y+(n.y-a.y)/s.scale}}function uv(t,e,n){var r=u6(t,n),a=i6(e,r);return a}function cv(t,e){var n=Nt("g");le(n).add(JC),Wt(t,n);var r=Nt("circle");yt(r,{cx:0,cy:0,r:4}),le(r).add("djs-visual"),Wt(n,r);var a=Nt("circle");return yt(a,{cx:0,cy:0,r:10}),le(a).add("djs-hit"),Wt(n,a),e&&le(n).add(e),n}function c6(t,e,n,r){var a=Nt("g");Wt(t,a);var s=18,u=6,l=11,f=f6(e,n,r),h=u+l,p=Nt("rect");yt(p,{x:-18/2,y:-6/2,width:s,height:u}),le(p).add("djs-visual"),Wt(a,p);var g=Nt("rect");return yt(g,{x:-f/2,y:-17/2,width:f,height:h}),le(g).add("djs-hit"),Wt(a,g),d3(a,r==="v"?90:0),a}function eM(t,e,n){var r=Nt("g"),a=tv(e,n),s=Ji(e,n);return Wt(t,r),c6(r,e,n,s),le(r).add(tM),le(r).add(s==="h"?"horizontal":"vertical"),kr(r,a.x,a.y),r}function lv(t){return Math.abs(Math.round(t*2/3))}function l6(t,e){var n=d6(t,e);return QC(t,n)}function f6(t,e,n){var r=e.x-t.x,a=e.y-t.y;return lv(n==="h"?r:a)}function d6(t,e){for(var n=e.waypoints,r=1/0,a,s=0;s<n.length-1;s++){var u=n[s],l=n[s+1],f=s6(t,[u,l]);f<r&&(r=f,a=s)}return[n[a],n[a+1]]}function B0(t){return CSS.escape(t)}function nM(t,e,n,r,a){function s(m,w,C){var A=m.index,B=m.point,P,T,j,z,I,F;return A<=0||m.bendpoint?!1:(P=w[A-1],T=w[A],j=tv(P,T),z=Ji(P,T),I=Math.abs(B.x-j.x),F=Math.abs(B.y-j.y),z&&I<=C&&F<=C)}function u(m,w){var C=m.waypoints,A,B,P,T;return w.index<=0||w.bendpoint||(A={start:C[w.index-1],end:C[w.index]},B=Ji(A.start,A.end),!B)?null:(B==="h"?P=A.end.x-A.start.x:P=A.end.y-A.start.y,T=lv(P)/2,T)}function l(m,w){var C=w.waypoints,A=uv(e,C,m),B;if(A)return B=u(w,A),s(A,C,B)?a.start(m,w,A.index):r.start(m,w,A.index,!A.bendpoint),!0}function f(m,w,C){Yt.bind(m,w,function(A){n.triggerMouseEvent(w,A,C),A.stopPropagation()})}function h(m,w){var C=e.getLayer("overlays"),A=an('.djs-bendpoints[data-element-id="'+B0(m.id)+'"]',C);return!A&&w&&(A=Nt("g"),yt(A,{"data-element-id":m.id}),le(A).add("djs-bendpoints"),Wt(C,A),f(A,"mousedown",m),f(A,"click",m),f(A,"dblclick",m)),A}function p(m,w){return an('.djs-segment-dragger[data-segment-idx="'+m+'"]',w)}function g(m,w){w.waypoints.forEach(function(C,A){var B=cv(m);Wt(m,B),kr(B,C.x,C.y)}),cv(m,"floating")}function v(m,w){for(var C=w.waypoints,A,B,P,T=1;T<C.length;T++)A=C[T-1],B=C[T],Ji(A,B)&&(P=eM(m,A,B),yt(P,{"data-segment-idx":T}),f(P,"mousemove",w))}function _(m){st(Wm("."+JC,m),function(w){Qe(w)})}function E(m){st(Wm("."+tM,m),function(w){Qe(w)})}function M(m){var w=h(m);return w||(w=h(m,!0),g(w,m),v(w,m)),w}function O(m){var w=h(m);w&&(E(w),_(w),v(w,m),g(w,m))}function S(m,w){var C=an(".floating",m),A=w.point;C&&kr(C,A.x,A.y)}function x(m,w,C){var A=p(w.index,m),B=C[w.index-1],P=C[w.index],T=w.point,j=tv(B,P),z=Ji(B,P),I,F;A&&(I=h6(A),F={x:T.x-j.x,y:T.y-j.y},z==="v"&&(F={x:F.y,y:F.x}),kr(I,F.x,F.y))}t.on("connection.changed",function(m){O(m.element)}),t.on("connection.remove",function(m){var w=h(m.element);w&&Qe(w)}),t.on("element.marker.update",function(m){var w=m.element,C;w.waypoints&&(C=M(w),m.add?le(C).add(m.marker):le(C).remove(m.marker))}),t.on("element.mousemove",function(m){var w=m.element,C=w.waypoints,A,B;if(C){if(A=h(w,!0),B=uv(e,C,m.originalEvent),!B)return;S(A,B),B.bendpoint||x(A,B,C)}}),t.on("element.mousedown",function(m){if(fa(m)){var w=m.originalEvent,C=m.element;if(C.waypoints)return l(w,C)}}),t.on("selection.changed",function(m){var w=m.newSelection,C=w[0];C&&C.waypoints&&M(C)}),t.on("element.hover",function(m){var w=m.element;w.waypoints&&(M(w),n.registerEvent(m.gfx,"mousemove","element.mousemove"))}),t.on("element.out",function(m){n.unregisterEvent(m.gfx,"mousemove","element.mousemove")}),t.on("element.updateId",function(m){var w=m.element,C=m.newId;if(w.waypoints){var A=h(w);A&&yt(A,{"data-element-id":C})}}),this.addHandles=M,this.updateHandles=O,this.getBendpointsContainer=h,this.getSegmentDragger=p}nM.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];function h6(t){return an(".djs-visual",t)}var Yw=Math.round,Ya="reconnectStart",Ka="reconnectEnd",zc="updateWaypoints";function k0(t,e,n,r,a,s){this._injector=t,this.start=function(u,l,f,h){var p=n.getGraphics(l),g=l.source,v=l.target,_=l.waypoints,E;!h&&f===0?E=Ya:!h&&f===_.length-1?E=Ka:E=zc;var M=E===zc?"connection.updateWaypoints":"connection.reconnect",O=a.allowed(M,{connection:l,source:g,target:v});O===!1&&(O=a.allowed(M,{connection:l,source:v,target:g})),O!==!1&&r.init(u,"bendpoint.move",{data:{connection:l,connectionGfx:p,context:{allowed:O,bendpointIndex:f,connection:l,source:g,target:v,insert:h,type:E}}})},e.on("bendpoint.move.hover",function(u){var l=u.context,f=l.connection,h=f.source,p=f.target,g=u.hover,v=l.type;l.hover=g;var _;if(g){var E=v===zc?"connection.updateWaypoints":"connection.reconnect";if(_=l.allowed=a.allowed(E,{connection:f,source:v===Ya?g:h,target:v===Ka?g:p}),_){l.source=v===Ya?g:h,l.target=v===Ka?g:p;return}_===!1&&(_=l.allowed=a.allowed(E,{connection:f,source:v===Ka?g:p,target:v===Ya?g:h})),_&&(l.source=v===Ka?g:p,l.target=v===Ya?g:h)}}),e.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(u){var l=u.context,f=l.type;l.hover=null,l.source=null,l.target=null,f!==zc&&(l.allowed=!1)}),e.on("bendpoint.move.end",function(u){var l=u.context,f=l.allowed,h=l.bendpointIndex,p=l.connection,g=l.insert,v=p.waypoints.slice(),_=l.source,E=l.target,M=l.type,O=l.hints||{},S={x:Yw(u.x),y:Yw(u.y)};if(!f)return!1;M===zc?(g?v.splice(h,0,S):v[h]=S,O.bendpointMove={insert:g,bendpointIndex:h},v=this.cropWaypoints(p,v),s.updateWaypoints(p,KD(v),O)):(M===Ya?(O.docking="source",Rh(l)&&(O.docking="target",O.newWaypoints=v.reverse())):M===Ka&&(O.docking="target",Rh(l)&&(O.docking="source",O.newWaypoints=v.reverse())),s.reconnect(p,_,E,S,O))},this)}k0.$inject=["injector","eventBus","canvas","dragging","rules","modeling"];k0.prototype.cropWaypoints=function(t,e){var n=this._injector.get("connectionDocking",!1);if(!n)return e;var r=t.waypoints;return t.waypoints=e,t.waypoints=n.getCroppedWaypoints(t),e=t.waypoints,t.waypoints=r,e};function Rh(t){var e=t.hover,n=t.source,r=t.target,a=t.type;if(a===Ya)return e&&r&&e===r&&n!==r;if(a===Ka)return e&&n&&e===n&&n!==r}var p6="reconnectStart",g6="reconnectEnd",Kw="updateWaypoints",Uc="connect-ok",cd="connect-not-ok",Zw="connect-hover",Ww="djs-updating",Qw="djs-dragging",Jw=1100;function rM(t,e,n,r){this._injector=e;var a=e.get("connectionPreview",!1);n.on("bendpoint.move.start",function(s){var u=s.context,l=u.bendpointIndex,f=u.connection,h=u.insert,p=f.waypoints,g=p.slice();u.waypoints=p,h&&g.splice(l,0,{x:s.x,y:s.y}),f.waypoints=g;var v=u.draggerGfx=cv(r.getLayer("overlays"));le(v).add("djs-dragging"),r.addMarker(f,Qw),r.addMarker(f,Ww)}),n.on("bendpoint.move.hover",function(s){var u=s.context,l=u.allowed,f=u.hover,h=u.type;if(f){if(r.addMarker(f,Zw),h===Kw)return;l?(r.removeMarker(f,cd),r.addMarker(f,Uc)):l===!1&&(r.removeMarker(f,Uc),r.addMarker(f,cd))}}),n.on(["bendpoint.move.out","bendpoint.move.cleanup"],Jw,function(s){var u=s.context,l=u.hover,f=u.target;l&&(r.removeMarker(l,Zw),r.removeMarker(l,f?Uc:cd))}),n.on("bendpoint.move.move",function(s){var u=s.context,l=u.allowed,f=u.bendpointIndex,h=u.draggerGfx,p=u.hover,g=u.type,v=u.connection,_=v.source,E=v.target,M=v.waypoints.slice(),O={x:s.x,y:s.y},S=u.hints||{},x={};a&&(S.connectionStart&&(x.connectionStart=S.connectionStart),S.connectionEnd&&(x.connectionEnd=S.connectionEnd),g===p6?Rh(u)?(x.connectionEnd=x.connectionEnd||O,x.source=E,x.target=p||_,M=M.reverse()):(x.connectionStart=x.connectionStart||O,x.source=p||_,x.target=E):g===g6?Rh(u)?(x.connectionStart=x.connectionStart||O,x.source=p||E,x.target=_,M=M.reverse()):(x.connectionEnd=x.connectionEnd||O,x.source=_,x.target=p||E):(x.noCropping=!0,x.noLayout=!0,M[f]=O),g===Kw&&(M=t.cropWaypoints(v,M)),x.waypoints=M,a.drawPreview(u,l,x)),kr(h,s.x,s.y)},this),n.on(["bendpoint.move.end","bendpoint.move.cancel"],Jw,function(s){var u=s.context,l=u.connection,f=u.draggerGfx,h=u.hover,p=u.target,g=u.waypoints;l.waypoints=g,Qe(f),r.removeMarker(l,Ww),r.removeMarker(l,Qw),h&&(r.removeMarker(h,Uc),r.removeMarker(h,p?Uc:cd)),a&&a.cleanUp(u)})}rM.$inject=["bendpointMove","injector","eventBus","canvas"];var tT="connect-hover",eT="djs-updating";function nT(t,e,n){return I0(t,e,t[e]+n)}function I0(t,e,n){return{x:e==="x"?n:t.x,y:e==="y"?n:t.y}}function y6(t,e,n,r){var a=Math.max(e[r],n[r]),s=Math.min(e[r],n[r]),u=20,l=Math.min(Math.max(s+u,t[r]),a-u);return I0(e,r,l)}function iM(t){return t==="x"?"y":"x"}function rT(t,e,n){var r,a;return t.original?t.original:(r=me(e),a=iM(n),I0(t,a,r[a]))}function oM(t,e,n,r,a,s){var u=t.get("connectionDocking",!1);this.start=function(g,v,_){var E,M=n.getGraphics(v),O=_-1,S=_,x=v.waypoints,m=x[O],w=x[S],C=uv(n,x,g),A,B,P;A=Ji(m,w),A&&(B=A==="v"?"x":"y",O===0&&(m=rT(m,v.source,B)),S===x.length-1&&(w=rT(w,v.target,B)),C?P=C.point:P={x:(m.x+w.x)/2,y:(m.y+w.y)/2},E={connection:v,segmentStartIndex:O,segmentEndIndex:S,segmentStart:m,segmentEnd:w,axis:B,dragPosition:P},r.init(g,P,"connectionSegment.move",{cursor:B==="x"?"resize-ew":"resize-ns",data:{connection:v,connectionGfx:M,context:E}}))};function l(g,v){if(!u)return v;var _=g.waypoints,E;return g.waypoints=v,E=u.getCroppedWaypoints(g),g.waypoints=_,E}function f(g){a.update("connection",g.connection,g.connectionGfx)}function h(g,v,_){var E=g.newWaypoints,M=g.segmentStartIndex+v,O=E[M],S=g.segmentEndIndex+v,x=E[S],m=iM(g.axis),w=y6(_,O,x,m);kr(g.draggerGfx,w.x,w.y)}function p(g,v){var _=0,E=g.filter(function(M,O){return Gv(g[O-1],g[O+1],M)?(_=O<=v?_-1:_,!1):!0});return{waypoints:E,segmentOffset:_}}e.on("connectionSegment.move.start",function(g){var v=g.context,_=g.connection,E=n.getLayer("overlays");v.originalWaypoints=_.waypoints.slice(),v.draggerGfx=eM(E,v.segmentStart,v.segmentEnd),le(v.draggerGfx).add("djs-dragging"),n.addMarker(_,eT)}),e.on("connectionSegment.move.move",function(g){var v=g.context,_=v.connection,E=v.segmentStartIndex,M=v.segmentEndIndex,O=v.segmentStart,S=v.segmentEnd,x=v.axis,m=v.originalWaypoints.slice(),w=nT(O,x,g["d"+x]),C=nT(S,x,g["d"+x]),A=m.length,B=0;m[E]=w,m[M]=C;var P,T;E<2&&(P=zr(_.source,w),E===1?P==="intersect"&&(m.shift(),m[0]=w,B--):P!=="intersect"&&(m.unshift(O),B++)),M>A-3&&(T=zr(_.target,C),M===A-2?T==="intersect"&&(m.pop(),m[m.length-1]=C):T!=="intersect"&&m.push(S)),v.newWaypoints=_.waypoints=l(_,m),h(v,B,g),v.newSegmentStartIndex=E+B,f(g)}),e.on("connectionSegment.move.hover",function(g){g.context.hover=g.hover,n.addMarker(g.hover,tT)}),e.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(g){var v=g.context.hover;v&&n.removeMarker(v,tT)}),e.on("connectionSegment.move.cleanup",function(g){var v=g.context,_=v.connection;v.draggerGfx&&Qe(v.draggerGfx),n.removeMarker(_,eT)}),e.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(g){var v=g.context,_=v.connection;_.waypoints=v.originalWaypoints,f(g)}),e.on("connectionSegment.move.end",function(g){var v=g.context,_=v.connection,E=v.newWaypoints,M=v.newSegmentStartIndex;E=E.map(function(C){return{original:C.original,x:Math.round(C.x),y:Math.round(C.y)}});var O=p(E,M),S=O.waypoints,x=l(_,S),m=O.segmentOffset,w={segmentMove:{segmentStartIndex:v.segmentStartIndex,newSegmentStartIndex:M+m}};s.updateWaypoints(_,x,w)})}oM.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var m6=Math.abs,iT=Math.round;function v6(t,e,n){n=n===void 0?10:n;var r,a;for(r=0;r<e.length;r++)if(a=e[r],m6(a-t)<=n)return a}function _6(t){return{x:t.x,y:t.y}}function x6(t){return{x:t.x+t.width,y:t.y+t.height}}function ea(t,e){return!t||isNaN(t.x)||isNaN(t.y)?e:{x:iT(t.x+t.width/2),y:iT(t.y+t.height/2)}}function il(t,e){var n=t.snapped;return n?typeof e=="string"?n[e]:n.x&&n.y:!1}function hr(t,e,n){if(typeof e!="string")throw new Error("axis must be in [x, y]");if(typeof n!="number"&&n!==!1)throw new Error("value must be Number or false");var r,a=t[e],s=t.snapped=t.snapped||{};return n===!1?s[e]=!1:(s[e]=!0,r=n-a,t[e]+=r,t["d"+e]+=r),a}function aM(t){return t.children||[]}var b6=Math.abs,oT=Math.round,bm=10;function sM(t){function e(s,u){if(ne(s)){for(var l=s.length;l--;)if(b6(s[l]-u)<=bm)return s[l]}else{s=+s;var f=u%s;if(f<bm)return u-f;if(f>s-bm)return u-f+s}return u}function n(s,u){if(s.waypoints)return l6(u,s);if(s.width)return{x:oT(s.width/2+s.x),y:oT(s.height/2+s.y)}}function r(s){var u=s.context,l=u.snapPoints,f=u.connection,h=f.waypoints,p=u.segmentStart,g=u.segmentStartIndex,v=u.segmentEnd,_=u.segmentEndIndex,E=u.axis;if(l)return l;var M=[h[g-1],p,v,h[_+1]];return g<2&&M.unshift(n(f.source,s)),_>h.length-3&&M.unshift(n(f.target,s)),u.snapPoints=l={horizontal:[],vertical:[]},st(M,function(O){O&&(O=O.original||O,E==="y"&&l.horizontal.push(O.y),E==="x"&&l.vertical.push(O.x))}),l}t.on("connectionSegment.move.move",1500,function(s){var u=r(s),l=s.x,f=s.y,h,p;if(u){h=e(u.vertical,l),p=e(u.horizontal,f);var g=l-h,v=f-p;ft(s,{dx:s.dx-g,dy:s.dy-v,x:h,y:p}),(g||u.vertical.indexOf(l)!==-1)&&hr(s,"x",h),(v||u.horizontal.indexOf(f)!==-1)&&hr(s,"y",p)}});function a(s){var u=s.snapPoints,l=s.connection.waypoints,f=s.bendpointIndex;if(u)return u;var h=[l[f-1],l[f+1]];return s.snapPoints=u={horizontal:[],vertical:[]},st(h,function(p){p&&(p=p.original||p,u.horizontal.push(p.y),u.vertical.push(p.x))}),u}t.on(["connect.hover","connect.move","connect.end"],1500,function(s){var u=s.context,l=u.hover,f=l&&n(l,s);!Ue(l)||!f||!f.x||!f.y||(hr(s,"x",f.x),hr(s,"y",f.y))}),t.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(s){var u=s.context,l=a(u),f=u.hover,h=f&&n(f,s),p=s.x,g=s.y,v,_;if(l){v=e(h?l.vertical.concat([h.x]):l.vertical,p),_=e(h?l.horizontal.concat([h.y]):l.horizontal,g);var E=p-v,M=g-_;ft(s,{dx:s.dx-E,dy:s.dy-M,x:s.x-E,y:s.y-M}),(E||l.vertical.indexOf(p)!==-1)&&hr(s,"x",v),(M||l.horizontal.indexOf(g)!==-1)&&hr(s,"y",_)}})}sM.$inject=["eventBus"];const E6={__depends__:[go,Ai],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",nM],bendpointMove:["type",k0],bendpointMovePreview:["type",rM],connectionSegmentMove:["type",oM],bendpointSnapping:["type",sM]};function uM(t,e,n,r){function a(u,l){return r.allowed("connection.create",{source:u,target:l})}function s(u,l){return a(l,u)}t.on("connect.hover",function(u){var l=u.context,f=l.start,h=u.hover,p;if(l.hover=h,p=l.canExecute=a(f,h),!xh(p)){if(p!==!1){l.source=f,l.target=h;return}p=l.canExecute=s(f,h),!xh(p)&&p!==!1&&(l.source=h,l.target=f)}}),t.on(["connect.out","connect.cleanup"],function(u){var l=u.context;l.hover=null,l.source=null,l.target=null,l.canExecute=!1}),t.on("connect.end",function(u){var l=u.context,f=l.canExecute,h=l.connectionStart,p={x:u.x,y:u.y},g=l.source,v=l.target;if(!f)return!1;var _=null,E={connectionStart:fv(l)?p:h,connectionEnd:fv(l)?h:p};On(f)&&(_=f),l.connection=n.connect(g,v,_,E)}),this.start=function(u,l,f,h){On(f)||(h=f,f=me(l)),e.init(u,"connect",{autoActivate:h,data:{shape:l,context:{start:l,connectionStart:f}}})}}uM.$inject=["eventBus","dragging","modeling","rules"];function fv(t){var e=t.hover,n=t.source,r=t.target;return e&&n&&e===n&&n!==r}var w6=1100,T6=900,aT="connect-ok",sT="connect-not-ok";function cM(t,e,n){var r=t.get("connectionPreview",!1);r&&e.on("connect.move",function(a){var s=a.context,u=s.canExecute,l=s.hover,f=s.source,h=s.start,p=s.startPosition,g=s.target,v=s.connectionStart||p,_=s.connectionEnd||{x:a.x,y:a.y},E=v,M=_;fv(s)&&(E=_,M=v),r.drawPreview(s,u,{source:f||h,target:g||l,connectionStart:E,connectionEnd:M})}),e.on("connect.hover",T6,function(a){var s=a.context,u=a.hover,l=s.canExecute;l!==null&&n.addMarker(u,l?aT:sT)}),e.on(["connect.out","connect.cleanup"],w6,function(a){var s=a.hover;s&&(n.removeMarker(s,aT),n.removeMarker(s,sT))}),r&&e.on("connect.cleanup",function(a){r.cleanUp(a.context)})}cM.$inject=["injector","eventBus","canvas"];const j0={__depends__:[po,Ai,go],__init__:["connectPreview"],connect:["type",uM],connectPreview:["type",cM]};var S6="djs-dragger";function yo(t,e,n,r){this._canvas=e,this._graphicsFactory=n,this._elementFactory=r,this._connectionDocking=t.get("connectionDocking",!1),this._layouter=t.get("layouter",!1)}yo.$inject=["injector","canvas","graphicsFactory","elementFactory"];yo.prototype.drawPreview=function(t,e,n){n=n||{};var r=t.connectionPreviewGfx,a=t.getConnection,s=n.source,u=n.target,l=n.waypoints,f=n.connectionStart,h=n.connectionEnd,p=n.noLayout,g=n.noCropping,v=n.noNoop,_,E=this;if(r||(r=t.connectionPreviewGfx=this.createConnectionPreviewGfx()),Uv(r),a||(a=t.getConnection=C6(function(M,O,S){return E.getConnection(M,O,S)})),e&&(_=a(e,s,u)),!_){!v&&this.drawNoopPreview(r,n);return}_.waypoints=l||[],this._layouter&&!p&&(_.waypoints=this._layouter.layoutConnection(_,{source:s,target:u,connectionStart:f,connectionEnd:h,waypoints:n.waypoints||_.waypoints})),(!_.waypoints||!_.waypoints.length)&&(_.waypoints=[s?me(s):f,u?me(u):h]),this._connectionDocking&&(s||u)&&!g&&(_.waypoints=this._connectionDocking.getCroppedWaypoints(_,s,u)),this._graphicsFactory.drawConnection(r,_,{stroke:"var(--element-dragger-color)"})};yo.prototype.drawNoopPreview=function(t,e){var n=e.source,r=e.target,a=e.connectionStart||me(n),s=e.connectionEnd||me(r),u=this.cropWaypoints(a,s,n,r),l=this.createNoopConnection(u[0],u[1]);Wt(t,l)};yo.prototype.cropWaypoints=function(t,e,n,r){var a=this._graphicsFactory,s=n&&a.getShapePath(n),u=r&&a.getShapePath(r),l=a.getConnectionPath({waypoints:[t,e]});return t=n&&ev(s,l,!0)||t,e=r&&ev(u,l,!1)||e,[t,e]};yo.prototype.cleanUp=function(t){t&&t.connectionPreviewGfx&&Qe(t.connectionPreviewGfx)};yo.prototype.getConnection=function(t){var e=M6(t);return this._elementFactory.createConnection(e)};yo.prototype.createConnectionPreviewGfx=function(){var t=Nt("g");return yt(t,{pointerEvents:"none"}),le(t).add(S6),Wt(this._canvas.getActiveLayer(),t),t};yo.prototype.createNoopConnection=function(t,e){return Yh([t,e],{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"})};function C6(t){var e={};return function(n){var r=JSON.stringify(n),a=e[r];return a||(a=e[r]=t.apply(null,arguments)),a}}function M6(t){return On(t)?t:{}}const A6={__init__:["connectionPreview"],connectionPreview:["type",yo]};var uT=Math.min,cT=Math.max;function Em(t){t.preventDefault()}function Jc(t){t.stopPropagation()}function O6(t){return t.nodeType===Node.TEXT_NODE}function R6(t){return[].slice.call(t)}function ai(t){this.container=t.container,this.parent=dn('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=an("[contenteditable]",this.parent),this.keyHandler=t.keyHandler||function(){},this.resizeHandler=t.resizeHandler||function(){},this.autoResize=Vn(this.autoResize,this),this.handlePaste=Vn(this.handlePaste,this)}ai.prototype.create=function(t,e,n,r){var a=this,s=this.parent,u=this.content,l=this.container;r=this.options=r||{},e=this.style=e||{};var f=ro(e,["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);ft(s.style,{width:t.width+"px",height:t.height+"px",maxWidth:t.maxWidth+"px",maxHeight:t.maxHeight+"px",minWidth:t.minWidth+"px",minHeight:t.minHeight+"px",left:t.x+"px",top:t.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},f);var h=ro(e,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return ft(u.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},h),r.centerVertically&&ft(u.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},h),u.innerText=n,Yt.bind(u,"keydown",this.keyHandler),Yt.bind(u,"mousedown",Jc),Yt.bind(u,"paste",a.handlePaste),r.autoResize&&Yt.bind(u,"input",this.autoResize),r.resizable&&this.resizable(e),l.appendChild(s),this.setSelection(u.lastChild,u.lastChild&&u.lastChild.length),s};ai.prototype.handlePaste=function(t){var e=this.options,n=this.style;t.preventDefault();var r;if(t.clipboardData?r=t.clipboardData.getData("text/plain"):r=window.clipboardData.getData("Text"),this.insertText(r),e.autoResize){var a=this.autoResize(n);a&&this.resizeHandler(a)}};ai.prototype.insertText=function(t){t=N6(t);var e=document.execCommand("insertText",!1,t);e||this._insertTextIE(t)};ai.prototype._insertTextIE=function(t){var e=this.getSelection(),n=e.startContainer,r=e.endContainer,a=e.startOffset,s=e.endOffset,u=e.commonAncestorContainer,l=R6(u.childNodes),f,h;if(O6(u)){var p=n.textContent;n.textContent=p.substring(0,a)+t+p.substring(s),f=n,h=a+t.length}else if(n===this.content&&r===this.content){var g=document.createTextNode(t);this.content.insertBefore(g,l[a]),f=g,h=g.textContent.length}else{var v=l.indexOf(n),_=l.indexOf(r);l.forEach(function(E,M){M===v?E.textContent=n.textContent.substring(0,a)+t+r.textContent.substring(s):M>v&&M<=_&&Ci(E)}),f=n,h=a+t.length}f&&h!==void 0&&setTimeout(function(){self.setSelection(f,h)})};ai.prototype.autoResize=function(){var t=this.parent,e=this.content,n=parseInt(this.style.fontSize)||12;if(e.scrollHeight>t.offsetHeight||e.scrollHeight<t.offsetHeight-n){var r=t.getBoundingClientRect(),a=e.scrollHeight;t.style.height=a+"px",this.resizeHandler({width:r.width,height:r.height,dx:0,dy:a-r.height})}};ai.prototype.resizable=function(){var t=this,e=this.parent,n=this.resizeHandle,r=parseInt(this.style.minWidth)||0,a=parseInt(this.style.minHeight)||0,s=parseInt(this.style.maxWidth)||1/0,u=parseInt(this.style.maxHeight)||1/0;if(!n){n=this.resizeHandle=dn('<div class="djs-direct-editing-resize-handle"></div>');var l,f,h,p,g=function(E){Em(E),Jc(E),l=E.clientX,f=E.clientY;var M=e.getBoundingClientRect();h=M.width,p=M.height,Yt.bind(document,"mousemove",v),Yt.bind(document,"mouseup",_)},v=function(E){Em(E),Jc(E);var M=uT(cT(h+E.clientX-l,r),s),O=uT(cT(p+E.clientY-f,a),u);e.style.width=M+"px",e.style.height=O+"px",t.resizeHandler({width:h,height:p,dx:E.clientX-l,dy:E.clientY-f})},_=function(E){Em(E),Jc(E),Yt.unbind(document,"mousemove",v,!1),Yt.unbind(document,"mouseup",_,!1)};Yt.bind(n,"mousedown",g)}ft(n.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),e.appendChild(n)};ai.prototype.destroy=function(){var t=this.parent,e=this.content,n=this.resizeHandle;e.innerText="",t.removeAttribute("style"),e.removeAttribute("style"),Yt.unbind(e,"keydown",this.keyHandler),Yt.unbind(e,"mousedown",Jc),Yt.unbind(e,"input",this.autoResize),Yt.unbind(e,"paste",this.handlePaste),n&&(n.removeAttribute("style"),Ci(n)),Ci(t)};ai.prototype.getValue=function(){return this.content.innerText.trim()};ai.prototype.getSelection=function(){var t=window.getSelection(),e=t.getRangeAt(0);return e};ai.prototype.setSelection=function(t,e){var n=document.createRange();t===null?n.selectNodeContents(this.content):(n.setStart(t,e),n.setEnd(t,e));var r=window.getSelection();r.removeAllRanges(),r.addRange(n)};function N6(t){return t.replace(/\r\n|\r|\n/g,`
`)}function Xr(t,e){this._eventBus=t,this._providers=[],this._textbox=new ai({container:e.getContainer(),keyHandler:Vn(this._handleKey,this),resizeHandler:Vn(this._handleResize,this)})}Xr.$inject=["eventBus","canvas"];Xr.prototype.registerProvider=function(t){this._providers.push(t)};Xr.prototype.isActive=function(t){return!!(this._active&&(!t||this._active.element===t))};Xr.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())};Xr.prototype._fire=function(t,e){this._eventBus.fire("directEditing."+t,e||{active:this._active})};Xr.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0};Xr.prototype.complete=function(){var t=this._active;if(t){var e,n=t.context.bounds,r=this.$textbox.getBoundingClientRect(),a=this.getValue(),s=t.context.text;(a!==s||r.height!==n.height||r.width!==n.width)&&(e=this._textbox.container.getBoundingClientRect(),t.provider.update(t.element,a,t.context.text,{x:r.left-e.left,y:r.top-e.top,width:r.width,height:r.height})),this._fire("complete"),this.close()}};Xr.prototype.getValue=function(){return this._textbox.getValue()};Xr.prototype._handleKey=function(t){t.stopPropagation();var e=t.keyCode||t.charCode;if(e===27)return t.preventDefault(),this.cancel();if(e===13&&!t.shiftKey)return t.preventDefault(),this.complete()};Xr.prototype._handleResize=function(t){this._fire("resize",t)};Xr.prototype.activate=function(t){this.isActive()&&this.cancel();var e,n=Ie(this._providers,function(r){return(e=r.activate(t))?r:null});return e&&(this.$textbox=this._textbox.create(e.bounds,e.style,e.text,e.options),this._active={element:t,context:e,provider:n},e.options&&e.options.resizable&&(this.resizable=!0),this._fire("activate")),!!e};const lM={__depends__:[bl],__init__:["directEditing"],directEditing:["type",Xr]};var ld=".entry",D6=1e3,lT=12,L6=300;function Yn(t,e,n,r){this._canvas=t,this._eventBus=n,this._overlays=r;var a=xn(e&&e.scale)?e.scale:{min:1,max:1.5};this._overlaysConfig={scale:a},this._current=null,this._init()}Yn.$inject=["canvas","config.contextPad","eventBus","overlays"];Yn.prototype._init=function(){var t=this;this._eventBus.on("selection.changed",function(e){var n=e.newSelection,r=n.length?n.length===1?n[0]:n:null;r?t.open(r,!0):t.close()}),this._eventBus.on("elements.changed",function(e){var n=e.elements,r=t._current;if(r){var a=r.target,s=qh(ne(a)?a:[a],function(u){return fM(n,u)});s&&t.open(a,!0)}})};Yn.prototype.registerProvider=function(t,e){e||(e=t,t=D6),this._eventBus.on("contextPad.getProviders",t,function(n){n.providers.push(e)})};Yn.prototype.getEntries=function(t){var e=this._getProviders(),n=ne(t)?"getMultiElementContextPadEntries":"getContextPadEntries",r={};return st(e,function(a){if(En(a[n])){var s=a[n](t);En(s)?r=s(r):st(s,function(u,l){r[l]=u})}}),r};Yn.prototype.trigger=function(t,e,n){var r,a,s=e.delegateTarget||e.target;return s?(r=pr(s,"data-action"),a=e.originalEvent||e,t==="mouseover"?this._timeout=setTimeout(()=>{this._mouseout=this.triggerEntry(r,"hover",a,n)},L6):t==="mouseout"&&(clearTimeout(this._timeout),this._mouseout&&(this._mouseout(),this._mouseout=null)),this.triggerEntry(r,t,a,n)):e.preventDefault()};Yn.prototype.triggerEntry=function(t,e,n,r){if(this.isShown()){var a=this._current.target,s=this._current.entries,u=s[t];if(u){var l=u.action;if(this._eventBus.fire("contextPad.trigger",{entry:u,event:n})!==!1){if(En(l)){if(e==="click")return l(n,a,r)}else if(l[e])return l[e](n,a,r);n.preventDefault()}}}};Yn.prototype.open=function(t,e){!e&&this.isOpen(t)||(this.close(),this._updateAndOpen(t))};Yn.prototype._getProviders=function(){var t=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(t),t.providers};Yn.prototype._updateAndOpen=function(t){var e=this.getEntries(t),n=this.getPad(t),r=n.html,a;st(e,function(s,u){var l=s.group||"default",f=dn(s.html||'<div class="entry" draggable="true"></div>'),h;pr(f,"data-action",u),h=an("[data-group="+B0(l)+"]",r),h||(h=dn('<div class="group"></div>'),pr(h,"data-group",l),r.appendChild(h)),h.appendChild(f),s.className&&P6(f,s.className),s.title&&pr(f,"title",s.title),s.imageUrl&&(a=dn("<img>"),pr(a,"src",s.imageUrl),a.style.width="100%",a.style.height="100%",f.appendChild(a))}),mr(r).add("open"),this._current={target:t,entries:e,pad:n},this._eventBus.fire("contextPad.open",{current:this._current})};Yn.prototype.getPad=function(t){if(this.isOpen())return this._current.pad;var e=this,n=this._overlays,r=dn('<div class="djs-context-pad"></div>'),a=this._getPosition(t),s=ft({html:r},this._overlaysConfig,a);ei.bind(r,ld,"click",function(f){e.trigger("click",f)}),ei.bind(r,ld,"dragstart",function(f){e.trigger("dragstart",f)}),ei.bind(r,ld,"mouseover",function(f){e.trigger("mouseover",f)}),ei.bind(r,ld,"mouseout",function(f){e.trigger("mouseout",f)}),Yt.bind(r,"mousedown",function(f){f.stopPropagation()});var u=this._canvas.getRootElement();this._overlayId=n.add(u,"context-pad",s);var l=n.get(this._overlayId);return this._eventBus.fire("contextPad.create",{target:t,pad:l}),l};Yn.prototype.close=function(){this.isOpen()&&(clearTimeout(this._timeout),this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)};Yn.prototype.isOpen=function(t){var e=this._current;if(!e)return!1;if(!t)return!0;var n=e.target;return ne(t)!==ne(n)?!1:ne(t)?t.length===n.length&&hl(t,function(r){return fM(n,r)}):n===t};Yn.prototype.isShown=function(){return this.isOpen()&&this._overlays.isShown()};Yn.prototype._getPosition=function(t){t=Ue(t)?B6(t):t;var e=ne(t)?t:[t],n=bn(e);return{position:{left:n.x+n.width+lT,top:n.y-lT/2}}};function P6(t,e){var n=mr(t);e=ne(e)?e:e.split(/\s+/g),e.forEach(function(r){n.add(r)})}function fM(t,e){return t.indexOf(e)!==-1}function B6(t){return t.waypoints[t.waypoints.length-1]}const k6={__depends__:[bl,jC],contextPad:["type",Yn]};var I6=["marker-start","marker-mid","marker-end"],j6=["circle","ellipse","line","path","polygon","polyline","path","rect"];function ha(t,e,n,r){this._elementRegistry=t,this._canvas=n,this._styles=r,this._clonedMarkers={};var a=this;e.on("drag.cleanup",function(){a.cleanUp()})}ha.$inject=["elementRegistry","eventBus","canvas","styles"];ha.prototype.cleanUp=function(){var t=this;st(t._clonedMarkers,function(e){Qe(e)}),t._clonedMarkers={}};ha.prototype.getGfx=function(t){return this._elementRegistry.getGraphics(t)};ha.prototype.addDragger=function(t,e,n,r="djs-dragger"){n=n||this.getGfx(t);var a=bS(n),s=n.getBoundingClientRect();return this._cloneMarkers(Th(a),r),yt(a,this._styles.cls(r,[],{x:s.top,y:s.left})),Wt(e,a),yt(a,"data-preview-support-element-id",t.id),a};ha.prototype.addFrame=function(t,e){var n=Nt("rect",{class:"djs-resize-overlay",width:t.width,height:t.height,x:t.x,y:t.y});return Wt(e,n),yt(n,"data-preview-support-element-id",t.id),n};ha.prototype._cloneMarkers=function(t,e="djs-dragger"){var n=this;if(t.childNodes)for(var r=0;r<t.childNodes.length;r++)n._cloneMarkers(t.childNodes[r],e);H6(t)&&I6.forEach(function(a){if(yt(t,a)){var s=$6(t,a,n._canvas.getContainer());n._cloneMarker(t,s,a,e)}})};ha.prototype._cloneMarker=function(t,e,n,r="djs-dragger"){var a=e.id+"-"+r,s=this._clonedMarkers[a];if(!s){s=bS(e);var u=a+"-clone";s.id=u,le(s).add(r),this._clonedMarkers[a]=s;var l=an("defs",this._canvas._svg);l||(l=Nt("defs"),Wt(this._canvas._svg,l)),Wt(l,s)}var f=U6(this._clonedMarkers[a].id);yt(t,n,f)};function $6(t,e,n){var r=z6(yt(t,e));return an("marker#"+r,n||document)}function z6(t){return t.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]}function U6(t){return"url(#"+t+")"}function H6(t){return j6.indexOf(t.nodeName)!==-1}const El={__init__:["previewSupport"],previewSupport:["type",ha]};var F6="drop-ok",fT="drop-not-ok",dT="attach-ok",hT="new-parent",pT="create",X6=2e3;function dM(t,e,n,r,a){function s(f,h,p,g,v){if(!h)return!1;f=sn(f,function(x){var m=x.labelTarget;return!x.parent&&!(vr(x)&&f.indexOf(m)!==-1)});var _=Ie(f,function(x){return!Ue(x)}),E=!1,M=!1,O=!1;yT(f)&&(E=a.allowed("shape.attach",{position:p,shape:_,target:h})),E||(yT(f)?O=a.allowed("shape.create",{position:p,shape:_,source:g,target:h}):O=a.allowed("elements.create",{elements:f,position:p,target:h}));var S=v.connectionTarget;return O||E?(_&&g&&(M=a.allowed("connection.create",{source:S===g?_:g,target:S===g?g:_,hints:{targetParent:h,targetAttach:E}})),{attach:E,connect:M}):O===null||E===null?null:!1}function u(f,h){[dT,F6,fT,hT].forEach(function(p){p===h?t.addMarker(f,p):t.removeMarker(f,p)})}n.on(["create.move","create.hover"],function(f){var h=f.context,p=h.elements,g=f.hover,v=h.source,_=h.hints||{};if(!g){h.canExecute=!1,h.target=null;return}gT(f);var E={x:f.x,y:f.y},M=h.canExecute=g&&s(p,g,E,v,_);g&&M!==null&&(h.target=g,M&&M.attach?u(g,dT):u(g,M?hT:fT))}),n.on(["create.end","create.out","create.cleanup"],function(f){var h=f.hover;h&&u(h,null)}),n.on("create.end",function(f){var h=f.context,p=h.source,g=h.shape,v=h.elements,_=h.target,E=h.canExecute,M=E&&E.attach,O=E&&E.connect,S=h.hints||{};if(E===!1||!_)return!1;gT(f);var x={x:f.x,y:f.y};O?g=r.appendShape(p,g,x,_,{attach:M,connection:O===!0?{}:O,connectionTarget:S.connectionTarget}):(v=r.createElements(v,x,_,ft({},S,{attach:M})),g=Ie(v,function(m){return!Ue(m)})),ft(h,{elements:v,shape:g}),ft(f,{elements:v,shape:g})});function l(){var f=e.context();f&&f.prefix===pT&&e.cancel()}n.on("create.init",function(){n.on("elements.changed",l),n.once(["create.cancel","create.end"],X6,function(){n.off("elements.changed",l)})}),this.start=function(f,h,p){ne(h)||(h=[h]);var g=Ie(h,function(E){return!Ue(E)});if(g){p=ft({elements:h,hints:{},shape:g},p||{}),st(h,function(E){Kt(E.x)||(E.x=0),Kt(E.y)||(E.y=0)});var v=sn(h,function(E){return!E.hidden}),_=bn(v);st(h,function(E){Ue(E)&&(E.waypoints=An(E.waypoints,function(M){return{x:M.x-_.x-_.width/2,y:M.y-_.y-_.height/2}})),ft(E,{x:E.x-_.x-_.width/2,y:E.y-_.y-_.height/2})}),e.init(f,pT,{cursor:"grabbing",autoActivate:!0,data:{shape:g,elements:h,context:p}})}}}dM.$inject=["canvas","dragging","eventBus","modeling","rules"];function gT(t){var e=t.context,n=e.createConstraints;n&&(n.left&&(t.x=Math.max(t.x,n.left)),n.right&&(t.x=Math.min(t.x,n.right)),n.top&&(t.y=Math.max(t.y,n.top)),n.bottom&&(t.y=Math.min(t.y,n.bottom)))}function yT(t){return t&&t.length===1&&!Ue(t[0])}var q6=750;function hM(t,e,n,r,a){function s(u){var l=Nt("g");yt(l,a.cls("djs-drag-group",["no-events"]));var f=Nt("g");return u.forEach(function(h){var p;h.hidden||(h.waypoints?(p=n._createContainer("connection",f),n.drawConnection(Th(p),h)):(p=n._createContainer("shape",f),n.drawShape(Th(p),h),kr(p,h.x,h.y)),r.addDragger(h,l,p))}),l}e.on("create.move",q6,function(u){var l=u.hover,f=u.context,h=f.elements,p=f.dragGroup;p||(p=f.dragGroup=s(h));var g;l?(p.parentNode||(g=t.getActiveLayer(),Wt(g,p)),kr(p,u.x,u.y)):Qe(p)}),e.on("create.cleanup",function(u){var l=u.context,f=l.dragGroup;f&&Qe(f)})}hM.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];const lp={__depends__:[go,El,Ai,po],__init__:["create","createPreview"],create:["type",dM],createPreview:["type",hM]};function $0(t,e,n,r,a,s,u,l,f,h,p){t=t||{},u.registerProvider(this),this._connect=r,this._create=a,this._elementFactory=s,this._contextPad=u,this._modeling=l,this._rules=f,this._translate=h,this._popupMenu=p,t.autoPlace!==!1&&(this._autoPlace=e.get("autoPlace",!1)),n.on("create.end",250,function(g){let v=g.context,_=v.shape;if(!nl(g)||!u.isOpen(_))return;let E=u.getEntries(_);E.replace&&E.replace.action.click(g,_)})}$0.$inject=["config.contextPad","injector","eventBus","connect","create","elementFactory","contextPad","modeling","rules","translate","popupMenu"];$0.prototype.getContextPadEntries=function(t){const{_rules:e,_modeling:n,_translate:r,_connect:a,_elementFactory:s,_contextPad:u,_autoPlace:l,_create:f,_popupMenu:h}=this;let p={};if(t.type==="label")return p;return v(p),t.type==="dcr:Event"?(x(p),m(p),E(p)):t.type==="dcr:Relation"?O(p):t.type==="dcr:Nesting"?(x(p),M(p)):t.type==="dcr:SubProcess"&&(x(p),E(p)),p;function g(){n.removeElements([t])}function v(C){let A=e.allowed("elements.delete",{elements:[t]});ne(A)&&(A=A[0]===t),A&&ft(C,{delete:{group:"edit",className:"bpmn-icon-trash",title:r("Remove"),action:{click:g}}})}function _(C){var A=5,B=u.getPad(C).html,P=B.getBoundingClientRect(),T={x:P.left,y:P.bottom+A};return T}function E(C){ft(C,{"dcr-replace":{group:"edit",className:"bpmn-icon-screw-wrench",title:"Change type",action:{click:function(A,B){var P=ft(_(B),{cursor:{x:A.x,y:A.y}});const T=Jt(B,"dcr:SubProcess")&&B.businessObject["multi-instance"];h.open(B,"dcr-object-popup",P,{title:T?void 0:"Marking:"})}}}})}function M(C){ft(C,{"dcr-replace":{group:"edit",className:"bpmn-icon-screw-wrench",title:"Change type of children",action:{click:function(A,B){var P=ft(_(B),{cursor:{x:A.x,y:A.y}});h.open(B,"dcr-nesting-popup",P,{title:"Marking:"})}}}})}function O(C){ft(C,{"dcr-replace":{group:"edit",className:"bpmn-icon-screw-wrench",title:"Change DCR Relation type",action:{click:function(A,B){var P=ft(_(B),{cursor:{x:A.x,y:A.y}});h.open(B,"dcr-link-popup",P,{title:"DCR Relation Types"})}}}})}function S(C,A){a.start(C,A)}function x(C){ft(C,{connect:{group:"connect",className:"bpmn-icon-connection",title:"Connect using DCR Relations",action:{click:S,dragstart:S}}})}function m(C){ft(C,{"append.append-task":w("dcr:Event","od-no-font-icon-object",r("Append new DCR Event"),{attrs:{included:!0,pending:!1,executed:!1,enabled:!1}})})}function w(C,A,B,P){typeof B!="string"&&(P=B,B=r("Append {type}",{type:C.replace(/^bpmn:/,"")}));function T(z,I){var F=s.createShape(ft({type:C},P));f.start(z,F,{source:I})}var j=l?function(z,I){var F=s.createShape(ft({type:C},P));l.append(I,F)}:T;return{group:"model",className:A,title:B,action:{dragstart:T,click:j}}}};const G6={__depends__:[lM,k6,po,j0,lp],__init__:["contextPadProvider"],contextPadProvider:["type",$0]};function wl(){}wl.prototype.get=function(){return this._data};wl.prototype.set=function(t){this._data=t};wl.prototype.clear=function(){var t=this._data;return delete this._data,t};wl.prototype.isEmpty=function(){return!this._data};const V6={clipboard:["type",wl]};function z0(t){var e=this;this._lastMoveEvent=null;function n(r){e._lastMoveEvent=r}t.on("canvas.init",function(r){var a=e._svg=r.svg;a.addEventListener("mousemove",n)}),t.on("canvas.destroy",function(){e._lastMouseEvent=null,e._svg.removeEventListener("mousemove",n)})}z0.$inject=["eventBus"];z0.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||Y6(0,0)};function Y6(t,e){var n=document.createEvent("MouseEvent"),r=t,a=e,s=t,u=e;return n.initMouseEvent&&n.initMouseEvent("mousemove",!0,!0,window,0,r,a,s,u,!1,!1,!1,!1,0,null),n}const Tl={__init__:["mouse"],mouse:["type",z0]};function si(t,e,n,r,a,s,u,l){this._canvas=t,this._create=e,this._clipboard=n,this._elementFactory=r,this._eventBus=a,this._modeling=s,this._mouse=u,this._rules=l,a.on("copyPaste.copyElement",function(f){var h=f.descriptor,p=f.element,g=f.elements;h.priority=1,h.id=p.id;var v=Ie(g,function(_){return _===p.parent});v&&(h.parent=p.parent.id),K6(p)&&(h.priority=2,h.host=p.host.id),Ue(p)&&(h.priority=3,h.source=p.source.id,h.target=p.target.id,h.waypoints=Z6(p)),vr(p)&&(h.priority=4,h.labelTarget=p.labelTarget.id),st(["x","y","width","height"],function(_){Kt(p[_])&&(h[_]=p[_])}),h.hidden=p.hidden,h.collapsed=p.collapsed}),a.on("copyPaste.pasteElements",function(f){var h=f.hints;ft(h,{createElementsBehavior:!1})})}si.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"];si.prototype.copy=function(t){var e,n;return ne(t)||(t=t?[t]:[]),e=this._eventBus.fire("copyPaste.canCopyElements",{elements:t}),e===!1?n={}:n=this.createTree(ne(e)?e:t),this._clipboard.set(n),this._eventBus.fire("copyPaste.elementsCopied",{elements:t,tree:n}),n};si.prototype.paste=function(t){var e=this._clipboard.get();if(!this._clipboard.isEmpty()){var n=t&&t.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:n});var r=this._createElements(e);if(t&&t.element&&t.point)return this._paste(r,t.element,t.point,n);this._create.start(this._mouse.getLastMoveEvent(),r,{hints:n||{}})}};si.prototype._paste=function(t,e,n,r){st(t,function(s){Kt(s.x)||(s.x=0),Kt(s.y)||(s.y=0)});var a=bn(t);return st(t,function(s){Ue(s)&&(s.waypoints=An(s.waypoints,function(u){return{x:u.x-a.x-a.width/2,y:u.y-a.y-a.height/2}})),ft(s,{x:s.x-a.x-a.width/2,y:s.y-a.y-a.height/2})}),this._modeling.createElements(t,n,e,ft({},r))};si.prototype._createElements=function(t){var e=this,n=this._eventBus,r={},a=[];return st(t,function(s,u){s=no(s,"priority"),st(s,function(l){var f=ft({},ao(l,["priority"]));r[l.parent]?f.parent=r[l.parent]:delete f.parent,n.fire("copyPaste.pasteElement",{cache:r,descriptor:f});var h;if(Ue(f)){f.source=r[l.source],f.target=r[l.target],h=r[l.id]=e.createConnection(f),a.push(h);return}if(vr(f)){f.labelTarget=r[f.labelTarget],h=r[l.id]=e.createLabel(f),a.push(h);return}f.host&&(f.host=r[f.host]),h=r[l.id]=e.createShape(f),a.push(h)})}),a};si.prototype.createConnection=function(t){var e=this._elementFactory.createConnection(ao(t,["id"]));return e};si.prototype.createLabel=function(t){var e=this._elementFactory.createLabel(ao(t,["id"]));return e};si.prototype.createShape=function(t){var e=this._elementFactory.createShape(ao(t,["id"]));return e};si.prototype.hasRelations=function(t,e){var n,r,a;return!(Ue(t)&&(r=Ie(e,Jo({id:t.source.id})),a=Ie(e,Jo({id:t.target.id})),!r||!a)||vr(t)&&(n=Ie(e,Jo({id:t.labelTarget.id})),!n))};si.prototype.createTree=function(t){var e=this._rules,n=this,r={},a=[],s=CS(t);function u(h,p){return e.allowed("element.copy",{element:h,elements:p})}function l(h,p){var g=Ie(a,function(v){return h===v.element});if(!g){a.push({element:h,depth:p});return}g.depth<p&&(a=f(g,a),a.push({element:g.element,depth:p}))}function f(h,p){var g=p.indexOf(h);return g!==-1&&p.splice(g,1),p}return Kh(s,function(h,p,g){if(vr(h))return;st(h.labels,function(E){l(E,g)});function v(E){E&&E.length&&st(E,function(M){st(M.labels,function(O){l(O,g)}),l(M,g)})}st([h.attachers,h.incoming,h.outgoing],v),l(h,g);var _=[];return h.children&&(_=h.children.slice()),n._eventBus.fire("copyPaste.createTree",{element:h,children:_}),_}),t=An(a,function(h){return h.element}),a=An(a,function(h){return h.descriptor={},n._eventBus.fire("copyPaste.copyElement",{descriptor:h.descriptor,element:h.element,elements:t}),h}),a=no(a,function(h){return h.descriptor.priority}),t=An(a,function(h){return h.element}),st(a,function(h){var p=h.depth;if(!n.hasRelations(h.element,t)){vT(h.element,t);return}if(!u(h.element,t)){vT(h.element,t);return}r[p]||(r[p]=[]),r[p].push(h.descriptor)}),r};function K6(t){return!!t.host}function Z6(t){return An(t.waypoints,function(e){return e=mT(e),e.original&&(e.original=mT(e.original)),e})}function mT(t){return ft({},t)}function vT(t,e){var n=e.indexOf(t);return n===-1?e:e.splice(n,1)}const W6={__depends__:[V6,lp,Tl,Ai],__init__:["copyPaste"],copyPaste:["type",si]};function wm(t,e,n){ne(n)||(n=[n]),st(n,function(r){is(t[r])||(e[r]=t[r])})}function Q6(t,e){ne(e)||(e=[e]),st(e,function(n){t[n]&&delete t[n]})}var J6=750;function pM(t,e,n){e.on("copyPaste.copyElement",J6,function(s){var u=s.descriptor,l=s.element,f=u.oldBusinessObject=gr(l);if(u.type=l.type,wm(f,u,"name"),u.di={},wm(f.di,u.di,["fill","stroke"]),_T(u))return u});var r;function a(s,u){var l=gr(s);s.default&&(r[s.default]={element:l,property:"default"}),r=ao(r,$r(r,function(f,h,p){var g=h.element,v=h.property;return p===s.id&&(g[v]=l,f.push(s.id)),f},[]))}e.on("copyPaste.pasteElements",function(){r={}}),e.on("copyPaste.pasteElement",function(s){var u=s.cache,l=s.descriptor,f=l.oldBusinessObject,h;if(_T(l)){l.businessObject=gr(u[l.labelTarget]);return}h=t.create(f.$type),l.businessObject=n.copyElement(f,h),a(l),wm(l,h,["color","name"]),Q6(l,"oldBusinessObject")})}pM.$inject=["dcrFactory","eventBus","moddleCopy"];function _T(t){return!!t.labelTarget}var tP=["boardElements"];function fp(t,e,n){this._dcrFactory=e,this._eventBus=t,this._moddle=n,t.on("moddleCopy.canCopyProperties",function(r){var a=r.propertyNames;if(!(!a||!a.length))return no(a,function(s){return s==="extensionElements"})}),t.on("moddleCopy.canCopyProperty",function(r){var a=r.parent,s=On(a)&&a.$descriptor,u=r.propertyName;if(u&&tP.indexOf(u)!==-1||u&&s&&!Ie(s.properties,Jo({name:u})))return!1})}fp.$inject=["eventBus","dcrFactory","moddle"];fp.prototype.copyElement=function(t,e,n){var r=this;n&&!ne(n)&&(n=[n]),n=n||dv(t.$descriptor);var a=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:n,sourceElement:t,targetElement:e});return a===!1||(ne(a)&&(n=a),st(n,function(s){var u;dl(t,s)&&(u=t.get(s));var l=r.copyProperty(u,e,s),f=r._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:e,property:l,propertyName:s});f!==!1&&xn(l)&&e.set(s,l)})),e};fp.prototype.copyProperty=function(t,e,n){var r=this,a=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:e,property:t,propertyName:n});if(a!==!1){if(a)return On(a)&&a.$type&&!a.$parent&&(a.$parent=e),a;var s=this._moddle.getPropertyDescriptor(e,n);if(!(s.isId||s.isReference))return ne(t)?$r(t,function(u,l){return a=r.copyProperty(l,e,n),a?(a.$parent=e,u.concat(a)):u},[]):On(t)&&t.$type?this._moddle.getElementDescriptor(t).isGeneric?void 0:(a=r._dcrFactory.create(t.$type),a.$parent=e,a=r.copyElement(t,a),a):t}};function dv(t,e){return $r(t.properties,function(n,r){return e&&r.default?n:n.concat(r.name)},[])}const gM={__depends__:[W6],__init__:["odCopyPaste","moddleCopy"],odCopyPaste:["type",pM],moddleCopy:["type",fp]};var yM="is not a registered action",eP="is already registered";function qr(t,e){this._actions={};var n=this;t.on("diagram.init",function(){n._registerDefaultActions(e),t.fire("editorActions.init",{editorActions:n})})}qr.$inject=["eventBus","injector"];qr.prototype._registerDefaultActions=function(t){var e=t.get("commandStack",!1),n=t.get("modeling",!1),r=t.get("selection",!1),a=t.get("zoomScroll",!1),s=t.get("copyPaste",!1),u=t.get("canvas",!1),l=t.get("rules",!1),f=t.get("keyboardMove",!1),h=t.get("keyboardMoveSelection",!1);e&&(this.register("undo",function(){e.undo()}),this.register("redo",function(){e.redo()})),s&&r&&this.register("copy",function(){var p=r.get();if(p.length)return s.copy(p)}),s&&this.register("paste",function(){s.paste()}),a&&this.register("stepZoom",function(p){a.stepZoom(p.value)}),u&&this.register("zoom",function(p){u.zoom(p.value)}),n&&r&&l&&this.register("removeSelection",function(){var p=r.get();if(p.length){var g=l.allowed("elements.delete",{elements:p}),v;g!==!1&&(ne(g)?v=g:v=p,v.length&&n.removeElements(v.slice()))}}),f&&this.register("moveCanvas",function(p){f.moveCanvas(p)}),h&&this.register("moveSelection",function(p){h.moveSelection(p.direction,p.accelerated)})};qr.prototype.trigger=function(t,e){if(!this._actions[t])throw U0(t,yM);return this._actions[t](e)};qr.prototype.register=function(t,e){var n=this;if(typeof t=="string")return this._registerAction(t,e);st(t,function(r,a){n._registerAction(a,r)})};qr.prototype._registerAction=function(t,e){if(this.isRegistered(t))throw U0(t,eP);this._actions[t]=e};qr.prototype.unregister=function(t){if(!this.isRegistered(t))throw U0(t,yM);this._actions[t]=void 0};qr.prototype.getActions=function(){return Object.keys(this._actions)};qr.prototype.isRegistered=function(t){return!!this._actions[t]};function U0(t,e){return new Error(t+" "+e)}const nP={__init__:["editorActions"],editorActions:["type",qr]};function dp(t){t.invoke(qr,this)}Te(dp,qr);dp.$inject=["injector"];dp.prototype._registerDefaultActions=function(t){qr.prototype._registerDefaultActions.call(this,t);var e=t.get("canvas",!1),n=t.get("elementRegistry",!1),r=t.get("selection",!1),a=t.get("spaceTool",!1),s=t.get("lassoTool",!1),u=t.get("handTool",!1),l=t.get("globalConnect",!1),f=t.get("distributeElements",!1),h=t.get("alignElements",!1),p=t.get("directEditing",!1),g=t.get("searchPad",!1),v=t.get("modeling",!1);e&&n&&r&&this._registerAction("selectElements",function(){var _=e.getRootElement(),E=n.filter(function(M){return M!==_});return r.select(E),E}),a&&this._registerAction("spaceTool",function(){a.toggle()}),s&&this._registerAction("lassoTool",function(){s.toggle()}),u&&this._registerAction("handTool",function(){u.toggle()}),l&&this._registerAction("globalConnectTool",function(){l.toggle()}),r&&f&&this._registerAction("distributeElements",function(_){var E=r.get(),M=_.type;E.length&&f.trigger(E,M)}),r&&h&&this._registerAction("alignElements",function(_){var E=r.get(),M=_.type;E.length&&h.trigger(E,M)}),r&&p&&this._registerAction("directEditing",function(){var _=r.get();_.length&&p.activate(_[0])}),g&&this._registerAction("find",function(){g.toggle()}),e&&v&&this._registerAction("moveToOrigin",function(){var _=e.getRootElement(),E,M=n.filter(function(O){return O!==_});E=bn(M),v.moveElements(M,{x:-E.x,y:-E.y},_)})};const rP={__depends__:[nP],editorActions:["type",dp]};function mM(t){t.on(["create.init","shape.move.init"],function(e){var n=e.context;n.gridSnappingContext||(n.gridSnappingContext={}),n.gridSnappingContext.snapLocation="top-left"})}mM.$inject=["eventBus"];var oh=10;function Tm(t,e,n){return n||(n="round"),Math[n](t/e)*e}var iP=1200,oP=800;function pa(t,e,n){var r=!n||n.active!==!1;this._eventBus=e;var a=this;e.on("diagram.init",oP,function(){a.setActive(r)}),e.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],iP,function(s){var u=s.originalEvent;if(!(!a.active||u&&yr(u))){var l=s.context,f=l.gridSnappingContext;f||(f=l.gridSnappingContext={}),["x","y"].forEach(function(h){var p={},g=sP(s,h,t);g&&(p.offset=g);var v=aP(s,h);v&&ft(p,v),il(s,h)||a.snapEvent(s,h,p)})}})}pa.prototype.snapEvent=function(t,e,n){var r=this.snapValue(t[e],n);hr(t,e,r)};pa.prototype.getGridSpacing=function(){return oh};pa.prototype.snapValue=function(t,e){var n=0;e&&e.offset&&(n=e.offset),t+=n,t=Tm(t,oh);var r,a;return e&&e.min&&(r=e.min,Kt(r)&&(r=Tm(r+n,oh,"ceil"),t=Math.max(t,r))),e&&e.max&&(a=e.max,Kt(a)&&(a=Tm(a+n,oh,"floor"),t=Math.min(t,a))),t-=n,t};pa.prototype.isActive=function(){return this.active};pa.prototype.setActive=function(t){this.active=t,this._eventBus.fire("gridSnapping.toggle",{active:t})};pa.prototype.toggleActive=function(){this.setActive(!this.active)};pa.$inject=["elementRegistry","eventBus","config.gridSnapping"];function aP(t,e){var n=t.context,r=n.createConstraints,a=n.resizeConstraints||{},s=n.gridSnappingContext,u=s.snapConstraints;if(u&&u[e])return u[e];u||(u=s.snapConstraints={}),u[e]||(u[e]={});var l=n.direction;r&&(ah(e)?(u.x.min=r.left,u.x.max=r.right):(u.y.min=r.top,u.y.max=r.bottom));var f=a.min,h=a.max;return f&&(ah(e)?bT(l)?u.x.max=f.left:u.x.min=f.right:xT(l)?u.y.max=f.top:u.y.min=f.bottom),h&&(ah(e)?bT(l)?u.x.min=h.left:u.x.max=h.right:xT(l)?u.y.min=h.top:u.y.max=h.bottom),u[e]}function sP(t,e,n){var r=t.context,a=t.shape,s=r.gridSnappingContext,u=s.snapLocation,l=s.snapOffset;return l&&Kt(l[e])||(l||(l=s.snapOffset={}),Kt(l[e])||(l[e]=0),!a)||(n.get(a.id)||(ah(e)?l[e]+=a[e]+a.width/2:l[e]+=a[e]+a.height/2),!u)||(e==="x"?/left/.test(u)?l[e]-=a.width/2:/right/.test(u)&&(l[e]+=a.width/2):/top/.test(u)?l[e]-=a.height/2:/bottom/.test(u)&&(l[e]+=a.height/2)),l[e]}function ah(t){return t==="x"}function xT(t){return t.indexOf("n")!==-1}function bT(t){return t.indexOf("w")!==-1}var uP=1e3;function ve(t){this._eventBus=t}ve.$inject=["eventBus"];function cP(t,e){return function(n){return t.call(e||null,n.context,n.command,n)}}ve.prototype.on=function(t,e,n,r,a,s){if((En(e)||Kt(e))&&(s=a,a=r,r=n,n=e,e=null),En(n)&&(s=a,a=r,r=n,n=uP),On(a)&&(s=a,a=!1),!En(r))throw new Error("handlerFn must be a function");ne(t)||(t=[t]);var u=this._eventBus;st(t,function(l){var f=["commandStack",l,e].filter(function(h){return h}).join(".");u.on(f,n,a?cP(r,s):r,s)})};ve.prototype.canExecute=mo("canExecute");ve.prototype.preExecute=mo("preExecute");ve.prototype.preExecuted=mo("preExecuted");ve.prototype.execute=mo("execute");ve.prototype.executed=mo("executed");ve.prototype.postExecute=mo("postExecute");ve.prototype.postExecuted=mo("postExecuted");ve.prototype.revert=mo("revert");ve.prototype.reverted=mo("reverted");function mo(t){return function(n,r,a,s,u){(En(n)||Kt(n))&&(u=s,s=a,a=r,r=n,n=null),this.on(n,t,r,a,s,u)}}function ls(t,e){ve.call(this,t),this._gridSnapping=e;var n=this;this.preExecute("shape.resize",function(r){var a=r.context,s=a.hints||{},u=s.autoResize;if(u){var l=a.shape,f=a.newBounds;jr(u)?a.newBounds=n.snapComplex(f,u):a.newBounds=n.snapSimple(l,f)}})}ls.$inject=["eventBus","gridSnapping","modeling"];Te(ls,ve);ls.prototype.snapSimple=function(t,e){var n=this._gridSnapping;return e.width=n.snapValue(e.width,{min:e.width}),e.height=n.snapValue(e.height,{min:e.height}),e.x=t.x+t.width/2-e.width/2,e.y=t.y+t.height/2-e.height/2,e};ls.prototype.snapComplex=function(t,e){return/w|e/.test(e)&&(t=this.snapHorizontally(t,e)),/n|s/.test(e)&&(t=this.snapVertically(t,e)),t};ls.prototype.snapHorizontally=function(t,e){var n=this._gridSnapping,r=/w/.test(e),a=/e/.test(e),s={};return s.width=n.snapValue(t.width,{min:t.width}),a&&(r?(s.x=n.snapValue(t.x,{max:t.x}),s.width+=n.snapValue(t.x-s.x,{min:t.x-s.x})):t.x=t.x+t.width-s.width),ft(t,s),t};ls.prototype.snapVertically=function(t,e){var n=this._gridSnapping,r=/n/.test(e),a=/s/.test(e),s={};return s.height=n.snapValue(t.height,{min:t.height}),r&&(a?(s.y=n.snapValue(t.y,{max:t.y}),s.height+=n.snapValue(t.y-s.y,{min:t.y-s.y})):t.y=t.y+t.height-s.height),ft(t,s),t};var lP=2e3;function vM(t,e){t.on(["spaceTool.move","spaceTool.end"],lP,function(n){var r=n.context;if(r.initialized){var a=r.axis,s;a==="x"?(s=e.snapValue(n.dx),n.x=n.x+s-n.dx,n.dx=s):(s=e.snapValue(n.dy),n.y=n.y+s-n.dy,n.dy=s)}})}vM.$inject=["eventBus","gridSnapping"];const fP={__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",ls],gridSnappingSpaceToolBehavior:["type",vM]},dP={__depends__:[fP],__init__:["gridSnapping"],gridSnapping:["type",pa]};var hP=10,_M=50,pP=250;function gP(t,e,n,r){for(var a;a=mP(t,n,e);)n=r(e,n,a);return n}function yP(t){return function(e,n,r){var a={x:n.x,y:n.y};return["x","y"].forEach(function(s){var u=t[s];if(u){var l=s==="x"?"width":"height",f=u.margin,h=u.minDistance;f<0?a[s]=Math.min(r[s]+f-e[l]/2,n[s]-h+f):a[s]=Math.max(r[s]+r[l]+f+e[l]/2,n[s]+h+f)}}),a}}function mP(t,e,n){var r={x:e.x-n.width/2,y:e.y-n.height/2,width:n.width,height:n.height},a=_P(t);return Ie(a,function(s){if(s===n)return!1;var u=zr(s,r,hP);return u==="intersect"})}function vP(t,e){e||(e={});function n(E){return E.source===t?1:-1}var r=e.defaultDistance||_M,a=e.direction||"e",s=e.filter,u=e.getWeight||n,l=e.maxDistance||pP,f=e.reference||"start";s||(s=EP);function h(E,M){return a==="n"?f==="start"?ue(E).top-ue(M).bottom:f==="center"?ue(E).top-me(M).y:ue(E).top-ue(M).top:a==="w"?f==="start"?ue(E).left-ue(M).right:f==="center"?ue(E).left-me(M).x:ue(E).left-ue(M).left:a==="s"?f==="start"?ue(M).top-ue(E).bottom:f==="center"?me(M).y-ue(E).bottom:ue(M).bottom-ue(E).bottom:f==="start"?ue(M).left-ue(E).right:f==="center"?me(M).x-ue(E).right:ue(M).right-ue(E).right}var p=t.incoming.filter(s).map(function(E){var M=u(E),O=M<0?h(E.source,t):h(t,E.source);return{id:E.source.id,distance:O,weight:M}}),g=t.outgoing.filter(s).map(function(E){var M=u(E),O=M>0?h(t,E.target):h(E.target,t);return{id:E.target.id,distance:O,weight:M}}),v=p.concat(g).reduce(function(E,M){return E[M.id+"__weight_"+M.weight]=M,E},{}),_=$r(v,function(E,M){var O=M.distance,S=M.weight;return O<0||O>l||(E[String(O)]||(E[String(O)]=0),E[String(O)]+=1*S,(!E.distance||E[E.distance]<E[String(O)])&&(E.distance=O)),E},{});return _.distance||r}function _P(t){var e=Sm(t);return t.host&&(e=e.concat(Sm(t.host))),t.attachers&&(e=e.concat(t.attachers.reduce(function(n,r){return n.concat(Sm(r))},[]))),e}function Sm(t){return bP(t).concat(xP(t))}function xP(t){return t.incoming.map(function(e){return e.source})}function bP(t){return t.outgoing.map(function(e){return e.target})}function EP(){return!0}function xM(t,e){if(Jt(e,"dcr:Event"))return wP(t,e)}function wP(t,e){var n=ue(t),r=me(t),a=vP(t,{filter:function(p){return Jt(p,"dcr:Relation")}}),s=30,u=80,l="left",f={x:n.right+a+e.width/2,y:r.y+TP(l,u)},h={y:{margin:s,minDistance:u}};return gP(t,e,f,yP(h))}function TP(t,e){return t.indexOf("top")!=-1?-1*e:t.indexOf("bottom")!=-1?e:0}var SP=2e3;function bM(t,e){t.on("autoPlace",SP,function(n){var r=n.source,a=me(r),s=n.shape,u=xM(r,s);return["x","y"].forEach(function(l){var f={};u[l]!==a[l]&&(u[l]>a[l]?f.min=u[l]:f.max=u[l],u[l]=e.snapValue(u[l],f))}),u})}bM.$inject=["eventBus","gridSnapping"];var CP=3e3;function hp(t,e,n){ve.call(this,t),this._gridSnapping=e;var r=this;this.postExecuted(["connection.create","connection.layout"],CP,function(a){var s=a.context,u=s.connection,l=s.hints||{},f=u.waypoints;l.connectionStart||l.connectionEnd||l.createElementsBehavior===!1||MP(f)&&n.updateWaypoints(u,r.snapMiddleSegments(f))})}hp.$inject=["eventBus","gridSnapping","modeling"];Te(hp,ve);hp.prototype.snapMiddleSegments=function(t){var e=this._gridSnapping,n;t=t.slice();for(var r=1;r<t.length-2;r++)n=RP(e,t[r],t[r+1]),t[r]=n[0],t[r+1]=n[1];return t};function MP(t){return t.length>3}function AP(t){return t==="h"}function OP(t){return t==="v"}function RP(t,e,n){var r=Ji(e,n),a={};return AP(r)&&(a.y=t.snapValue(e.y)),OP(r)&&(a.x=t.snapValue(e.x)),("x"in a||"y"in a)&&(e=ft({},e,a),n=ft({},n,a)),[e,n]}const NP={__init__:["gridSnappingAutoPlaceBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",bM],gridSnappingLayoutConnectionBehavior:["type",hp]},DP={__depends__:[dP,NP],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",mM]},LP={__depends__:[N0],__init__:["keyboardBindings"],keyboardBindings:["type",rp]};var PP=100;function EM(t,e,n){t.on("autoPlace",PP,function(r){var a=r.shape,s=r.source;return BP(s,a)}),t.on("autoPlace.end",function(r){n.scrollToElement(r.shape)}),this.append=function(r,a,s){t.fire("autoPlace.start",{source:r,shape:a});var u=t.fire("autoPlace",{source:r,shape:a}),l=e.appendShape(r,a,u,r.parent,s);return t.fire("autoPlace.end",{source:r,shape:l}),l}}EM.$inject=["eventBus","modeling","canvas"];function BP(t,e,n){n||(n={});var r=n.defaultDistance||_M,a=me(t),s=ue(t);return{x:s.right+r+e.width/2,y:a.y}}function wM(t,e){t.on("autoPlace.end",500,function(n){e.select(n.shape)})}wM.$inject=["eventBus","selection"];const kP={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",EM],autoPlaceSelectionBehavior:["type",wM]};function TM(t){t.on("autoPlace",function(e){var n=e.shape,r=e.source;return xM(r,n)})}TM.$inject=["eventBus"];const IP={__depends__:[kP],__init__:["odAutoPlace"],odAutoPlace:["type",TM]};var jP={moveSpeed:1,moveSpeedAccelerated:10},$P=1500,ET="left",wT="up",TT="right",ST="down",zP={ArrowLeft:ET,Left:ET,ArrowUp:wT,Up:wT,ArrowRight:TT,Right:TT,ArrowDown:ST,Down:ST},UP={left:function(t){return{x:-t,y:0}},up:function(t){return{x:0,y:-t}},right:function(t){return{x:t,y:0}},down:function(t){return{x:0,y:t}}};function SM(t,e,n,r,a){var s=this;this._config=ft({},jP,t||{}),e.addListener($P,function(u){var l=u.keyEvent,f=zP[l.key];if(f&&!e.isCmd(l)){var h=e.isShift(l);return s.moveSelection(f,h),!0}}),this.moveSelection=function(u,l){var f=a.get();if(f.length){var h=this._config[l?"moveSpeedAccelerated":"moveSpeed"],p=UP[u](h),g=r.allowed("elements.move",{shapes:f});g&&n.moveElements(f,p)}}}SM.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];const HP={__depends__:[N0,po],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",SM]};function CM(t,e,n,r){t.on("element.changed",function(a){var s=a.element;(s.parent||s===e.getRootElement())&&(a.gfx=n.getGraphics(s)),a.gfx&&t.fire(AS(s)+".changed",a)}),t.on("elements.changed",function(a){var s=a.elements;s.forEach(function(u){t.fire("element.changed",{element:u})}),r.updateContainments(s)}),t.on("shape.changed",function(a){r.update("shape",a.element,a.gfx)}),t.on("connection.changed",function(a){r.update("connection",a.element,a.gfx)})}CM.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];const MM={__init__:["changeSupport"],changeSupport:["type",CM]};var Nh=Math.max,Dh=Math.min,FP=20;function XP(t,e,n){var r=n.x,a=n.y,s={x:t.x,y:t.y,width:t.width,height:t.height};return e.indexOf("n")!==-1?(s.y=t.y+a,s.height=t.height-a):e.indexOf("s")!==-1&&(s.height=t.height+a),e.indexOf("e")!==-1?s.width=t.width+r:e.indexOf("w")!==-1&&(s.x=t.x+r,s.width=t.width-r),s}function fd(t,e,n){var r=e[t],a=n.min&&n.min[t],s=n.max&&n.max[t];return Kt(a)&&(r=(/top|left/.test(t)?Dh:Nh)(r,a)),Kt(s)&&(r=(/top|left/.test(t)?Nh:Dh)(r,s)),r}function qP(t,e){if(!e)return t;var n=ue(t);return NS({top:fd("top",n,e),right:fd("right",n,e),bottom:fd("bottom",n,e),left:fd("left",n,e)})}function GP(t,e,n,r){var a=ue(e),s={top:/n/.test(t)?a.bottom-n.height:a.top,left:/w/.test(t)?a.right-n.width:a.left,bottom:/s/.test(t)?a.top+n.height:a.bottom,right:/e/.test(t)?a.left+n.width:a.right},u=r?ue(r):s,l={top:Dh(s.top,u.top),left:Dh(s.left,u.left),bottom:Nh(s.bottom,u.bottom),right:Nh(s.right,u.right)};return NS(l)}function Hc(t,e){return typeof t<"u"?t:FP}function VP(t,e){var n,r,a,s;return typeof e=="object"?(n=Hc(e.left),r=Hc(e.right),a=Hc(e.top),s=Hc(e.bottom)):n=r=a=s=Hc(e),{x:t.x-n,y:t.y-a,width:t.width+n+r,height:t.height+a+s}}function YP(t){return!(t.waypoints||t.type==="label")}function KP(t,e){var n;if(t.length===void 0?n=sn(t.children,YP):n=t,n.length)return VP(bn(n),e)}var CT=10;function Sl(t,e,n,r){this._dragging=r,this._rules=e;var a=this;function s(f,h){var p=f.shape,g=f.direction,v=f.resizeConstraints,_;f.delta=h,_=XP(p,g,h),f.newBounds=qP(_,v),f.canExecute=a.canResize(f)}function u(f){var h=f.resizeConstraints,p=f.minBounds;h===void 0&&(p===void 0&&(p=a.computeMinResizeBox(f)),f.resizeConstraints={min:ue(p)})}function l(f){var h=f.shape,p=f.canExecute,g=f.newBounds;if(p){if(g=qD(g),!ZP(h,g))return;n.resizeShape(h,g)}}t.on("resize.start",function(f){u(f.context)}),t.on("resize.move",function(f){var h={x:f.dx,y:f.dy};s(f.context,h)}),t.on("resize.end",function(f){l(f.context)})}Sl.prototype.canResize=function(t){var e=this._rules,n=ro(t,["newBounds","shape","delta","direction"]);return e.allowed("shape.resize",n)};Sl.prototype.activate=function(t,e,n){var r=this._dragging,a,s;if(typeof n=="string"&&(n={direction:n}),a=ft({shape:e},n),s=a.direction,!s)throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");r.init(t,AM(e,s),"resize",{autoActivate:!0,cursor:WP(s),data:{shape:e,context:a}})};Sl.prototype.computeMinResizeBox=function(t){var e=t.shape,n=t.direction,r,a;return r=t.minDimensions||{width:CT,height:CT},a=KP(e,t.childrenBoxPadding),GP(n,e,r,a)};Sl.$inject=["eventBus","rules","modeling","dragging"];function ZP(t,e){return t.x!==e.x||t.y!==e.y||t.width!==e.width||t.height!==e.height}function AM(t,e){var n=me(t),r=ue(t),a={x:n.x,y:n.y};return e.indexOf("n")!==-1?a.y=r.top:e.indexOf("s")!==-1&&(a.y=r.bottom),e.indexOf("e")!==-1?a.x=r.right:e.indexOf("w")!==-1&&(a.x=r.left),a}function WP(t){var e="resize-";return t==="n"||t==="s"?e+"ns":t==="e"||t==="w"?e+"ew":t==="nw"||t==="se"?e+"nwse":e+"nesw"}var MT="djs-resizing",AT="resize-not-ok",QP=500;function OM(t,e,n){function r(s){var u=s.shape,l=s.newBounds,f=s.frame;f||(f=s.frame=n.addFrame(u,e.getActiveLayer()),e.addMarker(u,MT)),l.width>5&&yt(f,{x:l.x,width:l.width}),l.height>5&&yt(f,{y:l.y,height:l.height}),s.canExecute?le(f).remove(AT):le(f).add(AT)}function a(s){var u=s.shape,l=s.frame;l&&Qe(s.frame),e.removeMarker(u,MT)}t.on("resize.move",QP,function(s){r(s.context)}),t.on("resize.cleanup",function(s){a(s.context)})}OM.$inject=["eventBus","canvas","previewSupport"];var OT=-6,RT=8,NT=20,Fc="djs-resizer",JP=["n","w","s","e","nw","ne","se","sw"];function ga(t,e,n,r){this._resize=r,this._canvas=e;var a=this;t.on("selection.changed",function(s){var u=s.newSelection;a.removeResizers(),u.length===1&&st(u,Vn(a.addResizer,a))}),t.on("shape.changed",function(s){var u=s.element;n.isSelected(u)&&(a.removeResizers(),a.addResizer(u))})}ga.prototype.makeDraggable=function(t,e,n){var r=this._resize;function a(s){fa(s)&&r.activate(s,t,n)}Yt.bind(e,"mousedown",a),Yt.bind(e,"touchstart",a)};ga.prototype._createResizer=function(t,e,n,r){var a=this._getResizersParent(),s=tB(r),u=Nt("g");le(u).add(Fc),le(u).add(Fc+"-"+t.id),le(u).add(Fc+"-"+r),Wt(a,u);var l=Nt("rect");yt(l,{x:-8/2+s.x,y:-8/2+s.y,width:RT,height:RT}),le(l).add(Fc+"-visual"),Wt(u,l);var f=Nt("rect");return yt(f,{x:-20/2+s.x,y:-20/2+s.y,width:NT,height:NT}),le(f).add(Fc+"-hit"),Wt(u,f),f3(u,e,n),u};ga.prototype.createResizer=function(t,e){var n=AM(t,e),r=this._createResizer(t,n.x,n.y,e);this.makeDraggable(t,r,e)};ga.prototype.addResizer=function(t){var e=this;Ue(t)||!this._resize.canResize({shape:t})||st(JP,function(n){e.createResizer(t,n)})};ga.prototype.removeResizers=function(){var t=this._getResizersParent();Uv(t)};ga.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")};ga.$inject=["eventBus","canvas","selection","resize"];function tB(t){var e={x:0,y:0};return t.indexOf("e")!==-1?e.x=6:t.indexOf("w")!==-1&&(e.x=OT),t.indexOf("s")!==-1?e.y=6:t.indexOf("n")!==-1&&(e.y=OT),e}const RM={__depends__:[Ai,go,El],__init__:["resize","resizePreview","resizeHandles"],resize:["type",Sl],resizePreview:["type",OM],resizeHandles:["type",ga]};function Cl(t,e,n,r,a,s,u,l){this._dcrFactory=e,this._canvas=n,this._modeling=a,this._textRenderer=u,r.registerProvider(this);function f(p){var g=n.zoom(),v=(p.element.y+30-n._cachedViewbox.y)*g,_=p.originalEvent.offsetY;_>=v?p.element.businessObject.labelAttribute="description":p.element.businessObject.labelAttribute="role"}t.on("element.dblclick",function(p){hn(p.element,["dcr:SubProcess"])?p.element.businessObject.labelAttribute="description":f(p),h(p.element,!0)}),t.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open"],function(p){r.isActive()&&r.complete()}),t.on(["commandStack.changed"],function(p){r.isActive()&&r.cancel()}),t.on("directEditing.activate",function(p){s.removeResizers()}),t.on("create.end",500,function(p){var g=p.context,v=g.shape,_=p.context.canExecute,E=p.isTouch;E||_&&(g.hints&&g.hints.createElementsBehavior===!1||h(v,!1))}),t.on("autoPlace.end",500,function(p){h(p.shape,!1)});function h(p,g){l.canHaveLabel(p)&&(g||hn(p,["dcr:TextBox","dcr:Event"]))&&r.activate(p)}}Cl.$inject=["eventBus","dcrFactory","canvas","directEditing","modeling","resizeHandles","textRenderer","dcrRules"];Cl.prototype.activate=function(t){var e=du(t);if(e!==void 0){var n={text:e},r=this.getEditingBBox(t);ft(n,r);var a={};return hn(t,["dcr:TextBox"])&&ft(a,{centerVertically:!0}),ft(n,{options:a}),n}};Cl.prototype.getEditingBBox=function(t){var e=this._canvas,n=t.label||t,r=e.getAbsoluteBBox(n),a={x:r.x+r.width/2,y:r.y+r.height/2},s={x:r.x,y:r.y},u=e.zoom(),l=this._textRenderer.getDefaultStyle(),f=this._textRenderer.getExternalStyle(),h=f.fontSize*u,p=f.lineHeight,g=l.fontSize*u,v=l.lineHeight,_={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};hn(t,["dcr:Nesting","dcr:Event","dcr:SubProcess"])&&(ft(s,{width:r.width,height:r.height}),ft(_,{fontSize:g+"px",lineHeight:v,paddingTop:5*u+"px",paddingBottom:5*u+"px",paddingLeft:5*u+"px",paddingRight:5*u+"px"}),hn(t,["dcr:Event","dcr:Nesting"])&&(t.businessObject.labelAttribute==="description"?ft(s,{y:r.y+30*u,height:r.height-30*u}):ft(s,{height:30*u})));var E=90*u,M=7*u,O=4*u;return n.labelTarget&&(ft(s,{width:E,height:r.height+M+O,x:a.x-E/2,y:r.y-M}),ft(_,{fontSize:h+"px",lineHeight:p,paddingTop:M+"px",paddingBottom:O+"px"})),{bounds:s,style:_}};Cl.prototype.update=function(t,e){eB(e)&&(e=null),this._modeling.updateLabel(t,e)};function eB(t){return!t||!t.trim()}var DT="djs-element-hidden";function NM(t,e){var n;t.on("directEditing.activate",function(r){var a=r.active;n=a.element.label||a.element,n.labelTarget&&e.addMarker(n,DT)}),t.on(["directEditing.complete","directEditing.cancel"],function(r){var a=r.active;a&&e.removeMarker(a.element.label||a.element,DT),n=void 0})}NM.$inject=["eventBus","canvas"];const nB={__depends__:[MM,RM,lM],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",Cl],labelEditingPreview:["type",NM]};var H0=["top","bottom","left","right"],dd=10;function F0(t,e){ve.call(this,t),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],function(a){var s=a.context,u=s.connection,l=u.source,f=u.target,h=s.hints||{};h.createElementsBehavior!==!1&&(n(l),n(f))}),this.postExecuted(["label.create"],function(a){var s=a.context,u=s.shape,l=s.hints||{};l.createElementsBehavior!==!1&&n(u.labelTarget)}),this.postExecuted(["elements.create"],function(a){var s=a.context,u=s.elements,l=s.hints||{};l.createElementsBehavior!==!1&&u.forEach(function(f){n(f)})});function n(a){if(OC(a)){var s=oB(a);s&&r(a,s)}}function r(a,s){var u=me(a),l=a.label,f=me(l);if(l.parent){var h=ue(a),p;switch(s){case"top":p={x:u.x,y:h.top-dd-l.height/2};break;case"left":p={x:h.left-dd-l.width/2,y:u.y};break;case"bottom":p={x:u.x,y:h.bottom+dd+l.height/2};break;case"right":p={x:h.right+dd+l.width/2,y:u.y};break}var g=wi(p,f);e.moveShape(l,g)}}}Te(F0,ve);F0.$inject=["eventBus","modeling"];function rB(t){var e=t.host,n=me(t),r=zr(n,e),a;r.indexOf("-")>=0?a=r.split("-"):a=[r];var s=H0.filter(function(u){return a.indexOf(u)===-1});return s}function iB(t){var e=me(t),n=[].concat(t.incoming.map(function(r){return r.waypoints[r.waypoints.length-2]}),t.outgoing.map(function(r){return r.waypoints[1]})).map(function(r){return DM(e,r)});return n}function oB(t){var e=me(t.label),n=me(t),r=DM(n,e);if(aB(r)){var a=iB(t);if(t.host){var s=rB(t);a=a.concat(s)}var u=H0.filter(function(l){return a.indexOf(l)===-1});if(u.indexOf(r)===-1)return u[0]}}function DM(t,e){return zr(e,t,5)}function aB(t){return H0.indexOf(t)!==-1}function X0(t){ve.call(this,t),this.preExecute("shape.append",function(e){var n=e.source,r=e.shape;e.position||(e.position={x:n.x+n.width+80+r.width/2,y:n.y+n.height/2})},!0)}Te(X0,ve);X0.$inject=["eventBus"];var sB=1500;function LM(t,e,n){e.on(["create.hover","create.move","create.end","shape.move.hover","shape.move.move","shape.move.end"],sB,function(r){var a=r.context,s=a.shape||r.shape,u=r.hover,l=n.getRootElement();u!==l&&s.labelTarget&&(r.hover=l,r.hoverGfx=t.getGraphics(r.hover))})}LM.$inject=["elementRegistry","eventBus","canvas"];function LT(t,e,n,r){var a,s,u,l,f;return a=(r.y-n.y)*(e.x-t.x)-(r.x-n.x)*(e.y-t.y),a==0?null:(s=t.y-n.y,u=t.x-n.x,f=(r.x-n.x)*s-(r.y-n.y)*u,l=f/a,{x:Math.round(t.x+l*(e.x-t.x)),y:Math.round(t.y+l*(e.y-t.y))})}function PM(t){function e(r,a,s){var u={x:s.x,y:s.y-50},l={x:s.x-50,y:s.y},f=LT(r,a,s,u),h=LT(r,a,s,l),p;f&&h?PT(f,s)>PT(h,s)?p=h:p=f:p=f||h,r.original=p}function n(r){var a=r.waypoints;e(a[0],a[1],me(r.source)),e(a[a.length-1],a[a.length-2],me(r.target))}t.on("boardElement.added",function(r){var a=r.element;a.waypoints&&n(a)})}PM.$inject=["eventBus"];function PT(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function BM(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}function BT(t){return Math.atan((t[1].y-t[0].y)/(t[1].x-t[0].x))}function uB(t,e){return e?{x:Math.cos(e)*t.x-Math.sin(e)*t.y,y:Math.sin(e)*t.x+Math.cos(e)*t.y}:t}function cB(t,e,n){var r=[{n:t[0]-n[0],lambda:e[0]},{n:t[1]-n[1],lambda:e[1]}],a=r[0].n*e[0]+r[1].n*e[1],s=r[0].lambda*e[0]+r[1].lambda*e[1];return-a/s}function kM(t,e){var n=e[0],r=e[1],a={x:r.x-n.x,y:r.y-n.y},s=cB([n.x,n.y],[a.x,a.y],[t.x,t.y]);return{x:n.x+s*a.x,y:n.y+s*a.y}}function lB(t,e){var n=kM(t,e),r={x:n.x-t.x,y:n.y-t.y};return BM(r)}function Lh(t,e){return BM({x:t.x-e.x,y:t.y-e.y})}var IM=Math.sqrt,jM=Math.min,fB=Math.max,kT=Math.abs;function IT(t){return Math.pow(t,2)}function Xc(t,e){return IM(IT(t.x-e.x)+IT(t.y-e.y))}function dB(t,e){var n=0,r,a,s,u,l,f,h,p,g,v,_;for(n=0;n<e.length-1;n++){if(r=e[n],a=e[n+1],$T(r,a)?h=[r]:(s=Xc(t,r),u=Xc(t,a),f=jM(s,u),h=hB(r,a,t,f)),h.length<1)throw new Error("expected between [1, 2] circle -> line intersections");h.length===1&&(p={type:"bendpoint",position:h[0],segmentIndex:n,bendpointIndex:$T(r,h[0])?n:n+1}),h.length===2&&(l=gB(h[0],h[1]),p={type:"segment",position:l,segmentIndex:n,relativeLocation:Xc(r,l)/Xc(r,a)}),g=Xc(p.position,t),(!_||v>g)&&(_=p,v=g)}return _}function hB(t,e,n,r){var a=e.x-t.x,s=e.y-t.y,u=n.x-t.x,l=n.y-t.y,f=a*a+s*s,h=a*u+s*l,p=u*u+l*l-r*r,g=h/f,v=p/f,_=g*g-v;if(_<0&&_>-1e-6&&(_=0),_<0)return[];var E=IM(_),M=-g+E,O=-g-E,S={x:t.x-a*M,y:t.y-s*M};if(_===0)return[S];var x={x:t.x-a*O,y:t.y-s*O};return[S,x].filter(function(m){return pB(m,t,e)})}function pB(t,e,n){return jT(t.x,e.x,n.x)&&jT(t.y,e.y,n.y)}function jT(t,e,n){return t>=jM(e,n)-Ph&&t<=fB(e,n)+Ph}function gB(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}var Ph=.1;function $T(t,e){return kT(t.x-e.x)<=Ph&&kT(t.y-e.y)<=Ph}function yB(t,e,n,r){var a=n.segmentIndex,s=e.length-t.length;if(r.segmentMove){var u=r.segmentMove.segmentStartIndex,l=r.segmentMove.newSegmentStartIndex;return a===u?l:a>=l?a+s<l?l:a+s:a}if(r.bendpointMove){var f=r.bendpointMove.insert,h=r.bendpointMove.bendpointIndex,p;if(s===0)return a;if(a>=h&&(p=f?a+1:a-1),a<h&&(p=a,f&&n.type!=="bendpoint"&&h-1===a)){var g=$M(e,h);g<n.relativeLocation&&p++}return p}return s===0?a:r.connectionStart?a===0?0:null:r.connectionEnd&&a===t.length-2?e.length-2:null}function mB(t,e,n,r){var a=0,s=0,u=vB(t),l=dB(u,n),f=l.segmentIndex,h=yB(n,e,l,r);if(h===null)return{x:a,y:s};if(h<0||h>e.length-2)return{x:a,y:s};var p=zT(n,f),g=zT(e,h),v=l.position,_=xB(p,v),E=_B(p,g);if(l.type==="bendpoint"){var M=e.length-n.length,O=l.bendpointIndex,S=n[O];if(e.indexOf(S)!==-1)return{x:a,y:s};if(M===0){var x=e[O];return{x:x.x-l.position.x,y:x.y-l.position.y}}M<0&&O!==0&&O<n.length-1&&(_=$M(n,O))}var m={x:(g[1].x-g[0].x)*_+g[0].x,y:(g[1].y-g[0].y)*_+g[0].y},w=uB({x:u.x-v.x,y:u.y-v.y},E);return a=m.x+w.x-u.x,s=m.y+w.y-u.y,ta({x:a,y:s})}function $M(t,e){var n=Lh(t[e-1],t[e]),r=Lh(t[e],t[e+1]),a=n/(n+r);return a}function vB(t){return{x:t.x+t.width/2,y:t.y+t.height/2}}function _B(t,e){var n=BT(t),r=BT(e);return r-n}function zT(t,e){return[t[e],t[e+1]]}function xB(t,e){var n=Lh(t[0],t[1]),r=Lh(t[0],e);return n===0?0:r/n}function Ml(t,e,n){var r=Qc(e),a=Qc(n),s=wi(t,r),u={x:s.x*(n.width/e.width),y:s.y*(n.height/e.height)};return ta({x:a.x+u.x,y:a.y+u.y})}function UT(t,e,n){var r=Qc(t),a=Qc(e),s=Qc(n),u=wi(t,r),l=wi(r,a),f=bB(r,e,n);if(f)return f;var h={x:l.x*(n.width/e.width),y:l.y*(n.height/e.height)},p={x:s.x+h.x,y:s.y+h.y};return ta({x:p.x+u.x-t.x,y:p.y+u.y-t.y})}function bB(t,e,n){var r=ue(e),a=ue(n);if(EB(r,a))return null;var s=zr(e,t),u,l,f;if(s==="top")u={x:0,y:a.bottom-r.bottom};else if(s==="bottom")u={x:0,y:a.top-r.top};else if(s==="right")u={x:a.left-r.left,y:0};else if(s==="left")u={x:a.right-r.right,y:0};else return null;return l={x:t.x+u.x,y:t.y+u.y},f=zr(n,l),f!==s?null:u}function EB(t,e){return wB(t,e)||TB(t,e)}function wB(t,e){return t.right!==e.right&&t.left!==e.left}function TB(t,e){return t.top!==e.top&&t.bottom!==e.bottom}var HT="name";function q0(t,e,n,r){ve.call(this,t),this.postExecute("element.updateProperties",function(s){var u=s.context,l=u.element,f=u.properties;HT in f&&e.updateLabel(l,f[HT])}),this.postExecute(["shape.create","connection.create"],function(s){var u=s.context,l=u.hints||{};if(l.createElementsBehavior!==!1){var f=u.shape||u.connection;f.businessObject,Ir(f)}}),this.postExecute("shape.delete",function(s){var u=s.context,l=u.labelTarget,f=u.hints||{};l&&f.unsetLabel!==!1&&e.updateLabel(l,null,null,{removeShape:!1})}),this.postExecute(["label.create"],function(s){var u=s.context,l=u.shape,f,h;l.labelTarget&&Jt(l.labelTarget||l,"dcr:BoardElement")&&(f=l.businessObject,h=f.di,h.label||(h.label=n.create("dcrDi:OdLabel",{bounds:n.create("dc:Bounds")})),ft(h.label.bounds,{x:l.x,y:l.y,width:l.width,height:l.height}))});function a(s){var u=s.context,l=u.connection,f=l.label,h=ft({},u.hints),p=u.newWaypoints||l.waypoints,g=u.oldWaypoints;return typeof h.startChanged>"u"&&(h.startChanged=!!h.connectionStart),typeof h.endChanged>"u"&&(h.endChanged=!!h.connectionEnd),mB(f,p,g,h)}this.postExecute(["connection.layout","connection.updateWaypoints"],function(s){var u=s.context,l=u.hints||{};if(l.labelBehavior!==!1){var f=u.connection,h=f.label,p;!h||!h.parent||(p=a(s),e.moveShape(h,p))}}),this.postExecute(["shape.replace"],function(s){var u=s.context,l=u.newShape;u.oldShape,gr(l)}),this.postExecute("shape.resize",function(s){var u=s.context,l=u.shape,f=u.newBounds,h=u.oldBounds;if(OC(l)){var p=l.label,g=me(p),v=MB(h),_=CB(g,v),E=SB(_,h,f);e.moveShape(p,E)}})}Te(q0,ve);q0.$inject=["eventBus","modeling","dcrFactory","textRenderer"];function SB(t,e,n){var r=Ml(t,e,n);return ta(wi(r,t))}function CB(t,e){if(e.length){var n=AB(t,e);return kM(t,n)}}function MB(t){return[[{x:t.x,y:t.y},{x:t.x+(t.width||0),y:t.y}],[{x:t.x+(t.width||0),y:t.y},{x:t.x+(t.width||0),y:t.y+(t.height||0)}],[{x:t.x,y:t.y+(t.height||0)},{x:t.x+(t.width||0),y:t.y+(t.height||0)}],[{x:t.x,y:t.y},{x:t.x,y:t.y+(t.height||0)}]]}function AB(t,e){var n=e.map(function(a){return{line:a,distance:lB(t,a)}}),r=no(n,"distance");return r[0].line}function G0(t,e,n,r){e.invoke(ve,this),this.preExecute("shape.delete",function(a){var s=a.context,u=s.shape,l=u.businessObject;Ir(u)||r.unclaimId(l.id,l)}),this.preExecute("canvas.updateRoot",function(){var a=t.getRootElement(),s=a.businessObject;n.ids.unclaim(s.id)})}Te(G0,ve);G0.$inject=["canvas","injector","moddle","modeling"];function V0(t,e,n){ve.call(this,t),this.postExecute("element.updateLabel",function(r){var a=r.element,s=r.newLabel;Jt(a,"dcr:TextBox")&&FT(s)&&e.removeElements([a])},!0),t.on("directEditing.cancel",1001,function(r){var a=r.active,s=a.element;Jt(s,"dcr:TextBox")&&FT(gr(s).name)&&(n._active=!1,e.removeElements([s]))})}Te(V0,ve);V0.$inject=["eventBus","modeling","directEditing"];function FT(t){return!t||t===""}const OB={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","fixHoverBehavior","importDockingFix","labelBehavior","unclaimIdBehavior","emptyTextBoxBehavior"],adaptiveLabelPositioningBehavior:["type",F0],appendBehavior:["type",X0],fixHoverBehavior:["type",LM],importDockingFix:["type",PM],labelBehavior:["type",q0],unclaimIdBehavior:["type",G0],emptyTextBoxBehavior:["type",V0]};function Ou(t){ve.call(this,t),this.init()}Ou.$inject=["eventBus"];Te(Ou,ve);Ou.prototype.addRule=function(t,e,n){var r=this;typeof t=="string"&&(t=[t]),t.forEach(function(a){r.canExecute(a,e,function(s,u,l){return n(s)},!0)})};Ou.prototype.init=function(){};function rr(t){Ou.call(this,t)}Te(rr,Ou);rr.$inject=["eventBus"];rr.prototype.init=function(){this.addRule("connection.start",function(t){var e=t.source;return NB(e)}),this.addRule("connection.create",function(t){var e=t.source,n=t.target,r=t.hints||{},a=r.targetParent;a&&(n.parent=a);try{return gv(e,n)}finally{a&&(n.parent=null)}}),this.addRule("connection.reconnect",function(t){t.connection;var e=t.source,n=t.target;return gv(e,n)}),this.addRule("connection.updateWaypoints",function(t){return{type:t.connection.type}}),this.addRule("shape.resize",function(t){var e=t.shape,n=t.newBounds;return FM(e,n)}),this.addRule("elements.create",function(t){var e=t.elements;t.position;var n=t.target;return hl(e,function(r){return r.host?sh(r,r.host):yv(r,n,null)})}),this.addRule("elements.move",function(t){var e=t.target,n=t.shapes;return t.position,sh(n,e)||HM(n,e)}),this.addRule("shape.create",function(t){return yv(t.shape,t.target,t.source,t.position)}),this.addRule("shape.attach",function(t){return sh(t.shape,t.target,null,t.position)}),this.addRule("element.copy",function(t){return t.element,t.elements,XM()})};rr.prototype.canConnect=gv;rr.prototype.canMove=HM;rr.prototype.canAttach=sh;rr.prototype.canDrop=Y0;rr.prototype.canCreate=yv;rr.prototype.canReplace=LB;rr.prototype.canResize=FM;rr.prototype.canCopy=XM;rr.prototype.isLinkAllowed=PB;rr.prototype.canHaveLabel=BB;function hv(t,e){return t===e}function RB(t){for(var e=[];t;)t=t.parent,t&&e.push(t);return e}function zM(t,e){var n=RB(e);return n.indexOf(t)!==-1}function UM(t){return Jt(t,"dcr:Group")&&!t.labelTarget}function NB(t){return pv(t)?null:Jt(t,"dcr:Event")}function pv(t){return!t||Ir(t)}function gv(t,e){return pv(t)||pv(e)?null:DB(t,e)?t===e&&Jt(t,"dcr:SubProcess")||Jt(e,"dcr:SubProcess")&&e.businessObject["multi-instance"]&&!hn(t,["dcr:Event","dcr:Nesting"])?!1:Jt(e,"dcr:SubProcess")&&e.businessObject["multi-instance"]?{type:"dcr:Relation",attrs:{type:"spawn"}}:t===e?{type:"dcr:Relation",attrs:{type:"exclude"}}:{type:"dcr:Relation",attrs:{type:"condition"}}:!1}function DB(t,e){return hn(t,["dcr:Event","dcr:Nesting","dcr:SubProcess"])&&hn(e,["dcr:Event","dcr:Nesting","dcr:SubProcess"])&&!zM(t,e)&&!(Jt(t,"dcr:SubProcess")&&t.businessObject["multi-instance"])}function Y0(t,e){return Ir(t)||UM(t)||(hn(t,["dcr:Event","dcr:Nesting","dcr:Relation"])||Jt(t,"dcr:SubProcess")&&!t.businessObject["multi-instance"])&&hn(e,["dcr:Nesting","dcr:SubProcess"])&&!(Jt(t,"dcr:Nesting")&&Jt(e,"dcr:SubProcess")&&!e.businessObject["multi-instance"])?!0:Jt(t,"dcr:BoardElement")&&Jt(e,"dcr:DcrGraph")}function LB(t,e){return e}function sh(t,e){if(Array.isArray(t)||(t=[t]),t.length!==1)return!1;var n=t[0];return Ir(n)||Jt(e,"dcr:BoardElement")?!1:"attach"}function HM(t,e){return e?t.every(function(n){return Y0(n,e)}):!0}function yv(t,e,n,r){return e?Ir(t)||UM(t)?!0:hv(n,e)||n&&zM(n,e)?!1:Y0(t,e):!1}function FM(t,e){return hn(t,["dcr:Nesting","dcr:SubProcess"])?!e||e.width>=50&&e.height>=50:!1}function XM(t,e){return!0}function PB(t,e){return!(e==="exclude"&&hv(t.source,t.target)&&!Jt(t.target,"dcr:Event")||e==="spawn"&&(!Jt(t.target,"dcr:SubProcess")||!t.target.businessObject["multi-instance"]||!hn(t.source,["dcr:Event","dcr:Nesting"]))||Jt(t.target,"dcr:SubProcess")&&t.target.businessObject["multi-instance"]&&e!=="spawn"||hv(t.source,t.target)&&e!=="exclude")}function BB(t){return!hn(t,["dcr:Relation"])}const kB={__depends__:[Ai],__init__:["dcrRules"],dcrRules:["type",rr]};var IB=2e3;function qM(t,e){t.on("saveXML.start",IB,n);function n(){var r=e.getRootElement(),a=gr(r).di,s,u;s=Xv([r],!1),s=sn(s,function(l){return l!==r&&!l.labelTarget}),u=An(s,M0),a.set("planeElement",u)}}qM.$inject=["eventBus","canvas"];const jB={__init__:["dcrDiOrdering"],dcrDiOrdering:["type",qM]};function pp(t){ve.call(this,t);var e=this;this.preExecute(["shape.create","connection.create"],function(n){var r=n.context,a=r.shape||r.connection,s=r.parent,u=e.getOrdering(a,s);u&&(u.parent!==void 0&&(r.parent=u.parent),r.parentIndex=u.index)}),this.preExecute(["shape.move","connection.move"],function(n){var r=n.context,a=r.shape||r.connection,s=r.newParent||a.parent,u=e.getOrdering(a,s);u&&(u.parent!==void 0&&(r.newParent=u.parent),r.newParentIndex=u.index)})}pp.prototype.getOrdering=function(t,e){return null};Te(pp,ve);function K0(t,e,n){pp.call(this,t);var r=[{type:"dcr:Event",order:{level:5}},{type:"dcr:Relation",order:{level:3}}];function a(l){if(l.labelTarget)return{level:10};var f=Ie(r,function(h){return hn(l,[h.type])});return f&&f.order||{level:1}}function s(l){var f=l.order;if(f||(l.order=f=a(l)),!f)throw new Error("no order for <"+l.id+">");return f}function u(l,f,h){for(var p=f;p&&!hn(p,h);)p=p.parent;if(!p)throw new Error(n("no parent for {element} in {parent}",{element:l.id,parent:f.id}));return p}this.getOrdering=function(l,f){if(l.labelTarget)return{parent:e.getRootElement(),index:-1};var h=s(l);h.containers&&(f=u(l,f,h.containers));var p=f.children.indexOf(l),g=dS(f.children,function(v){return!l.labelTarget&&v.labelTarget?!1:h.level<s(v).level});return g!==-1&&p!==-1&&p<g&&(g-=1),{index:g,parent:f}}}K0.$inject=["eventBus","canvas","translate"];Te(K0,pp);const $B={__depends__:[ap],__init__:["odOrderingProvider"],odOrderingProvider:["type",K0]};var XT=Math.round;function Z0(t,e){this._modeling=t,this._eventBus=e}Z0.$inject=["modeling","eventBus"];Z0.prototype.replaceElement=function(t,e,n){if(t.waypoints)return null;var r=this._modeling,a=this._eventBus;a.fire("replace.start",{element:t,attrs:e,hints:n});var s=e.width||t.width,u=e.height||t.height,l=e.x||t.x,f=e.y||t.y,h=XT(l+s/2),p=XT(f+u/2),g=r.replaceShape(t,ft({},e,{x:h,y:p,width:s,height:u}),n);return a.fire("replace.end",{element:t,newElement:g,hints:n}),g};function GM(t,e){e.on("replace.end",500,function(n){const{newElement:r,hints:a={}}=n;a.select!==!1&&t.select(r)})}GM.$inject=["selection","eventBus"];const zB={__init__:["replace","replaceSelectionBehavior"],replaceSelectionBehavior:["type",GM],replace:["type",Z0]};function UB(t,e,n){ne(n)||(n=[n]),st(n,function(r){is(t[r])||(e[r]=t[r])})}var HB=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function VM(t,e,n,r,a,s){function u(l,f,h){h=h||{};var p=f.type,g=l.businessObject,v=t.create(p),_={type:p,businessObject:v};_.di={},UB(l.di,_.di,["fill","stroke","background-color","border-color","color"]);var E=dv(g.$descriptor),M=dv(v.$descriptor,!0),O=FB(E,M);ft(v,ro(f,HB));var S=O;return v=n.copyElement(g,v,S),v.name=g.name,_=a.replaceElement(l,_,h),h.select!==!1&&s.select(_),_}this.replaceElement=u}VM.$inject=["dcrFactory","elementFactory","moddleCopy","modeling","replace","rules","selection"];function FB(t,e){return t.filter(function(n){return e.indexOf(n)!==-1})}const YM={__depends__:[gM,zB,po],dcrReplace:["type",VM]},XB={commandStack:["type",ke]};var qB=new R0("tt");function GB(t){var e=dn('<div class="djs-tooltip-container" />');return so(e,{position:"absolute",width:"0",height:"0"}),t.insertBefore(e,t.firstChild),e}function VB(t,e,n){so(t,{left:e+"px",top:n+"px"})}function W0(t,e){t.style.display=e===!1?"none":""}var KM="djs-tooltip",Cm="."+KM;function Kn(t,e){this._eventBus=t,this._canvas=e,this._ids=qB,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=GB(e.getContainer());var n=this;ei.bind(this._tooltipRoot,Cm,"mousedown",function(r){r.stopPropagation()}),ei.bind(this._tooltipRoot,Cm,"mouseover",function(r){n.trigger("mouseover",r)}),ei.bind(this._tooltipRoot,Cm,"mouseout",function(r){n.trigger("mouseout",r)}),this._init()}Kn.$inject=["eventBus","canvas"];Kn.prototype.add=function(t){if(!t.position)throw new Error("must specifiy tooltip position");if(!t.html)throw new Error("must specifiy tooltip html");var e=this._ids.next();return t=ft({},this._tooltipDefaults,t,{id:e}),this._addTooltip(t),t.timeout&&this.setTimeout(t),e};Kn.prototype.trigger=function(t,e){var n=e.delegateTarget||e.target,r=this.get(pr(n,"data-tooltip-id"));r&&(t==="mouseover"&&r.timeout&&this.clearTimeout(r),t==="mouseout"&&r.timeout&&(r.timeout=1e3,this.setTimeout(r)))};Kn.prototype.get=function(t){return typeof t!="string"&&(t=t.id),this._tooltips[t]};Kn.prototype.clearTimeout=function(t){if(t=this.get(t),!!t){var e=t.removeTimer;e&&(clearTimeout(e),t.removeTimer=null)}};Kn.prototype.setTimeout=function(t){if(t=this.get(t),!!t){this.clearTimeout(t);var e=this;t.removeTimer=setTimeout(function(){e.remove(t)},t.timeout)}};Kn.prototype.remove=function(t){var e=this.get(t);e&&(Ci(e.html),Ci(e.htmlContainer),delete e.htmlContainer,delete this._tooltips[e.id])};Kn.prototype.show=function(){W0(this._tooltipRoot)};Kn.prototype.hide=function(){W0(this._tooltipRoot,!1)};Kn.prototype._updateRoot=function(t){var e=t.scale||1,n=t.scale||1,r="matrix("+e+",0,0,"+n+","+-1*t.x*e+","+-1*t.y*n+")";this._tooltipRoot.style.transform=r,this._tooltipRoot.style["-ms-transform"]=r};Kn.prototype._addTooltip=function(t){var e=t.id,n=t.html,r,a=this._tooltipRoot;n.get&&n.constructor.prototype.jquery&&(n=n.get(0)),jr(n)&&(n=dn(n)),r=dn('<div data-tooltip-id="'+e+'" class="'+KM+'">'),so(r,{position:"absolute"}),r.appendChild(n),t.type&&mr(r).add("djs-tooltip-"+t.type),t.className&&mr(r).add(t.className),t.htmlContainer=r,a.appendChild(r),this._tooltips[e]=t,this._updateTooltip(t)};Kn.prototype._updateTooltip=function(t){var e=t.position,n=t.htmlContainer;VB(n,e.x,e.y)};Kn.prototype._updateTooltipVisibilty=function(t){st(this._tooltips,function(e){var n=e.show,r=e.htmlContainer,a=!0;n&&((n.minZoom>t.scale||n.maxZoom<t.scale)&&(a=!1),W0(r,a))})};Kn.prototype._init=function(){var t=this;function e(n){t._updateRoot(n),t._updateTooltipVisibilty(n),t.show()}this._eventBus.on("canvas.viewbox.changing",function(n){t.hide()}),this._eventBus.on("canvas.viewbox.changed",function(n){e(n.viewbox)})};const YB={__init__:["tooltips"],tooltips:["type",Kn]};function na(t,e){if(typeof e!="function")throw new Error("removeFn iterator must be a function");if(t){for(var n;n=t[0];)e(n);return t}}var KB=250,qT=1400;function Q0(t,e,n){ve.call(this,e);var r=t.get("movePreview",!1);e.on("shape.move.start",qT,function(a){var s=a.context,u=s.shapes,l=s.validatedShapes;s.shapes=GT(u),s.validatedShapes=GT(l)}),r&&e.on("shape.move.start",KB,function(a){var s=a.context,u=s.shapes,l=[];st(u,function(f){st(f.labels,function(h){!h.hidden&&s.shapes.indexOf(h)===-1&&l.push(h),f.labelTarget&&l.push(f)})}),st(l,function(f){r.makeDraggable(s,f,!0)})}),this.preExecuted("elements.move",qT,function(a){var s=a.context,u=s.closure,l=u.enclosedElements,f=[];st(l,function(h){st(h.labels,function(p){l[p.id]||f.push(p)})}),u.addAll(f)}),this.preExecute(["connection.delete","shape.delete"],function(a){var s=a.context,u=s.connection||s.shape;na(u.labels,function(l){n.removeShape(l,{nested:!0})})}),this.execute("shape.delete",function(a){var s=a.context,u=s.shape,l=u.labelTarget;l&&(s.labelTargetIndex=qv(l.labels,u),s.labelTarget=l,u.labelTarget=null)}),this.revert("shape.delete",function(a){var s=a.context,u=s.shape,l=s.labelTarget,f=s.labelTargetIndex;l&&(oi(l.labels,u,f),u.labelTarget=l)})}Te(Q0,ve);Q0.$inject=["injector","eventBus","modeling"];function GT(t){return sn(t,function(e){return t.indexOf(e.labelTarget)===-1})}const ZB={__init__:["labelSupport"],labelSupport:["type",Q0]};var WB=251,VT=1401,YT="attach-ok";function J0(t,e,n,r,a){ve.call(this,e);var s=t.get("movePreview",!1);e.on("shape.move.start",VT,function(u){var l=u.context,f=l.shapes,h=l.validatedShapes;l.shapes=QB(f),l.validatedShapes=JB(h)}),s&&e.on("shape.move.start",WB,function(u){var l=u.context,f=l.shapes,h=mv(f);st(h,function(p){s.makeDraggable(l,p,!0),st(p.labels,function(g){s.makeDraggable(l,g,!0)})})}),s&&e.on("shape.move.start",function(u){var l=u.context,f=l.shapes;if(f.length===1){var h=f[0],p=h.host;p&&(n.addMarker(p,YT),e.once(["shape.move.out","shape.move.cleanup"],function(){n.removeMarker(p,YT)}))}}),this.preExecuted("elements.move",VT,function(u){var l=u.context,f=l.closure,h=l.shapes,p=mv(h);st(p,function(g){f.add(g,f.topLevel[g.host.id])})}),this.postExecuted("elements.move",function(u){var l=u.context,f=l.shapes,h=l.newHost,p;h&&f.length!==1||(h?p=f:p=sn(f,function(g){var v=g.host;return t9(g)&&!e9(f,v)}),st(p,function(g){a.updateAttachment(g,h)}))}),this.postExecuted("elements.move",function(u){var l=u.context.shapes;st(l,function(f){st(f.attachers,function(h){st(h.outgoing.slice(),function(p){var g=r.allowed("connection.reconnect",{connection:p,source:p.source,target:p.target});g||a.removeConnection(p)}),st(h.incoming.slice(),function(p){var g=r.allowed("connection.reconnect",{connection:p,source:p.source,target:p.target});g||a.removeConnection(p)})})})}),this.postExecute("shape.create",function(u){var l=u.context,f=l.shape,h=l.host;h&&a.updateAttachment(f,h)}),this.postExecute("shape.replace",function(u){var l=u.context,f=l.oldShape,h=l.newShape;na(f.attachers,function(p){var g=r.allowed("elements.move",{target:h,shapes:[p]});g==="attach"?a.updateAttachment(p,h):a.removeShape(p)}),h.attachers.length&&st(h.attachers,function(p){var g=UT(p,f,h);a.moveShape(p,g,p.parent)})}),this.postExecute("shape.resize",function(u){var l=u.context,f=l.shape,h=l.oldBounds,p=l.newBounds,g=f.attachers,v=l.hints||{};v.attachSupport!==!1&&st(g,function(_){var E=UT(_,h,p);a.moveShape(_,E,_.parent),st(_.labels,function(M){a.moveShape(M,E,M.parent)})})}),this.preExecute("shape.delete",function(u){var l=u.context.shape;na(l.attachers,function(f){a.removeShape(f)}),l.host&&a.updateAttachment(l,null)})}Te(J0,ve);J0.$inject=["injector","eventBus","canvas","rules","modeling"];function mv(t){return Ym(An(t,function(e){return e.attachers||[]}))}function QB(t){var e=mv(t);return GN("id",t,e)}function JB(t){var e=pl(t,"id");return sn(t,function(n){for(;n;){if(n.host&&e[n.host.id])return!1;n=n.parent}return!0})}function t9(t){return!!t.host}function e9(t,e){return t.indexOf(e)!==-1}const n9={__depends__:[Ai],__init__:["attachSupport"],attachSupport:["type",J0]};var r9=250;function fs(t,e){this._eventBus=t,this._dragging=e,this._tools=[],this._active=null}fs.$inject=["eventBus","dragging"];fs.prototype.registerTool=function(t,e){var n=this._tools;if(!e)throw new Error(`A tool has to be registered with it's "events"`);n.push(t),this.bindEvents(t,e)};fs.prototype.isActive=function(t){return t&&this._active===t};fs.prototype.length=function(t){return this._tools.length};fs.prototype.setActive=function(t){var e=this._eventBus;this._active!==t&&(this._active=t,e.fire("tool-manager.update",{tool:t}))};fs.prototype.bindEvents=function(t,e){var n=this._eventBus,r=this._dragging,a=[];n.on(e.tool+".init",function(s){var u=s.context;if(!u.reactivate&&this.isActive(t)){this.setActive(null),r.cancel();return}this.setActive(t)},this),st(e,function(s){a.push(s+".ended"),a.push(s+".canceled")}),n.on(a,r9,function(s){this._active&&(i9(s)||this.setActive(null))},this)};function i9(t){var e=t.originalEvent&&t.originalEvent.target;return e&&uo(e,'.group[data-group="tools"]')}const gp={__depends__:[go],__init__:["toolManager"],toolManager:["type",fs]};function o9(t,e){if(t==="x"){if(e>0)return"e";if(e<0)return"w"}if(t==="y"){if(e>0)return"s";if(e<0)return"n"}return null}function a9(t,e){var n=[];return st(t.concat(e),function(r){var a=r.incoming,s=r.outgoing;st(a.concat(s),function(u){var l=u.source,f=u.target;(qc(t,l)||qc(t,f)||qc(e,l)||qc(e,f))&&(qc(n,u)||n.push(u))})}),n}function qc(t,e){return t.indexOf(e)!==-1}function s9(t,e,n){var r=t.x,a=t.y,s=t.width,u=t.height,l=n.x,f=n.y;switch(e){case"n":return{x:r,y:a+f,width:s,height:u-f};case"s":return{x:r,y:a,width:s,height:u+f};case"w":return{x:r+l,y:a,width:s-l,height:u};case"e":return{x:r,y:a,width:s+l,height:u};default:throw new Error("unknown direction: "+e)}}var Mm=Math.abs,u9=Math.round,Wi={x:"width",y:"height"},ZM="crosshair",Vo={n:"top",w:"left",s:"bottom",e:"right"},c9=1500,hd={n:"s",w:"e",s:"n",e:"w"},pd=20;function vo(t,e,n,r,a,s,u){this._canvas=t,this._dragging=e,this._eventBus=n,this._modeling=r,this._rules=a,this._toolManager=s,this._mouse=u;var l=this;s.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),n.on("spaceTool.selection.end",function(f){n.once("spaceTool.selection.ended",function(){l.activateMakeSpace(f.originalEvent)})}),n.on("spaceTool.move",c9,function(f){var h=f.context,p=h.initialized;p||(p=h.initialized=l.init(f,h)),p&&ZT(f)}),n.on("spaceTool.end",function(f){var h=f.context,p=h.axis,g=h.direction,v=h.movingShapes,_=h.resizingShapes,E=h.start;if(h.initialized){ZT(f);var M={x:0,y:0};M[p]=u9(f["d"+p]),l.makeSpace(v,_,M,g,E),n.once("spaceTool.ended",function(O){l.activateSelection(O.originalEvent,!0,!0)})}})}vo.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"];vo.prototype.activateSelection=function(t,e,n){this._dragging.init(t,"spaceTool.selection",{autoActivate:e,cursor:ZM,data:{context:{reactivate:n}},trapClick:!1})};vo.prototype.activateMakeSpace=function(t){this._dragging.init(t,"spaceTool",{autoActivate:!0,cursor:ZM,data:{context:{}}})};vo.prototype.makeSpace=function(t,e,n,r,a){return this._modeling.createSpace(t,e,n,r,a)};vo.prototype.init=function(t,e){var n=Mm(t.dx)>Mm(t.dy)?"x":"y",r=t["d"+n],a=t[n]-r;if(Mm(r)<5)return!1;r<0&&(r*=-1),nl(t)&&(r*=-1);var s=o9(n,r),u=this._canvas.getRootElement();!A0(t)&&t.hover&&(u=t.hover);var l=[...Xv(u,!0),...u.attachers||[]],f=this.calculateAdjustments(l,n,r,a),h=this._eventBus.fire("spaceTool.getMinDimensions",{axis:n,direction:s,shapes:f.resizingShapes,start:a}),p=l9(f,n,s,a,h);return ft(e,f,{axis:n,direction:s,spaceToolConstraints:p,start:a}),cp("resize-"+(n==="x"?"ew":"ns")),!0};vo.prototype.calculateAdjustments=function(t,e,n,r){var a=this._rules,s=[],u=[],l=[],f=[];function h(v){s.includes(v)||s.push(v);var _=v.label;_&&!s.includes(_)&&s.push(_)}function p(v){u.includes(v)||u.push(v)}st(t,function(v){if(!(!v.parent||vr(v))){if(Ue(v)){f.push(v);return}var _=v[e],E=_+v[Wi[e]];if(f9(v)&&(n>0&&me(v)[e]>r||n<0&&me(v)[e]<r)){l.push(v);return}if(n>0&&_>r||n<0&&E<r){h(v);return}if(_<r&&E>r&&a.allowed("shape.resize",{shape:v})){p(v);return}}}),st(s,function(v){var _=v.attachers;_&&st(_,function(E){h(E)})});var g=s.concat(u);return st(l,function(v){var _=v.host;Ja(g,_)&&h(v)}),g=s.concat(u),st(f,function(v){var _=v.source,E=v.target,M=v.label;Ja(g,_)&&Ja(g,E)&&M&&h(M)}),{movingShapes:s,resizingShapes:u}};vo.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();this.activateSelection(t,!!t)};vo.prototype.isActive=function(){var t=this._dragging.context();return t?/^spaceTool/.test(t.prefix):!1};function KT(t){return{top:t.top-pd,right:t.right+pd,bottom:t.bottom+pd,left:t.left-pd}}function ZT(t){var e=t.context,n=e.spaceToolConstraints;if(n){var r,a;Kt(n.left)&&(r=Math.max(t.x,n.left),t.dx=t.dx+r-t.x,t.x=r),Kt(n.right)&&(r=Math.min(t.x,n.right),t.dx=t.dx+r-t.x,t.x=r),Kt(n.top)&&(a=Math.max(t.y,n.top),t.dy=t.dy+a-t.y,t.y=a),Kt(n.bottom)&&(a=Math.min(t.y,n.bottom),t.dy=t.dy+a-t.y,t.y=a)}}function l9(t,e,n,r,a){var s=t.movingShapes,u=t.resizingShapes;if(u.length){var l={},f,h;return st(u,function(p){var g=p.attachers,v=p.children,_=ue(p),E=sn(v,function(j){return!Ue(j)&&!vr(j)&&!Ja(s,j)&&!Ja(u,j)}),M=sn(v,function(j){return!Ue(j)&&!vr(j)&&Ja(s,j)}),O,S,x,m=[],w=[],C,A,B,P;E.length&&(S=KT(ue(bn(E))),O=r-_[Vo[n]]+S[Vo[n]],n==="n"?l.bottom=h=Kt(h)?Math.min(h,O):O:n==="w"?l.right=h=Kt(h)?Math.min(h,O):O:n==="s"?l.top=f=Kt(f)?Math.max(f,O):O:n==="e"&&(l.left=f=Kt(f)?Math.max(f,O):O)),M.length&&(x=KT(ue(bn(M))),O=r-x[Vo[hd[n]]]+_[Vo[hd[n]]],n==="n"?l.bottom=h=Kt(h)?Math.min(h,O):O:n==="w"?l.right=h=Kt(h)?Math.min(h,O):O:n==="s"?l.top=f=Kt(f)?Math.max(f,O):O:n==="e"&&(l.left=f=Kt(f)?Math.max(f,O):O)),g&&g.length&&(g.forEach(function(j){Ja(s,j)?m.push(j):w.push(j)}),m.length&&(C=ue(bn(m.map(me))),A=_[Vo[hd[n]]]-(C[Vo[hd[n]]]-r)),w.length&&(B=ue(bn(w.map(me))),P=B[Vo[n]]-(_[Vo[n]]-r)),n==="n"?(O=Math.min(A||1/0,P||1/0),l.bottom=h=Kt(h)?Math.min(h,O):O):n==="w"?(O=Math.min(A||1/0,P||1/0),l.right=h=Kt(h)?Math.min(h,O):O):n==="s"?(O=Math.max(A||-1/0,P||-1/0),l.top=f=Kt(f)?Math.max(f,O):O):n==="e"&&(O=Math.max(A||-1/0,P||-1/0),l.left=f=Kt(f)?Math.max(f,O):O));var T=a&&a[p.id];T&&(n==="n"?(O=r+p[Wi[e]]-T[Wi[e]],l.bottom=h=Kt(h)?Math.min(h,O):O):n==="w"?(O=r+p[Wi[e]]-T[Wi[e]],l.right=h=Kt(h)?Math.min(h,O):O):n==="s"?(O=r-p[Wi[e]]+T[Wi[e]],l.top=f=Kt(f)?Math.max(f,O):O):n==="e"&&(O=r-p[Wi[e]]+T[Wi[e]],l.left=f=Kt(f)?Math.max(f,O):O))}),l}}function Ja(t,e){return t.indexOf(e)!==-1}function f9(t){return!!t.host}var Am="djs-dragging",WT="djs-resizing",d9=250,gd=Math.max;function WM(t,e,n,r,a){function s(u,l){st(u,function(f){a.addDragger(f,l),n.addMarker(f,Am)})}t.on("spaceTool.selection.start",function(u){var l=n.getLayer("space"),f=u.context,h={x:"M 0,-10000 L 0,10000",y:"M -10000,0 L 10000,0"},p=Nt("g");yt(p,r.cls("djs-crosshair-group",["no-events"])),Wt(l,p);var g=Nt("path");yt(g,"d",h.x),le(g).add("djs-crosshair"),Wt(p,g);var v=Nt("path");yt(v,"d",h.y),le(v).add("djs-crosshair"),Wt(p,v),f.crosshairGroup=p}),t.on("spaceTool.selection.move",function(u){var l=u.context.crosshairGroup;kr(l,u.x,u.y)}),t.on("spaceTool.selection.cleanup",function(u){var l=u.context,f=l.crosshairGroup;f&&Qe(f)}),t.on("spaceTool.move",d9,function(u){var l=u.context,f=l.line,h=l.axis,p=l.movingShapes,g=l.resizingShapes;if(l.initialized){if(!l.dragGroup){var v=n.getLayer("space");f=Nt("path"),yt(f,"d","M0,0 L0,0"),le(f).add("djs-crosshair"),Wt(v,f),l.line=f;var _=Nt("g");yt(_,r.cls("djs-drag-group",["no-events"])),Wt(n.getActiveLayer(),_),s(p,_);var E=l.movingConnections=e.filter(function(w){var C=!1;st(p,function(T){st(T.outgoing,function(j){w===j&&(C=!0)})});var A=!1;st(p,function(T){st(T.incoming,function(j){w===j&&(A=!0)})});var B=!1;st(g,function(T){st(T.outgoing,function(j){w===j&&(B=!0)})});var P=!1;return st(g,function(T){st(T.incoming,function(j){w===j&&(P=!0)})}),Ue(w)&&(C||B)&&(A||P)});s(E,_),l.dragGroup=_}if(!l.frameGroup){var M=Nt("g");yt(M,r.cls("djs-frame-group",["no-events"])),Wt(n.getActiveLayer(),M);var O=[];st(g,function(w){var C=a.addFrame(w,M),A=C.getBBox();O.push({element:C,initialBounds:A}),n.addMarker(w,WT)}),l.frameGroup=M,l.frames=O}var S={x:"M"+u.x+", -10000 L"+u.x+", 10000",y:"M -10000, "+u.y+" L 10000, "+u.y};yt(f,{d:S[h]});var x={x:"y",y:"x"},m={x:u.dx,y:u.dy};m[x[l.axis]]=0,kr(l.dragGroup,m.x,m.y),st(l.frames,function(w){var C=w.element,A=w.initialBounds,B,P;l.direction==="e"?yt(C,{width:gd(A.width+m.x,5)}):(B=gd(A.width-m.x,5),yt(C,{width:B,x:A.x+A.width-B})),l.direction==="s"?yt(C,{height:gd(A.height+m.y,5)}):(P=gd(A.height-m.y,5),yt(C,{height:P,y:A.y+A.height-P}))})}}),t.on("spaceTool.cleanup",function(u){var l=u.context,f=l.movingShapes,h=l.movingConnections,p=l.resizingShapes,g=l.line,v=l.dragGroup,_=l.frameGroup;st(f,function(E){n.removeMarker(E,Am)}),st(h,function(E){n.removeMarker(E,Am)}),v&&(Qe(g),Qe(v)),st(p,function(E){n.removeMarker(E,WT)}),_&&Qe(_)})}WM.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];const QM={__init__:["spaceToolPreview"],__depends__:[go,Ai,gp,El,Tl],spaceTool:["type",vo],spaceToolPreview:["type",WM]};function Gr(t){this._model=t}Gr.$inject=["moddle"];Gr.prototype._needsId=function(t){return hn(t,["dcr:BoardElement"])};Gr.prototype._ensureId=function(t){var e;Jt(t,"dcr:Event")?e="Event":e=(t.$type||"").replace(/^[^:]*:/g,""),e+="_",!t.id&&this._needsId(t)&&(t.id=this._model.ids.nextPrefixed(e,t))};Gr.prototype.create=function(t,e){var n=this._model.create(t,e||{});return t==="dcr:Event"&&(n.description=""),this._ensureId(n),n};Gr.prototype.createDiLabel=function(){return this.create("dcrDi:OdLabel",{bounds:this.createDiBounds()})};Gr.prototype.createDiShape=function(t,e,n){return this.create("dcrDi:DcrShape",ft({boardElement:t,bounds:this.createDiBounds(e)},n))};Gr.prototype.createDiBounds=function(t){return this.create("dc:Bounds",t)};Gr.prototype.createDiEdge=function(t,e,n){return this.create("dcrDi:Relation",ft({boardElement:t},n))};Gr.prototype.createDiPlane=function(t){return this.create("dcrDi:DcrPlane",{boardElement:t})};Gr.prototype.createDiWaypoints=function(t){var e=this;return An(t,function(n){return e.createDiWaypoint(n)})};Gr.prototype.createDiWaypoint=function(t){return this.create("dc:Point",ro(t,["x","y"]))};function Vr(t,e,n,r){ve.call(this,t),this._dcrFactory=e,this._translate=r;var a=this;function s(_){var E=_.context,M=E.hints||{},O;!E.cropped&&M.createElementsBehavior!==!1&&(O=E.connection,O.waypoints=n.getCroppedWaypoints(O),E.cropped=!0)}this.executed(["connection.layout","connection.create"],s),this.reverted(["connection.layout"],function(_){delete _.context.cropped});function u(_){var E=_.context;a.updateParent(E.shape||E.connection,E.oldParent)}function l(_){var E=_.context,M=E.shape||E.connection,O=E.parent||E.newParent;a.updateParent(M,O)}this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],xi(u)),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],xi(l));function f(_){var E=_.context,M=E.oldRoot,O=M.children;st(O,function(S){Jt(S,"dcr:BoardElement")&&a.updateParent(S)})}this.executed(["canvas.updateRoot"],f),this.reverted(["canvas.updateRoot"],f);function h(_){var E=_.context.shape;Jt(E,"dcr:BoardElement")&&a.updateBounds(E)}this.executed(["shape.move","shape.create","shape.resize"],xi(function(_){_.context.shape.type!=="label"&&h(_)})),this.reverted(["shape.move","shape.create","shape.resize"],xi(function(_){_.context.shape.type!=="label"&&h(_)})),t.on("shape.changed",function(_){_.element.type==="label"&&h({context:{shape:_.element}})});function p(_){a.updateConnection(_.context)}this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],xi(p)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],xi(p));function g(_){a.updateConnectionWaypoints(_.context.connection)}this.executed(["connection.layout","connection.move","connection.updateWaypoints"],xi(g)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],xi(g));function v(_){a.updateAttachment(_.context)}this.executed(["element.updateAttachment"],xi(v)),this.reverted(["element.updateAttachment"],xi(v))}Te(Vr,ve);Vr.$inject=["eventBus","dcrFactory","connectionDocking","translate"];Vr.prototype.updateAttachment=function(t){var e=t.shape,n=e.businessObject,r=e.host;n.attachedToRef=r&&r.businessObject};Vr.prototype.updateParent=function(t,e){if(!Ir(t)){var n=t.parent,r=t.businessObject,a=n&&n.businessObject,s=a&&a.di;this.updateSemanticParent(r,a),this.updateDiParent(r.di,s)}};Vr.prototype.updateBounds=function(t){var e=t.businessObject.di,n=Ir(t)?this._getLabel(e):e,r=n.bounds;r||(r=this._dcrFactory.createDiBounds(),n.set("bounds",r)),ft(r,{x:t.x,y:t.y,width:t.width,height:t.height})};Vr.prototype.updateDiParent=function(t,e){if(e&&!Jt(e,"dcrDi:DcrPlane")&&(e=e.$parent),t.$parent!==e){var n=(e||t.$parent).get("planeElement");e?(n.push(t),t.$parent=e):(ii(n,t),t.$parent=null)}};Vr.prototype.updateSemanticParent=function(t,e,n){var r,a=this._translate;if(t.$parent!==e){if(Jt(t,"dcr:BoardElement")&&(r="boardElements"),!r)throw new Error(a("no parent for {element} in {parent}",{element:t.id,parent:e.id}));var s;if(t.$parent&&(s=t.$parent.get(r),ii(s,t)),e?(s=e.get(r),s.push(t),t.$parent=e):t.$parent=null,n){var u=n.get(r);ii(s,t),e&&(u||(u=[],e.set(r,u)),u.push(t))}}};Vr.prototype.updateConnection=function(t){var e=t.connection,n=gr(e),r=gr(e.source),a=gr(e.target),s=Jt(n,"dcr:Relation");n.sourceRef!==r&&(s&&(ii(n.sourceRef&&n.sourceRef.get("links"),n),r&&r.get("links")&&r.get("links").push(n)),n.sourceRef=r),n.targetRef!==a&&(n.targetRef=a),this.updateConnectionWaypoints(e),this.updateDiConnection(n.di,r,a)};Vr.prototype.updateConnectionWaypoints=function(t){t.businessObject.di.set("waypoint",this._dcrFactory.createDiWaypoints(t.waypoints))};Vr.prototype.updateDiConnection=function(t,e,n){t.sourceElement&&t.sourceElement.boardElement!==e&&(t.sourceElement=e&&e.di),t.targetElement&&t.targetElement.boardElement!==n&&(t.targetElement=n&&n.di)};Vr.prototype._getLabel=function(t){return t.label||(t.label=this._dcrFactory.createDiLabel()),t.label};function xi(t){return function(e){var n=e.context,r=n.shape||n.connection;Jt(r,"dcr:BoardElement")&&t(e)}}function ds(t,e,n){lo.call(this),this._dcrFactory=t,this._moddle=e,this._translate=n}Te(ds,lo);ds.$inject=["dcrFactory","moddle","translate"];ds.prototype.baseCreate=lo.prototype.create;ds.prototype.create=function(t,e){return t==="label"?(e.di||this._dcrFactory.createDiLabel(),this.baseCreate(t,ft({type:"label"},Oh,e))):this.createOdElement(t,e)};ds.prototype.createOdElement=function(t,e){var n,r=this._translate;e=e||{};var a=e.businessObject;if(!a){if(!e.type)throw new Error(r("no shape type specified"));a=this._dcrFactory.create(e.type)}if(a.di||(t==="root"?a.di=this._dcrFactory.createDiPlane(a,[],{id:a.id+"_di"}):t==="connection"?a.di=this._dcrFactory.createDiEdge(a,[],{id:a.id+"_di"}):a.di=this._dcrFactory.createDiShape(a,{},{id:a.id+"_di"})),e.di&&(ft(a.di,e.di),delete e.di),h9(a,e,["processRef","isInterrupting","associationDirection","isForCompensation"]),n=this._getDefaultSize(a),e=ft({businessObject:a,id:a.id},n,e),e.attrs)for(let s of Object.keys(e.attrs))a.set(s,e.attrs[s]);return this.baseCreate(t,e)};ds.prototype._getDefaultSize=function(t){return Jt(t,"dcr:Event")?{width:130,height:150}:Jt(t,"dcr:Nesting")?{width:400,height:280}:Jt(t,"dcr:SubProcess")?{width:400,height:280}:{width:100,height:80}};function h9(t,e,n){st(n,function(r){e[r]!==void 0&&p9(t,e,r)})}function p9(t,e,n){t[n]=e[n],delete e[n]}function yp(t,e){this._modeling=t,this._canvas=e}yp.$inject=["modeling","canvas"];yp.prototype.preExecute=function(t){var e=this._modeling,n=t.elements,r=t.alignment;st(n,function(a){var s={x:0,y:0};xn(r.left)?s.x=r.left-a.x:xn(r.right)?s.x=r.right-a.width-a.x:xn(r.center)?s.x=r.center-Math.round(a.width/2)-a.x:xn(r.top)?s.y=r.top-a.y:xn(r.bottom)?s.y=r.bottom-a.height-a.y:xn(r.middle)&&(s.y=r.middle-Math.round(a.height/2)-a.y),e.moveElements([a],s,a.parent)})};yp.prototype.postExecute=function(t){};function mp(t){this._modeling=t}mp.$inject=["modeling"];mp.prototype.preExecute=function(t){var e=t.source;if(!e)throw new Error("source required");var n=t.target||e.parent,r=t.shape,a=t.hints||{};r=t.shape=this._modeling.createShape(r,t.position,n,{attach:a.attach}),t.shape=r};mp.prototype.postExecute=function(t){var e=t.hints||{};g9(t.source,t.shape)||(e.connectionTarget===t.source?this._modeling.connect(t.shape,t.source,t.connection):this._modeling.connect(t.source,t.shape,t.connection))};function g9(t,e){return qh(t.outgoing,function(n){return n.target===e})}function vp(t,e){this._canvas=t,this._layouter=e}vp.$inject=["canvas","layouter"];vp.prototype.execute=function(t){var e=t.connection,n=t.source,r=t.target,a=t.parent,s=t.parentIndex,u=t.hints;if(!n||!r)throw new Error("source and target required");if(!a)throw new Error("parent required");return e.source=n,e.target=r,e.waypoints||(e.waypoints=this._layouter.layoutConnection(e,u)),this._canvas.addConnection(e,a,s),e};vp.prototype.revert=function(t){var e=t.connection;return this._canvas.removeConnection(e),e.source=null,e.target=null,e};var yd=Math.round;function t1(t){this._modeling=t}t1.$inject=["modeling"];t1.prototype.preExecute=function(t){var e=t.elements,n=t.parent,r=t.parentIndex,a=t.position,s=t.hints,u=this._modeling;st(e,function(g){Kt(g.x)||(g.x=0),Kt(g.y)||(g.y=0)});var l=sn(e,function(g){return!g.hidden}),f=bn(l);st(e,function(g){Ue(g)&&(g.waypoints=An(g.waypoints,function(v){return{x:yd(v.x-f.x-f.width/2+a.x),y:yd(v.y-f.y-f.height/2+a.y)}})),ft(g,{x:yd(g.x-f.x-f.width/2+a.x),y:yd(g.y-f.y-f.height/2+a.y)})});var h=CS(e),p={};st(e,function(g){if(Ue(g)){p[g.id]=Kt(r)?u.createConnection(p[g.source.id],p[g.target.id],r,g,g.parent||n,s):u.createConnection(p[g.source.id],p[g.target.id],g,g.parent||n,s);return}var v=ft({},s);h.indexOf(g)===-1&&(v.autoResize=!1),vr(g)&&(v=ao(v,["attach"])),p[g.id]=Kt(r)?u.createShape(g,ro(g,["x","y","width","height"]),g.parent||n,r,v):u.createShape(g,ro(g,["x","y","width","height"]),g.parent||n,v)}),t.elements=hS(p)};var QT=Math.round;function ya(t){this._canvas=t}ya.$inject=["canvas"];ya.prototype.execute=function(t){var e=t.shape,n=t.position,r=t.parent,a=t.parentIndex;if(!r)throw new Error("parent required");if(!n)throw new Error("position required");return n.width!==void 0?ft(e,n):ft(e,{x:n.x-QT(e.width/2),y:n.y-QT(e.height/2)}),this._canvas.addShape(e,r,a),e};ya.prototype.revert=function(t){var e=t.shape;return this._canvas.removeShape(e),e};function Al(t){ya.call(this,t)}Te(Al,ya);Al.$inject=["canvas"];var y9=ya.prototype.execute;Al.prototype.execute=function(t){var e=t.shape;return v9(e),e.labelTarget=t.labelTarget,y9.call(this,t)};var m9=ya.prototype.revert;Al.prototype.revert=function(t){return t.shape.labelTarget=null,m9.call(this,t)};function v9(t){["width","height"].forEach(function(e){typeof t[e]>"u"&&(t[e]=0)})}function Ol(t,e){this._canvas=t,this._modeling=e}Ol.$inject=["canvas","modeling"];Ol.prototype.preExecute=function(t){var e=this._modeling,n=t.connection;na(n.incoming,function(r){e.removeConnection(r,{nested:!0})}),na(n.outgoing,function(r){e.removeConnection(r,{nested:!0})})};Ol.prototype.execute=function(t){var e=t.connection,n=e.parent;return t.parent=n,t.parentIndex=qv(n.children,e),t.source=e.source,t.target=e.target,this._canvas.removeConnection(e),e.source=null,e.target=null,e};Ol.prototype.revert=function(t){var e=t.connection,n=t.parent,r=t.parentIndex;return e.source=t.source,e.target=t.target,oi(n.children,e,r),this._canvas.addConnection(e,n),e};function e1(t,e){this._modeling=t,this._elementRegistry=e}e1.$inject=["modeling","elementRegistry"];e1.prototype.postExecute=function(t){var e=this._modeling,n=this._elementRegistry,r=t.elements;st(r,function(a){n.get(a.id)&&(a.waypoints?e.removeConnection(a):e.removeShape(a))})};function Rl(t,e){this._canvas=t,this._modeling=e}Rl.$inject=["canvas","modeling"];Rl.prototype.preExecute=function(t){var e=this._modeling,n=t.shape;na(n.incoming,function(r){e.removeConnection(r,{nested:!0})}),na(n.outgoing,function(r){e.removeConnection(r,{nested:!0})}),na(n.children,function(r){Ue(r)?e.removeConnection(r,{nested:!0}):e.removeShape(r,{nested:!0})})};Rl.prototype.execute=function(t){var e=this._canvas,n=t.shape,r=n.parent;return t.oldParent=r,t.oldParentIndex=qv(r.children,n),e.removeShape(n),n};Rl.prototype.revert=function(t){var e=this._canvas,n=t.shape,r=t.oldParent,a=t.oldParentIndex;return oi(r.children,n,a),e.addShape(n,r),n};function _p(t){this._modeling=t}_p.$inject=["modeling"];var JT={x:"y",y:"x"};_p.prototype.preExecute=function(t){var e=this._modeling,n=t.groups,r=t.axis,a=t.dimension;function s(O,S){O.range.min=Math.min(S[r],O.range.min),O.range.max=Math.max(S[r]+S[a],O.range.max)}function u(O){return O[r]+O[a]/2}function l(O){return O.length-1}function f(O){return O.max-O.min}function h(O,S){var x={y:0};x[r]=O-u(S),x[r]&&(x[JT[r]]=0,e.moveElements([S],x,S.parent))}var p=n[0],g=l(n),v=n[g],_,E,M=0;st(n,function(O,S){var x,m,w;if(O.elements.length<2){S&&S!==n.length-1&&(s(O,O.elements[0]),M+=f(O.range));return}x=no(O.elements,r),m=x[0],S===g&&(m=x[l(x)]),w=u(m),O.range=null,st(x,function(C){if(h(w,C),O.range===null){O.range={min:C[r],max:C[r]+C[a]};return}s(O,C)}),S&&S!==n.length-1&&(M+=f(O.range))}),E=Math.abs(v.range.min-p.range.max),_=Math.round((E-M)/(n.length-1)),!(_<n.length-1)&&st(n,function(O,S){var x={},m;O===p||O===v||(m=n[S-1],O.range.max=0,st(O.elements,function(w,C){x[JT[r]]=0,x[r]=m.range.max-w[r]+_,O.range.min!==w[r]&&(x[r]+=w[r]-O.range.min),x[r]&&e.moveElements([w],x,w.parent),O.range.max=Math.max(w[r]+w[a],C?O.range.max:0)}))})};_p.prototype.postExecute=function(t){};function xp(t,e){this._layouter=t,this._canvas=e}xp.$inject=["layouter","canvas"];xp.prototype.execute=function(t){var e=t.connection,n=e.waypoints;return ft(t,{oldWaypoints:n}),e.waypoints=this._layouter.layoutConnection(e,t.hints),e};xp.prototype.revert=function(t){var e=t.connection;return e.waypoints=t.oldWaypoints,e};function n1(){}n1.prototype.execute=function(t){var e=t.connection,n=t.delta,r=t.newParent||e.parent,a=t.newParentIndex,s=e.parent;return t.oldParent=s,t.oldParentIndex=ii(s.children,e),oi(r.children,e,a),e.parent=r,st(e.waypoints,function(u){u.x+=n.x,u.y+=n.y,u.original&&(u.original.x+=n.x,u.original.y+=n.y)}),e};n1.prototype.revert=function(t){var e=t.connection,n=e.parent,r=t.oldParent,a=t.oldParentIndex,s=t.delta;return ii(n.children,e),oi(r.children,e,a),e.parent=r,st(e.waypoints,function(u){u.x-=s.x,u.y-=s.y,u.original&&(u.original.x-=s.x,u.original.y-=s.y)}),e};function r1(t,e,n){var r=bp(t),a=tA(r,e),s=r[0];return a.length?a[a.length-1]:Ml(s.original||s,n,e)}function i1(t,e,n){var r=bp(t),a=tA(r,e),s=r[r.length-1];return a.length?a[0]:Ml(s.original||s,n,e)}function o1(t,e,n){var r=bp(t),a=JM(e,n),s=r[0];return Ml(s.original||s,a,e)}function a1(t,e,n){var r=bp(t),a=JM(e,n),s=r[r.length-1];return Ml(s.original||s,a,e)}function JM(t,e){return{x:t.x-e.x,y:t.y-e.y,width:t.width,height:t.height}}function bp(t){var e=t.waypoints;if(!e.length)throw new Error("connection#"+t.id+": no waypoints");return e}function tA(t,e){var n=An(t,x9);return sn(n,function(r){return _9(r,e)})}function _9(t,e){return zr(e,t,1)==="intersect"}function x9(t){return t.original||t}function s1(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}s1.prototype.add=function(t,e){return this.addAll([t],e)};s1.prototype.addAll=function(t,e){var n=kD(t,!!e,this);return ft(this,n),this};function Nl(t){this._modeling=t}Nl.prototype.moveRecursive=function(t,e,n){return t?this.moveClosure(this.getClosure(t),e,n):[]};Nl.prototype.moveClosure=function(t,e,n,r,a){var s=this._modeling,u=t.allShapes,l=t.allConnections,f=t.enclosedConnections,h=t.topLevel,p=!1;a&&a.parent===n&&(p=!0),st(u,function(g){s.moveShape(g,e,h[g.id]&&!p&&n,{recurse:!1,layout:!1})}),st(l,function(g){var v=!!u[g.source.id],_=!!u[g.target.id];f[g.id]&&v&&_?s.moveConnection(g,e,h[g.id]&&!p&&n):s.layoutConnection(g,{connectionStart:v&&o1(g,g.source,e),connectionEnd:_&&a1(g,g.target,e)})})};Nl.prototype.getClosure=function(t){return new s1().addAll(t,!0)};function Ep(t){this._helper=new Nl(t)}Ep.$inject=["modeling"];Ep.prototype.preExecute=function(t){t.closure=this._helper.getClosure(t.shapes)};Ep.prototype.postExecute=function(t){var e=t.hints,n;e&&e.primaryShape&&(n=e.primaryShape,e.oldParent=n.parent),this._helper.moveClosure(t.closure,t.delta,t.newParent,t.newHost,n)};function hs(t){this._modeling=t,this._helper=new Nl(t)}hs.$inject=["modeling"];hs.prototype.execute=function(t){var e=t.shape,n=t.delta,r=t.newParent||e.parent,a=t.newParentIndex,s=e.parent;return t.oldBounds=ro(e,["x","y","width","height"]),t.oldParent=s,t.oldParentIndex=ii(s.children,e),oi(r.children,e,a),ft(e,{parent:r,x:e.x+n.x,y:e.y+n.y}),e};hs.prototype.postExecute=function(t){var e=t.shape,n=t.delta,r=t.hints,a=this._modeling;r.layout!==!1&&(st(e.incoming,function(s){a.layoutConnection(s,{connectionEnd:a1(s,e,n)})}),st(e.outgoing,function(s){a.layoutConnection(s,{connectionStart:o1(s,e,n)})})),r.recurse!==!1&&this.moveChildren(t)};hs.prototype.revert=function(t){var e=t.shape,n=t.oldParent,r=t.oldParentIndex,a=t.delta;return oi(n.children,e,r),ft(e,{parent:n,x:e.x-a.x,y:e.y-a.y}),e};hs.prototype.moveChildren=function(t){var e=t.delta,n=t.shape;this._helper.moveRecursive(n.children,e,null)};hs.prototype.getNewParent=function(t){return t.newParent||t.shape.parent};function Dl(t){this._modeling=t}Dl.$inject=["modeling"];Dl.prototype.execute=function(t){var e=t.newSource,n=t.newTarget,r=t.connection,a=t.dockingOrPoints;if(!e&&!n)throw new Error("newSource or newTarget required");return ne(a)&&(t.oldWaypoints=r.waypoints,r.waypoints=a),e&&(t.oldSource=r.source,r.source=e),n&&(t.oldTarget=r.target,r.target=n),r};Dl.prototype.postExecute=function(t){var e=t.connection,n=t.newSource,r=t.newTarget,a=t.dockingOrPoints,s=t.hints||{},u={};s.connectionStart&&(u.connectionStart=s.connectionStart),s.connectionEnd&&(u.connectionEnd=s.connectionEnd),s.layoutConnection!==!1&&(n&&(!r||s.docking==="source")&&(u.connectionStart=u.connectionStart||t2(ne(a)?a[0]:a)),r&&(!n||s.docking==="target")&&(u.connectionEnd=u.connectionEnd||t2(ne(a)?a[a.length-1]:a)),s.newWaypoints&&(u.waypoints=s.newWaypoints),this._modeling.layoutConnection(e,u))};Dl.prototype.revert=function(t){var e=t.oldSource,n=t.oldTarget,r=t.oldWaypoints,a=t.connection;return e&&(a.source=e),n&&(a.target=n),r&&(a.waypoints=r),a};function t2(t){return t.original||t}function _o(t,e){this._modeling=t,this._rules=e}_o.$inject=["modeling","rules"];_o.prototype.preExecute=function(t){var e=this,n=this._modeling,r=this._rules,a=t.oldShape,s=t.newData,u=t.hints||{},l;function f(E,M,O){return r.allowed("connection.reconnect",{connection:O,source:E,target:M})}var h={x:s.x,y:s.y},p={x:a.x,y:a.y,width:a.width,height:a.height};l=t.newShape=t.newShape||e.createShape(s,h,a.parent,u),a.host&&n.updateAttachment(l,a.host);var g;u.moveChildren!==!1&&(g=a.children.slice(),n.moveElements(g,{x:0,y:0},l,u));var v=a.incoming.slice(),_=a.outgoing.slice();st(v,function(E){var M=E.source,O=f(M,l,E);O&&e.reconnectEnd(E,l,i1(E,l,p),u)}),st(_,function(E){var M=E.target,O=f(l,M,E);O&&e.reconnectStart(E,l,r1(E,l,p),u)})};_o.prototype.postExecute=function(t){var e=t.oldShape;this._modeling.removeShape(e)};_o.prototype.execute=function(t){};_o.prototype.revert=function(t){};_o.prototype.createShape=function(t,e,n,r){return this._modeling.createShape(t,e,n,r)};_o.prototype.reconnectStart=function(t,e,n,r){this._modeling.reconnectStart(t,e,n,r)};_o.prototype.reconnectEnd=function(t,e,n,r){this._modeling.reconnectEnd(t,e,n,r)};function Ll(t){this._modeling=t}Ll.$inject=["modeling"];Ll.prototype.execute=function(t){var e=t.shape,n=t.newBounds,r=t.minBounds;if(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)throw new Error("newBounds must have {x, y, width, height} properties");if(r&&(n.width<r.width||n.height<r.height))throw new Error("width and height cannot be less than minimum height and width");if(!r&&n.width<10||n.height<10)throw new Error("width and height cannot be less than 10px");return t.oldBounds={width:e.width,height:e.height,x:e.x,y:e.y},ft(e,{width:n.width,height:n.height,x:n.x,y:n.y}),e};Ll.prototype.postExecute=function(t){var e=this._modeling,n=t.shape,r=t.oldBounds,a=t.hints||{};a.layout!==!1&&(st(n.incoming,function(s){e.layoutConnection(s,{connectionEnd:i1(s,n,r)})}),st(n.outgoing,function(s){e.layoutConnection(s,{connectionStart:r1(s,n,r)})}))};Ll.prototype.revert=function(t){var e=t.shape,n=t.oldBounds;return ft(e,{width:n.width,height:n.height,x:n.x,y:n.y}),e};function ma(t){this._modeling=t}ma.$inject=["modeling"];ma.prototype.preExecute=function(t){var e=t.delta,n=t.direction,r=t.movingShapes,a=t.resizingShapes,s=t.start,u={};this.moveShapes(r,e),st(a,function(l){u[l.id]=E9(l)}),this.resizeShapes(a,e,n),this.updateConnectionWaypoints(a9(r,a),e,n,s,r,a,u)};ma.prototype.execute=function(){};ma.prototype.revert=function(){};ma.prototype.moveShapes=function(t,e){var n=this;st(t,function(r){n._modeling.moveShape(r,e,null,{autoResize:!1,layout:!1,recurse:!1})})};ma.prototype.resizeShapes=function(t,e,n){var r=this;st(t,function(a){var s=s9(a,n,e);r._modeling.resizeShape(a,s,null,{attachSupport:!1,autoResize:!1,layout:!1})})};ma.prototype.updateConnectionWaypoints=function(t,e,n,r,a,s,u){var l=this,f=a.concat(s);st(t,function(h){var p=h.source,g=h.target,v=b9(h),_=eA(n),E={};Yo(f,p)&&Yo(f,g)?(v=An(v,function(M){return n2(M,r,n)&&(M[_]=M[_]+e[_]),M.original&&n2(M.original,r,n)&&(M.original[_]=M.original[_]+e[_]),M}),l._modeling.updateWaypoints(h,v,{labelBehavior:!1})):(Yo(f,p)||Yo(f,g))&&(Yo(a,p)?E.connectionStart=o1(h,p,e):Yo(a,g)?E.connectionEnd=a1(h,g,e):Yo(s,p)?E.connectionStart=r1(h,p,u[p.id]):Yo(s,g)&&(E.connectionEnd=i1(h,g,u[g.id])),l._modeling.layoutConnection(h,E))})};function e2(t){return ft({},t)}function b9(t){return An(t.waypoints,function(e){return e=e2(e),e.original&&(e.original=e2(e.original)),e})}function eA(t){switch(t){case"n":return"y";case"w":return"x";case"s":return"y";case"e":return"x"}}function n2(t,e,n){var r=eA(n);if(/e|s/.test(n))return t[r]>e;if(/n|w/.test(n))return t[r]<e}function Yo(t,e){return t.indexOf(e)!==-1}function E9(t){return{x:t.x,y:t.y,height:t.height,width:t.width}}function wp(t){this._modeling=t}wp.$inject=["modeling"];wp.prototype.execute=function(t){var e=t.shape,n=e.children;t.oldChildrenVisibility=nA(n),e.collapsed=!e.collapsed;var r=rA(n,e.collapsed);return[e].concat(r)};wp.prototype.revert=function(t){var e=t.shape,n=t.oldChildrenVisibility,r=e.children,a=iA(r,n);return e.collapsed=!e.collapsed,[e].concat(a)};function nA(t){var e={};return st(t,function(n){e[n.id]=n.hidden,n.children&&(e=ft({},e,nA(n.children)))}),e}function rA(t,e){var n=[];return st(t,function(r){r.hidden=e,n=n.concat(r),r.children&&(n=n.concat(rA(r.children,r.collapsed||e)))}),n}function iA(t,e){var n=[];return st(t,function(r){r.hidden=e[r.id],n=n.concat(r),r.children&&(n=n.concat(iA(r.children,e)))}),n}function Tp(t){this._modeling=t}Tp.$inject=["modeling"];Tp.prototype.execute=function(t){var e=t.shape,n=t.newHost,r=e.host;return t.oldHost=r,t.attacherIdx=oA(r,e),aA(n,e),e.host=n,e};Tp.prototype.revert=function(t){var e=t.shape,n=t.newHost,r=t.oldHost,a=t.attacherIdx;return e.host=r,oA(n,e),aA(r,e,a),e};function oA(t,e){return ii(t&&t.attachers,e)}function aA(t,e,n){if(t){var r=t.attachers;r||(t.attachers=r=[]),oi(r,e,n)}}function u1(){}u1.prototype.execute=function(t){var e=t.connection,n=t.newWaypoints;return t.oldWaypoints=e.waypoints,e.waypoints=n,e};u1.prototype.revert=function(t){var e=t.connection,n=t.oldWaypoints;return e.waypoints=n,e};function Se(t,e,n){this._eventBus=t,this._elementFactory=e,this._commandStack=n;var r=this;t.on("diagram.init",function(){r.registerHandlers(n)})}Se.$inject=["eventBus","elementFactory","commandStack"];Se.prototype.getHandlers=function(){return{"shape.append":mp,"shape.create":ya,"shape.delete":Rl,"shape.move":hs,"shape.resize":Ll,"shape.replace":_o,"shape.toggleCollapse":wp,spaceTool:ma,"label.create":Al,"connection.create":vp,"connection.delete":Ol,"connection.move":n1,"connection.layout":xp,"connection.updateWaypoints":u1,"connection.reconnect":Dl,"elements.create":t1,"elements.move":Ep,"elements.delete":e1,"elements.distribute":_p,"elements.align":yp,"element.updateAttachment":Tp}};Se.prototype.registerHandlers=function(t){st(this.getHandlers(),function(e,n){t.registerHandler(n,e)})};Se.prototype.moveShape=function(t,e,n,r,a){typeof r=="object"&&(a=r,r=null);var s={shape:t,delta:e,newParent:n,newParentIndex:r,hints:a||{}};this._commandStack.execute("shape.move",s)};Se.prototype.updateAttachment=function(t,e){var n={shape:t,newHost:e};this._commandStack.execute("element.updateAttachment",n)};Se.prototype.moveElements=function(t,e,n,r){r=r||{};var a=r.attach,s=n,u;a===!0?(u=n,s=n.parent):a===!1&&(u=null);var l={shapes:t,delta:e,newParent:s,newHost:u,hints:r};this._commandStack.execute("elements.move",l)};Se.prototype.moveConnection=function(t,e,n,r,a){typeof r=="object"&&(a=r,r=void 0);var s={connection:t,delta:e,newParent:n,newParentIndex:r,hints:a||{}};this._commandStack.execute("connection.move",s)};Se.prototype.layoutConnection=function(t,e){var n={connection:t,hints:e||{}};this._commandStack.execute("connection.layout",n)};Se.prototype.createConnection=function(t,e,n,r,a,s){typeof n=="object"&&(s=a,a=r,r=n,n=void 0),r=this._create("connection",r);var u={source:t,target:e,parent:a,parentIndex:n,connection:r,hints:s};return this._commandStack.execute("connection.create",u),u.connection};Se.prototype.createShape=function(t,e,n,r,a){typeof r!="number"&&(a=r,r=void 0),a=a||{};var s=a.attach,u,l;t=this._create("shape",t),s?(u=n.parent,l=n):u=n;var f={position:e,shape:t,parent:u,parentIndex:r,host:l,hints:a};return this._commandStack.execute("shape.create",f),f.shape};Se.prototype.createElements=function(t,e,n,r,a){ne(t)||(t=[t]),typeof r!="number"&&(a=r,r=void 0),a=a||{};var s={position:e,elements:t,parent:n,parentIndex:r,hints:a};return this._commandStack.execute("elements.create",s),s.elements};Se.prototype.createLabel=function(t,e,n,r){n=this._create("label",n);var a={labelTarget:t,position:e,parent:r||t.parent,shape:n};return this._commandStack.execute("label.create",a),a.shape};Se.prototype.appendShape=function(t,e,n,r,a){a=a||{},e=this._create("shape",e);var s={source:t,position:n,target:r,shape:e,connection:a.connection,connectionParent:a.connectionParent,hints:a};return this._commandStack.execute("shape.append",s),s.shape};Se.prototype.removeElements=function(t){var e={elements:t};this._commandStack.execute("elements.delete",e)};Se.prototype.distributeElements=function(t,e,n){var r={groups:t,axis:e,dimension:n};this._commandStack.execute("elements.distribute",r)};Se.prototype.removeShape=function(t,e){var n={shape:t,hints:e||{}};this._commandStack.execute("shape.delete",n)};Se.prototype.removeConnection=function(t,e){var n={connection:t,hints:e||{}};this._commandStack.execute("connection.delete",n)};Se.prototype.replaceShape=function(t,e,n){var r={oldShape:t,newData:e,hints:n||{}};return this._commandStack.execute("shape.replace",r),r.newShape};Se.prototype.alignElements=function(t,e){var n={elements:t,alignment:e};this._commandStack.execute("elements.align",n)};Se.prototype.resizeShape=function(t,e,n,r){var a={shape:t,newBounds:e,minBounds:n,hints:r};this._commandStack.execute("shape.resize",a)};Se.prototype.createSpace=function(t,e,n,r,a){var s={delta:n,direction:r,movingShapes:t,resizingShapes:e,start:a};this._commandStack.execute("spaceTool",s)};Se.prototype.updateWaypoints=function(t,e,n){var r={connection:t,newWaypoints:e,hints:n||{}};this._commandStack.execute("connection.updateWaypoints",r)};Se.prototype.reconnect=function(t,e,n,r,a){var s={connection:t,newSource:e,newTarget:n,dockingOrPoints:r,hints:a||{}};this._commandStack.execute("connection.reconnect",s)};Se.prototype.reconnectStart=function(t,e,n,r){r||(r={}),this.reconnect(t,e,t.target,n,ft(r,{docking:"source"}))};Se.prototype.reconnectEnd=function(t,e,n,r){r||(r={}),this.reconnect(t,t.source,e,n,ft(r,{docking:"target"}))};Se.prototype.connect=function(t,e,n,r){return this.createConnection(t,e,n||{},t.parent,r)};Se.prototype._create=function(t,e){return s3(e)?e:this._elementFactory.create(t,e)};Se.prototype.toggleCollapse=function(t,e){var n={shape:t,hints:e||{}};this._commandStack.execute("shape.toggleCollapse",n)};var eo="id",sA="di",w9={width:0,height:0};function Pl(t,e,n,r,a,s){this._elementRegistry=t,this._moddle=e,this._translate=n,this._modeling=r,this._textRenderer=a,this._dcrRules=s}Pl.$inject=["elementRegistry","moddle","translate","modeling","textRenderer","dcrRules"];Pl.prototype.execute=function(t){var e=t.element,n=[e],r=this._translate;if(!e)throw new Error(r("element required"));var a=this._elementRegistry,s=this._moddle.ids,u=e.businessObject,l=A9(t.properties),f=t.oldProperties||T9(u,l);return uA(l,u)&&(s.unclaim(u[eo]),a.updateId(e,l[eo]),s.claim(l[eo],u)),cA(u,l),t.oldProperties=f,t.changed=n,n};Pl.prototype.postExecute=function(t){var e=t.element,n=e.label,r=n&&gr(n).name;if(hn(e,["dcr:Event","dcr:Nesting","dcr:SubProcess"])&&(e.incoming.forEach(s=>{this._dcrRules.isLinkAllowed(s,s.businessObject.get("type"))||this._modeling.removeElements([s])}),e.outgoing.forEach(s=>{this._dcrRules.isLinkAllowed(s,s.businessObject.get("type"))||this._modeling.removeElements([s])})),!!r){var a=this._textRenderer.getExternalLabelBounds(n,r);this._modeling.resizeShape(n,a,w9)}};Pl.prototype.revert=function(t){var e=t.element,n=t.properties,r=t.oldProperties,a=e.businessObject,s=this._elementRegistry,u=this._moddle.ids;return cA(a,r),uA(n,a)&&(u.unclaim(n[eo]),s.updateId(e,r[eo]),u.claim(r[eo],a)),t.changed};function uA(t,e){return eo in t&&t[eo]!==e[eo]}function T9(t,e){var n=Km(e);return $r(n,function(r,a){return a!==sA?r[a]=t.get(a):r[a]=S9(t.di,Km(e.di)),r},{})}function S9(t,e){return $r(e,function(n,r){return n[r]=t.get(r),n},{})}function cA(t,e){st(e,function(n,r){r!==sA?t.set(r,n):t.di&&C9(t.di,n)})}function C9(t,e){st(e,function(n,r){t.set(r,n)})}var M9=["default"];function A9(t){var e=ft({},t);return M9.forEach(function(n){n in t&&(e[n]=gr(e[n]))}),e}function Sp(t,e){this._canvas=t,this._modeling=e}Sp.$inject=["canvas","modeling"];Sp.prototype.execute=function(t){var e=this._canvas,n=t.newRoot,r=n.businessObject,a=e.getRootElement(),s=a.businessObject,u=s.$parent,l=s.di;e.setRootElement(n,!0),oi(u.rootElements,r),r.$parent=u,ii(u.rootElements,s),s.$parent=null,s.di=null,l.boardElement=r,r.di=l,t.oldRoot=a};Sp.prototype.revert=function(t){var e=this._canvas,n=t.newRoot,r=n.businessObject,a=t.oldRoot,s=a.businessObject,u=r.$parent,l=r.di;e.setRootElement(a,!0),ii(u.rootElements,r),r.$parent=null,oi(u.rootElements,s),s.$parent=u,r.di=null,l.boardElement=s,s.di=l};function Cp(t){this._moddle=t}Cp.$inject=["moddle"];Cp.prototype.execute=function(t){var e=this._moddle.ids,n=t.id,r=t.element,a=t.claiming;a?e.claim(n,r):e.unclaim(n)};Cp.prototype.revert=function(t){var e=this._moddle.ids,n=t.id,r=t.element,a=t.claiming;a?e.unclaim(n):e.claim(n,r)};var O9={width:0,height:0};function lA(t,e){function n(l,f){var h=l.label||l,p=l.labelTarget||l;return mL(h,f),[h,p]}function r(l){var f=l.element;f.businessObject,l.newLabel,!Ir(f)&&c8()}function a(l){return l.oldLabel=du(l.element),n(l.element,l.newLabel)}function s(l){return n(l.element,l.oldLabel)}function u(l){var f=l.element,h=f.label||f,p=l.newLabel,g=l.newBounds,v=l.hints||{};if(Ir(h)){if(Ir(h)&&R9(p)){v.removeShape!==!1&&t.removeShape(h,{unsetLabel:!1});return}var _=du(h);typeof g>"u"&&(g=e.getExternalLabelBounds(h,_)),g&&t.resizeShape(h,g,O9)}}this.preExecute=r,this.execute=a,this.revert=s,this.postExecute=u}lA.$inject=["modeling","textRenderer"];function R9(t){return!t||!t.trim()}function xo(t,e,n,r){Se.call(this,t,e,n),this._dcrRules=r}Te(xo,Se);xo.$inject=["eventBus","elementFactory","commandStack","dcrRules"];xo.prototype.getHandlers=function(){var t=Se.prototype.getHandlers.call(this);return t["element.updateProperties"]=Pl,t["canvas.updateRoot"]=Sp,t["id.updateClaim"]=Cp,t["element.updateLabel"]=lA,t};xo.prototype.updateLabel=function(t,e,n,r){this._commandStack.execute("element.updateLabel",{element:t,newLabel:e,newBounds:n,hints:r||{}})};xo.prototype.updateProperties=function(t,e){this._commandStack.execute("element.updateProperties",{element:t,properties:e})};xo.prototype.claimId=function(t,e){this._commandStack.execute("id.updateClaim",{id:t,element:e,claiming:!0})};xo.prototype.unclaimId=function(t,e){this._commandStack.execute("id.updateClaim",{id:t,element:e})};xo.prototype.connect=function(t,e,n,r){var a=this._dcrRules;if(n||(n=a.canConnect(t,e)),!!n)return this.createConnection(t,e,n,t.parent,r)};function fA(){}fA.prototype.layoutConnection=function(t,e){return e=e||{},[e.connectionStart||me(e.source||t.source),e.connectionEnd||me(e.target||t.target)]};var md=20,N9=5,Bh=Math.round,r2=20,D9={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function L9(t,e){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[e].test(t)}function P9(t,e){return{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[t].test(e)}function dA(t,e,n){var r=zr(e,t,N9),a=n.split(":")[0],s=Bh((e.x-t.x)/2+t.x),u=Bh((e.y-t.y)/2+t.y),l,f,h=P9(a,r),p=/h|r|l/.test(a),g=!1,v=!1;return h?(l=p?{x:s,y:t.y}:{x:t.x,y:u},f=p?"h:h":"v:v"):(g=L9(r,a),f=p?"h:v":"v:h",g?p?(v=u===t.y,l={x:t.x+md*(/l/.test(a)?-1:1),y:v?u+md:u}):(v=s===t.x,l={x:v?s+md:s,y:t.y+md*(/t/.test(a)?-1:1)}):l={x:s,y:u}),{waypoints:c1(t,l,f).concat(l),directions:f,turnNextDirections:v}}function B9(t,e,n){return dA(t,e,n)}function k9(t,e,n){var r=dA(e,t,i2(n));return{waypoints:r.waypoints.slice().reverse(),directions:i2(r.directions),turnNextDirections:r.turnNextDirections}}function I9(t,e){var n=t.directions.split(":")[1],r=e.directions.split(":")[0];t.turnNextDirections&&(n=n=="h"?"v":"h"),e.turnNextDirections&&(r=r=="h"?"v":"h");var a=n+":"+r,s=c1(t.waypoints[t.waypoints.length-1],e.waypoints[0],a);return{waypoints:s,directions:a}}function i2(t){return t.split(":").reverse().join(":")}function j9(t,e,n){var r=Bh((e.x-t.x)/2+t.x),a=Bh((e.y-t.y)/2+t.y);if(n==="h:v")return[{x:e.x,y:t.y}];if(n==="v:h")return[{x:t.x,y:e.y}];if(n==="h:h")return[{x:r,y:t.y},{x:r,y:e.y}];if(n==="v:v")return[{x:t.x,y:a},{x:e.x,y:a}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}function c1(t,e,n){if(n=n||"h:h",!V9(n))throw new Error("unknown directions: <"+n+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(hA(n)){var r=B9(t,e,n),a=k9(t,e,n),s=I9(r,a);return[].concat(r.waypoints,s.waypoints,a.waypoints)}return j9(t,e,n)}function $9(t,e,n){var r=c1(t,e,n);return r.unshift(t),r.push(e),pA(r)}function z9(t,e,n,r,a){var s=a&&a.preferredLayouts||[],u=XN(s,"straight")[0]||"h:h",l=D9[u]||0,f=zr(t,e,l),h=G9(f,u);n=n||me(t),r=r||me(e);var p=h.split(":"),g=a2(n,t,p[0],Y9(f)),v=a2(r,e,p[1],f);return $9(g,v,h)}function U9(t,e,n,r,a,s){ne(n)&&(a=n,s=r,n=me(t),r=me(e)),s=ft({preferredLayouts:[]},s),a=a||[];var u=s.preferredLayouts,l=u.indexOf("straight")!==-1,f;return f=l&&F9(t,e,n,r,s),f||(f=s.connectionEnd&&q9(e,t,r,a),f)||(f=s.connectionStart&&X9(t,e,n,a),f)?f:!s.connectionStart&&!s.connectionEnd&&a&&a.length?a:z9(t,e,n,r,s)}function H9(t,e,n){return t>=e&&t<=n}function o2(t,e,n){var r={x:"width",y:"height"};return H9(e[t],n[t],n[t]+n[r[t]])}function F9(t,e,n,r,a){var s={},u,l;return l=zr(t,e),/^(top|bottom|left|right)$/.test(l)?(/top|bottom/.test(l)&&(u="x"),/left|right/.test(l)&&(u="y"),a.preserveDocking==="target"?o2(u,r,t)?(s[u]=r[u],[{x:s.x!==void 0?s.x:n.x,y:s.y!==void 0?s.y:n.y,original:{x:s.x!==void 0?s.x:n.x,y:s.y!==void 0?s.y:n.y}},{x:r.x,y:r.y}]):null:o2(u,n,e)?(s[u]=n[u],[{x:n.x,y:n.y},{x:s.x!==void 0?s.x:r.x,y:s.y!==void 0?s.y:r.y,original:{x:s.x!==void 0?s.x:r.x,y:s.y!==void 0?s.y:r.y}}]):null):null}function X9(t,e,n,r){return l1(t,e,n,r)}function q9(t,e,n,r){var a=r.slice().reverse();return a=l1(t,e,n,a),a?a.reverse():null}function l1(t,e,n,r){function a(p){return p.length<3?!0:p.length>4?!1:!!Ie(p,function(g,v){var _=p[v-1];return _&&gl(g,_)<3})}function s(p,g,v){var _=Ji(g,p);switch(_){case"v":return{x:v.x,y:p.y};case"h":return{x:p.x,y:v.y}}return{x:p.x,y:p.y}}function u(p,g,v){var _;for(_=p.length-2;_!==0;_--)if(hE(p[_],g,r2)||hE(p[_],v,r2))return p.slice(_);return p}if(a(r))return null;var l=r[0],f=r.slice(),h;return f[0]=n,f[1]=s(f[1],l,n),h=u(f,t,e),h!==f&&(f=l1(t,e,n,h)),f&&Ji(f)?null:f}function G9(t,e){if(hA(e))return e;switch(t){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return e}}function V9(t){return t&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(t)}function hA(t){return t&&/t|r|b|l/.test(t)}function Y9(t){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[t]}function a2(t,e,n,r){if(n==="h"&&(n=/left/.test(r)?"l":"r"),n==="v"&&(n=/top/.test(r)?"t":"b"),n==="t")return{original:t,x:t.x,y:e.y};if(n==="r")return{original:t,x:e.x+e.width,y:t.y};if(n==="b")return{original:t,x:t.x,y:e.y+e.height};if(n==="l")return{original:t,x:e.x,y:t.y};throw new Error("unexpected dockingDirection: <"+n+">")}function pA(t){return t.reduce(function(e,n,r){var a=e[e.length-1],s=t[r+1];return Gv(a,s,n,0)||e.push(n),e},[])}function f1(){}Te(f1,fA);f1.prototype.layoutConnection=function(t,e){e||(e={});var n=e.source||t.source,r=e.target||t.target,a=e.waypoints||t.waypoints,s=e.connectionStart,u=e.connectionEnd,l,f;return s||(s=s2(a&&a[0],n)),u||(u=s2(a&&a[a.length-1],r)),Jt(t,"dcr:Relation")&&(n===r?l={preferredLayouts:K9(n,t)}:l={preferredLayouts:["h:h"]}),l&&(l=ft(l,e),f=pA(U9(n,r,s,u,a,l))),f||[s,u]};function s2(t,e){return t?t.original||t:me(e)}function K9(t,e){var n=e.waypoints,r=n&&n.length&&zr(n[0],t);return r==="top"?["t:r"]:r==="right"?["r:b"]:r==="left"?["l:t"]:["b:l"]}function u2(t){return ft({original:t.point.original||t.point},t.actual)}function va(t,e){this._elementRegistry=t,this._graphicsFactory=e}va.$inject=["elementRegistry","graphicsFactory"];va.prototype.getCroppedWaypoints=function(t,e,n){e=e||t.source,n=n||t.target;var r=this.getDockingPoint(t,e,!0),a=this.getDockingPoint(t,n),s=t.waypoints.slice(r.idx+1,a.idx);return s.unshift(u2(r)),s.push(u2(a)),s};va.prototype.getDockingPoint=function(t,e,n){var r=t.waypoints,a,s,u;return a=n?0:r.length-1,s=r[a],u=this._getIntersection(e,t,n),{point:s,actual:u||s,idx:a}};va.prototype._getIntersection=function(t,e,n){var r=this._getShapePath(t),a=this._getConnectionPath(e);return ev(r,a,n)};va.prototype._getConnectionPath=function(t){return this._graphicsFactory.getConnectionPath(t)};va.prototype._getShapePath=function(t){return this._graphicsFactory.getShapePath(t)};va.prototype._getGfx=function(t){return this._elementRegistry.getGraphics(t)};const Z9={__init__:["modeling","dcrUpdater"],__depends__:[OB,kB,jB,$B,YM,XB,YB,ZB,n9,po,MM,QM],dcrFactory:["type",Gr],dcrUpdater:["type",Vr],elementFactory:["type",ds],modeling:["type",xo],layouter:["type",f1],connectionDocking:["type",va]};var W9=500,Q9=1250,J9=1500,kh=Math.round;function tk(t){return{x:t.x+kh(t.width/2),y:t.y+kh(t.height/2)}}function gA(t,e,n,r,a){function s(l,f,h,p){return a.allowed("elements.move",{shapes:l,delta:f,position:h,target:p})}t.on("shape.move.start",J9,function(l){var f=l.context,h=l.shape,p=r.get().slice();p.indexOf(h)===-1&&(p=[h]),p=ek(p),ft(f,{shapes:p,validatedShapes:p,shape:h})}),t.on("shape.move.start",Q9,function(l){var f=l.context,h=f.validatedShapes,p;if(p=f.canExecute=s(h),!p)return!1}),t.on("shape.move.move",W9,function(l){var f=l.context,h=f.validatedShapes,p=l.hover,g={x:l.dx,y:l.dy},v={x:l.x,y:l.y},_;if(_=s(h,g,v,p),f.delta=g,f.canExecute=_,_===null){f.target=null;return}f.target=p}),t.on("shape.move.end",function(l){var f=l.context,h=f.delta,p=f.canExecute,g=p==="attach",v=f.shapes;if(p===!1)return!1;h.x=kh(h.x),h.y=kh(h.y),!(h.x===0&&h.y===0)&&n.moveElements(v,h,f.target,{primaryShape:f.shape,attach:g})}),t.on("element.mousedown",function(l){if(fa(l)){var f=Su(l);if(!f)throw new Error("must supply DOM mousedown event");return u(f,l.element)}});function u(l,f,h,p){if(On(h)&&(p=h,h=!1),!(f.waypoints||!f.parent)&&!le(l.target).has("djs-hit-no-move")){var g=tk(f);return e.init(l,g,"shape.move",{cursor:"grabbing",autoActivate:h,data:{shape:f,context:p||{}}}),!0}}this.start=u}gA.$inject=["eventBus","dragging","modeling","selection","rules"];function ek(t){var e=pl(t,"id");return sn(t,function(n){for(;n=n.parent;)if(e[n.id])return!1;return!0})}var c2=499,Om="djs-dragging",l2="drop-ok",f2="drop-not-ok",d2="new-parent",h2="attach-ok";function yA(t,e,n,r){function a(f){var h=s(f),p=nk(h);return p}function s(f){var h=Xv(f,!0),p=An(h,function(g){return(g.incoming||[]).concat(g.outgoing||[])});return Ym(h.concat(p))}function u(f,h){[h2,l2,f2,d2].forEach(function(p){p===h?e.addMarker(f,p):e.removeMarker(f,p)})}function l(f,h,p){r.addDragger(h,f.dragGroup),p&&e.addMarker(h,Om),f.allDraggedElements?f.allDraggedElements.push(h):f.allDraggedElements=[h]}t.on("shape.move.start",c2,function(f){var h=f.context,p=h.shapes,g=h.allDraggedElements,v=a(p);if(!h.dragGroup){var _=Nt("g");yt(_,n.cls("djs-drag-group",["no-events"]));var E=e.getActiveLayer();Wt(E,_),h.dragGroup=_}v.forEach(function(M){r.addDragger(M,h.dragGroup)}),g?g=Ym([g,s(p)]):g=s(p),st(g,function(M){e.addMarker(M,Om)}),h.allDraggedElements=g,h.differentParents=rk(p)}),t.on("shape.move.move",c2,function(f){var h=f.context,p=h.dragGroup,g=h.target,v=h.shape.parent,_=h.canExecute;g&&(_==="attach"?u(g,h2):h.canExecute&&g&&g.id!==v.id?u(g,d2):u(g,h.canExecute?l2:f2)),kr(p,f.dx,f.dy)}),t.on(["shape.move.out","shape.move.cleanup"],function(f){var h=f.context,p=h.target;p&&u(p,null)}),t.on("shape.move.cleanup",function(f){var h=f.context,p=h.allDraggedElements,g=h.dragGroup;st(p,function(v){e.removeMarker(v,Om)}),g&&Qe(g)}),this.makeDraggable=l}yA.$inject=["eventBus","canvas","styles","previewSupport"];function nk(t){var e=sn(t,function(n){return Ue(n)?Ie(t,Jo({id:n.source.id}))&&Ie(t,Jo({id:n.target.id})):!0});return e}function rk(t){return qN(pl(t,function(e){return e.parent&&e.parent.id}))!==1}const ik={__depends__:[bl,po,PC,Ai,go,El],__init__:["move","movePreview"],move:["type",gA],movePreview:["type",yA]};var mA=".djs-palette-toggle",vA=".entry",ok=mA+", "+vA,vv="djs-palette-",ak="shown",_v="open",p2="two-column",sk=1e3;function Ve(t,e){this._eventBus=t,this._canvas=e;var n=this;t.on("tool-manager.update",function(r){var a=r.tool;n.updateToolHighlight(a)}),t.on("i18n.changed",function(){n._update()}),t.on("diagram.init",function(){n._diagramInitialized=!0,n._rebuild()})}Ve.$inject=["eventBus","canvas"];Ve.prototype.registerProvider=function(t,e){e||(e=t,t=sk),this._eventBus.on("palette.getProviders",t,function(n){n.providers.push(e)}),this._rebuild()};Ve.prototype.getEntries=function(){var t=this._getProviders();return t.reduce(ck,{})};Ve.prototype._rebuild=function(){if(this._diagramInitialized){var t=this._getProviders();t.length&&(this._container||this._init(),this._update())}};Ve.prototype._init=function(){var t=this,e=this._eventBus,n=this._getParentContainer(),r=this._container=dn(Ve.HTML_MARKUP);n.appendChild(r),mr(n).add(vv+ak),ei.bind(r,ok,"click",function(a){var s=a.delegateTarget;if(zv(s,mA))return t.toggle();t.trigger("click",a)}),Yt.bind(r,"mousedown",function(a){a.stopPropagation()}),ei.bind(r,vA,"dragstart",function(a){t.trigger("dragstart",a)}),e.on("canvas.resized",this._layoutChanged,this),e.fire("palette.create",{container:r})};Ve.prototype._getProviders=function(t){var e=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(e),e.providers};Ve.prototype._toggleState=function(t){t=t||{};var e=this._getParentContainer(),n=this._container,r=this._eventBus,a,s=mr(n),u=mr(e);"twoColumn"in t?a=t.twoColumn:a=this._needsCollapse(e.clientHeight,this._entries||{}),s.toggle(p2,a),u.toggle(vv+p2,a),"open"in t&&(s.toggle(_v,t.open),u.toggle(vv+_v,t.open)),r.fire("palette.changed",{twoColumn:a,open:this.isOpen()})};Ve.prototype._update=function(){var t=an(".djs-palette-entries",this._container),e=this._entries=this.getEntries();jv(t),st(e,function(n,r){var a=n.group||"default",s=an("[data-group="+B0(a)+"]",t);s||(s=dn('<div class="group"></div>'),pr(s,"data-group",a),t.appendChild(s));var u=n.html||(n.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),l=dn(u);if(s.appendChild(l),!n.separator&&(pr(l,"data-action",r),n.title&&pr(l,"title",n.title),n.className&&uk(l,n.className),n.imageUrl)){var f=dn("<img>");pr(f,"src",n.imageUrl),l.appendChild(f)}}),this.open()};Ve.prototype.trigger=function(t,e,n){var r,a,s=e.delegateTarget||e.target;return s?(r=pr(s,"data-action"),a=e.originalEvent||e,this.triggerEntry(r,t,a,n)):e.preventDefault()};Ve.prototype.triggerEntry=function(t,e,n,r){var a=this._entries,s,u;if(s=a[t],!!s&&(u=s.action,this._eventBus.fire("palette.trigger",{entry:s,event:n})!==!1)){if(En(u)){if(e==="click")return u(n,r)}else if(u[e])return u[e](n,r);n.preventDefault()}};Ve.prototype._layoutChanged=function(){this._toggleState({})};Ve.prototype._needsCollapse=function(t,e){var n=50,r=Object.keys(e).length*46;return t<r+n};Ve.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})};Ve.prototype.open=function(){this._toggleState({open:!0})};Ve.prototype.toggle=function(){this.isOpen()?this.close():this.open()};Ve.prototype.isActiveTool=function(t){return t&&this._activeTool===t};Ve.prototype.updateToolHighlight=function(t){var e,n;this._toolsContainer||(e=an(".djs-palette-entries",this._container),this._toolsContainer=an("[data-group=tools]",e)),n=this._toolsContainer,st(n.children,function(r){var a=r.getAttribute("data-action");if(a){var s=mr(r);a=a.replace("-tool",""),s.contains("entry")&&a===t?s.add("highlighted-entry"):s.remove("highlighted-entry")}})};Ve.prototype.isOpen=function(){return mr(this._container).has(_v)};Ve.prototype._getParentContainer=function(){return this._canvas.getContainer()};Ve.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';function uk(t,e){var n=mr(t),r=ne(e)?e:e.split(/\s+/g);r.forEach(function(a){n.add(a)})}function ck(t,e){var n=e.getPaletteEntries();return En(n)?n(t):(st(n,function(r,a){t[a]=r}),t)}const lk={__init__:["palette"],palette:["type",Ve]};var _A="crosshair";function ps(t,e,n,r,a,s,u){this._selection=a,this._dragging=n,this._mouse=u;var l=this,f={create:function(h){var p=e.getActiveLayer(),g;g=h.frame=Nt("rect"),yt(g,{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),Wt(p,g)},update:function(h){var p=h.frame,g=h.bbox;yt(p,{x:g.x,y:g.y,width:g.width,height:g.height})},remove:function(h){h.frame&&Qe(h.frame)}};s.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),t.on("lasso.selection.end",function(h){var p=h.originalEvent.target;!h.hover&&!(p instanceof SVGElement)||t.once("lasso.selection.ended",function(){l.activateLasso(h.originalEvent,!0)})}),t.on("lasso.end",function(h){var p=Rm(h),g=r.filter(function(v){return v});l.select(g,p)}),t.on("lasso.start",function(h){var p=h.context;p.bbox=Rm(h),f.create(p)}),t.on("lasso.move",function(h){var p=h.context;p.bbox=Rm(h),f.update(p)}),t.on("lasso.cleanup",function(h){var p=h.context;f.remove(p)}),t.on("element.mousedown",1500,function(h){if(A0(h))return l.activateLasso(h.originalEvent),!0})}ps.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"];ps.prototype.activateLasso=function(t,e){this._dragging.init(t,"lasso",{autoActivate:e,cursor:_A,data:{context:{}}})};ps.prototype.activateSelection=function(t,e){this._dragging.init(t,"lasso.selection",{trapClick:!1,autoActivate:e,cursor:_A,data:{context:{}}})};ps.prototype.select=function(t,e){var n=ID(t,e);this._selection.select(hS(n))};ps.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();this.activateSelection(t,!!t)};ps.prototype.isActive=function(){var t=this._dragging.context();return t&&/^lasso/.test(t.prefix)};function Rm(t){var e={x:t.x-t.dx,y:t.y-t.dy},n={x:t.x,y:t.y},r;return e.x<=n.x&&e.y<n.y||e.x<n.x&&e.y<=n.y?r={x:e.x,y:e.y,width:n.x-e.x,height:n.y-e.y}:e.x>=n.x&&e.y<n.y||e.x>n.x&&e.y<=n.y?r={x:n.x,y:e.y,width:e.x-n.x,height:n.y-e.y}:e.x<=n.x&&e.y>n.y||e.x<n.x&&e.y>=n.y?r={x:e.x,y:n.y,width:n.x-e.x,height:e.y-n.y}:e.x>=n.x&&e.y>n.y||e.x>n.x&&e.y>=n.y?r={x:n.x,y:n.y,width:e.x-n.x,height:e.y-n.y}:r={x:n.x,y:n.y,width:0,height:0},r}const fk={__depends__:[gp,Tl],__init__:["lassoTool"],lassoTool:["type",ps]};var Nm=1500,xA="grab";function Ru(t,e,n,r,a,s){this._dragging=n,this._mouse=s;var u=this,l=r.get("keyboard",!1);a.registerTool("hand",{tool:"hand",dragging:"hand.move"}),t.on("element.mousedown",Nm,function(f){if(nl(f))return u.activateMove(f.originalEvent,!0),!1}),l&&l.addListener(Nm,function(f){if(!(!g2(f.keyEvent)||u.isActive())){var h=u._mouse.getLastMoveEvent();u.activateMove(h,!!h)}},"keyboard.keydown"),l&&l.addListener(Nm,function(f){!g2(f.keyEvent)||!u.isActive()||u.toggle()},"keyboard.keyup"),t.on("hand.end",function(f){var h=f.originalEvent.target;if(!f.hover&&!(h instanceof SVGElement))return!1;t.once("hand.ended",function(){u.activateMove(f.originalEvent,{reactivate:!0})})}),t.on("hand.move.move",function(f){var h=e.viewbox().scale;e.scroll({dx:f.dx*h,dy:f.dy*h})}),t.on("hand.move.end",function(f){var h=f.context,p=h.reactivate;return!nl(f)&&p&&t.once("hand.move.ended",function(g){u.activateHand(g.originalEvent,!0,!0)}),!1})}Ru.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"];Ru.prototype.activateMove=function(t,e,n){typeof e=="object"&&(n=e,e=!1),this._dragging.init(t,"hand.move",{autoActivate:e,cursor:xA,data:{context:n||{}}})};Ru.prototype.activateHand=function(t,e,n){this._dragging.init(t,"hand",{trapClick:!1,autoActivate:e,cursor:xA,data:{context:{reactivate:n}}})};Ru.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();this.activateHand(t,!!t)};Ru.prototype.isActive=function(){var t=this._dragging.context();return t?/^(hand|hand\.move)$/.test(t.prefix):!1};function g2(t){return Br("Space",t)}const dk={__depends__:[gp,Tl],__init__:["handTool"],handTool:["type",Ru]};var y2="connect-ok",m2="connect-not-ok";function Nu(t,e,n,r,a,s,u){var l=this;this._dragging=e,this._rules=s,this._mouse=u,a.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),t.on("global-connect.hover",function(f){var h=f.context,p=f.hover,g=h.canStartConnect=l.canStartConnect(p);g!==null&&(h.startTarget=p,r.addMarker(p,g?y2:m2))}),t.on(["global-connect.out","global-connect.cleanup"],function(f){var h=f.context.startTarget,p=f.context.canStartConnect;h&&r.removeMarker(h,p?y2:m2)}),t.on(["global-connect.ended"],function(f){var h=f.context,p=h.startTarget,g={x:f.x,y:f.y},v=l.canStartConnect(p);if(v)return t.once("element.out",function(){t.once(["connect.ended","connect.canceled"],function(){t.fire("global-connect.drag.ended")}),n.start(null,p,g)}),!1})}Nu.$inject=["eventBus","dragging","connect","canvas","toolManager","rules","mouse"];Nu.prototype.start=function(t,e){this._dragging.init(t,"global-connect",{autoActivate:e,trapClick:!1,data:{context:{}}})};Nu.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();return this.start(t,!!t)};Nu.prototype.isActive=function(){var t=this._dragging.context();return t&&/^global-connect/.test(t.prefix)};Nu.prototype.canStartConnect=function(t){return this._rules.allowed("connection.start",{source:t})};const hk={__depends__:[j0,Ai,go,gp,Tl],globalConnect:["type",Nu]};function d1(t,e,n,r,a,s,u,l){this._create=e,this._elementFactory=n,this._spaceTool=r,this._lassoTool=a,this._handTool=s,this._globalConnect=u,this._translate=l,t.registerProvider(this)}d1.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"];d1.prototype.getPaletteEntries=function(t){var e={},n=this._create,r=this._elementFactory,a=this._spaceTool,s=this._lassoTool,u=this._handTool,l=this._globalConnect,f=this._translate;function h(p,g,v,_,E){function M(S){var x=r.createShape(ft({type:p},E));n.start(S,x)}var O=p.replace(/^dcr:/,"");return{group:g,className:v,title:_||f("Create {type}",{type:O}),action:{dragstart:M,click:M}}}return ft(e,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:f("Activate the hand tool"),action:{click:function(p){u.activateHand(p)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:f("Activate the lasso tool"),action:{click:function(p){s.activateSelection(p)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:f("Activate the create/remove space tool"),action:{click:function(p){a.activateSelection(p)}}},"tool-separator":{group:"tools",separator:!0},"create-object":h("dcr:Event","dcr-elements","od-icon-object",f("Create a DCR Event"),{attrs:{included:!0,pending:!1,executed:!1,enabled:!1}}),"object-linker":{group:"dcr-elements",className:"bpmn-icon-connection",title:f("Create a DCR Relation"),action:{click:function(p){l.start(p)}}},"create-subprocess":h("dcr:SubProcess","dcr-elements","bpmn-icon-subprocess-expanded",f("Create a Single-Instance SubProcess"),{attrs:{included:!0,pending:!1,executed:!1,enabled:!1}}),"create-nesting":h("dcr:Nesting","dcr-elements","od-text-box-nesting",f("Create a Nesting"))}),e};const pk={__depends__:[lk,lp,QM,fk,dk,hk,ap],__init__:["paletteProvider"],paletteProvider:["type",d1]};var vd={exports:{}},v2;function gk(){return v2||(v2=1,typeof Object.create=="function"?vd.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:vd.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}}),vd.exports}var yk=gk();const mk=ua(yk);var uh={exports:{}};/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */var vk=uh.exports,_2;function _k(){return _2||(_2=1,function(t,e){(function(n,r){t.exports=r(n)})(typeof au<"u"?au:vk,function(n){if(n.CSS&&n.CSS.escape)return n.CSS.escape;var r=function(a){if(arguments.length==0)throw new TypeError("`CSS.escape` requires an argument.");for(var s=String(a),u=s.length,l=-1,f,h="",p=s.charCodeAt(0);++l<u;){if(f=s.charCodeAt(l),f==0){h+="�";continue}if(f>=1&&f<=31||f==127||l==0&&f>=48&&f<=57||l==1&&f>=48&&f<=57&&p==45){h+="\\"+f.toString(16)+" ";continue}if(l==0&&u==1&&f==45){h+="\\"+s.charAt(l);continue}if(f>=128||f==45||f==95||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122){h+=s.charAt(l);continue}h+="\\"+s.charAt(l)}return h};return n.CSS||(n.CSS={}),n.CSS.escape=r,r})}(uh)),uh.exports}var xk=_k();const x2=ua(xk);var bk=250;function h1(t,e,n,r,a){ve.call(this,t);function s(l){var f=l.canExecute.replacements;st(f,function(h){var p=h.oldElementId,g={type:h.newElementType};if(!l.visualReplacements[p]){var v=e.get(p);ft(g,{x:v.x,y:v.y});var _=n.createShape(g);r.addShape(_,v.parent);var E=an('[data-element-id="'+x2(v.id)+'"]',l.dragGroup);E&&yt(E,{display:"none"});var M=a.addDragger(_,l.dragGroup);l.visualReplacements[p]=M,r.removeShape(_)}})}function u(l){var f=l.visualReplacements;st(f,function(h,p){var g=an('[data-element-id="'+x2(p)+'"]',l.dragGroup);g&&yt(g,{display:"inline"}),h.remove(),f[p]&&delete f[p]})}t.on("shape.move.move",bk,function(l){var f=l.context,h=f.canExecute;f.visualReplacements||(f.visualReplacements={}),h&&h.replacements?s(f):u(f)})}h1.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"];mk(h1,ve);const Ek={__depends__:[El],__init__:["dcrReplacePreview"],dcrReplacePreview:["type",h1]};function _a(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}_a.prototype.getSnapOrigin=function(t){return this._snapOrigins[t]};_a.prototype.setSnapOrigin=function(t,e){this._snapOrigins[t]=e,this._snapLocations.indexOf(t)===-1&&this._snapLocations.push(t)};_a.prototype.addDefaultSnap=function(t,e){var n=this._defaultSnaps[t];n||(n=this._defaultSnaps[t]=[]),n.push(e)};_a.prototype.getSnapLocations=function(){return this._snapLocations};_a.prototype.setSnapLocations=function(t){this._snapLocations=t};_a.prototype.pointsForTarget=function(t){var e=t.id||t,n=this._targets[e];return n||(n=this._targets[e]=new Mp,n.initDefaults(this._defaultSnaps)),n};function Mp(){this._snapValues={}}Mp.prototype.add=function(t,e){var n=this._snapValues[t];n||(n=this._snapValues[t]={x:[],y:[]}),n.x.indexOf(e.x)===-1&&n.x.push(e.x),n.y.indexOf(e.y)===-1&&n.y.push(e.y)};Mp.prototype.snap=function(t,e,n,r){var a=this._snapValues[e];return a&&v6(t[n],a[n],r)};Mp.prototype.initDefaults=function(t){var e=this;st(t||{},function(n,r){st(n,function(a){e.add(r,a)})})};var wk=1250;function Oi(t,e,n){var r=this;this._elementRegistry=t,e.on(["create.start","shape.move.start"],function(a){r.initSnap(a)}),e.on(["create.move","create.end","shape.move.move","shape.move.end"],wk,function(a){var s=a.context,u=s.shape,l=s.snapContext,f=s.target;if(!(a.originalEvent&&yr(a.originalEvent))&&!(il(a)||!f)){var h=l.pointsForTarget(f);h.initialized||(h=r.addSnapTargetPoints(h,u,f),h.initialized=!0),n.snap(a,h)}}),e.on(["create.cleanup","shape.move.cleanup"],function(){n.hide()})}Oi.$inject=["elementRegistry","eventBus","snapping"];Oi.prototype.initSnap=function(t){var e=this._elementRegistry,n=t.context,r=n.shape,a=n.snapContext;a||(a=n.snapContext=new _a);var s;e.get(r.id)?s=ea(r,t):s={x:t.x+ea(r).x,y:t.y+ea(r).y};var u={x:s.x-r.width/2,y:s.y-r.height/2},l={x:s.x+r.width/2,y:s.y+r.height/2};return a.setSnapOrigin("mid",{x:s.x-t.x,y:s.y-t.y}),vr(r)||(a.setSnapOrigin("top-left",{x:u.x-t.x,y:u.y-t.y}),a.setSnapOrigin("bottom-right",{x:l.x-t.x,y:l.y-t.y})),a};Oi.prototype.addSnapTargetPoints=function(t,e,n){var r=this.getSnapTargets(e,n);return st(r,function(a){if(vr(a)){vr(e)&&t.add("mid",ea(a));return}if(Ue(a)){if(a.waypoints.length<3)return;var s=a.waypoints.slice(1,-1);st(s,function(u){t.add("mid",u)});return}t.add("mid",ea(a))}),!Kt(e.x)||!Kt(e.y)||this._elementRegistry.get(e.id)&&t.add("mid",ea(e)),t};Oi.prototype.getSnapTargets=function(t,e){return aM(e).filter(function(n){return!Tk(n)})};function Tk(t){return!!t.hidden}function Du(t){t.invoke(Oi,this)}Te(Du,Oi);Du.$inject=["injector"];Du.prototype.initSnap=function(t){return Oi.prototype.initSnap.call(this,t)};Du.prototype.addSnapTargetPoints=function(t,e,n){return Oi.prototype.addSnapTargetPoints.call(this,t,e,n)};Du.prototype.getSnapTargets=function(t,e){return Oi.prototype.getSnapTargets.call(this,t,e)};var Sk=1250;function Bl(t,e){var n=this;t.on(["resize.start"],function(r){n.initSnap(r)}),t.on(["resize.move","resize.end"],Sk,function(r){var a=r.context,s=a.shape,u=s.parent,l=a.direction,f=a.snapContext;if(!(r.originalEvent&&yr(r.originalEvent))&&!il(r)){var h=f.pointsForTarget(u);h.initialized||(h=n.addSnapTargetPoints(h,s,u,l),h.initialized=!0),Ak(l)&&hr(r,"x",r.x),Ok(l)&&hr(r,"y",r.y),e.snap(r,h)}}),t.on(["resize.cleanup"],function(){e.hide()})}Bl.prototype.initSnap=function(t){var e=t.context,n=e.shape,r=e.direction,a=e.snapContext;a||(a=e.snapContext=new _a);var s=bA(n,r);return a.setSnapOrigin("corner",{x:s.x-t.x,y:s.y-t.y}),a};Bl.prototype.addSnapTargetPoints=function(t,e,n,r){var a=this.getSnapTargets(e,n);return st(a,function(s){t.add("corner",x6(s)),t.add("corner",_6(s))}),t.add("corner",bA(e,r)),t};Bl.$inject=["eventBus","snapping"];Bl.prototype.getSnapTargets=function(t,e){return aM(e).filter(function(n){return!Ck(n,t)&&!Ue(n)&&!Mk(n)&&!vr(n)})};function bA(t,e){var n=me(t),r=ue(t),a={x:n.x,y:n.y};return e.indexOf("n")!==-1?a.y=r.top:e.indexOf("s")!==-1&&(a.y=r.bottom),e.indexOf("e")!==-1?a.x=r.right:e.indexOf("w")!==-1&&(a.x=r.left),a}function Ck(t,e){return t.host===e}function Mk(t){return!!t.hidden}function Ak(t){return t==="n"||t==="s"}function Ok(t){return t==="e"||t==="w"}var Rk=7,Nk=1e3;function xa(t){this._canvas=t,this._asyncHide=gS(Vn(this.hide,this),Nk)}xa.$inject=["canvas"];xa.prototype.snap=function(t,e){var n=t.context,r=n.snapContext,a=r.getSnapLocations(),s={x:il(t,"x"),y:il(t,"y")};st(a,function(u){var l=r.getSnapOrigin(u),f={x:t.x+l.x,y:t.y+l.y};if(st(["x","y"],function(h){var p;s[h]||(p=e.snap(f,u,h,Rk),p!==void 0&&(s[h]={value:p,originValue:p-l[h]}))}),s.x&&s.y)return!1}),this.showSnapLine("vertical",s.x&&s.x.value),this.showSnapLine("horizontal",s.y&&s.y.value),st(["x","y"],function(u){var l=s[u];On(l)&&hr(t,u,l.originValue)})};xa.prototype._createLine=function(t){var e=this._canvas.getLayer("snap"),n=Nt("path");return yt(n,{d:"M0,0 L0,0"}),le(n).add("djs-snap-line"),Wt(e,n),{update:function(r){Kt(r)?t==="horizontal"?yt(n,{d:"M-100000,"+r+" L+100000,"+r,display:""}):yt(n,{d:"M "+r+",-100000 L "+r+", +100000",display:""}):yt(n,{display:"none"})}}};xa.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}};xa.prototype.showSnapLine=function(t,e){var n=this.getSnapLine(t);n&&n.update(e),this._asyncHide()};xa.prototype.getSnapLine=function(t){return this._snapLines||this._createSnapLines(),this._snapLines[t]};xa.prototype.hide=function(){st(this._snapLines,function(t){t.update()})};const Dk={__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",Oi],resizeSnapping:["type",Bl],snapping:["type",xa]};var Lk=1250,Pk=10,b2=20,EA=["x","y"];function wA(t){t.on(["connect.hover","connect.move","connect.end"],Lk,function(e){var n=e.context,r=n.canExecute,a=n.start,s=n.hover;e.originalEvent&&yr(e.originalEvent)||(n.initialConnectionStart||(n.initialConnectionStart=n.connectionStart),r&&s&&Bk(e,s,$k()),s&&jk(r,["dcr:Relation"])&&(n.connectionStart=ea(a),hn(s,["dcr:Event"])&&kk(e,s)))})}wA.$inject=["eventBus"];function Bk(t,e,n){EA.forEach(function(r){var a=TA(r,e);t[r]<e[r]+n?hr(t,r,e[r]+n):t[r]>e[r]+a-n&&hr(t,r,e[r]+a-n)})}function kk(t,e){var n=ea(e);EA.forEach(function(r){zk(t,e,r)&&hr(t,r,n[r])})}function Ik(t,e){return t&&t.type===e}function jk(t,e){return qh(e,function(n){return Ik(t,n)})}function TA(t,e){return t==="x"?e.width:e.height}function $k(){return Pk}function zk(t,e,n){return t[n]>e[n]+b2&&t[n]<e[n]+TA(n,e)-b2}const Uk={__depends__:[Dk],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",wA],createMoveSnapping:["type",Du]};var Ap,Pe,SA,Wa,E2,CA,xv,MA,p1,bv,Ev,ol={},AA=[],Hk=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,g1=Array.isArray;function Zo(t,e){for(var n in e)t[n]=e[n];return t}function y1(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function OA(t,e,n){var r,a,s,u={};for(s in e)s=="key"?r=e[s]:s=="ref"?a=e[s]:u[s]=e[s];if(arguments.length>2&&(u.children=arguments.length>3?Ap.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)u[s]===void 0&&(u[s]=t.defaultProps[s]);return ch(t,u,r,a,null)}function ch(t,e,n,r,a){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:a??++SA,__i:-1,__u:0};return a==null&&Pe.vnode!=null&&Pe.vnode(s),s}function Op(t){return t.children}function lh(t,e){this.props=t,this.context=e}function hu(t,e){if(e==null)return t.__?hu(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?hu(t):null}function RA(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return RA(t)}}function w2(t){(!t.__d&&(t.__d=!0)&&Wa.push(t)&&!Ih.__r++||E2!==Pe.debounceRendering)&&((E2=Pe.debounceRendering)||CA)(Ih)}function Ih(){var t,e,n,r,a,s,u,l;for(Wa.sort(xv);t=Wa.shift();)t.__d&&(e=Wa.length,r=void 0,s=(a=(n=t).__v).__e,u=[],l=[],n.__P&&((r=Zo({},a)).__v=a.__v+1,Pe.vnode&&Pe.vnode(r),m1(n.__P,r,a,n.__n,n.__P.namespaceURI,32&a.__u?[s]:null,u,s??hu(a),!!(32&a.__u),l),r.__v=a.__v,r.__.__k[r.__i]=r,LA(u,r,l),r.__e!=s&&RA(r)),Wa.length>e&&Wa.sort(xv));Ih.__r=0}function NA(t,e,n,r,a,s,u,l,f,h,p){var g,v,_,E,M,O,S=r&&r.__k||AA,x=e.length;for(f=Fk(n,e,S,f,x),g=0;g<x;g++)(_=n.__k[g])!=null&&(v=_.__i===-1?ol:S[_.__i]||ol,_.__i=g,O=m1(t,_,v,a,s,u,l,f,h,p),E=_.__e,_.ref&&v.ref!=_.ref&&(v.ref&&v1(v.ref,null,_),p.push(_.ref,_.__c||E,_)),M==null&&E!=null&&(M=E),4&_.__u||v.__k===_.__k?f=DA(_,f,t):typeof _.type=="function"&&O!==void 0?f=O:E&&(f=E.nextSibling),_.__u&=-7);return n.__e=M,f}function Fk(t,e,n,r,a){var s,u,l,f,h,p=n.length,g=p,v=0;for(t.__k=new Array(a),s=0;s<a;s++)(u=e[s])!=null&&typeof u!="boolean"&&typeof u!="function"?(f=s+v,(u=t.__k[s]=typeof u=="string"||typeof u=="number"||typeof u=="bigint"||u.constructor==String?ch(null,u,null,null,null):g1(u)?ch(Op,{children:u},null,null,null):u.constructor===void 0&&u.__b>0?ch(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):u).__=t,u.__b=t.__b+1,l=null,(h=u.__i=Xk(u,n,f,g))!==-1&&(g--,(l=n[h])&&(l.__u|=2)),l==null||l.__v===null?(h==-1&&v--,typeof u.type!="function"&&(u.__u|=4)):h!=f&&(h==f-1?v--:h==f+1?v++:(h>f?v--:v++,u.__u|=4))):t.__k[s]=null;if(g)for(s=0;s<p;s++)(l=n[s])!=null&&!(2&l.__u)&&(l.__e==r&&(r=hu(l)),PA(l,l));return r}function DA(t,e,n){var r,a;if(typeof t.type=="function"){for(r=t.__k,a=0;r&&a<r.length;a++)r[a]&&(r[a].__=t,e=DA(r[a],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=hu(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Xk(t,e,n,r){var a,s,u=t.key,l=t.type,f=e[n];if(f===null||f&&u==f.key&&l===f.type&&!(2&f.__u))return n;if(r>(f!=null&&!(2&f.__u)?1:0))for(a=n-1,s=n+1;a>=0||s<e.length;){if(a>=0){if((f=e[a])&&!(2&f.__u)&&u==f.key&&l===f.type)return a;a--}if(s<e.length){if((f=e[s])&&!(2&f.__u)&&u==f.key&&l===f.type)return s;s++}}return-1}function T2(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Hk.test(e)?n:n+"px"}function _d(t,e,n,r,a){var s;t:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||T2(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||T2(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(MA,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=p1,t.addEventListener(e,s?Ev:bv,s)):t.removeEventListener(e,s?Ev:bv,s);else{if(a=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function S2(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=p1++;else if(e.t<n.u)return;return n(Pe.event?Pe.event(e):e)}}}function m1(t,e,n,r,a,s,u,l,f,h){var p,g,v,_,E,M,O,S,x,m,w,C,A,B,P,T,j,z=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(f=!!(32&n.__u),s=[l=e.__e=n.__e]),(p=Pe.__b)&&p(e);t:if(typeof z=="function")try{if(S=e.props,x="prototype"in z&&z.prototype.render,m=(p=z.contextType)&&r[p.__c],w=p?m?m.props.value:p.__:r,n.__c?O=(g=e.__c=n.__c).__=g.__E:(x?e.__c=g=new z(S,w):(e.__c=g=new lh(S,w),g.constructor=z,g.render=Gk),m&&m.sub(g),g.props=S,g.state||(g.state={}),g.context=w,g.__n=r,v=g.__d=!0,g.__h=[],g._sb=[]),x&&g.__s==null&&(g.__s=g.state),x&&z.getDerivedStateFromProps!=null&&(g.__s==g.state&&(g.__s=Zo({},g.__s)),Zo(g.__s,z.getDerivedStateFromProps(S,g.__s))),_=g.props,E=g.state,g.__v=e,v)x&&z.getDerivedStateFromProps==null&&g.componentWillMount!=null&&g.componentWillMount(),x&&g.componentDidMount!=null&&g.__h.push(g.componentDidMount);else{if(x&&z.getDerivedStateFromProps==null&&S!==_&&g.componentWillReceiveProps!=null&&g.componentWillReceiveProps(S,w),!g.__e&&(g.shouldComponentUpdate!=null&&g.shouldComponentUpdate(S,g.__s,w)===!1||e.__v==n.__v)){for(e.__v!=n.__v&&(g.props=S,g.state=g.__s,g.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(I){I&&(I.__=e)}),C=0;C<g._sb.length;C++)g.__h.push(g._sb[C]);g._sb=[],g.__h.length&&u.push(g);break t}g.componentWillUpdate!=null&&g.componentWillUpdate(S,g.__s,w),x&&g.componentDidUpdate!=null&&g.__h.push(function(){g.componentDidUpdate(_,E,M)})}if(g.context=w,g.props=S,g.__P=t,g.__e=!1,A=Pe.__r,B=0,x){for(g.state=g.__s,g.__d=!1,A&&A(e),p=g.render(g.props,g.state,g.context),P=0;P<g._sb.length;P++)g.__h.push(g._sb[P]);g._sb=[]}else do g.__d=!1,A&&A(e),p=g.render(g.props,g.state,g.context),g.state=g.__s;while(g.__d&&++B<25);g.state=g.__s,g.getChildContext!=null&&(r=Zo(Zo({},r),g.getChildContext())),x&&!v&&g.getSnapshotBeforeUpdate!=null&&(M=g.getSnapshotBeforeUpdate(_,E)),l=NA(t,g1(T=p!=null&&p.type===Op&&p.key==null?p.props.children:p)?T:[T],e,n,r,a,s,u,l,f,h),g.base=e.__e,e.__u&=-161,g.__h.length&&u.push(g),O&&(g.__E=g.__=null)}catch(I){if(e.__v=null,f||s!=null)if(I.then){for(e.__u|=f?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;s[s.indexOf(l)]=null,e.__e=l}else for(j=s.length;j--;)y1(s[j]);else e.__e=n.__e,e.__k=n.__k;Pe.__e(I,e,n)}else s==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):l=e.__e=qk(n.__e,e,n,r,a,s,u,f,h);return(p=Pe.diffed)&&p(e),128&e.__u?void 0:l}function LA(t,e,n){for(var r=0;r<n.length;r++)v1(n[r],n[++r],n[++r]);Pe.__c&&Pe.__c(e,t),t.some(function(a){try{t=a.__h,a.__h=[],t.some(function(s){s.call(a)})}catch(s){Pe.__e(s,a.__v)}})}function qk(t,e,n,r,a,s,u,l,f){var h,p,g,v,_,E,M,O=n.props,S=e.props,x=e.type;if(x=="svg"?a="http://www.w3.org/2000/svg":x=="math"?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),s!=null){for(h=0;h<s.length;h++)if((_=s[h])&&"setAttribute"in _==!!x&&(x?_.localName==x:_.nodeType==3)){t=_,s[h]=null;break}}if(t==null){if(x==null)return document.createTextNode(S);t=document.createElementNS(a,x,S.is&&S),l&&(Pe.__m&&Pe.__m(e,s),l=!1),s=null}if(x===null)O===S||l&&t.data===S||(t.data=S);else{if(s=s&&Ap.call(t.childNodes),O=n.props||ol,!l&&s!=null)for(O={},h=0;h<t.attributes.length;h++)O[(_=t.attributes[h]).name]=_.value;for(h in O)if(_=O[h],h!="children"){if(h=="dangerouslySetInnerHTML")g=_;else if(!(h in S)){if(h=="value"&&"defaultValue"in S||h=="checked"&&"defaultChecked"in S)continue;_d(t,h,null,_,a)}}for(h in S)_=S[h],h=="children"?v=_:h=="dangerouslySetInnerHTML"?p=_:h=="value"?E=_:h=="checked"?M=_:l&&typeof _!="function"||O[h]===_||_d(t,h,_,O[h],a);if(p)l||g&&(p.__html===g.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(g&&(t.innerHTML=""),NA(t,g1(v)?v:[v],e,n,r,x=="foreignObject"?"http://www.w3.org/1999/xhtml":a,s,u,s?s[0]:n.__k&&hu(n,0),l,f),s!=null)for(h=s.length;h--;)y1(s[h]);l||(h="value",x=="progress"&&E==null?t.removeAttribute("value"):E!==void 0&&(E!==t[h]||x=="progress"&&!E||x=="option"&&E!==O[h])&&_d(t,h,E,O[h],a),h="checked",M!==void 0&&M!==t[h]&&_d(t,h,M,O[h],a))}return t}function v1(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(a){Pe.__e(a,n)}}function PA(t,e,n){var r,a;if(Pe.unmount&&Pe.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||v1(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){Pe.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(a=0;a<r.length;a++)r[a]&&PA(r[a],e,n||typeof t.type!="function");n||y1(t.__e),t.__c=t.__=t.__e=void 0}function Gk(t,e,n){return this.constructor(t,n)}function BA(t,e,n){var r,a,s,u;e==document&&(e=document.documentElement),Pe.__&&Pe.__(t,e),a=(r=!1)?null:e.__k,s=[],u=[],m1(e,t=e.__k=OA(Op,null,[t]),a||ol,ol,e.namespaceURI,a?null:e.firstChild?Ap.call(e.childNodes):null,s,a?a.__e:e.firstChild,r,u),LA(s,t,u)}Ap=AA.slice,Pe={__e:function(t,e,n,r){for(var a,s,u;e=e.__;)if((a=e.__c)&&!a.__)try{if((s=a.constructor)&&s.getDerivedStateFromError!=null&&(a.setState(s.getDerivedStateFromError(t)),u=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(t,r||{}),u=a.__d),u)return a.__E=a}catch(l){t=l}throw t}},SA=0,lh.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Zo({},this.state),typeof t=="function"&&(t=t(Zo({},n),this.props)),t&&Zo(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),w2(this))},lh.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),w2(this))},lh.prototype.render=Op,Wa=[],CA=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,xv=function(t,e){return t.__v.__b-e.__v.__b},Ih.__r=0,MA=/(PointerCapture)$|Capture$/i,p1=0,bv=S2(!1),Ev=S2(!0);var kA=function(t,e,n,r){var a;e[0]=0;for(var s=1;s<e.length;s++){var u=e[s++],l=e[s]?(e[0]|=u?1:2,n[e[s++]]):e[++s];u===3?r[0]=l:u===4?r[1]=Object.assign(r[1]||{},l):u===5?(r[1]=r[1]||{})[e[++s]]=l:u===6?r[1][e[++s]]+=l+"":u?(a=t.apply(l,kA(t,l,n,["",null])),r.push(a),l[0]?e[0]|=2:(e[s-2]=0,e[s]=a)):r.push(l)}return r},C2=new Map;function Vk(t){var e=C2.get(this);return e||(e=new Map,C2.set(this,e)),(e=kA(this,e.get(t)||(e.set(t,e=function(n){for(var r,a,s=1,u="",l="",f=[0],h=function(v){s===1&&(v||(u=u.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?f.push(0,v,u):s===3&&(v||u)?(f.push(3,v,u),s=2):s===2&&u==="..."&&v?f.push(4,v,0):s===2&&u&&!v?f.push(5,0,!0,u):s>=5&&((u||!v&&s===5)&&(f.push(s,0,u,a),s=6),v&&(f.push(s,v,0,a),s=6)),u=""},p=0;p<n.length;p++){p&&(s===1&&h(),h(p));for(var g=0;g<n[p].length;g++)r=n[p][g],s===1?r==="<"?(h(),f=[f],s=3):u+=r:s===4?u==="--"&&r===">"?(s=1,u=""):u=r+u[0]:l?r===l?l="":u+=r:r==='"'||r==="'"?l=r:r===">"?(h(),s=1):s&&(r==="="?(s=5,a=u,u=""):r==="/"&&(s<5||n[p][g+1]===">")?(h(),s===3&&(f=f[0]),s=f,(f=f[0]).push(2,0,s),s=0):r===" "||r==="	"||r===`
`||r==="\r"?(h(),s=2):u+=r),s===3&&u==="!--"&&(s=4,f=f[0])}return h(),f}(t)),e),arguments,[])).length>1?e:e[0]}var We=Vk.bind(OA),pu,Ge,Dm,M2,al=0,IA=[],Ke=Pe,A2=Ke.__b,O2=Ke.__r,R2=Ke.diffed,N2=Ke.__c,D2=Ke.unmount,L2=Ke.__;function Rp(t,e){Ke.__h&&Ke.__h(Ge,t,al||e),al=0;var n=Ge.__H||(Ge.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function Lm(t){return al=1,Yk(jA,t)}function Yk(t,e,n){var r=Rp(pu++,2);if(r.t=t,!r.__c&&(r.__=[jA(void 0,e),function(l){var f=r.__N?r.__N[0]:r.__[0],h=r.t(f,l);f!==h&&(r.__N=[h,r.__[1]],r.__c.setState({}))}],r.__c=Ge,!Ge.u)){var a=function(l,f,h){if(!r.__c.__H)return!0;var p=r.__c.__H.__.filter(function(v){return!!v.__c});if(p.every(function(v){return!v.__N}))return!s||s.call(this,l,f,h);var g=r.__c.props!==l;return p.forEach(function(v){if(v.__N){var _=v.__[0];v.__=v.__N,v.__N=void 0,_!==v.__[0]&&(g=!0)}}),s&&s.call(this,l,f,h)||g};Ge.u=!0;var s=Ge.shouldComponentUpdate,u=Ge.componentWillUpdate;Ge.componentWillUpdate=function(l,f,h){if(this.__e){var p=s;s=void 0,a(l,f,h),s=p}u&&u.call(this,l,f,h)},Ge.shouldComponentUpdate=a}return r.__N||r.__}function Pm(t,e){var n=Rp(pu++,3);!Ke.__s&&x1(n.__H,e)&&(n.__=t,n.i=e,Ge.__H.__h.push(n))}function jh(t,e){var n=Rp(pu++,4);!Ke.__s&&x1(n.__H,e)&&(n.__=t,n.i=e,Ge.__h.push(n))}function _1(t){return al=5,sl(function(){return{current:t}},[])}function sl(t,e){var n=Rp(pu++,7);return x1(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function ou(t,e){return al=8,sl(function(){return t},e)}function Kk(){for(var t;t=IA.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(fh),t.__H.__h.forEach(wv),t.__H.__h=[]}catch(e){t.__H.__h=[],Ke.__e(e,t.__v)}}Ke.__b=function(t){Ge=null,A2&&A2(t)},Ke.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),L2&&L2(t,e)},Ke.__r=function(t){O2&&O2(t),pu=0;var e=(Ge=t.__c).__H;e&&(Dm===Ge?(e.__h=[],Ge.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(fh),e.__h.forEach(wv),e.__h=[],pu=0)),Dm=Ge},Ke.diffed=function(t){R2&&R2(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(IA.push(e)!==1&&M2===Ke.requestAnimationFrame||((M2=Ke.requestAnimationFrame)||Zk)(Kk)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Dm=Ge=null},Ke.__c=function(t,e){e.some(function(n){try{n.__h.forEach(fh),n.__h=n.__h.filter(function(r){return!r.__||wv(r)})}catch(r){e.some(function(a){a.__h&&(a.__h=[])}),e=[],Ke.__e(r,n.__v)}}),N2&&N2(t,e)},Ke.unmount=function(t){D2&&D2(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{fh(r)}catch(a){e=a}}),n.__H=void 0,e&&Ke.__e(e,n.__v))};var P2=typeof requestAnimationFrame=="function";function Zk(t){var e,n=function(){clearTimeout(r),P2&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);P2&&(e=requestAnimationFrame(n))}function fh(t){var e=Ge,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Ge=e}function wv(t){var e=Ge;t.__c=t.__(),Ge=e}function x1(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function jA(t,e){return typeof e=="function"?e(t):e}function $A(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=$A(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ni(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=$A(t))&&(r&&(r+=" "),r+=e);return r}function Wk(t){const{entry:e,selected:n,onMouseEnter:r,onMouseLeave:a,onAction:s}=t;return We`
    <li
      class=${ni("entry",{selected:n})}
      data-id=${e.id}
      title=${e.title||e.label}
      onClick=${s}
      onMouseEnter=${r}
      onMouseLeave=${a}
      onDragStart=${u=>s(u,e,"dragstart")}
      draggable=${!0}
    >
      <div class="djs-popup-entry-content">
        <span
          class=${ni("djs-popup-entry-name",e.className)}
        >
          ${e.imageUrl&&We`<img class="djs-popup-entry-icon" src=${e.imageUrl} alt="" />`||e.imageHtml&&We`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:e.imageHtml}} />`}

          ${e.label?We`
            <span class="djs-popup-label">
              ${e.label}
            </span>
          `:null}
        </span>
        ${e.description&&We`
          <span
            class="djs-popup-entry-description"
            title=${e.description}
          >
            ${e.description}
          </span>
        `}
      </div>
      ${e.documentationRef&&We`
        <div class="djs-popup-entry-docs">
          <a
            href="${e.documentationRef}"
            onClick=${u=>u.stopPropagation()}
            title="Open element documentation"
            target="_blank"
            rel="noopener"
          >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z" fill="#818798"/>
            </svg>
          </a>
        </div>
      `}
    </li>
  `}function Qk(t){const{selectedEntry:e,setSelectedEntry:n,entries:r,...a}=t,s=_1(),u=sl(()=>Jk(r),[r]);return jh(()=>{const l=s.current;if(!l)return;const f=l.querySelector(".selected");f&&tI(f)},[e]),We`
    <div class="djs-popup-results" ref=${s}>
      ${u.map(l=>We`
        ${l.name&&We`
          <div key=${l.id} class="entry-header" title=${l.name}>
            ${l.name}
          </div>
        `}
        <ul class="djs-popup-group" data-group=${l.id}>
          ${l.entries.map(f=>We`
            <${Wk}
              key=${f.id}
              entry=${f}
              selected=${f===e}
              onMouseEnter=${()=>n(f)}
              onMouseLeave=${()=>n(null)}
              ...${a}
            />
          `)}
        </ul>
      `)}
    </div>
  `}function Jk(t){const e=[],n=s=>e.find(u=>s.id===u.id),r=s=>!!n(s),a=s=>typeof s=="string"?{id:s}:s;return t.forEach(s=>{const u=s.group?a(s.group):{id:"default"};r(u)?n(u).entries.push(s):e.push({...u,entries:[s]})}),e}function tI(t){typeof t.scrollIntoViewIfNeeded=="function"?t.scrollIntoViewIfNeeded():t.scrollIntoView({scrollMode:"if-needed",block:"nearest"})}function eI(t){const{onClose:e,onSelect:n,className:r,headerEntries:a,position:s,title:u,width:l,scale:f,search:h,entries:p,onOpened:g,onClosed:v}=t,_=sl(()=>xn(h)?p.length>5:!1,[h,p]),E=_1(),[M,O]=Lm(""),S=ou((z,I)=>{if(!_)return z;const F=at=>{if(!I)return(at.rank||0)>=0;const Et=[at.description||"",at.label||"",at.search||""].join("---").toLowerCase();return I.toLowerCase().split(/\s/g).every(it=>Et.includes(it))};return z.filter(F)},[_]),[x,m]=Lm(S(p,M)),[w,C]=Lm(x[0]),A=ou(z=>{(!w||!z.includes(w))&&C(z[0]),m(z)},[w,m,C]);Pm(()=>{A(S(p,M))},[M,p]),Pm(()=>{const z=I=>{if(I.key==="Escape")return I.preventDefault(),e()};return document.documentElement.addEventListener("keydown",z),()=>{document.documentElement.removeEventListener("keydown",z)}},[]),jh(()=>{E.current&&E.current.focus()},[]);const B=ou(z=>{let F=x.indexOf(w)+z;F<0&&(F=x.length-1),F>=x.length&&(F=0),C(x[F])},[x,w,C]),P=ou(z=>{if(z.key==="Enter"&&w)return n(z,w);if(z.key==="ArrowUp"||z.key==="Tab"&&z.shiftKey)return B(-1),z.preventDefault();if(z.key==="ArrowDown"||z.key==="Tab")return B(1),z.preventDefault()},[n,e,w,B]),T=ou(z=>{zv(z.target,"input")&&O(()=>z.target.value)},[O]);Pm(()=>(g(),()=>{v()}),[]);const j=sl(()=>u||a.length>0,[u,a]);return We`
    <${B2}
      onClose=${e}
      onKeyup=${T}
      onKeydown=${P}
      className=${r}
      position=${s}
      width=${l}
      scale=${f}
    >
      ${j&&We`
        <div class="djs-popup-header">
          <h3 class="djs-popup-title" title=${u}>${u}</h3>
          ${a.map(z=>We`
            <span
              class=${rI(z,z===w)}
              onClick=${I=>n(I,z)}
              title=${z.title||z.label}
              data-id=${z.id}
              onMouseEnter=${()=>C(z)}
              onMouseLeave=${()=>C(null)}
            >
            ${z.imageUrl&&We`<img class="djs-popup-entry-icon" src=${z.imageUrl} alt="" />`||z.imageHtml&&We`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:z.imageHtml}} />`}

              ${z.label?We`
                <span class="djs-popup-label">${z.label}</span>
              `:null}
            </span>
          `)}
        </div>
      `}
      ${p.length>0&&We`
        <div class="djs-popup-body">

          ${_&&We`
          <div class="djs-popup-search">
            <svg class="djs-popup-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
            </svg>
            <input
                ref=${E}
                type="text"
              />
          </div>
          `}

          <${Qk}
            entries=${x}
            selectedEntry=${w}
            setSelectedEntry=${C}
            onAction=${n}
          />
        </div>
        ${x.length===0&&We`
          <div class="djs-popup-no-results">No matching entries found.</div>
        `}
      `}
    </${B2}>
  `}function B2(t){const{onClose:e,onKeydown:n,onKeyup:r,className:a,children:s,position:u}=t,l=_1(),f=ou(h=>{uo(h.target,".djs-popup",!0)||e()},[e]);return jh(()=>{if(typeof u!="function")return;const h=l.current,p=u(h);h.style.left=`${p.x}px`,h.style.top=`${p.y}px`},[l.current,u]),jh(()=>{l.current&&l.current.focus()},[]),We`
    <div
      class="djs-popup-backdrop"
      onClick=${f}
    >
      <div
        class=${ni("djs-popup",a)}
        style=${nI(t)}
        onKeydown=${n}
        onKeyup=${r}
        ref=${l}
        tabIndex="-1"
      >
        ${s}
      </div>
    </div>
  `}function nI(t){return{transform:`scale(${t.scale})`,width:`${t.width}px`}}function rI(t,e){return ni("entry",t.className,t.active?"active":"",t.disabled?"disabled":"",e?"selected":"")}var iI="data-id",zA=["contextPad.close","canvas.viewbox.changing","commandStack.changed"],oI=1e3;function He(t,e,n){this._eventBus=e,this._canvas=n,this._current=null;var r=xn(t&&t.scale)?t.scale:{min:1,max:1.5};this._config={scale:r},e.on("diagram.destroy",()=>{this.close()}),e.on("element.changed",a=>{const s=this.isOpen()&&this._current.target;a.element===s&&this._render()})}He.$inject=["config.popupMenu","eventBus","canvas"];He.prototype._render=function(){const{position:t,className:e,entries:n,headerEntries:r,options:a}=this._current,s=Object.entries(n).map(([g,v])=>({id:g,...v})),u=Object.entries(r).map(([g,v])=>({id:g,...v})),l=t&&(g=>this._ensureVisible(g,t)),f=this._updateScale(this._current.container);BA(We`
      <${eI}
        onClose=${g=>this.close(g)}
        onSelect=${(g,v,_)=>this.trigger(g,v,_)}
        position=${l}
        className=${e}
        entries=${s}
        headerEntries=${u}
        scale=${f}
        onOpened=${this._onOpened.bind(this)}
        onClosed=${this._onClosed.bind(this)}
        ...${{...a}}
      />
    `,this._current.container)};He.prototype.open=function(t,e,n,r){if(!t)throw new Error("target is missing");if(!e)throw new Error("providers for <"+e+"> not found");if(!n)throw new Error("position is missing");this.isOpen()&&this.close();const{entries:a,headerEntries:s}=this._getContext(t,e);this._current={position:n,className:e,target:t,entries:a,headerEntries:s,container:this._createContainer({provider:e}),options:r},this._emit("open"),this._bindAutoClose(),this._render()};He.prototype._getContext=function(t,e){const n=this._getProviders(e);if(!n||!n.length)throw new Error("provider for <"+e+"> not found");const r=this._getEntries(t,n),a=this._getHeaderEntries(t,n);return{entries:r,headerEntries:a,empty:!(Object.keys(r).length||Object.keys(a).length)}};He.prototype.close=function(){this.isOpen()&&(this._emit("close"),this.reset(),this._current=null)};He.prototype.reset=function(){const t=this._current.container;BA(null,t),Ci(t)};He.prototype._emit=function(t,e){this._eventBus.fire(`popupMenu.${t}`,e)};He.prototype._onOpened=function(){this._emit("opened")};He.prototype._onClosed=function(){this._emit("closed")};He.prototype._createContainer=function(t){var e=this._canvas,n=e.getContainer();const r=dn(`<div class="djs-popup-parent djs-scrollable" data-popup=${t.provider}></div>`);return n.appendChild(r),r};He.prototype._bindAutoClose=function(){this._eventBus.once(zA,this.close,this)};He.prototype._unbindAutoClose=function(){this._eventBus.off(zA,this.close,this)};He.prototype._updateScale=function(){var t=this._canvas.zoom(),e=this._config.scale,n,r,a=t;return e!==!0&&(e===!1?(n=1,r=1):(n=e.min,r=e.max),xn(n)&&t<n&&(a=n),xn(r)&&t>r&&(a=r)),a};He.prototype._ensureVisible=function(t,e){var n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect(),a={},s=e.x,u=e.y;return e.x+r.width>n.width&&(a.x=!0),e.y+r.height>n.height&&(a.y=!0),a.x&&a.y?(s=e.x-r.width,u=e.y-r.height):a.x?(s=e.x-r.width,u=e.y):a.y&&e.y<r.height?(s=e.x,u=10):a.y&&(s=e.x,u=e.y-r.height),e.y<n.top&&(u=e.y+r.height),{x:s,y:u}};He.prototype.isEmpty=function(t,e){if(!t)throw new Error("target is missing");if(!e)throw new Error("provider ID is missing");const n=this._getProviders(e);return!n||!n.length?!0:this._getContext(t,e).empty};He.prototype.registerProvider=function(t,e,n){n||(n=e,e=oI),this._eventBus.on("popupMenu.getProviders."+t,e,function(r){r.providers.push(n)})};He.prototype._getProviders=function(t){var e=this._eventBus.createEvent({type:"popupMenu.getProviders."+t,providers:[]});return this._eventBus.fire(e),e.providers};He.prototype._getEntries=function(t,e){var n={};return st(e,function(r){if(!r.getPopupMenuEntries){st(r.getEntries(t),function(s){var u=s.id;if(!u)throw new Error("entry ID is missing");n[u]=ao(s,["id"])});return}var a=r.getPopupMenuEntries(t);En(a)?n=a(n):st(a,function(s,u){n[u]=s})}),n};He.prototype._getHeaderEntries=function(t,e){var n={};return st(e,function(r){if(!r.getPopupMenuHeaderEntries){if(!r.getHeaderEntries)return;st(r.getHeaderEntries(t),function(s){var u=s.id;if(!u)throw new Error("entry ID is missing");n[u]=ao(s,["id"])});return}var a=r.getPopupMenuHeaderEntries(t);En(a)?n=a(n):st(a,function(s,u){n[u]=s})}),n};He.prototype.isOpen=function(){return!!this._current};He.prototype.trigger=function(t,e,n="click"){if(t.preventDefault(),!e){let a=uo(t.delegateTarget||t.target,".entry",!0),s=pr(a,iI);e={id:s,...this._getEntry(s)}}const r=e.action;if(this._emit("trigger",{entry:e,event:t})!==!1){if(En(r)){if(n==="click")return r(t,e)}else if(r[n])return r[n](t,e)}};He.prototype._getEntry=function(t){var e=this._current.entries[t]||this._current.headerEntries[t];if(!e)throw new Error("entry not found");return e};const aI={__init__:["popupMenu"],popupMenu:["type",He]};function gs(t,e,n,r,a,s,u){this._popupMenu=t,this._modeling=e,this._moddle=n,this._dcrReplace=r,this._rules=a,this._translate=s,this._dcrRules=u,this.register()}gs.$inject=["popupMenu","modeling","moddle","dcrReplace","rules","translate","dcrRules"];gs.prototype.getHeaderEntries=function(t){const e=t.businessObject.get("pending")||!1,n=t.businessObject.get("included")||!1,r=t.businessObject.get("executed")||!1,a=t.businessObject.get("multi-instance")||!1;let s=[];return(!Jt(t,"dcr:SubProcess")||!a)&&s.push({id:"toggle-pending-state",className:"od-text-box-pending",title:"Pending State",active:e,action:(u,l)=>{this._modeling.updateProperties(t,{pending:!e})},loopType:"Pending"},{id:"toggle-included-state",className:"od-text-box-included",title:"Included State",active:n,action:(u,l)=>{this._modeling.updateProperties(t,{included:!n})},loopType:"Included"},{id:"toggle-executed-state",className:"od-text-box-executed",title:"Executed State",active:r,action:(u,l)=>{this._modeling.updateProperties(t,{executed:!r})},loopType:"Executed"}),s};gs.prototype.getEntries=function(t){const e=t.businessObject.get("multi-instance")||!1,n=t.children.some(r=>Jt(r,"dcr:Nesting"));return Jt(t,"dcr:SubProcess")&&(e||Jt(t.parent,"dcr:DcrGraph"))&&(!e||!n)?[{id:"toggle-multi-instance-state",label:`Change to ${e?"Single":"Multi"}-Instance SubProcess`,action:(r,a)=>{this._modeling.updateProperties(t,{"multi-instance":!e})}}]:[]};gs.prototype._createMenuEntry=function(t,e,n){var r=this._translate,a=this._postitReplace.replaceElement,s=function(){return a(e,t.target)};n=n||s;var u={label:r(t.label),className:t.className,id:t.actionName,action:n};return u};gs.prototype._createMenuEntry=function(t,e,n){this._translate,this._dcrReplace.replaceElement};gs.prototype.register=function(){this._popupMenu.registerProvider("dcr-object-popup",this)};function ys(t,e,n,r,a,s,u){this._popupMenu=t,this._modeling=e,this._moddle=n,this._dcrReplace=r,this._rules=a,this._translate=s,this._dcrRules=u,this.register()}ys.$inject=["popupMenu","modeling","moddle","dcrReplace","rules","translate","dcrRules"];ys.prototype.getHeaderEntries=function(t){const e=t.businessObject.get("pending")||!1,n=!!(t.businessObject.get("included")||t.businessObject.get("included")===void 0),r=t.businessObject.get("executed")||!1;let a=this;return[{id:"toggle-pending-state",className:"od-text-box-pending",title:"Pending State",active:e,action:(u,l)=>{a._modeling.updateProperties(t,{pending:!e}),t.children.forEach(f=>{a._modeling.updateProperties(f,{pending:!e})})},loopType:"Pending"},{id:"toggle-included-state",className:"od-text-box-included",title:"Included State",active:n,action:(u,l)=>{a._modeling.updateProperties(t,{included:!n}),t.children.forEach(f=>{a._modeling.updateProperties(f,{included:!n})})},loopType:"Included"},{id:"toggle-executed-state",className:"od-text-box-executed",title:"Executed State",active:r,action:(u,l)=>{a._modeling.updateProperties(t,{executed:!r}),t.children.forEach(f=>{a._modeling.updateProperties(f,{executed:!r})})},loopType:"Executed"}]};ys.prototype.getEntries=function(t){return[]};ys.prototype._createMenuEntry=function(t,e,n){var r=this._translate,a=this._postitReplace.replaceElement,s=function(){return a(e,t.target)};n=n||s;var u={label:r(t.label),className:t.className,id:t.actionName,action:n};return u};ys.prototype._createMenuEntry=function(t,e,n){this._translate,this._dcrReplace.replaceElement};ys.prototype.register=function(){this._popupMenu.registerProvider("dcr-nesting-popup",this)};function kl(t,e,n,r,a,s,u){this._popupMenu=t,this._modeling=e,this._moddle=n,this._dcrReplace=r,this._rules=a,this._translate=s,this._dcrRules=u,this.register()}kl.$inject=["popupMenu","modeling","moddle","dcrReplace","rules","translate","dcrRules"];kl.prototype.getHeaderEntries=function(t){return[]};kl.prototype.getEntries=function(t){t.businessObject.get("type");let e=this;return[{id:"toggle-condition-flow",label:"Condition Relation",flowType:"condition",action:(r,a)=>{e._modeling.updateProperties(t,{type:a.flowType})}},{id:"toggle-response-flow",label:"Response Relation",flowType:"response",action:(r,a)=>{e._modeling.updateProperties(t,{type:a.flowType})}},{id:"toggle-include-flow",label:"Include Relation",flowType:"include",action:(r,a)=>{e._modeling.updateProperties(t,{type:a.flowType})}},{id:"toggle-exclude-flow",label:"Exclude Relation",flowType:"exclude",action:(r,a)=>{e._modeling.updateProperties(t,{type:a.flowType})}},{id:"toggle-milestone-flow",label:"Milestone Relation",flowType:"milestone",action:(r,a)=>{e._modeling.updateProperties(t,{type:a.flowType})}},{id:"toggle-spawn-flow",label:"Spawn Relation",flowType:"spawn",action:(r,a)=>{e._modeling.updateProperties(t,{type:a.flowType})}}].filter(r=>e._dcrRules.isLinkAllowed(t,r.flowType))};kl.prototype.register=function(){this._popupMenu.registerProvider("dcr-link-popup",this)};const sI={__depends__:[aI,YM],__init__:["subProcessPopupProvide","relationPopupProvider","nestingPopupProvider"],subProcessPopupProvide:["type",gs],nestingPopupProvider:["type",ys],relationPopupProvider:["type",kl]},uI={__depends__:[],__init__:["dcrSettings"],dcrSettings:["type",xC]};var cI=`<?xml version="1.0" encoding="UTF-8"?>
<dcr:definitions xmlns:dcr="http://tk/schema/dcr" xmlns:dcrDi="http://tk/schema/dcrDi">
    <dcr:dcrGraph id="Board_debug" />
    <dcrDi:dcrRootBoard id="RootBoard_debug">
        <dcrDi:dcrPlane id="Plane_debug" boardElement="Board_debug" />
    </dcrDi:dcrRootBoard>
</dcr:definitions>`;function Ti(t){xl.call(this,t)}Te(Ti,xl);Ti.Viewer=da;Ti.NavigatedViewer=rl;Ti.prototype.createDiagram=function(){return this.importXML(cI)};Ti.prototype._interactionModules=[zC,XC,X8,VC];Ti.prototype._modelingModules=[IP,G8,Q8,E6,j0,A6,G6,gM,lp,rP,DP,LP,HP,nB,Z9,ik,pk,Ek,RM,Uk,sI,uI];Ti.prototype._modules=[].concat(da.prototype._modules,Ti.prototype._interactionModules,Ti.prototype._modelingModules);const UA=`<?xml version="1.0" encoding="UTF-8"?>
<dcr:definitions xmlns:dcr="http://tk/schema/dcr" xmlns:dcrDi="http://tk/schema/dcrDi" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC">
    <dcr:dcrGraph id="dcrGraph">
    </dcr:dcrGraph>
    <dcrDi:dcrRootBoard id="RootBoard">
        <dcrDi:dcrPlane id="Plane" boardElement="Board">
        </dcrDi:dcrPlane>
    </dcrDi:dcrRootBoard>
</dcr:definitions>`,b1=({modelerRef:t,override:e,initXml:n})=>(Pt.useEffect(()=>{let r;if(!t.current){r=new Ti(e?{container:document.getElementById("canvas"),keyboard:{bindTo:window},additionalModules:[{palette:["value",null],paletteProvider:["value",null],bendpoints:["value",null],move:["value",null],keyboard:["value",null],keyboardMove:["value",null],keyboardMoveSelection:["value",null],keyboardBindings:["value",null],labelEditing:["value",null],labelEditingProvider:["value",null]}]}:{container:document.getElementById("canvas"),keyboard:{bindTo:window}});const a=Math.random();r.importXML(n||UA).then(()=>{if(t.current=r,e){const s=T0(t.current.getElementRegistry());e.graphRef.current={initial:s,current:{...s,marking:lu(s.marking)}},r.getSelection().select([]),r.setSimulating(!0),r.updateRendering(s),r.on("element.click",l=>{e.overrideOnclick(l),r.getSelection().select([])}),e.onLoadCallback&&e.onLoadCallback(s)}}).catch(s=>console.log(a,`
                This error happens in development because the component is mounted twice due to Strict Mode. 
                This means that the async importXML call of the first mount returns this error, 
                since the corresponding modeler has since been destroyed by cleanup. 
                I.e. it should be harmless
            `,s))}return()=>{r==null||r.destroy(),t.current=null}},[]),J.jsx("div",{className:e!=null&&e.canvasClassName?e.canvasClassName:"",id:"canvas"}));var er=function(){return er=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},er.apply(this,arguments)};function $h(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,s;r<a;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Le="-ms-",tl="-moz-",Ce="-webkit-",HA="comm",Np="rule",E1="decl",lI="@import",FA="@keyframes",fI="@layer",XA=Math.abs,w1=String.fromCharCode,Tv=Object.assign;function dI(t,e){return _n(t,0)^45?(((e<<2^_n(t,0))<<2^_n(t,1))<<2^_n(t,2))<<2^_n(t,3):0}function qA(t){return t.trim()}function Qi(t,e){return(t=e.exec(t))?t[0]:t}function se(t,e,n){return t.replace(e,n)}function dh(t,e,n){return t.indexOf(e,n)}function _n(t,e){return t.charCodeAt(e)|0}function gu(t,e,n){return t.slice(e,n)}function Ei(t){return t.length}function GA(t){return t.length}function Yc(t,e){return e.push(t),t}function hI(t,e){return t.map(e).join("")}function k2(t,e){return t.filter(function(n){return!Qi(n,e)})}var Dp=1,yu=1,VA=0,Ur=0,on=0,Lu="";function Lp(t,e,n,r,a,s,u,l){return{value:t,root:e,parent:n,type:r,props:a,children:s,line:Dp,column:yu,length:u,return:"",siblings:l}}function Ko(t,e){return Tv(Lp("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function ru(t){for(;t.root;)t=Ko(t.root,{children:[t]});Yc(t,t.siblings)}function pI(){return on}function gI(){return on=Ur>0?_n(Lu,--Ur):0,yu--,on===10&&(yu=1,Dp--),on}function ri(){return on=Ur<VA?_n(Lu,Ur++):0,yu++,on===10&&(yu=1,Dp++),on}function es(){return _n(Lu,Ur)}function hh(){return Ur}function Pp(t,e){return gu(Lu,t,e)}function Sv(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yI(t){return Dp=yu=1,VA=Ei(Lu=t),Ur=0,[]}function mI(t){return Lu="",t}function Bm(t){return qA(Pp(Ur-1,Cv(t===91?t+2:t===40?t+1:t)))}function vI(t){for(;(on=es())&&on<33;)ri();return Sv(t)>2||Sv(on)>3?"":" "}function _I(t,e){for(;--e&&ri()&&!(on<48||on>102||on>57&&on<65||on>70&&on<97););return Pp(t,hh()+(e<6&&es()==32&&ri()==32))}function Cv(t){for(;ri();)switch(on){case t:return Ur;case 34:case 39:t!==34&&t!==39&&Cv(on);break;case 40:t===41&&Cv(t);break;case 92:ri();break}return Ur}function xI(t,e){for(;ri()&&t+on!==57;)if(t+on===84&&es()===47)break;return"/*"+Pp(e,Ur-1)+"*"+w1(t===47?t:ri())}function bI(t){for(;!Sv(es());)ri();return Pp(t,Ur)}function EI(t){return mI(ph("",null,null,null,[""],t=yI(t),0,[0],t))}function ph(t,e,n,r,a,s,u,l,f){for(var h=0,p=0,g=u,v=0,_=0,E=0,M=1,O=1,S=1,x=0,m="",w=a,C=s,A=r,B=m;O;)switch(E=x,x=ri()){case 40:if(E!=108&&_n(B,g-1)==58){dh(B+=se(Bm(x),"&","&\f"),"&\f",XA(h?l[h-1]:0))!=-1&&(S=-1);break}case 34:case 39:case 91:B+=Bm(x);break;case 9:case 10:case 13:case 32:B+=vI(E);break;case 92:B+=_I(hh()-1,7);continue;case 47:switch(es()){case 42:case 47:Yc(wI(xI(ri(),hh()),e,n,f),f);break;default:B+="/"}break;case 123*M:l[h++]=Ei(B)*S;case 125*M:case 59:case 0:switch(x){case 0:case 125:O=0;case 59+p:S==-1&&(B=se(B,/\f/g,"")),_>0&&Ei(B)-g&&Yc(_>32?j2(B+";",r,n,g-1,f):j2(se(B," ","")+";",r,n,g-2,f),f);break;case 59:B+=";";default:if(Yc(A=I2(B,e,n,h,p,a,l,m,w=[],C=[],g,s),s),x===123)if(p===0)ph(B,e,A,A,w,s,g,l,C);else switch(v===99&&_n(B,3)===110?100:v){case 100:case 108:case 109:case 115:ph(t,A,A,r&&Yc(I2(t,A,A,0,0,a,l,m,a,w=[],g,C),C),a,C,g,l,r?w:C);break;default:ph(B,A,A,A,[""],C,0,l,C)}}h=p=_=0,M=S=1,m=B="",g=u;break;case 58:g=1+Ei(B),_=E;default:if(M<1){if(x==123)--M;else if(x==125&&M++==0&&gI()==125)continue}switch(B+=w1(x),x*M){case 38:S=p>0?1:(B+="\f",-1);break;case 44:l[h++]=(Ei(B)-1)*S,S=1;break;case 64:es()===45&&(B+=Bm(ri())),v=es(),p=g=Ei(m=B+=bI(hh())),x++;break;case 45:E===45&&Ei(B)==2&&(M=0)}}return s}function I2(t,e,n,r,a,s,u,l,f,h,p,g){for(var v=a-1,_=a===0?s:[""],E=GA(_),M=0,O=0,S=0;M<r;++M)for(var x=0,m=gu(t,v+1,v=XA(O=u[M])),w=t;x<E;++x)(w=qA(O>0?_[x]+" "+m:se(m,/&\f/g,_[x])))&&(f[S++]=w);return Lp(t,e,n,a===0?Np:l,f,h,p,g)}function wI(t,e,n,r){return Lp(t,e,n,HA,w1(pI()),gu(t,2,-2),0,r)}function j2(t,e,n,r,a){return Lp(t,e,n,E1,gu(t,0,r),gu(t,r+1,-1),r,a)}function YA(t,e,n){switch(dI(t,e)){case 5103:return Ce+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ce+t+t;case 4789:return tl+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ce+t+tl+t+Le+t+t;case 5936:switch(_n(t,e+11)){case 114:return Ce+t+Le+se(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ce+t+Le+se(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ce+t+Le+se(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Ce+t+Le+t+t;case 6165:return Ce+t+Le+"flex-"+t+t;case 5187:return Ce+t+se(t,/(\w+).+(:[^]+)/,Ce+"box-$1$2"+Le+"flex-$1$2")+t;case 5443:return Ce+t+Le+"flex-item-"+se(t,/flex-|-self/g,"")+(Qi(t,/flex-|baseline/)?"":Le+"grid-row-"+se(t,/flex-|-self/g,""))+t;case 4675:return Ce+t+Le+"flex-line-pack"+se(t,/align-content|flex-|-self/g,"")+t;case 5548:return Ce+t+Le+se(t,"shrink","negative")+t;case 5292:return Ce+t+Le+se(t,"basis","preferred-size")+t;case 6060:return Ce+"box-"+se(t,"-grow","")+Ce+t+Le+se(t,"grow","positive")+t;case 4554:return Ce+se(t,/([^-])(transform)/g,"$1"+Ce+"$2")+t;case 6187:return se(se(se(t,/(zoom-|grab)/,Ce+"$1"),/(image-set)/,Ce+"$1"),t,"")+t;case 5495:case 3959:return se(t,/(image-set\([^]*)/,Ce+"$1$`$1");case 4968:return se(se(t,/(.+:)(flex-)?(.*)/,Ce+"box-pack:$3"+Le+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ce+t+t;case 4200:if(!Qi(t,/flex-|baseline/))return Le+"grid-column-align"+gu(t,e)+t;break;case 2592:case 3360:return Le+se(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,a){return e=a,Qi(r.props,/grid-\w+-end/)})?~dh(t+(n=n[e].value),"span",0)?t:Le+se(t,"-start","")+t+Le+"grid-row-span:"+(~dh(n,"span",0)?Qi(n,/\d+/):+Qi(n,/\d+/)-+Qi(t,/\d+/))+";":Le+se(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Qi(r.props,/grid-\w+-start/)})?t:Le+se(se(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return se(t,/(.+)-inline(.+)/,Ce+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ei(t)-1-e>6)switch(_n(t,e+1)){case 109:if(_n(t,e+4)!==45)break;case 102:return se(t,/(.+:)(.+)-([^]+)/,"$1"+Ce+"$2-$3$1"+tl+(_n(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~dh(t,"stretch",0)?YA(se(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return se(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,a,s,u,l,f,h){return Le+a+":"+s+h+(u?Le+a+"-span:"+(l?f:+f-+s)+h:"")+t});case 4949:if(_n(t,e+6)===121)return se(t,":",":"+Ce)+t;break;case 6444:switch(_n(t,_n(t,14)===45?18:11)){case 120:return se(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ce+(_n(t,14)===45?"inline-":"")+"box$3$1"+Ce+"$2$3$1"+Le+"$2box$3")+t;case 100:return se(t,":",":"+Le)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return se(t,"scroll-","scroll-snap-")+t}return t}function zh(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function TI(t,e,n,r){switch(t.type){case fI:if(t.children.length)break;case lI:case E1:return t.return=t.return||t.value;case HA:return"";case FA:return t.return=t.value+"{"+zh(t.children,r)+"}";case Np:if(!Ei(t.value=t.props.join(",")))return""}return Ei(n=zh(t.children,r))?t.return=t.value+"{"+n+"}":""}function SI(t){var e=GA(t);return function(n,r,a,s){for(var u="",l=0;l<e;l++)u+=t[l](n,r,a,s)||"";return u}}function CI(t){return function(e){e.root||(e=e.return)&&t(e)}}function MI(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case E1:t.return=YA(t.value,t.length,n);return;case FA:return zh([Ko(t,{value:se(t.value,"@","@"+Ce)})],r);case Np:if(t.length)return hI(n=t.props,function(a){switch(Qi(a,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ru(Ko(t,{props:[se(a,/:(read-\w+)/,":"+tl+"$1")]})),ru(Ko(t,{props:[a]})),Tv(t,{props:k2(n,r)});break;case"::placeholder":ru(Ko(t,{props:[se(a,/:(plac\w+)/,":"+Ce+"input-$1")]})),ru(Ko(t,{props:[se(a,/:(plac\w+)/,":"+tl+"$1")]})),ru(Ko(t,{props:[se(a,/:(plac\w+)/,Le+"input-$1")]})),ru(Ko(t,{props:[a]})),Tv(t,{props:k2(n,r)});break}return""})}}var AI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},fr={},mu=typeof process<"u"&&fr!==void 0&&(fr.REACT_APP_SC_ATTR||fr.SC_ATTR)||"data-styled",KA="active",ZA="data-styled-version",Bp="6.1.15",T1=`/*!sc*/
`,Uh=typeof window<"u"&&"HTMLElement"in window,OI=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&fr!==void 0&&fr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&fr.REACT_APP_SC_DISABLE_SPEEDY!==""?fr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&fr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&fr!==void 0&&fr.SC_DISABLE_SPEEDY!==void 0&&fr.SC_DISABLE_SPEEDY!==""&&fr.SC_DISABLE_SPEEDY!=="false"&&fr.SC_DISABLE_SPEEDY),kp=Object.freeze([]),vu=Object.freeze({});function RI(t,e,n){return n===void 0&&(n=vu),t.theme!==n.theme&&t.theme||e||n.theme}var WA=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),NI=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,DI=/(^-|-$)/g;function $2(t){return t.replace(NI,"-").replace(DI,"")}var LI=/(a)(d)/gi,xd=52,z2=function(t){return String.fromCharCode(t+(t>25?39:97))};function Mv(t){var e,n="";for(e=Math.abs(t);e>xd;e=e/xd|0)n=z2(e%xd)+n;return(z2(e%xd)+n).replace(LI,"$1-$2")}var km,QA=5381,su=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},JA=function(t){return su(QA,t)};function PI(t){return Mv(JA(t)>>>0)}function BI(t){return t.displayName||t.name||"Component"}function Im(t){return typeof t=="string"&&!0}var tO=typeof Symbol=="function"&&Symbol.for,eO=tO?Symbol.for("react.memo"):60115,kI=tO?Symbol.for("react.forward_ref"):60112,II={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},jI={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},nO={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},$I=((km={})[kI]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},km[eO]=nO,km);function U2(t){return("type"in(e=t)&&e.type.$$typeof)===eO?nO:"$$typeof"in t?$I[t.$$typeof]:II;var e}var zI=Object.defineProperty,UI=Object.getOwnPropertyNames,H2=Object.getOwnPropertySymbols,HI=Object.getOwnPropertyDescriptor,FI=Object.getPrototypeOf,F2=Object.prototype;function rO(t,e,n){if(typeof e!="string"){if(F2){var r=FI(e);r&&r!==F2&&rO(t,r,n)}var a=UI(e);H2&&(a=a.concat(H2(e)));for(var s=U2(t),u=U2(e),l=0;l<a.length;++l){var f=a[l];if(!(f in jI||n&&n[f]||u&&f in u||s&&f in s)){var h=HI(e,f);try{zI(t,f,h)}catch{}}}}return t}function _u(t){return typeof t=="function"}function S1(t){return typeof t=="object"&&"styledComponentId"in t}function ts(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function X2(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function ul(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Av(t,e,n){if(n===void 0&&(n=!1),!n&&!ul(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=Av(t[r],e[r]);else if(ul(e))for(var r in e)t[r]=Av(t[r],e[r]);return t}function C1(t,e){Object.defineProperty(t,"toString",{value:e})}function Il(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var XI=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,a=r.length,s=a;e>=s;)if((s<<=1)<0)throw Il(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var u=a;u<s;u++)this.groupSizes[u]=0}for(var l=this.indexOfGroup(e+1),f=(u=0,n.length);u<f;u++)this.tag.insertRule(l,n[u])&&(this.groupSizes[e]++,l++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),a=r+n;this.groupSizes[e]=0;for(var s=r;s<a;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],a=this.indexOfGroup(e),s=a+r,u=a;u<s;u++)n+="".concat(this.tag.getRule(u)).concat(T1);return n},t}(),gh=new Map,Hh=new Map,yh=1,bd=function(t){if(gh.has(t))return gh.get(t);for(;Hh.has(yh);)yh++;var e=yh++;return gh.set(t,e),Hh.set(e,t),e},qI=function(t,e){yh=e+1,gh.set(t,e),Hh.set(e,t)},GI="style[".concat(mu,"][").concat(ZA,'="').concat(Bp,'"]'),VI=new RegExp("^".concat(mu,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),YI=function(t,e,n){for(var r,a=n.split(","),s=0,u=a.length;s<u;s++)(r=a[s])&&t.registerName(e,r)},KI=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(T1),a=[],s=0,u=r.length;s<u;s++){var l=r[s].trim();if(l){var f=l.match(VI);if(f){var h=0|parseInt(f[1],10),p=f[2];h!==0&&(qI(p,h),YI(t,p,f[3]),t.getTag().insertRules(h,a)),a.length=0}else a.push(l)}}},q2=function(t){for(var e=document.querySelectorAll(GI),n=0,r=e.length;n<r;n++){var a=e[n];a&&a.getAttribute(mu)!==KA&&(KI(t,a),a.parentNode&&a.parentNode.removeChild(a))}};function ZI(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var iO=function(t){var e=document.head,n=t||e,r=document.createElement("style"),a=function(l){var f=Array.from(l.querySelectorAll("style[".concat(mu,"]")));return f[f.length-1]}(n),s=a!==void 0?a.nextSibling:null;r.setAttribute(mu,KA),r.setAttribute(ZA,Bp);var u=ZI();return u&&r.setAttribute("nonce",u),n.insertBefore(r,s),r},WI=function(){function t(e){this.element=iO(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,a=0,s=r.length;a<s;a++){var u=r[a];if(u.ownerNode===n)return u}throw Il(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),QI=function(){function t(e){this.element=iO(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),JI=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),G2=Uh,t7={isServer:!Uh,useCSSOMInjection:!OI},oO=function(){function t(e,n,r){e===void 0&&(e=vu),n===void 0&&(n={});var a=this;this.options=er(er({},t7),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Uh&&G2&&(G2=!1,q2(this)),C1(this,function(){return function(s){for(var u=s.getTag(),l=u.length,f="",h=function(g){var v=function(S){return Hh.get(S)}(g);if(v===void 0)return"continue";var _=s.names.get(v),E=u.getGroup(g);if(_===void 0||!_.size||E.length===0)return"continue";var M="".concat(mu,".g").concat(g,'[id="').concat(v,'"]'),O="";_!==void 0&&_.forEach(function(S){S.length>0&&(O+="".concat(S,","))}),f+="".concat(E).concat(M,'{content:"').concat(O,'"}').concat(T1)},p=0;p<l;p++)h(p);return f}(a)})}return t.registerId=function(e){return bd(e)},t.prototype.rehydrate=function(){!this.server&&Uh&&q2(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(er(er({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,a=n.target;return n.isServer?new JI(a):r?new WI(a):new QI(a)}(this.options),new XI(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(bd(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(bd(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(bd(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),e7=/&/g,n7=/^\s*\/\/.*$/gm;function aO(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=aO(n.children,e)),n})}function r7(t){var e,n,r,a=vu,s=a.options,u=s===void 0?vu:s,l=a.plugins,f=l===void 0?kp:l,h=function(v,_,E){return E.startsWith(n)&&E.endsWith(n)&&E.replaceAll(n,"").length>0?".".concat(e):v},p=f.slice();p.push(function(v){v.type===Np&&v.value.includes("&")&&(v.props[0]=v.props[0].replace(e7,n).replace(r,h))}),u.prefix&&p.push(MI),p.push(TI);var g=function(v,_,E,M){_===void 0&&(_=""),E===void 0&&(E=""),M===void 0&&(M="&"),e=M,n=_,r=new RegExp("\\".concat(n,"\\b"),"g");var O=v.replace(n7,""),S=EI(E||_?"".concat(E," ").concat(_," { ").concat(O," }"):O);u.namespace&&(S=aO(S,u.namespace));var x=[];return zh(S,SI(p.concat(CI(function(m){return x.push(m)})))),x};return g.hash=f.length?f.reduce(function(v,_){return _.name||Il(15),su(v,_.name)},QA).toString():"",g}var i7=new oO,Ov=r7(),sO=ye.createContext({shouldForwardProp:void 0,styleSheet:i7,stylis:Ov});sO.Consumer;ye.createContext(void 0);function V2(){return Pt.useContext(sO)}var o7=function(){function t(e,n){var r=this;this.inject=function(a,s){s===void 0&&(s=Ov);var u=r.name+s.hash;a.hasNameForId(r.id,u)||a.insertRules(r.id,u,s(r.rules,u,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,C1(this,function(){throw Il(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Ov),this.name+e.hash},t}(),a7=function(t){return t>="A"&&t<="Z"};function Y2(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;a7(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var uO=function(t){return t==null||t===!1||t===""},cO=function(t){var e,n,r=[];for(var a in t){var s=t[a];t.hasOwnProperty(a)&&!uO(s)&&(Array.isArray(s)&&s.isCss||_u(s)?r.push("".concat(Y2(a),":"),s,";"):ul(s)?r.push.apply(r,$h($h(["".concat(a," {")],cO(s),!1),["}"],!1)):r.push("".concat(Y2(a),": ").concat((e=a,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in AI||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function ns(t,e,n,r){if(uO(t))return[];if(S1(t))return[".".concat(t.styledComponentId)];if(_u(t)){if(!_u(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var a=t(e);return ns(a,e,n,r)}var s;return t instanceof o7?n?(t.inject(n,r),[t.getName(r)]):[t]:ul(t)?cO(t):Array.isArray(t)?Array.prototype.concat.apply(kp,t.map(function(u){return ns(u,e,n,r)})):[t.toString()]}function s7(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(_u(n)&&!S1(n))return!1}return!0}var u7=JA(Bp),c7=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&s7(e),this.componentId=n,this.baseHash=su(u7,n),this.baseStyle=r,oO.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var a=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))a=ts(a,this.staticRulesId);else{var s=X2(ns(this.rules,e,n,r)),u=Mv(su(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,u)){var l=r(s,".".concat(u),void 0,this.componentId);n.insertRules(this.componentId,u,l)}a=ts(a,u),this.staticRulesId=u}else{for(var f=su(this.baseHash,r.hash),h="",p=0;p<this.rules.length;p++){var g=this.rules[p];if(typeof g=="string")h+=g;else if(g){var v=X2(ns(g,e,n,r));f=su(f,v+p),h+=v}}if(h){var _=Mv(f>>>0);n.hasNameForId(this.componentId,_)||n.insertRules(this.componentId,_,r(h,".".concat(_),void 0,this.componentId)),a=ts(a,_)}}return a},t}(),lO=ye.createContext(void 0);lO.Consumer;var jm={};function l7(t,e,n){var r=S1(t),a=t,s=!Im(t),u=e.attrs,l=u===void 0?kp:u,f=e.componentId,h=f===void 0?function(w,C){var A=typeof w!="string"?"sc":$2(w);jm[A]=(jm[A]||0)+1;var B="".concat(A,"-").concat(PI(Bp+A+jm[A]));return C?"".concat(C,"-").concat(B):B}(e.displayName,e.parentComponentId):f,p=e.displayName,g=p===void 0?function(w){return Im(w)?"styled.".concat(w):"Styled(".concat(BI(w),")")}(t):p,v=e.displayName&&e.componentId?"".concat($2(e.displayName),"-").concat(e.componentId):e.componentId||h,_=r&&a.attrs?a.attrs.concat(l).filter(Boolean):l,E=e.shouldForwardProp;if(r&&a.shouldForwardProp){var M=a.shouldForwardProp;if(e.shouldForwardProp){var O=e.shouldForwardProp;E=function(w,C){return M(w,C)&&O(w,C)}}else E=M}var S=new c7(n,v,r?a.componentStyle:void 0);function x(w,C){return function(A,B,P){var T=A.attrs,j=A.componentStyle,z=A.defaultProps,I=A.foldedComponentIds,F=A.styledComponentId,at=A.target,Et=ye.useContext(lO),it=V2(),lt=A.shouldForwardProp||it.shouldForwardProp,Mt=RI(B,Et,z)||vu,zt=function(xt,wt,k){for(var L,W=er(er({},wt),{className:void 0,theme:k}),q=0;q<xt.length;q+=1){var Tt=_u(L=xt[q])?L(W):L;for(var Rt in Tt)W[Rt]=Rt==="className"?ts(W[Rt],Tt[Rt]):Rt==="style"?er(er({},W[Rt]),Tt[Rt]):Tt[Rt]}return wt.className&&(W.className=ts(W.className,wt.className)),W}(T,B,Mt),G=zt.as||at,H={};for(var K in zt)zt[K]===void 0||K[0]==="$"||K==="as"||K==="theme"&&zt.theme===Mt||(K==="forwardedAs"?H.as=zt.forwardedAs:lt&&!lt(K,G)||(H[K]=zt[K]));var nt=function(xt,wt){var k=V2(),L=xt.generateAndInjectStyles(wt,k.styleSheet,k.stylis);return L}(j,zt),tt=ts(I,F);return nt&&(tt+=" "+nt),zt.className&&(tt+=" "+zt.className),H[Im(G)&&!WA.has(G)?"class":"className"]=tt,P&&(H.ref=P),Pt.createElement(G,H)}(m,w,C)}x.displayName=g;var m=ye.forwardRef(x);return m.attrs=_,m.componentStyle=S,m.displayName=g,m.shouldForwardProp=E,m.foldedComponentIds=r?ts(a.foldedComponentIds,a.styledComponentId):"",m.styledComponentId=v,m.target=r?a.target:t,Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(w){this._foldedDefaultProps=r?function(C){for(var A=[],B=1;B<arguments.length;B++)A[B-1]=arguments[B];for(var P=0,T=A;P<T.length;P++)Av(C,T[P],!0);return C}({},a.defaultProps,w):w}}),C1(m,function(){return".".concat(m.styledComponentId)}),s&&rO(m,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),m}function K2(t,e){for(var n=[t[0]],r=0,a=e.length;r<a;r+=1)n.push(e[r],t[r+1]);return n}var Z2=function(t){return Object.assign(t,{isCss:!0})};function f7(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(_u(t)||ul(t))return Z2(ns(K2(kp,$h([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?ns(r):Z2(ns(K2(r,e)))}function Rv(t,e,n){if(n===void 0&&(n=vu),!e)throw Il(1,e);var r=function(a){for(var s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];return t(e,n,f7.apply(void 0,$h([a],s,!1)))};return r.attrs=function(a){return Rv(t,e,er(er({},n),{attrs:Array.prototype.concat(n.attrs,a).filter(Boolean)}))},r.withConfig=function(a){return Rv(t,e,er(er({},n),a))},r}var fO=function(t){return Rv(l7,t)},Ft=fO;WA.forEach(function(t){Ft[t]=fO(t)});var mh={exports:{}},d7=mh.exports,W2;function h7(){return W2||(W2=1,function(t,e){(function(n,r){r()})(d7,function(){function n(h,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function r(h,p,g){var v=new XMLHttpRequest;v.open("GET",h),v.responseType="blob",v.onload=function(){f(v.response,p,g)},v.onerror=function(){console.error("could not download file")},v.send()}function a(h){var p=new XMLHttpRequest;p.open("HEAD",h,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function s(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(p)}}var u=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof au=="object"&&au.global===au?au:void 0,l=u.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=u.saveAs||(typeof window!="object"||window!==u?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(h,p,g){var v=u.URL||u.webkitURL,_=document.createElement("a");p=p||h.name||"download",_.download=p,_.rel="noopener",typeof h=="string"?(_.href=h,_.origin===location.origin?s(_):a(_.href)?r(h,p,g):s(_,_.target="_blank")):(_.href=v.createObjectURL(h),setTimeout(function(){v.revokeObjectURL(_.href)},4e4),setTimeout(function(){s(_)},0))}:"msSaveOrOpenBlob"in navigator?function(h,p,g){if(p=p||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(n(h,g),p);else if(a(h))r(h,p,g);else{var v=document.createElement("a");v.href=h,v.target="_blank",setTimeout(function(){s(v)})}}:function(h,p,g,v){if(v=v||open("","_blank"),v&&(v.document.title=v.document.body.innerText="downloading..."),typeof h=="string")return r(h,p,g);var _=h.type==="application/octet-stream",E=/constructor/i.test(u.HTMLElement)||u.safari,M=/CriOS\/[\d]+/.test(navigator.userAgent);if((M||_&&E||l)&&typeof FileReader<"u"){var O=new FileReader;O.onloadend=function(){var m=O.result;m=M?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=m:location=m,v=null},O.readAsDataURL(h)}else{var S=u.URL||u.webkitURL,x=S.createObjectURL(h);v?v.location=x:location.href=x,v=null,setTimeout(function(){S.revokeObjectURL(x)},4e4)}});u.saveAs=f.saveAs=f,t.exports=f})}(mh)),mh.exports}var vh=h7();const ra=({fileCallback:t,accept:e,children:n})=>{const r=Pt.useId();function a(u){return new Promise((l,f)=>{window.FileReader||(window.alert("Looks like you use an older browser that does not support drag and drop. Try using a modern browser such as Chrome, Firefox or Internet Explorer > 10."),f()),u||f();var h=new FileReader;h.onload=function(p){var g=p.target.result;l({name:u.name,contents:g})},h.readAsText(u)})}const s=u=>{u.target.files.length>0&&a(u.target.files[0]).then(({name:l,contents:f})=>t(l,f))};return J.jsxs(J.Fragment,{children:[J.jsx("input",{type:"file",accept:e||"",style:{display:"none"},id:r,onChange:s}),J.jsx("label",{htmlFor:r,children:n})]})};var dO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Q2=ye.createContext&&ye.createContext(dO),p7=["attr","size","title"];function g7(t,e){if(t==null)return{};var n=y7(t,e),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)r=s[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function y7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fh(){return Fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fh.apply(this,arguments)}function J2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J2(Object(n),!0).forEach(function(r){m7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m7(t,e,n){return e=v7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v7(t){var e=_7(t,"string");return typeof e=="symbol"?e:e+""}function _7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hO(t){return t&&t.map((e,n)=>ye.createElement(e.tag,Xh({key:n},e.attr),hO(e.child)))}function Rn(t){return e=>ye.createElement(x7,Fh({attr:Xh({},t.attr)},e),hO(t.child))}function x7(t){var e=n=>{var{attr:r,size:a,title:s}=t,u=g7(t,p7),l=a||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),ye.createElement("svg",Fh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,u,{className:f,style:Xh(Xh({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&ye.createElement("title",null,s),t.children)};return Q2!==void 0?ye.createElement(Q2.Consumer,null,n=>e(n)):e(dO)}function pO(t){return Rn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m10 15.586-3.293-3.293-1.414 1.414L10 18.414l9.707-9.707-1.414-1.414z"},child:[]}]})(t)}function b7(t){return Rn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 4H8v4H4v2h6zM8 20h2v-6H4v2h4zm12-6h-6v6h2v-4h4zm0-6h-4V4h-2v6h6z"},child:[]}]})(t)}function E7(t){return Rn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 5h5V3H3v7h2zm5 14H5v-5H3v7h7zm11-5h-2v5h-5v2h7zm-2-4h2V3h-7v2h5z"},child:[]}]})(t)}function M1(t){return Rn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 13h1v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7h1a1 1 0 0 0 .707-1.707l-9-9a.999.999 0 0 0-1.414 0l-9 9A1 1 0 0 0 3 13zm7 7v-5h4v5h-4zm2-15.586 6 6V15l.001 5H16v-5c0-1.103-.897-2-2-2h-4c-1.103 0-2 .897-2 2v5H6v-9.586l6-6z"},child:[]}]})(t)}function cl(t){return Rn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.999 1.993C6.486 1.994 2 6.48 1.999 11.994c0 5.514 4.486 10 10.001 10 5.514-.001 10-4.487 10-10 0-5.514-4.486-10-10.001-10.001zM12 19.994c-4.412 0-8.001-3.589-8.001-8 .001-4.411 3.59-8 8-8.001C16.411 3.994 20 7.583 20 11.994c0 4.41-3.589 7.999-8 8z"},child:[]},{tag:"path",attr:{d:"m12.012 7.989-4.005 4.005 4.005 4.004v-3.004h3.994v-2h-3.994z"},child:[]}]})(t)}function w7(t){return Rn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"},child:[]}]})(t)}function T7(t){return Rn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.5 22c2.003 0 3.887-.78 5.313-2.207l6.904-7.096A1 1 0 0 0 21 11h-3.301l4.175-7.514a1.001 1.001 0 0 0-1.359-1.36l-7.11 3.95.576-2.879a1 1 0 0 0-1.629-.957L4.196 9.197c-2.924 2.924-2.924 7.682 0 10.606A7.452 7.452 0 0 0 9.5 22zM5.552 10.665l5.902-5.031-.248 1.24-.186.93v.001l-.424 2.119 7.83-4.35-3.3 5.94-.001.001L14.301 13h4.331l-5.243 5.389C12.35 19.428 10.969 20 9.5 20s-2.851-.572-3.89-1.611c-2.143-2.144-2.143-5.634-.058-7.724z"},child:[]},{tag:"path",attr:{d:"M9.5 18a3.492 3.492 0 0 0 1.484-6.659c.005.053.016.105.016.159a1.5 1.5 0 1 1-3 0c0-.054.011-.106.016-.159A3.492 3.492 0 0 0 9.5 18z"},child:[]}]})(t)}function S7(t){return Rn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 11h-6V5h-2v6H5v2h6v6h2v-6h6z"},child:[]}]})(t)}function gO(t){return Rn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 4C9.243 4 7 6.243 7 9h2c0-1.654 1.346-3 3-3s3 1.346 3 3c0 1.069-.454 1.465-1.481 2.255-.382.294-.813.626-1.226 1.038C10.981 13.604 10.995 14.897 11 15v2h2v-2.009c0-.024.023-.601.707-1.284.32-.32.682-.598 1.031-.867C15.798 12.024 17 11.1 17 9c0-2.757-2.243-5-5-5zm-1 14h2v2h-2z"},child:[]}]})(t)}function C7(t){return Rn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 16c1.671 0 3-1.331 3-3s-1.329-3-3-3-3 1.331-3 3 1.329 3 3 3z"},child:[]},{tag:"path",attr:{d:"M20.817 11.186a8.94 8.94 0 0 0-1.355-3.219 9.053 9.053 0 0 0-2.43-2.43 8.95 8.95 0 0 0-3.219-1.355 9.028 9.028 0 0 0-1.838-.18V2L8 5l3.975 3V6.002c.484-.002.968.044 1.435.14a6.961 6.961 0 0 1 2.502 1.053 7.005 7.005 0 0 1 1.892 1.892A6.967 6.967 0 0 1 19 13a7.032 7.032 0 0 1-.55 2.725 7.11 7.11 0 0 1-.644 1.188 7.2 7.2 0 0 1-.858 1.039 7.028 7.028 0 0 1-3.536 1.907 7.13 7.13 0 0 1-2.822 0 6.961 6.961 0 0 1-2.503-1.054 7.002 7.002 0 0 1-1.89-1.89A6.996 6.996 0 0 1 5 13H3a9.02 9.02 0 0 0 1.539 5.034 9.096 9.096 0 0 0 2.428 2.428A8.95 8.95 0 0 0 12 22a9.09 9.09 0 0 0 1.814-.183 9.014 9.014 0 0 0 3.218-1.355 8.886 8.886 0 0 0 1.331-1.099 9.228 9.228 0 0 0 1.1-1.332A8.952 8.952 0 0 0 21 13a9.09 9.09 0 0 0-.183-1.814z"},child:[]}]})(t)}function M7(t){return Rn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 21h14a2 2 0 0 0 2-2V8a1 1 0 0 0-.29-.71l-4-4A1 1 0 0 0 16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2zm10-2H9v-5h6zM13 7h-2V5h2zM5 5h2v4h8V5h.59L19 8.41V19h-2v-5a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v5H5z"},child:[]}]})(t)}function A7(t){return Rn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 20a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8h2V6h-4V4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v2H3v2h2zM9 4h6v2H9zM8 8h9v12H7V8z"},child:[]},{tag:"path",attr:{d:"M9 10h2v8H9zm4 0h2v8h-2z"},child:[]}]})(t)}function yO(t){return Rn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11 15h2V9h3l-4-5-4 5h3z"},child:[]},{tag:"path",attr:{d:"M20 18H4v-7H2v7c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2v-7h-2v7z"},child:[]}]})(t)}function Pu(t){return Rn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m16.192 6.344-4.243 4.242-4.242-4.242-1.414 1.414L10.535 12l-4.242 4.242 1.414 1.414 4.242-4.242 4.243 4.242 1.414-1.414L13.364 12l4.242-4.242z"},child:[]}]})(t)}function O7(t){return Rn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 13h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1zm-1 7a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v4zm10 0a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-7a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v7zm1-10h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1z"},child:[]}]})(t)}function R7(t){return Rn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.178 19.569a.998.998 0 0 0 1.644 0l9-13A.999.999 0 0 0 21 5H3a1.002 1.002 0 0 0-.822 1.569l9 13z"},child:[]}]})(t)}function N7(t){return Rn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.536 21.886a1.004 1.004 0 0 0 1.033-.064l13-9a1 1 0 0 0 0-1.644l-13-9A1 1 0 0 0 5 3v18a1 1 0 0 0 .536.886z"},child:[]}]})(t)}const D7=Ft(w7)`
    border-radius: 50%;
    padding: 5px;
    font-size: 30px;
    height: 30px;
    width: 30px;
    color: ${t=>t.open?"White":"Black"};
    background-color: ${t=>t.open?"Black !important":"White"};
    cursor: pointer;
`,L7=Ft.div`
    position: fixed;
    top: 0;
    right: 0;
    height: 100vh;
    width: 30rem;
    box-shadow: 0px 0px 5px 0px grey;
    display: flex;
    flex-direction: column;
    padding-top: 5rem;
    padding-bottom: 5rem;
    font-size: 20px;
    background-color: white;
    justify-content: space-between;
    box-sizing: border-box;
    overflow: scroll;
`,tS=Ft.li`
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    padding: 1rem;
    cursor: pointer;
    & > svg {
        font-size: 25px;
    }
    ${t=>t.$isOpen?`
        background-color: #e6e6e6;
        &:hover {
            color: white;
            background-color: Gainsboro;
        }    
    `:`
        &:hover {
            color: white;
            background-color: Gainsboro;
        }    
    `}
`,P7=Ft.li`
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    cursor: pointer;
    & > svg {
        font-size: 25px;
    }
`,B7=Ft.div`
    margin: 5px;
    margin-left: auto;
    margin-right: auto;
    border-bottom: 1px solid grey;
    width: 50%;
`,k7=t=>t.icon!==void 0,I7=t=>t.elements!==void 0,j7=t=>t.customElement!==void 0;let Gc=0;const A1=({elements:t,bottomElements:e,open:n,setOpen:r})=>{const[a,s]=Pt.useState(new Set),u=f=>{if(a.has(f)){const h=new Set(a);h.delete(f),s(h)}else{const h=new Set(a);h.add(f),s(h)}},l=f=>{if(k7(f)){const{icon:h,text:p,onClick:g}=f;return J.jsxs(tS,{onClick:g,children:[J.jsx(J.Fragment,{children:h}),J.jsx(J.Fragment,{children:p})]},"Modal"+Gc++)}else if(I7(f)){const{text:h,elements:p}=f,g=a.has(h);return J.jsxs(J.Fragment,{children:[J.jsxs(tS,{$isOpen:g,onClick:()=>u(h),children:[g?J.jsx(R7,{}):J.jsx(N7,{}),J.jsx(J.Fragment,{children:h})]},"Modal"+Gc++),g?J.jsxs("li",{children:[J.jsx("ul",{children:p.map(v=>l(v))}),J.jsx(B7,{},"Modal"+Gc++)]},"Modal"+Gc++):null]})}else if(j7(f))return J.jsx(P7,{children:f.customElement},"Modal"+Gc++)};return J.jsxs(J.Fragment,{children:[n?J.jsxs(L7,{children:[J.jsx("ul",{children:t.map(f=>l(f))}),e&&J.jsx("ul",{children:e.map(f=>l(f))})]}):null,J.jsx(D7,{onClick:()=>r(!n),open:n})]})},$7=Ft.div`
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    opacity: 0.5;
    background-color: black;
`,z7=Ft.div`
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: white;
    opacity: 1;
`,U7=Ft(Pu)`
    position: absolute;
    top: 0;
    right: 0;
    margin: 1rem;
    font-size: 30px;
    color: grey;
    cursor: pointer;
    &:hover {
        color: black
    }
`,H7=({close:t,children:e})=>J.jsxs(J.Fragment,{children:[J.jsx($7,{}),J.jsxs(z7,{children:[J.jsx(U7,{onClick:t}),e]})]}),O1=Ft.div`
    display: flex;
    flex-direction: ${t=>t.direction?t.direction:""};
    justify-content: ${t=>t.$justify?t.$justify:""};
`;function F7(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}F7(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var jl=t=>typeof t=="number"&&!isNaN(t),as=t=>typeof t=="string",oo=t=>typeof t=="function",X7=t=>as(t)||jl(t),Nv=t=>as(t)||oo(t)?t:null,q7=(t,e)=>t===!1||jl(t)&&t>0?t:e,Dv=t=>Pt.isValidElement(t)||as(t)||oo(t)||jl(t);function G7(t,e,n=300){let{scrollHeight:r,style:a}=t;requestAnimationFrame(()=>{a.minHeight="initial",a.height=r+"px",a.transition=`all ${n}ms`,requestAnimationFrame(()=>{a.height="0",a.padding="0",a.margin="0",setTimeout(e,n)})})}function V7({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:a=300}){return function({children:s,position:u,preventExitTransition:l,done:f,nodeRef:h,isIn:p,playToast:g}){let v=n?`${t}--${u}`:t,_=n?`${e}--${u}`:e,E=Pt.useRef(0);return Pt.useLayoutEffect(()=>{let M=h.current,O=v.split(" "),S=x=>{x.target===h.current&&(g(),M.removeEventListener("animationend",S),M.removeEventListener("animationcancel",S),E.current===0&&x.type!=="animationcancel"&&M.classList.remove(...O))};M.classList.add(...O),M.addEventListener("animationend",S),M.addEventListener("animationcancel",S)},[]),Pt.useEffect(()=>{let M=h.current,O=()=>{M.removeEventListener("animationend",O),r?G7(M,f,a):f()};p||(l?O():(E.current=1,M.className+=` ${_}`,M.addEventListener("animationend",O)))},[p]),ye.createElement(ye.Fragment,null,s)}}function eS(t,e){return{content:mO(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function mO(t,e,n=!1){return Pt.isValidElement(t)&&!as(t.type)?Pt.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):oo(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function Y7({closeToast:t,theme:e,ariaLabel:n="close"}){return ye.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},ye.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ye.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function K7({delay:t,isRunning:e,closeToast:n,type:r="default",hide:a,className:s,controlledProgress:u,progress:l,rtl:f,isIn:h,theme:p}){let g=a||u&&l===0,v={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};u&&(v.transform=`scaleX(${l})`);let _=ni("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),E=oo(s)?s({rtl:f,type:r,defaultClassName:_}):ni(_,s),M={[u&&l>=1?"onTransitionEnd":"onAnimationEnd"]:u&&l<1?null:()=>{h&&n()}};return ye.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},ye.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${r}`}),ye.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:E,style:v,...M}))}var Z7=1,vO=()=>`${Z7++}`;function W7(t,e,n){let r=1,a=0,s=[],u=[],l=e,f=new Map,h=new Set,p=x=>(h.add(x),()=>h.delete(x)),g=()=>{u=Array.from(f.values()),h.forEach(x=>x())},v=({containerId:x,toastId:m,updateId:w})=>{let C=x?x!==t:t!==1,A=f.has(m)&&w==null;return C||A},_=(x,m)=>{f.forEach(w=>{var C;(m==null||m===w.props.toastId)&&((C=w.toggle)==null||C.call(w,x))})},E=x=>{var m,w;(w=(m=x.props)==null?void 0:m.onClose)==null||w.call(m,x.removalReason),x.isActive=!1},M=x=>{if(x==null)f.forEach(E);else{let m=f.get(x);m&&E(m)}g()},O=()=>{a-=s.length,s=[]},S=x=>{var m,w;let{toastId:C,updateId:A}=x.props,B=A==null;x.staleId&&f.delete(x.staleId),x.isActive=!0,f.set(C,x),g(),n(eS(x,B?"added":"updated")),B&&((w=(m=x.props).onOpen)==null||w.call(m))};return{id:t,props:l,observe:p,toggle:_,removeToast:M,toasts:f,clearQueue:O,buildToast:(x,m)=>{if(v(m))return;let{toastId:w,updateId:C,data:A,staleId:B,delay:P}=m,T=C==null;T&&a++;let j={...l,style:l.toastStyle,key:r++,...Object.fromEntries(Object.entries(m).filter(([I,F])=>F!=null)),toastId:w,updateId:C,data:A,isIn:!1,className:Nv(m.className||l.toastClassName),progressClassName:Nv(m.progressClassName||l.progressClassName),autoClose:m.isLoading?!1:q7(m.autoClose,l.autoClose),closeToast(I){f.get(w).removalReason=I,M(w)},deleteToast(){let I=f.get(w);if(I!=null){if(n(eS(I,"removed")),f.delete(w),a--,a<0&&(a=0),s.length>0){S(s.shift());return}g()}}};j.closeButton=l.closeButton,m.closeButton===!1||Dv(m.closeButton)?j.closeButton=m.closeButton:m.closeButton===!0&&(j.closeButton=Dv(l.closeButton)?l.closeButton:!0);let z={content:x,props:j,staleId:B};l.limit&&l.limit>0&&a>l.limit&&T?s.push(z):jl(P)?setTimeout(()=>{S(z)},P):S(z)},setProps(x){l=x},setToggle:(x,m)=>{let w=f.get(x);w&&(w.toggle=m)},isToastActive:x=>{var m;return(m=f.get(x))==null?void 0:m.isActive},getSnapshot:()=>u}}var Gn=new Map,ll=[],Lv=new Set,Q7=t=>Lv.forEach(e=>e(t)),_O=()=>Gn.size>0;function J7(){ll.forEach(t=>bO(t.content,t.options)),ll=[]}var tj=(t,{containerId:e})=>{var n;return(n=Gn.get(e||1))==null?void 0:n.toasts.get(t)};function xO(t,e){var n;if(e)return!!((n=Gn.get(e))!=null&&n.isToastActive(t));let r=!1;return Gn.forEach(a=>{a.isToastActive(t)&&(r=!0)}),r}function ej(t){if(!_O()){ll=ll.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||X7(t))Gn.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=Gn.get(t.containerId);e?e.removeToast(t.id):Gn.forEach(n=>{n.removeToast(t.id)})}}var nj=(t={})=>{Gn.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function bO(t,e){Dv(t)&&(_O()||ll.push({content:t,options:e}),Gn.forEach(n=>{n.buildToast(t,e)}))}function rj(t){var e;(e=Gn.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function EO(t,e){Gn.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function ij(t){let e=t.containerId||1;return{subscribe(n){let r=W7(e,t,Q7);Gn.set(e,r);let a=r.observe(n);return J7(),()=>{a(),Gn.delete(e)}},setProps(n){var r;(r=Gn.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=Gn.get(e))==null?void 0:n.getSnapshot()}}}function oj(t){return Lv.add(t),()=>{Lv.delete(t)}}function aj(t){return t&&(as(t.toastId)||jl(t.toastId))?t.toastId:vO()}function $l(t,e){return bO(t,e),e.toastId}function Ip(t,e){return{...e,type:e&&e.type||t,toastId:aj(e)}}function jp(t){return(e,n)=>$l(e,Ip(t,n))}function ce(t,e){return $l(t,Ip("default",e))}ce.loading=(t,e)=>$l(t,Ip("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function sj(t,{pending:e,error:n,success:r},a){let s;e&&(s=as(e)?ce.loading(e,a):ce.loading(e.render,{...a,...e}));let u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(h,p,g)=>{if(p==null){ce.dismiss(s);return}let v={type:h,...u,...a,data:g},_=as(p)?{render:p}:p;return s?ce.update(s,{...v,..._}):ce(_.render,{...v,..._}),g},f=oo(t)?t():t;return f.then(h=>l("success",r,h)).catch(h=>l("error",n,h)),f}ce.promise=sj;ce.success=jp("success");ce.info=jp("info");ce.error=jp("error");ce.warning=jp("warning");ce.warn=ce.warning;ce.dark=(t,e)=>$l(t,Ip("default",{theme:"dark",...e}));function uj(t){ej(t)}ce.dismiss=uj;ce.clearWaitingQueue=nj;ce.isActive=xO;ce.update=(t,e={})=>{let n=tj(t,e);if(n){let{props:r,content:a}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:vO()};s.toastId!==t&&(s.staleId=t);let u=s.render||a;delete s.render,$l(u,s)}};ce.done=t=>{ce.update(t,{progress:1})};ce.onChange=oj;ce.play=t=>EO(!0,t);ce.pause=t=>EO(!1,t);function cj(t){var e;let{subscribe:n,getSnapshot:r,setProps:a}=Pt.useRef(ij(t)).current;a(t);let s=(e=Pt.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function u(l){if(!s)return[];let f=new Map;return t.newestOnTop&&s.reverse(),s.forEach(h=>{let{position:p}=h.props;f.has(p)||f.set(p,[]),f.get(p).push(h)}),Array.from(f,h=>l(h[0],h[1]))}return{getToastToRender:u,isToastActive:xO,count:s==null?void 0:s.length}}function lj(t){let[e,n]=Pt.useState(!1),[r,a]=Pt.useState(!1),s=Pt.useRef(null),u=Pt.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:f,closeToast:h,onClick:p,closeOnClick:g}=t;rj({id:t.toastId,containerId:t.containerId,fn:n}),Pt.useEffect(()=>{if(t.pauseOnFocusLoss)return v(),()=>{_()}},[t.pauseOnFocusLoss]);function v(){document.hasFocus()||S(),window.addEventListener("focus",O),window.addEventListener("blur",S)}function _(){window.removeEventListener("focus",O),window.removeEventListener("blur",S)}function E(B){if(t.draggable===!0||t.draggable===B.pointerType){x();let P=s.current;u.canCloseOnClick=!0,u.canDrag=!0,P.style.transition="none",t.draggableDirection==="x"?(u.start=B.clientX,u.removalDistance=P.offsetWidth*(t.draggablePercent/100)):(u.start=B.clientY,u.removalDistance=P.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function M(B){let{top:P,bottom:T,left:j,right:z}=s.current.getBoundingClientRect();B.nativeEvent.type!=="touchend"&&t.pauseOnHover&&B.clientX>=j&&B.clientX<=z&&B.clientY>=P&&B.clientY<=T?S():O()}function O(){n(!0)}function S(){n(!1)}function x(){u.didMove=!1,document.addEventListener("pointermove",w),document.addEventListener("pointerup",C)}function m(){document.removeEventListener("pointermove",w),document.removeEventListener("pointerup",C)}function w(B){let P=s.current;if(u.canDrag&&P){u.didMove=!0,e&&S(),t.draggableDirection==="x"?u.delta=B.clientX-u.start:u.delta=B.clientY-u.start,u.start!==B.clientX&&(u.canCloseOnClick=!1);let T=t.draggableDirection==="x"?`${u.delta}px, var(--y)`:`0, calc(${u.delta}px + var(--y))`;P.style.transform=`translate3d(${T},0)`,P.style.opacity=`${1-Math.abs(u.delta/u.removalDistance)}`}}function C(){m();let B=s.current;if(u.canDrag&&u.didMove&&B){if(u.canDrag=!1,Math.abs(u.delta)>u.removalDistance){a(!0),t.closeToast(!0),t.collapseAll();return}B.style.transition="transform 0.2s, opacity 0.2s",B.style.removeProperty("transform"),B.style.removeProperty("opacity")}}let A={onPointerDown:E,onPointerUp:M};return l&&f&&(A.onMouseEnter=S,t.stacked||(A.onMouseLeave=O)),g&&(A.onClick=B=>{p&&p(B),u.canCloseOnClick&&h(!0)}),{playToast:O,pauseToast:S,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:A}}var fj=typeof window<"u"?Pt.useLayoutEffect:Pt.useEffect,$p=({theme:t,type:e,isLoading:n,...r})=>ye.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function dj(t){return ye.createElement($p,{...t},ye.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function hj(t){return ye.createElement($p,{...t},ye.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function pj(t){return ye.createElement($p,{...t},ye.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function gj(t){return ye.createElement($p,{...t},ye.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function yj(){return ye.createElement("div",{className:"Toastify__spinner"})}var Pv={info:hj,warning:dj,success:pj,error:gj,spinner:yj},mj=t=>t in Pv;function vj({theme:t,type:e,isLoading:n,icon:r}){let a=null,s={theme:t,type:e};return r===!1||(oo(r)?a=r({...s,isLoading:n}):Pt.isValidElement(r)?a=Pt.cloneElement(r,s):n?a=Pv.spinner():mj(e)&&(a=Pv[e](s))),a}var _j=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:a,playToast:s}=lj(t),{closeButton:u,children:l,autoClose:f,onClick:h,type:p,hideProgressBar:g,closeToast:v,transition:_,position:E,className:M,style:O,progressClassName:S,updateId:x,role:m,progress:w,rtl:C,toastId:A,deleteToast:B,isIn:P,isLoading:T,closeOnClick:j,theme:z,ariaLabel:I}=t,F=ni("Toastify__toast",`Toastify__toast-theme--${z}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":C},{"Toastify__toast--close-on-click":j}),at=oo(M)?M({rtl:C,position:E,type:p,defaultClassName:F}):ni(F,M),Et=vj(t),it=!!w||!f,lt={closeToast:v,type:p,theme:z},Mt=null;return u===!1||(oo(u)?Mt=u(lt):Pt.isValidElement(u)?Mt=Pt.cloneElement(u,lt):Mt=Y7(lt)),ye.createElement(_,{isIn:P,done:B,position:E,preventExitTransition:n,nodeRef:r,playToast:s},ye.createElement("div",{id:A,tabIndex:0,onClick:h,"data-in":P,className:at,...a,style:O,ref:r,...P&&{role:m,"aria-label":I}},Et!=null&&ye.createElement("div",{className:ni("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!T})},Et),mO(l,t,!e),Mt,!t.customProgressBar&&ye.createElement(K7,{...x&&!it?{key:`p-${x}`}:{},rtl:C,theme:z,delay:f,isRunning:e,isIn:P,closeToast:v,hide:g,type:p,className:S,controlledProgress:it,progress:w||0})))},xj=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),bj=V7(xj("bounce",!0)),Ej={position:"top-right",transition:bj,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function wj(t){let e={...Ej,...t},n=t.stacked,[r,a]=Pt.useState(!0),s=Pt.useRef(null),{getToastToRender:u,isToastActive:l,count:f}=cj(e),{className:h,style:p,rtl:g,containerId:v,hotKeys:_}=e;function E(O){let S=ni("Toastify__toast-container",`Toastify__toast-container--${O}`,{"Toastify__toast-container--rtl":g});return oo(h)?h({position:O,rtl:g,defaultClassName:S}):ni(S,Nv(h))}function M(){n&&(a(!0),ce.play())}return fj(()=>{var O;if(n){let S=s.current.querySelectorAll('[data-in="true"]'),x=12,m=(O=e.position)==null?void 0:O.includes("top"),w=0,C=0;Array.from(S).reverse().forEach((A,B)=>{let P=A;P.classList.add("Toastify__toast--stacked"),B>0&&(P.dataset.collapsed=`${r}`),P.dataset.pos||(P.dataset.pos=m?"top":"bot");let T=w*(r?.2:1)+(r?0:x*B);P.style.setProperty("--y",`${m?T:T*-1}px`),P.style.setProperty("--g",`${x}`),P.style.setProperty("--s",`${1-(r?C:0)}`),w+=P.offsetHeight,C+=.025})}},[r,f,n]),Pt.useEffect(()=>{function O(S){var x;let m=s.current;_(S)&&((x=m.querySelector('[tabIndex="0"]'))==null||x.focus(),a(!1),ce.pause()),S.key==="Escape"&&(document.activeElement===m||m!=null&&m.contains(document.activeElement))&&(a(!0),ce.play())}return document.addEventListener("keydown",O),()=>{document.removeEventListener("keydown",O)}},[_]),ye.createElement("section",{ref:s,className:"Toastify",id:v,onMouseEnter:()=>{n&&(a(!1),ce.pause())},onMouseLeave:M,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},u((O,S)=>{let x=S.length?{...p}:{...p,pointerEvents:"none"};return ye.createElement("div",{tabIndex:-1,className:E(O),"data-stacked":n,style:x,key:`c-${O}`},S.map(({content:m,props:w})=>ye.createElement(_j,{...w,stacked:n,collapseAll:M,isIn:l(w.toastId,w.containerId),key:`t-${w.key}`},m)))}))}const Tj=Ft.div`
    margin: 2rem;
`,Sj=Ft.div`
    height: 20rem;
    width: 20rem;
    margin: 0.5rem;
    padding: 0.5rem;
    &:hover {
        background: Gainsboro
    }
    border-radius: 10px;
    cursor: pointer;
`,Cj=Ft.img`
    height: auto;
    width: 100%;
`,Mj=Ft.h3`
    text-align: center;
    margin: 0 0 1rem 0;
`,Aj=({examplesData:t,setExamplesOpen:e,openCustomXML:n,openDCRXML:r,setLoading:a})=>{const[s,u]=Pt.useState(""),l=f=>{confirm("Are you sure? This will override your current diagram!")&&(console.log(document.body.style.cursor),a(!0),fetch("examples/diagrams/"+f+".xml").then(h=>{if(!h.ok)ce.error("Failed to fetch example...");else return h.text()}).then(h=>{a(!1),h?(h.includes("<?xml")?n(h):r(h),e(!1)):ce.error("Unable to load example...")}).catch(h=>{console.log(h)}))};return J.jsx(J.Fragment,{children:J.jsxs(H7,{close:()=>e(!1),children:[J.jsxs(Tj,{children:[J.jsx("h1",{children:"Examples"}),J.jsx("p",{children:"Choose an example to to view it in the editor. Warning this will override your current diagram!"}),J.jsx("p",{children:"Search examples:"}),J.jsx("input",{type:"text",onChange:f=>u(f.target.value)})]}),J.jsx(O1,{direction:"row",$justify:"space-around",children:t.map(f=>{if(f.toLowerCase().includes(s.toLowerCase()))return J.jsxs(Sj,{onClick:()=>l(f),children:[J.jsx(Mj,{children:f}),J.jsx(Cj,{src:`examples/images/${f}.svg`})]},f)})})]})})},Oj=Ft.div`
    position: fixed;
    top: 0;
    right: 0;
    overflow: hidden;
    display: flex;
    z-index: 15;
    & > svg {
        background-color: white;
        z-index: 15;
        margin: 0.5rem;
        border: 2px solid black;
        border-radius: 50%;
        padding: 5px;
        font-size: 30px;
        height: 30px;
        width: 30px;
        cursor: pointer;
        &:hover {
          box-shadow: 0px 0px 5px 0px grey;
        }
    }
`,R1=({children:t})=>J.jsx(Oj,{children:t}),Rj=Ft.label`
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
`,wO=Ft.div`
  position: relative;
  width: 60px;
  height: 28px;
  background: #b3b3b3;
  border-radius: 32px;
  padding: 4px;
  transition: 300ms all;

  &:before {
    transition: 300ms all;
    content: "";
    position: absolute;
    width: 28px;
    height: 28px;
    border-radius: 35px;
    top: 50%;
    left: 4px;
    background: white;
    transform: translate(0, -50%);
  }
`,Nj=Ft.input`
  display: none;

  &:checked + ${wO} {
    background: black;

    &:before {
      transform: translate(32px, -50%);
    }
  }
`,N1=({initChecked:t,onChange:e})=>{const[n,r]=Pt.useState(t),a=s=>{e(s),r(s.target.checked)};return J.jsxs(Rj,{children:[J.jsx(Nj,{checked:n,type:"checkbox",onChange:a}),J.jsx(wO,{})]})},Dj=Ft.select`
    padding: 0.5rem;
    font-size: 20px;
    background-color: white;
    border: 2px solid gainsboro;
    cursor: pointer;
    &:hover {
        background-color: gainsboro;
        color: white;
    }
`,D1=({options:t,onChange:e})=>J.jsx("form",{children:J.jsx(Dj,{onChange:n=>e(n.target.value),children:t.map(n=>J.jsx("option",{title:n.tooltip,value:n.value,children:n.title},n.value))})}),L1=t=>typeof t=="boolean"||["HM2011","DCR Solutions","TAL2023"].includes(t);function Bv(){return Bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bv.apply(null,arguments)}var TO=["shift","alt","meta","mod","ctrl"],Lj={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function Wo(t){return(t&&Lj[t]||t||"").trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function Pj(t){return TO.includes(t)}function $m(t,e){return e===void 0&&(e=","),t.split(e)}function zm(t,e,n){e===void 0&&(e="+");var r=t.toLocaleLowerCase().split(e).map(function(u){return Wo(u)}),a={alt:r.includes("alt"),ctrl:r.includes("ctrl")||r.includes("control"),shift:r.includes("shift"),meta:r.includes("meta"),mod:r.includes("mod")},s=r.filter(function(u){return!TO.includes(u)});return Bv({},a,{keys:s,description:n,hotkey:t})}(function(){typeof document<"u"&&(document.addEventListener("keydown",function(t){t.key!==void 0&&SO([Wo(t.key),Wo(t.code)])}),document.addEventListener("keyup",function(t){t.key!==void 0&&CO([Wo(t.key),Wo(t.code)])})),typeof window<"u"&&window.addEventListener("blur",function(){Qo.clear()})})();var Qo=new Set;function P1(t){return Array.isArray(t)}function Bj(t,e){e===void 0&&(e=",");var n=P1(t)?t:t.split(e);return n.every(function(r){return Qo.has(r.trim().toLowerCase())})}function SO(t){var e=Array.isArray(t)?t:[t];Qo.has("meta")&&Qo.forEach(function(n){return!Pj(n)&&Qo.delete(n.toLowerCase())}),e.forEach(function(n){return Qo.add(n.toLowerCase())})}function CO(t){var e=Array.isArray(t)?t:[t];t==="meta"?Qo.clear():e.forEach(function(n){return Qo.delete(n.toLowerCase())})}function kj(t,e,n){(typeof n=="function"&&n(t,e)||n===!0)&&t.preventDefault()}function Ij(t,e,n){return typeof n=="function"?n(t,e):n===!0||n===void 0}function jj(t){return MO(t,["input","textarea","select"])}function MO(t,e){e===void 0&&(e=!1);var n=t.target,r=t.composed,a=null;return $j(n)&&r?a=t.composedPath()[0]&&t.composedPath()[0].tagName:a=n&&n.tagName,P1(e)?!!(a&&e&&e.some(function(s){var u;return s.toLowerCase()===((u=a)==null?void 0:u.toLowerCase())})):!!(a&&e&&e)}function $j(t){return!!t.tagName&&!t.tagName.startsWith("-")&&t.tagName.includes("-")}function zj(t,e){return t.length===0&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):e?t.some(function(n){return e.includes(n)})||t.includes("*"):!0}var Uj=function(e,n,r){r===void 0&&(r=!1);var a=n.alt,s=n.meta,u=n.mod,l=n.shift,f=n.ctrl,h=n.keys,p=e.key,g=e.code,v=e.ctrlKey,_=e.metaKey,E=e.shiftKey,M=e.altKey,O=Wo(g),S=p.toLowerCase();if(!(h!=null&&h.includes(O))&&!(h!=null&&h.includes(S))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(O))return!1;if(!r){if(a===!M&&S!=="alt"||l===!E&&S!=="shift")return!1;if(u){if(!_&&!v)return!1}else if(s===!_&&S!=="meta"&&S!=="os"||f===!v&&S!=="ctrl"&&S!=="control")return!1}return h&&h.length===1&&(h.includes(S)||h.includes(O))?!0:h?Bj(h):!h},Hj=Pt.createContext(void 0),Fj=function(){return Pt.useContext(Hj)};function AO(t,e){return t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(t).length===Object.keys(e).length&&Object.keys(t).reduce(function(n,r){return n&&AO(t[r],e[r])},!0):t===e}var Xj=Pt.createContext({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),qj=function(){return Pt.useContext(Xj)};function Gj(t){var e=Pt.useRef(void 0);return AO(e.current,t)||(e.current=t),e.current}var nS=function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},Vj=typeof window<"u"?Pt.useLayoutEffect:Pt.useEffect;function Yj(t,e,n,r){var a=Pt.useState(null),s=a[0],u=a[1],l=Pt.useRef(!1),f=n instanceof Array?r instanceof Array?void 0:r:n,h=P1(t)?t.join(f==null?void 0:f.splitKey):t,p=n instanceof Array?n:r instanceof Array?r:void 0,g=Pt.useCallback(e,p??[]),v=Pt.useRef(g);p?v.current=g:v.current=e;var _=Gj(f),E=qj(),M=E.enabledScopes,O=Fj();return Vj(function(){if(!((_==null?void 0:_.enabled)===!1||!zj(M,_==null?void 0:_.scopes))){var S=function(A,B){var P;if(B===void 0&&(B=!1),!(jj(A)&&!MO(A,_==null?void 0:_.enableOnFormTags))){if(s!==null){var T=s.getRootNode();if((T instanceof Document||T instanceof ShadowRoot)&&T.activeElement!==s&&!s.contains(T.activeElement)){nS(A);return}}(P=A.target)!=null&&P.isContentEditable&&!(_!=null&&_.enableOnContentEditable)||$m(h,_==null?void 0:_.splitKey).forEach(function(j){var z,I=zm(j,_==null?void 0:_.combinationKey);if(Uj(A,I,_==null?void 0:_.ignoreModifiers)||(z=I.keys)!=null&&z.includes("*")){if(_!=null&&_.ignoreEventWhen!=null&&_.ignoreEventWhen(A)||B&&l.current)return;if(kj(A,I,_==null?void 0:_.preventDefault),!Ij(A,I,_==null?void 0:_.enabled)){nS(A);return}v.current(A,I),B||(l.current=!0)}})}},x=function(A){A.key!==void 0&&(SO(Wo(A.code)),((_==null?void 0:_.keydown)===void 0&&(_==null?void 0:_.keyup)!==!0||_!=null&&_.keydown)&&S(A))},m=function(A){A.key!==void 0&&(CO(Wo(A.code)),l.current=!1,_!=null&&_.keyup&&S(A,!0))},w=s||(f==null?void 0:f.document)||document;return w.addEventListener("keyup",m),w.addEventListener("keydown",x),O&&$m(h,_==null?void 0:_.splitKey).forEach(function(C){return O.addHotkey(zm(C,_==null?void 0:_.combinationKey,_==null?void 0:_.description))}),function(){w.removeEventListener("keyup",m),w.removeEventListener("keydown",x),O&&$m(h,_==null?void 0:_.splitKey).forEach(function(C){return O.removeHotkey(zm(C,_==null?void 0:_.combinationKey,_==null?void 0:_.description))})}}},[s,h,_,M]),u}const B1=()=>{const[t,e]=Pt.useState(!1);return Pt.useEffect(()=>{function n(){e(!!document.fullscreenElement)}return document.addEventListener("fullscreenchange",n),()=>document.removeEventListener("fullscreenchange",n)},[]),t?J.jsx(b7,{title:"Exit Fullscreen",onClick:()=>{document.exitFullscreen(),e(!1)}}):J.jsx(E7,{title:"Enter Fullscreen",onClick:()=>{document.documentElement.requestFullscreen(),e(!0)}})},rS=Ft.div`
  width: 100%;
  & > label > svg {
    font-size: 25px;
  }
  & > label {
    padding: 1rem;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    cursor: pointer;
  }
  &:hover {
      color: white;
      background-color: Gainsboro;
  } 
`,iS=Ft.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  width: 100%;
  padding: 1rem;
  cursor: default;
`,oS=Ft.label`
  margin-top: auto;
  margin-bottom: auto;
`,Kj=Ft.div`
    z-index: 1000;
    position: fixed;
    height: 100%;
    width: 100%;
    top: 0;
    left: 0;
    cursor: wait;
`,Zj=Ft.input`
  position: fixed;
  top: 0;
  left: 50%;
  text-align: center;
  z-index: 5;
  margin-top: 0.5rem;
  transform: translateX(-50%);
  font-size: 30px;
  width: fit-content;
  background: transparent;
  appearance: none;
  border: none;
  &:focus {
    outline: 2px dashed black;
  }
`,aS="DCR-JS Graph",Wj=({setState:t,savedGraphs:e,setSavedGraphs:n,lastSavedGraph:r})=>{const[a,s]=Pt.useState(!1),[u,l]=Pt.useState([]),[f,h]=Pt.useState(!1),[p,g]=Pt.useState(!1),v=Pt.useRef(null),_=r.current,[E,M]=Pt.useState(_||aS),[O,S]=Pt.useState(""),x=()=>{var I;let z=!0;e[E]&&E!==O&&(z=confirm(`This will overwrite the previously saved graph '${E}'. Are you sure you wish to continue?`)),z&&(g(!0),(I=v.current)==null||I.saveXML({format:!1}).then(F=>{const at={...e};at[E]=F.xml,S(E),n(at),g(!1),r.current=E,ce.success("Graph saved!")}))};Yj("ctrl+s",x,{preventDefault:!0}),Pt.useEffect(()=>{fetch("examples/generated_examples.txt").then(z=>{if(!z.ok)throw new Error("Failed to fetch examples status code: "+z.status);return z.text()}).then(z=>{let I=z.split(`
`);I.pop(),I=I.map(F=>F.split(".").slice(0,-1).join(".")),l(I)})},[]);const m=(z,I,F)=>{const at=F==null?void 0:F.slice(0,-4);I&&I(z).then(Et=>{M(at||aS),S(at||"")}).catch(Et=>{console.log(Et),ce.error("Unable to parse XML...")})},w=async()=>{if(!v.current)return;const z=await v.current.saveXML({format:!0}),I=new Blob([z.xml]);vh.saveAs(I,`${E}.xml`)},C=async()=>{if(!v.current)return;const z=await v.current.saveDCRXML(),I=new Blob([z.xml]);vh.saveAs(I,`${E}.xml`)},A=async()=>{if(!v.current)return;const z=await v.current.saveSVG(),I=new Blob([z.svg]);vh.saveAs(I,`${E}.svg`)},B=()=>Object.keys(e).length>0?[{text:"Saved Graphs:",elements:Object.keys(e).map(z=>({icon:J.jsx(cl,{}),text:z,onClick:()=>{var I;m(e[z],(I=v.current)==null?void 0:I.importXML,z+".xml"),h(!1)}}))}]:[],P=[{icon:J.jsx(S7,{}),text:"New Diagram",onClick:()=>{var z;m(UA,(z=v.current)==null?void 0:z.importXML),h(!1)}},{icon:J.jsx(M7,{}),text:"Save Graph",onClick:()=>{x(),h(!1)}},{text:"Open",elements:[{customElement:J.jsx(rS,{children:J.jsxs(ra,{accept:"text/xml",fileCallback:(z,I)=>{var F;m(I,(F=v.current)==null?void 0:F.importXML,z),h(!1)},children:[J.jsx("div",{}),J.jsx(J.Fragment,{children:"Open Editor XML"})]})})},{customElement:J.jsx(rS,{children:J.jsxs(ra,{accept:"text/xml",fileCallback:(z,I)=>{var F;m(I,(F=v.current)==null?void 0:F.importDCRPortalXML,z),h(!1)},children:[J.jsx("div",{}),J.jsx(J.Fragment,{children:"Open DCR Solution XML"})]})})}]},{text:"Download",elements:[{icon:J.jsx("div",{}),text:"Download Editor XML",onClick:()=>{w(),h(!1)}},{icon:J.jsx("div",{}),text:"Download DCR Solutions XML",onClick:()=>{C(),h(!1)}},{icon:J.jsx("div",{}),text:"Download SVG",onClick:()=>{A(),h(!1)}}]},{icon:J.jsx(O7,{}),text:"Examples",onClick:()=>{h(!1),s(!0)}},...B()],T=[{customElement:J.jsxs(iS,{children:[J.jsx(N1,{initChecked:!0,onChange:z=>{var I;return(I=v.current)==null?void 0:I.setSetting("blackRelations",!z.target.checked)}}),J.jsx(oS,{children:"Coloured Relations"})]})},{customElement:J.jsxs(iS,{children:[J.jsx(D1,{options:[{title:"TAL2023",value:"TAL2023",tooltip:"https://link.springer.com/chapter/10.1007/978-3-031-46846-9_12"},{title:"HM2011",value:"HM2011",tooltip:"https://arxiv.org/abs/1110.4161"},{title:"DCR Solutions",value:"DCR Solutions",tooltip:"https://dcrsolutions.net/"}],onChange:z=>{var I;return L1(z)&&((I=v.current)==null?void 0:I.setSetting("markerNotation",z))}}),J.jsx(oS,{children:"Relation Notation"})]})}],j=_?e[_]:void 0;return J.jsxs(J.Fragment,{children:[J.jsx(Zj,{value:E,onChange:z=>M(z.target.value)}),p&&J.jsx(Kj,{}),J.jsx(b1,{initXml:j,modelerRef:v}),J.jsxs(R1,{children:[J.jsx(B1,{}),J.jsx(M1,{onClick:()=>t(rs.Home)}),J.jsx(A1,{elements:P,bottomElements:T,open:f,setOpen:h})]}),a&&J.jsx(Aj,{examplesData:u,openCustomXML:z=>{var I;return m(z,(I=v.current)==null?void 0:I.importCustomXML)},openDCRXML:z=>{var I;return m(z,(I=v.current)==null?void 0:I.importDCRPortalXML)},setExamplesOpen:s,setLoading:g})]})},Qj=Ft.h1`
    font-size: 100px;
    text-align: center;
`,Um=Ft.div`
    display: flex;
    flex-direction: column;
    border-radius: 50%;
    width: 30rem;
    height: 30rem;
    color: white;
    cursor: pointer;
    &:hover {
        background-color: black;
    }
`,Hm=Ft.img`
    width: 20rem;
    height: 20rem;
    background-color: gainsboro;
    border-radius: 50%;
    margin: auto;
`,Fm=Ft.label`
    text-align: center;
    font-size: 40px;
    margin-top: 1rem;
`,Jj=({setState:t})=>J.jsxs(J.Fragment,{children:[J.jsx(Qj,{children:"DCR-JS"}),J.jsxs(O1,{direction:"row",$justify:"space-around",children:[J.jsxs(Um,{onClick:()=>t(rs.Modeler),children:[J.jsxs(Fm,{children:[J.jsx("br",{}),"Modeling"]}),J.jsx(Hm,{src:"icons/modeling.svg"})]}),J.jsxs(Um,{onClick:()=>t(rs.Simulator),children:[J.jsxs(Fm,{children:[J.jsx("br",{}),"Simulation"]}),J.jsx(Hm,{src:"icons/simulation.svg"})]}),J.jsxs(Um,{onClick:()=>t(rs.Conformance),children:[J.jsxs(Fm,{children:["Conformance ",J.jsx("br",{})," Checking"]}),J.jsx(Hm,{src:"icons/conformance.svg"})]})]})]}),_h=Ft.button`
    align-items: center;
    padding: 8px;
    border: 1px solid black;
    border-radius: 5px;
    background-color: white;
    box-shadow: 0px 1px 1px 0 grey;

    &:hover {
        background-color: gainsboro;
    }
`,Xm=Ft.div`
  width: 100%;
  & > label > svg {
    font-size: 25px;
  }
  & > label {
    padding: 1rem;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    cursor: pointer;
  }
  &:hover {
      color: white;
      background-color: Gainsboro;
  } 
`,sS=Ft.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  width: 100%;
  padding: 1rem;
  cursor: default;
`,uS=Ft.label`
  margin-top: auto;
  margin-bottom: auto;
`,t$=Ft.div`
    position: fixed;
    top: 0;
    left: 0;
    height: 100vh;
    width: 30rem;
    box-shadow: ${t=>t.$traceSelected?"none":"0px 0px 5px 0px grey"};
    display: flex;
    flex-direction: column;
    padding-top: 2rem;
    padding-bottom: 2rem;
    font-size: 20px;
    background-color: white;
    box-sizing: border-box;
    overflow: scroll;
    z-index: 5;
`,e$=Ft.div`
    position: fixed;
    top: 0;
    left: ${t=>t.$hugLeft?"0rem":"30rem"};
    height: 100vh;
    box-shadow: 0px 0 5px 0px grey;
    display: flex;
    flex-direction: column;
    padding-top: 2rem;
    padding-bottom: 2rem;
    font-size: 20px;
    background-color: gainsboro;
    box-sizing: border-box;
    overflow: scroll;
    z-index: 4;
`,n$=Ft.input`
    font-size: 30px;
    width: fit-content;
    background: transparent;
    appearance: none;
    border: none;
    margin-bottom: 0.5rem;
    padding: 0.25rem 0.5rem 0.25rem 0.5rem;
    margin: 0.25rem 0.5rem 0.25rem 0.5rem;
    &:focus {
      outline: 2px dashed black;
    }
`,r$=Ft.input`
    font-size: 20px;
    width: fit-content;
    background: transparent;
    appearance: none;
    border: none;
    margin-bottom: 0.5rem;
    padding: 0.25rem 0.5rem 0.25rem 0.5rem;
    margin: 0.25rem 0.5rem 0.25rem 0.5rem;
    &:focus {
      outline: 2px dashed black;
    }
`,i$=Ft.li`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  width: 100%;
  padding: 0.5rem 1rem 0.5rem 1rem;
  cursor: ${t=>t.$simulating?"default":"pointer"};
  box-sizing: border-box;
  color: ${t=>t.$selected?"white":"black"};
  background-color: ${t=>t.$selected?"gainsboro":"white"};

  ${t=>t.$simulating?"":`&:hover {
      color: white;
      background-color: Gainsboro;
  }`}

  & > svg {
    color: white;
    border-radius: 50%;
  }
`,o$=Ft.h1`
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    font-size: 30px;
    font-weight: normal;
    padding: 0.5rem 1rem 0.5rem 1rem;
    margin: 0;
`,a$=Ft(Pu)`
  display: block;
  height: 30px;
  width: 30px;
  margin: auto;
  margin-left: 1rem;
  margin-right: 1rem;
  cursor: pointer;
  color: black;
  &:hover {
    color: white;
  }
`,s$=Ft(C7)`
  display: block;
  height: 30px;
  width: 30px;
  margin: auto;
  margin-left: 1rem;
  margin-right: 1rem;
  cursor: pointer;
  color: black;
  &:hover {
    color: white;
  }
`,u$=Ft.li`
  width: 100%;
  padding: 0.5rem 1rem 0.5rem 1rem;
  box-sizing: border-box;
`,c$=Ft.div`
    position: fixed;
    height: 100%;
    width: 100%;
    top: 0;
    left: 0;
    cursor: default;
    opacity: 50%;
    background-color: grey;
    z-index: 3;
`,l$=Ft(T7)`
    ${t=>t.$clicked?`
        background-color: black !important;
        color: white;
    `:""}
    ${t=>t.$disabled?`
        color : grey;
        border-color: grey !important;
        cursor: default !important;
        &:hover {
            box-shadow: none !important;
        }    
    `:""}
`,f$=Ft(_h)`
    margin: auto;
    margin-bottom: 0;
    width: fit-content;
`,d$=Ft(pO)`
        display: block;
        color: white;
        border-radius: 50%;
        margin: auto;
        margin-right: 1rem;
        margin-left: 1rem;
        background-color: green;
`,h$=Ft(Pu)`
        display: block;
        color: white;
        border-radius: 50%;
        margin: auto;
        margin-right: 1rem;
        margin-left: 1rem;
        background-color: red;
`,p$=Ft(gO)`
        display: block;
        color: white;
        border-radius: 50%;
        margin: auto;
        margin-right: 1rem;
        margin-left: 1rem;
        background-color: orange;
`,g$=Ft(A7)`
    display: block;
    height: 20px;
    width: 20px;
    margin: auto;
    margin-left: 0.5rem;
    margin-right: 0.5rem;
    cursor: pointer;
    color: black !important;
    &:hover {
      color: white !important;
    }
`,y$=t=>{switch(t){case void 0:return J.jsx(p$,{title:"free trace"});case!0:return J.jsx(d$,{title:"accepting"});case!1:return J.jsx(h$,{title:"not accepting"})}};let cS=0;const m$=({setState:t,savedGraphs:e,savedLogs:n,setSavedLogs:r,lastSavedGraph:a,lastSavedLog:s})=>{const u=Pt.useRef(null),l=Pt.useRef(null),[f,h]=Pt.useState(!1),[p,g]=Pt.useState({traceId:"Trace 0",traceName:"Trace 0",trace:[]}),[v,_]=Pt.useState({name:"Unnamed Event Log",traces:{}}),[E,M]=Pt.useState("Trace 0"),[O,S]=Pt.useState(!1),x=Pt.useRef(0),m=Pt.useRef({traceId:"Trace 0",trace:[]}),w=Pt.useMemo(()=>{var G;if(!(l.current===null||p===null))return Qa((G=l.current)==null?void 0:G.initial,p==null?void 0:p.trace)},[p]);Pt.useEffect(()=>{const G=s.current,H=G?n[G]:void 0;H&&G?A(G,H):_({name:"Unnamed Event Log",traces:{"Trace 0":{traceId:"Trace 0",traceName:"",trace:[]}}})},[]);const C=()=>{var H,K;if(!((H=l.current)!=null&&H.current))return;const G={...n};G[v.name]={traces:Object.values(v.traces).reduce((nt,{traceName:tt,trace:xt})=>({...nt,[tt]:xt}),{}),events:(K=l.current)==null?void 0:K.current.events},r(G),console.log(G),s.current=v.name,ce.success("Log saved!")},A=(G,H)=>{if(Object.keys(v.traces).length===0||confirm("This will override your current event log! Do you wish to continue?")){const K={name:G,traces:Object.keys(H.traces).map(nt=>({traceName:nt,traceId:nt,trace:H.traces[nt]})).reduce((nt,tt)=>({...nt,[tt.traceId]:tt}),{})};_(K),console.log(K,H),x.current=2,m.current={traceId:"Trace 0",trace:[]},g(null),M(""),I()}},B=(G,H)=>{G.includes('multi-instance="true"')?ce.error("Multi-instance subprocesses not supported..."):(Object.keys(v.traces).length===0||confirm("This will override your current event log! Do you wish to continue?"))&&H&&H(G).then(K=>{if(u.current&&l.current){const nt=T0(u.current.getElementRegistry());l.current={initial:nt,current:{...nt,marking:lu(nt.marking)}},u.current.updateRendering(nt),_({name:"Unnamed Event Log",traces:{"Trace 0":{traceId:"Trace 0",traceName:"",trace:[]}}}),x.current=0,m.current={traceId:"Trace 0",trace:[]},g({traceId:"Trace 0",traceName:"Trace 0",trace:[]}),M("Trace 0")}}).catch(K=>{console.log(K),ce.error("Unable to parse XML...")})};function P(G){var H=G.businessObject.description;return H==null||H===""?"Executed Unnamed event":"Executed  "+H}function T(G){var H=G.businessObject.description;return(H==null||H==="")&&(H="Unnamed event"),H.toString()}const j=(G,H)=>{var xt;const K=G.id;(xt=G.businessObject)==null||xt.description;let nt=H.subProcessMap[K];nt||(nt=H);const tt=ip(K,H,nt);return x.current!==1&&!tt.enabled?{msg:tt.msg,executedEvent:""}:(console.log("executing: ",K),E0(K,H),{msg:P(G),executedEvent:T(G)})},z=G=>{if(G.element.type!=="dcr:Event"||x.current===2||!m.current||!u.current||!l.current)return;const H=j(G.element,l.current.current);H.executedEvent!==""?(m.current.trace.push(H.executedEvent),g({traceId:"Trace "+m.current.traceId,traceName:E,trace:[...m.current.trace]})):ce.warn(H.msg),u.current.updateRendering(l.current.current)},I=()=>{l.current&&u.current&&(l.current.current={...l.current.initial,marking:lu(l.current.initial.marking)},u.current.updateRendering(l.current.current))},F=()=>{var nt;if(!u.current||!l.current)return;const G={events:(nt=l.current)==null?void 0:nt.initial.events,traces:{}};for(const tt of Object.values(v.traces))G.traces[tt.traceName]=tt.trace;const H=aL(G),K=new Blob([H]);vh.saveAs(K,`${v.name}.xes`)},at=()=>Object.keys(e).length>0?[{text:"Saved Graphs:",elements:Object.keys(e).map(G=>({icon:J.jsx(cl,{}),text:G,onClick:()=>{var H;B(e[G],(H=u.current)==null?void 0:H.importXML),h(!1)}}))}]:[],Et=()=>Object.keys(n).length>0?[{text:"Saved Logs:",elements:Object.keys(n).map(G=>({icon:J.jsx(cl,{}),text:G,onClick:()=>{const H=n[G];A(G,H),h(!1)}}))}]:[],it=[{text:"Open",elements:[{customElement:J.jsx(Xm,{children:J.jsxs(ra,{accept:"text/xml",fileCallback:(G,H)=>{var K;B(H,(K=u.current)==null?void 0:K.importXML),h(!1)},children:[J.jsx("div",{}),J.jsx(J.Fragment,{children:"Open Editor XML"})]})})},{customElement:J.jsx(Xm,{children:J.jsxs(ra,{accept:"text/xml",fileCallback:(G,H)=>{var K;B(H,(K=u.current)==null?void 0:K.importDCRPortalXML),h(!1)},children:[J.jsx("div",{}),J.jsx(J.Fragment,{children:"Open DCR Solution XML"})]})})}]},{customElement:J.jsx(Xm,{children:J.jsxs(ra,{accept:".xes",fileCallback:(G,H)=>{try{const K=SC(H);A(G.slice(0,-4),K)}catch{ce.error("Unable to parse log...")}h(!1)},children:[J.jsx(yO,{}),J.jsx(J.Fragment,{children:"Upload Log"})]})})},...at(),...Et()],lt=[{customElement:J.jsxs(sS,{children:[J.jsx(N1,{initChecked:!0,onChange:G=>{var H;return(H=u.current)==null?void 0:H.setSetting("blackRelations",!G.target.checked)}}),J.jsx(uS,{children:"Coloured Relations"})]})},{customElement:J.jsxs(sS,{children:[J.jsx(D1,{options:[{title:"TAL2023",value:"TAL2023",tooltip:"https://link.springer.com/chapter/10.1007/978-3-031-46846-9_12"},{title:"HM2011",value:"HM2011",tooltip:"https://arxiv.org/abs/1110.4161"},{title:"DCR Solutions",value:"DCR Solutions",tooltip:"https://dcrsolutions.net/"}],onChange:G=>{var H;return L1(G)&&((H=u.current)==null?void 0:H.setSetting("markerNotation",G))}}),J.jsx(uS,{children:"Relation Notation"})]})}],Mt=a.current,zt=Mt?e[Mt]:void 0;return J.jsxs(J.Fragment,{children:[x.current===2?J.jsx(c$,{}):null,J.jsx(b1,{modelerRef:u,initXml:zt,override:{graphRef:l,overrideOnclick:z,canvasClassName:"simulating"}}),x.current===2&&J.jsxs(t$,{$traceSelected:p!==null,children:[J.jsx(n$,{value:v.name,onChange:G=>_({...v,name:G.target.value})}),Object.values(v.traces).map(({trace:G,traceName:H,traceId:K})=>J.jsxs(i$,{$simulating:x.current!==2,$selected:p!==null&&p.traceId===K,onClick:()=>{x.current===2&&(m.current={trace:G,traceId:K},M(H),g({trace:G,traceName:H,traceId:K}))},children:[H,J.jsx(g$,{onClick:nt=>{if(nt.stopPropagation(),confirm(`This will delete the trace '${H}'. Are you sure?`)){const tt={...v.traces};delete tt[K];const xt={...v,traces:tt};K===(p==null?void 0:p.traceId)&&g(null),_(xt)}}})]},K)),J.jsxs(O1,{direction:"row",$justify:"space-around",style:{marginTop:"auto"},children:[J.jsx(_h,{disabled:x.current!==2,onClick:()=>{x.current=0;const G="Trace "+cS++;console.log(cS),_({...v,traces:{...v.traces,[G]:{traceId:G,traceName:G,trace:[]}}}),g({traceId:G,traceName:G,trace:[]}),m.current={traceId:G,trace:[]},M(G)},children:"Add new trace"}),J.jsx(_h,{disabled:x.current!==2,onClick:C,children:"Save log"}),J.jsx(_h,{disabled:x.current!==2,onClick:F,children:"Export log"})]})]}),p&&J.jsxs(e$,{$hugLeft:x.current!==2,children:[J.jsxs(o$,{children:[J.jsx(r$,{value:E,onChange:G=>M(G.target.value)}),y$(w),x.current!==2&&J.jsx(s$,{onClick:()=>{if(!m.current)return;const G=m.current.traceId;g({traceId:"Trace "+G,traceName:E,trace:[]}),m.current={traceId:G,trace:[]},I()}}),J.jsx(a$,{onClick:()=>{if(x.current!==2){const G={...v,traces:{...v.traces}};delete G.traces[p.traceId],_(G)}else if(m.current){const G={...v,traces:{...v.traces}};G.traces[m.current.traceId].traceName=E,_(G)}S(!1),x.current=2,g(null),I()}})]}),J.jsx("ul",{children:p.trace.map((G,H)=>J.jsx(u$,{children:G},G+H))}),x.current!==2&&J.jsx(f$,{onClick:()=>{var G;if((G=l.current)!=null&&G.current)if((x.current===1||w0(l.current.current,l.current.current))&&m.current){x.current=2;const H={...v,traces:{...v.traces}};H.traces[m.current.traceId].traceName=E,H.traces[m.current.traceId].trace=m.current.trace,_(H),S(!1),g(null),I()}else ce.warn("Graph is not accepting...")},children:"Finalize trace"})]}),J.jsxs(R1,{children:[J.jsx(l$,{$disabled:x.current===2,title:O?"Disable non-conformant behaviour":"Enable non-conformant behaviour",$clicked:O,onClick:()=>{x.current!==2&&(O?(S(!1),x.current=0):(S(!0),x.current=1))}}),J.jsx(B1,{}),J.jsx(M1,{onClick:()=>t(rs.Home)}),J.jsx(A1,{elements:it,open:f,bottomElements:lt,setOpen:h})]})]})},qm=Ft.div`
  width: 100%;
  & > label > svg {
    font-size: 25px;
  }
  & > label {
    padding: 1rem;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    cursor: pointer;
  }
  &:hover {
      color: white;
      background-color: Gainsboro;
  } 
`,lS=Ft.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  width: 100%;
  padding: 1rem;
  cursor: default;
`,Gm=Ft.label`
  margin-top: auto;
  margin-bottom: auto;
`,v$=Ft.div`
    position: fixed;
    top: 0;
    left: 0;
    height: 100vh;
    width: 30rem;
    box-shadow: ${t=>t.$traceSelected?"none":"0px 0px 5px 0px grey"};
    display: flex;
    flex-direction: column;
    padding-top: 1rem;
    padding-bottom: 1rem;
    font-size: 20px;
    background-color: white;
    box-sizing: border-box;
    overflow: scroll;
    z-index: 5;
`,_$=Ft.div`
    position: fixed;
    top: 0;
    left: 30rem;
    height: 100vh;
    box-shadow: 0px 0 5px 0px grey;
    display: flex;
    flex-direction: column;
    padding-top: 1rem;
    padding-bottom: 1rem;
    font-size: 20px;
    background-color: gainsboro;
    box-sizing: border-box;
    overflow: scroll;
`,x$=Ft.li`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  width: 100%;
  padding: 0.5rem 1rem 0.5rem 1rem;
  cursor: pointer;
  box-sizing: border-box;
  color: ${t=>t.$selected?"white":"black"};
  background-color: ${t=>t.$selected?"gainsboro":"white"};

  &:hover {
      color: white;
      background-color: Gainsboro;
  } 

  & > svg {
    color: white;
    border-radius: 50%;
  }
`,fS=Ft.h1`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  font-size: 30px;
  font-weight: normal;
  margin: 1rem;
`,b$=Ft(Pu)`
  display: block;
  height: 30px;
  width: 30px;
  margin: auto;
  margin-left: 1rem;
  margin-right: 0;
  cursor: pointer;
  &:hover {
    color: gainsboro;
  }
`,E$=Ft(Pu)`
  display: block;
  height: 30px;
  width: 30px;
  margin: auto;
  margin-left: 1rem;
  margin-right: 1rem;
  cursor: pointer;
  &:hover {
    color: white;
  }
`,w$=Ft.li`
  width: 100%;
  padding: 0.5rem 1rem 0.5rem 1rem;
  box-sizing: border-box;
`,T$=Ft.div`
    display: flex;
    flex-direction: row;

    & > svg {
    display: block;
    color: white;
    border-radius: 50%;
    margin: auto;
    margin-right: 1rem;
    margin-left: 0.5rem;
  }
`,Vm=t=>{switch(t){case void 0:return J.jsx(gO,{style:{backgroundColor:"orange"}});case!0:return J.jsx(pO,{title:"accepting",style:{backgroundColor:"green"}});case!1:return J.jsx(Pu,{title:"not accepting",style:{backgroundColor:"red"}})}},S$=({savedGraphs:t,savedLogs:e,setState:n,lastSavedGraph:r,lastSavedLog:a})=>{const[s,u]=Pt.useState(!1),l=Pt.useRef(null),f=Pt.useRef(null),[h,p]=Pt.useState([]),[g,v]=Pt.useState(""),[_,E]=Pt.useState(null),{positiveCount:M,negativeCount:O}=Pt.useMemo(()=>{let I=0,F=0;for(const at of h)at.isPositive!==void 0&&at.isPositive?I++:F++;return{positiveCount:I,negativeCount:F}},[h]),S=(I,F)=>{I.includes('multi-instance="true"')?ce.error("Multi-instance subprocesses not supported..."):F&&F(I).then(at=>{if(l.current&&f.current){const Et=T0(l.current.getElementRegistry());if(f.current={initial:Et,current:{...Et,marking:lu(Et.marking)}},h){const it=h.map(({traceId:lt,trace:Mt})=>({traceId:lt,trace:Mt,isPositive:Qa(Et,Mt)}));p(it)}}}).catch(at=>{console.log(at),ce.error("Unable to parse XML...")})},x=(I,F)=>{try{const at=SC(F),Et=Object.keys(at.traces).map(it=>{const lt=at.traces[it];return{traceId:it,trace:lt,isPositive:f.current?Qa(f.current.initial,lt):void 0}});v(I.slice(0,-4)),p(Et)}catch(at){console.log(at),ce.error("Cannot parse log...")}},m=()=>Object.keys(t).length>0?[{text:"Saved Graphs:",elements:Object.keys(t).map(I=>({icon:J.jsx(cl,{}),text:I,onClick:()=>{var F;S(t[I],(F=l.current)==null?void 0:F.importXML),u(!1)}}))}]:[],w=()=>Object.keys(e).length>0?[{text:"Saved Logs:",elements:Object.keys(e).map(I=>({icon:J.jsx(cl,{}),text:I,onClick:()=>{const F=e[I];console.log(F);const at=Object.keys(F.traces).map(Et=>{const it=F.traces[Et];return console.log(it,"hehe"),{traceId:Et,trace:it,isPositive:f.current?Qa(f.current.initial,it):void 0}});v(I),p(at),u(!1)}}))}]:[],C=[{text:"Open Model",elements:[{customElement:J.jsx(qm,{children:J.jsxs(ra,{accept:"text/xml",fileCallback:(I,F)=>{var at;S(F,(at=l.current)==null?void 0:at.importXML),u(!1)},children:[J.jsx("div",{}),J.jsx(J.Fragment,{children:"Open Editor XML"})]})})},{customElement:J.jsx(qm,{children:J.jsxs(ra,{accept:"text/xml",fileCallback:(I,F)=>{var at;S(F,(at=l.current)==null?void 0:at.importDCRPortalXML),u(!1)},children:[J.jsx("div",{}),J.jsx(J.Fragment,{children:"Open DCR Solution XML"})]})})}]},{customElement:J.jsx(qm,{children:J.jsxs(ra,{accept:".xes",fileCallback:(I,F)=>{x(I,F),u(!1)},children:[J.jsx(yO,{}),J.jsx(J.Fragment,{children:"Upload Log"})]})})},...m(),...w()],A=[{customElement:J.jsxs(lS,{children:[J.jsx(N1,{initChecked:!0,onChange:I=>{var F;return(F=l.current)==null?void 0:F.setSetting("blackRelations",!I.target.checked)}}),J.jsx(Gm,{children:"Coloured Relations"})]})},{customElement:J.jsxs(lS,{children:[J.jsx(D1,{options:[{title:"TAL2023",value:"TAL2023",tooltip:"https://link.springer.com/chapter/10.1007/978-3-031-46846-9_12"},{title:"HM2011",value:"HM2011",tooltip:"https://arxiv.org/abs/1110.4161"},{title:"DCR Solutions",value:"DCR Solutions",tooltip:"https://dcrsolutions.net/"}],onChange:I=>{var F;return L1(I)&&((F=l.current)==null?void 0:F.setSetting("markerNotation",I))}}),J.jsx(Gm,{children:"Relation Notation"})]})}],B=r.current,P=B?t[B]:void 0,T=a.current,j=T?e[T]:void 0,z=j?I=>{const F=Object.keys(j.traces).map(at=>{const Et=j.traces[at];return{traceId:at,trace:Et,isPositive:Qa(I,Et)}});T&&v(T),p(F)}:void 0;return J.jsxs(J.Fragment,{children:[J.jsx(b1,{modelerRef:l,initXml:P,override:{graphRef:f,overrideOnclick:()=>null,canvasClassName:"conformance",onLoadCallback:z}}),h.length>0&&J.jsxs(v$,{$traceSelected:_!==null,children:[J.jsxs(fS,{children:[g,J.jsxs(T$,{children:[M,Vm(!0),O,Vm(!1)]}),J.jsx(b$,{onClick:()=>{p([]),E(null)}})]}),J.jsx("ul",{children:h.map(({traceId:I,trace:F,isPositive:at})=>J.jsxs(x$,{$selected:_!==null&&_.traceId===I,onClick:()=>E({trace:F,traceId:I}),children:[J.jsx(Gm,{children:I}),Vm(at)]},I))})]}),_&&J.jsxs(_$,{children:[J.jsxs(fS,{children:[_.traceId,J.jsx(E$,{onClick:()=>E(null)})]}),J.jsx("ul",{children:_.trace.map((I,F)=>J.jsx(w$,{children:I},I+F))})]}),J.jsxs(R1,{children:[J.jsx(B1,{}),J.jsx(M1,{onClick:()=>n(rs.Home)}),J.jsx(A1,{elements:C,open:s,bottomElements:A,setOpen:u})]})]})};var rs=(t=>(t[t.Modeler=0]="Modeler",t[t.Home=1]="Home",t[t.Simulator=2]="Simulator",t[t.Conformance=3]="Conformance",t))(rs||{});const C$=()=>{const[t,e]=Pt.useState(1),[n,r]=Pt.useState({}),[a,s]=Pt.useState({}),u=Pt.useRef(void 0),l=Pt.useRef(void 0);switch(t){case 0:return J.jsx(Wj,{savedLogs:a,setSavedLogs:s,savedGraphs:n,setSavedGraphs:r,setState:e,lastSavedGraph:u,lastSavedLog:l});case 1:return J.jsx(Jj,{savedLogs:a,setSavedLogs:s,savedGraphs:n,setSavedGraphs:r,setState:e,lastSavedGraph:u,lastSavedLog:l});case 2:return J.jsx(m$,{savedLogs:a,setSavedLogs:s,savedGraphs:n,setSavedGraphs:r,setState:e,lastSavedGraph:u,lastSavedLog:l});case 3:return J.jsx(S$,{savedLogs:a,setSavedLogs:s,savedGraphs:n,setSavedGraphs:r,setState:e,lastSavedGraph:u,lastSavedLog:l})}};$N.createRoot(document.getElementById("root")).render(J.jsxs(Pt.StrictMode,{children:[J.jsx(C$,{}),J.jsx(wj,{position:"top-left"})]}));
