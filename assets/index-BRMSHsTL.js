(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function aa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function sN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),n}var Ry={exports:{}},Oc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function uN(){if(IE)return Oc;IE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,s){var u=null;if(s!==void 0&&(u=""+s),a.key!==void 0&&(u=""+a.key),"key"in a){s={};for(var l in a)l!=="key"&&(s[l]=a[l])}else s=a;return a=s.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:s}}return Oc.Fragment=e,Oc.jsx=n,Oc.jsxs=n,Oc}var jE;function cN(){return jE||(jE=1,Ry.exports=uN()),Ry.exports}var st=cN(),Ny={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function lN(){if(kE)return se;kE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function m(K){return K===null||typeof K!="object"?null:(K=g&&K[g]||K["@@iterator"],typeof K=="function"?K:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,A={};function R(K,X,Q){this.props=K,this.context=X,this.refs=A,this.updater=Q||_}R.prototype.isReactComponent={},R.prototype.setState=function(K,X){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,X,"setState")},R.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function T(){}T.prototype=R.prototype;function E(K,X,Q){this.props=K,this.context=X,this.refs=A,this.updater=Q||_}var v=E.prototype=new T;v.constructor=E,b(v,R.prototype),v.isPureReactComponent=!0;var w=Array.isArray,M={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function P(K,X,Q,at,rt,wt){return Q=wt.ref,{$$typeof:t,type:K,key:X,ref:Q!==void 0?Q:null,props:wt}}function B(K,X){return P(K.type,X,void 0,void 0,void 0,K.props)}function S(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function z(K){var X={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(Q){return X[Q]})}var F=/\/+/g;function G(K,X){return typeof K=="object"&&K!==null&&K.key!=null?z(""+K.key):X.toString(36)}function q(){}function dt(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(q,q):(K.status="pending",K.then(function(X){K.status==="pending"&&(K.status="fulfilled",K.value=X)},function(X){K.status==="pending"&&(K.status="rejected",K.reason=X)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function At(K,X,Q,at,rt){var wt=typeof K;(wt==="undefined"||wt==="boolean")&&(K=null);var Et=!1;if(K===null)Et=!0;else switch(wt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(K.$$typeof){case t:case e:Et=!0;break;case p:return Et=K._init,At(Et(K._payload),X,Q,at,rt)}}if(Et)return rt=rt(K),Et=at===""?"."+G(K,0):at,w(rt)?(Q="",Et!=null&&(Q=Et.replace(F,"$&/")+"/"),At(rt,X,Q,"",function(Z){return Z})):rt!=null&&(S(rt)&&(rt=B(rt,Q+(rt.key==null||K&&K.key===rt.key?"":(""+rt.key).replace(F,"$&/")+"/")+Et)),X.push(rt)),1;Et=0;var I=at===""?".":at+":";if(w(K))for(var L=0;L<K.length;L++)at=K[L],wt=I+G(at,L),Et+=At(at,X,Q,wt,rt);else if(L=m(K),typeof L=="function")for(K=L.call(K),L=0;!(at=K.next()).done;)at=at.value,wt=I+G(at,L++),Et+=At(at,X,Q,wt,rt);else if(wt==="object"){if(typeof K.then=="function")return At(dt(K),X,Q,at,rt);throw X=String(K),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Et}function it(K,X,Q){if(K==null)return K;var at=[],rt=0;return At(K,at,"","",function(wt){return X.call(Q,wt,rt++)}),at}function gt(K){if(K._status===-1){var X=K._result;X=X(),X.then(function(Q){(K._status===0||K._status===-1)&&(K._status=1,K._result=Q)},function(Q){(K._status===0||K._status===-1)&&(K._status=2,K._result=Q)}),K._status===-1&&(K._status=0,K._result=X)}if(K._status===1)return K._result.default;throw K._result}var Nt=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function zt(){}return se.Children={map:it,forEach:function(K,X,Q){it(K,function(){X.apply(this,arguments)},Q)},count:function(K){var X=0;return it(K,function(){X++}),X},toArray:function(K){return it(K,function(X){return X})||[]},only:function(K){if(!S(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},se.Component=R,se.Fragment=n,se.Profiler=a,se.PureComponent=E,se.StrictMode=r,se.Suspense=f,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,se.act=function(){throw Error("act(...) is not supported in production builds of React.")},se.cache=function(K){return function(){return K.apply(null,arguments)}},se.cloneElement=function(K,X,Q){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var at=b({},K.props),rt=K.key,wt=void 0;if(X!=null)for(Et in X.ref!==void 0&&(wt=void 0),X.key!==void 0&&(rt=""+X.key),X)!C.call(X,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&X.ref===void 0||(at[Et]=X[Et]);var Et=arguments.length-2;if(Et===1)at.children=Q;else if(1<Et){for(var I=Array(Et),L=0;L<Et;L++)I[L]=arguments[L+2];at.children=I}return P(K.type,rt,void 0,void 0,wt,at)},se.createContext=function(K){return K={$$typeof:u,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:s,_context:K},K},se.createElement=function(K,X,Q){var at,rt={},wt=null;if(X!=null)for(at in X.key!==void 0&&(wt=""+X.key),X)C.call(X,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(rt[at]=X[at]);var Et=arguments.length-2;if(Et===1)rt.children=Q;else if(1<Et){for(var I=Array(Et),L=0;L<Et;L++)I[L]=arguments[L+2];rt.children=I}if(K&&K.defaultProps)for(at in Et=K.defaultProps,Et)rt[at]===void 0&&(rt[at]=Et[at]);return P(K,wt,void 0,void 0,null,rt)},se.createRef=function(){return{current:null}},se.forwardRef=function(K){return{$$typeof:l,render:K}},se.isValidElement=S,se.lazy=function(K){return{$$typeof:p,_payload:{_status:-1,_result:K},_init:gt}},se.memo=function(K,X){return{$$typeof:h,type:K,compare:X===void 0?null:X}},se.startTransition=function(K){var X=M.T,Q={};M.T=Q;try{var at=K(),rt=M.S;rt!==null&&rt(Q,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(zt,Nt)}catch(wt){Nt(wt)}finally{M.T=X}},se.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},se.use=function(K){return M.H.use(K)},se.useActionState=function(K,X,Q){return M.H.useActionState(K,X,Q)},se.useCallback=function(K,X){return M.H.useCallback(K,X)},se.useContext=function(K){return M.H.useContext(K)},se.useDebugValue=function(){},se.useDeferredValue=function(K,X){return M.H.useDeferredValue(K,X)},se.useEffect=function(K,X){return M.H.useEffect(K,X)},se.useId=function(){return M.H.useId()},se.useImperativeHandle=function(K,X,Q){return M.H.useImperativeHandle(K,X,Q)},se.useInsertionEffect=function(K,X){return M.H.useInsertionEffect(K,X)},se.useLayoutEffect=function(K,X){return M.H.useLayoutEffect(K,X)},se.useMemo=function(K,X){return M.H.useMemo(K,X)},se.useOptimistic=function(K,X){return M.H.useOptimistic(K,X)},se.useReducer=function(K,X,Q){return M.H.useReducer(K,X,Q)},se.useRef=function(K){return M.H.useRef(K)},se.useState=function(K){return M.H.useState(K)},se.useSyncExternalStore=function(K,X,Q){return M.H.useSyncExternalStore(K,X,Q)},se.useTransition=function(){return M.H.useTransition()},se.version="19.0.0",se}var zE;function bm(){return zE||(zE=1,Ny.exports=lN()),Ny.exports}var Qt=bm();const Jt=aa(Qt);var Dy={exports:{}},Rc={},Ly={exports:{}},Py={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E;function fN(){return $E||($E=1,function(t){function e(it,gt){var Nt=it.length;it.push(gt);t:for(;0<Nt;){var zt=Nt-1>>>1,K=it[zt];if(0<a(K,gt))it[zt]=gt,it[Nt]=K,Nt=zt;else break t}}function n(it){return it.length===0?null:it[0]}function r(it){if(it.length===0)return null;var gt=it[0],Nt=it.pop();if(Nt!==gt){it[0]=Nt;t:for(var zt=0,K=it.length,X=K>>>1;zt<X;){var Q=2*(zt+1)-1,at=it[Q],rt=Q+1,wt=it[rt];if(0>a(at,Nt))rt<K&&0>a(wt,at)?(it[zt]=wt,it[rt]=Nt,zt=rt):(it[zt]=at,it[Q]=Nt,zt=Q);else if(rt<K&&0>a(wt,Nt))it[zt]=wt,it[rt]=Nt,zt=rt;else break t}}return gt}function a(it,gt){var Nt=it.sortIndex-gt.sortIndex;return Nt!==0?Nt:it.id-gt.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,l=u.now();t.unstable_now=function(){return u.now()-l}}var f=[],h=[],p=1,g=null,m=3,_=!1,b=!1,A=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function v(it){for(var gt=n(h);gt!==null;){if(gt.callback===null)r(h);else if(gt.startTime<=it)r(h),gt.sortIndex=gt.expirationTime,e(f,gt);else break;gt=n(h)}}function w(it){if(A=!1,v(it),!b)if(n(f)!==null)b=!0,dt();else{var gt=n(h);gt!==null&&At(w,gt.startTime-it)}}var M=!1,C=-1,P=5,B=-1;function S(){return!(t.unstable_now()-B<P)}function z(){if(M){var it=t.unstable_now();B=it;var gt=!0;try{t:{b=!1,A&&(A=!1,T(C),C=-1),_=!0;var Nt=m;try{e:{for(v(it),g=n(f);g!==null&&!(g.expirationTime>it&&S());){var zt=g.callback;if(typeof zt=="function"){g.callback=null,m=g.priorityLevel;var K=zt(g.expirationTime<=it);if(it=t.unstable_now(),typeof K=="function"){g.callback=K,v(it),gt=!0;break e}g===n(f)&&r(f),v(it)}else r(f);g=n(f)}if(g!==null)gt=!0;else{var X=n(h);X!==null&&At(w,X.startTime-it),gt=!1}}break t}finally{g=null,m=Nt,_=!1}gt=void 0}}finally{gt?F():M=!1}}}var F;if(typeof E=="function")F=function(){E(z)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,q=G.port2;G.port1.onmessage=z,F=function(){q.postMessage(null)}}else F=function(){R(z,0)};function dt(){M||(M=!0,F())}function At(it,gt){C=R(function(){it(t.unstable_now())},gt)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(it){it.callback=null},t.unstable_continueExecution=function(){b||_||(b=!0,dt())},t.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<it?Math.floor(1e3/it):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(it){switch(m){case 1:case 2:case 3:var gt=3;break;default:gt=m}var Nt=m;m=gt;try{return it()}finally{m=Nt}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(it,gt){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var Nt=m;m=it;try{return gt()}finally{m=Nt}},t.unstable_scheduleCallback=function(it,gt,Nt){var zt=t.unstable_now();switch(typeof Nt=="object"&&Nt!==null?(Nt=Nt.delay,Nt=typeof Nt=="number"&&0<Nt?zt+Nt:zt):Nt=zt,it){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=Nt+K,it={id:p++,callback:gt,priorityLevel:it,startTime:Nt,expirationTime:K,sortIndex:-1},Nt>zt?(it.sortIndex=Nt,e(h,it),n(f)===null&&it===n(h)&&(A?(T(C),C=-1):A=!0,At(w,Nt-zt))):(it.sortIndex=K,e(f,it),b||_||(b=!0,dt())),it},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(it){var gt=m;return function(){var Nt=m;m=gt;try{return it.apply(this,arguments)}finally{m=Nt}}}}(Py)),Py}var HE;function dN(){return HE||(HE=1,Ly.exports=fN()),Ly.exports}var By={exports:{}},Bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function hN(){if(UE)return Bn;UE=1;var t=bm();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:p}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Bn.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},Bn.flushSync=function(f){var h=u.T,p=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=h,r.p=p,r.d.f()}},Bn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Bn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Bn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,g=l(p,h.crossOrigin),m=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:m,fetchPriority:_}):p==="script"&&r.d.X(f,{crossOrigin:g,integrity:m,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Bn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=l(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Bn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,g=l(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Bn.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=l(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Bn.requestFormReset=function(f){r.d.r(f)},Bn.unstable_batchedUpdates=function(f,h){return f(h)},Bn.useFormState=function(f,h,p){return u.H.useFormState(f,h,p)},Bn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Bn.version="19.0.0",Bn}var FE;function pN(){if(FE)return By.exports;FE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),By.exports=hN(),By.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function gN(){if(XE)return Rc;XE=1;var t=dN(),e=bm(),n=pN();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var s=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),_=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),w=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function C(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function B(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case f:return"Fragment";case l:return"Portal";case p:return"Profiler";case h:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case _:return(i.displayName||"Context")+".Provider";case m:return(i._context.displayName||"Context")+".Consumer";case b:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case T:return o=i.displayName||null,o!==null?o:B(i.type)||"Memo";case E:o=i._payload,i=i._init;try{return B(i(o))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=Object.assign,F,G;function q(i){if(F===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||"",G=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+F+i+G}var dt=!1;function At(i,o){if(!i||dt)return"";dt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var Ct=function(){throw Error()};if(Object.defineProperty(Ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ct,[])}catch(mt){var ht=mt}Reflect.construct(i,[],Ct)}else{try{Ct.call()}catch(mt){ht=mt}i.call(Ct.prototype)}}else{try{throw Error()}catch(mt){ht=mt}(Ct=i())&&typeof Ct.catch=="function"&&Ct.catch(function(){})}}catch(mt){if(mt&&ht&&typeof mt.stack=="string")return[mt.stack,ht.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),D=x[0],$=x[1];if(D&&$){var Y=D.split(`
`),et=$.split(`
`);for(y=d=0;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;for(;y<et.length&&!et[y].includes("DetermineComponentFrameRoot");)y++;if(d===Y.length||y===et.length)for(d=Y.length-1,y=et.length-1;1<=d&&0<=y&&Y[d]!==et[y];)y--;for(;1<=d&&0<=y;d--,y--)if(Y[d]!==et[y]){if(d!==1||y!==1)do if(d--,y--,0>y||Y[d]!==et[y]){var xt=`
`+Y[d].replace(" at new "," at ");return i.displayName&&xt.includes("<anonymous>")&&(xt=xt.replace("<anonymous>",i.displayName)),xt}while(1<=d&&0<=y);break}}}finally{dt=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?q(c):""}function it(i){switch(i.tag){case 26:case 27:case 5:return q(i.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 15:return i=At(i.type,!1),i;case 11:return i=At(i.type.render,!1),i;case 1:return i=At(i.type,!0),i;default:return""}}function gt(i){try{var o="";do o+=it(i),i=i.return;while(i);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Nt(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function zt(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function K(i){if(Nt(i)!==i)throw Error(r(188))}function X(i){var o=i.alternate;if(!o){if(o=Nt(i),o===null)throw Error(r(188));return o!==i?null:i}for(var c=i,d=o;;){var y=c.return;if(y===null)break;var x=y.alternate;if(x===null){if(d=y.return,d!==null){c=d;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===c)return K(y),i;if(x===d)return K(y),o;x=x.sibling}throw Error(r(188))}if(c.return!==d.return)c=y,d=x;else{for(var D=!1,$=y.child;$;){if($===c){D=!0,c=y,d=x;break}if($===d){D=!0,d=y,c=x;break}$=$.sibling}if(!D){for($=x.child;$;){if($===c){D=!0,c=x,d=y;break}if($===d){D=!0,d=x,c=y;break}$=$.sibling}if(!D)throw Error(r(189))}}if(c.alternate!==d)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:o}function Q(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=Q(i),o!==null)return o;i=i.sibling}return null}var at=Array.isArray,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wt={pending:!1,data:null,method:null,action:null},Et=[],I=-1;function L(i){return{current:i}}function Z(i){0>I||(i.current=Et[I],Et[I]=null,I--)}function H(i,o){I++,Et[I]=i.current,i.current=o}var bt=L(null),Ot=L(null),Tt=L(null),lt=L(null);function vt(i,o){switch(H(Tt,o),H(Ot,i),H(bt,null),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?fE(o):0;break;default:if(i=i===8?o.parentNode:o,o=i.tagName,i=i.namespaceURI)i=fE(i),o=dE(i,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Z(bt),H(bt,o)}function Bt(){Z(bt),Z(Ot),Z(Tt)}function Lt(i){i.memoizedState!==null&&H(lt,i);var o=bt.current,c=dE(o,i.type);o!==c&&(H(Ot,i),H(bt,c))}function Pt(i){Ot.current===i&&(Z(bt),Z(Ot)),lt.current===i&&(Z(lt),Sc._currentValue=wt)}var ee=Object.prototype.hasOwnProperty,It=t.unstable_scheduleCallback,Ut=t.unstable_cancelCallback,Gt=t.unstable_shouldYield,fe=t.unstable_requestPaint,Dt=t.unstable_now,jt=t.unstable_getCurrentPriorityLevel,Kn=t.unstable_ImmediatePriority,k=t.unstable_UserBlockingPriority,O=t.unstable_NormalPriority,N=t.unstable_LowPriority,V=t.unstable_IdlePriority,J=t.log,ft=t.unstable_setDisableYieldValue,_t=null,Ft=null;function Ce(i){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(_t,i,void 0,(i.current.flags&128)===128)}catch{}}function he(i){if(typeof J=="function"&&ft(i),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(_t,i)}catch{}}var ie=Math.clz32?Math.clz32:gs,oe=Math.log,ps=Math.LN2;function gs(i){return i>>>=0,i===0?32:31-(oe(i)/ps|0)|0}var ai=128,On=4194304;function rr(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ai(i,o){var c=i.pendingLanes;if(c===0)return 0;var d=0,y=i.suspendedLanes,x=i.pingedLanes,D=i.warmLanes;i=i.finishedLanes!==0;var $=c&134217727;return $!==0?(c=$&~y,c!==0?d=rr(c):(x&=$,x!==0?d=rr(x):i||(D=$&~D,D!==0&&(d=rr(D))))):($=c&~y,$!==0?d=rr($):x!==0?d=rr(x):i||(D=c&~D,D!==0&&(d=rr(D)))),d===0?0:o!==0&&o!==d&&!(o&y)&&(y=d&-d,D=o&-o,y>=D||y===32&&(D&4194176)!==0)?o:d}function si(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function mo(i,o){switch(i){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _a(){var i=ai;return ai<<=1,!(ai&4194176)&&(ai=128),i}function ys(){var i=On;return On<<=1,!(On&62914560)&&(On=4194304),i}function Nu(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function xa(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function vs(i,o,c,d,y,x){var D=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var $=i.entanglements,Y=i.expirationTimes,et=i.hiddenUpdates;for(c=D&~c;0<c;){var xt=31-ie(c),Ct=1<<xt;$[xt]=0,Y[xt]=-1;var ht=et[xt];if(ht!==null)for(et[xt]=null,xt=0;xt<ht.length;xt++){var mt=ht[xt];mt!==null&&(mt.lane&=-536870913)}c&=~Ct}d!==0&&Ll(i,d,0),x!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=x&~(D&~o))}function Ll(i,o,c){i.pendingLanes|=o,i.suspendedLanes&=~o;var d=31-ie(o);i.entangledLanes|=o,i.entanglements[d]=i.entanglements[d]|1073741824|c&4194218}function Pl(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var d=31-ie(c),y=1<<d;y&o|i[d]&o&&(i[d]|=o),c&=~y}}function Du(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function ms(){var i=rt.p;return i!==0?i:(i=window.event,i===void 0?32:RE(i.type))}function Rp(i,o){var c=rt.p;try{return rt.p=i,o()}finally{rt.p=c}}var Vr=Math.random().toString(36).slice(2),pn="__reactFiber$"+Vr,wn="__reactProps$"+Vr,Oi="__reactContainer$"+Vr,_s="__reactEvents$"+Vr,Bl="__reactListeners$"+Vr,Lu="__reactHandles$"+Vr,ui="__reactResources$"+Vr,Yr="__reactMarker$"+Vr;function Ri(i){delete i[pn],delete i[wn],delete i[_s],delete i[Bl],delete i[Lu]}function Er(i){var o=i[pn];if(o)return o;for(var c=i.parentNode;c;){if(o=c[Oi]||c[pn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=gE(i);i!==null;){if(c=i[pn])return c;i=gE(i)}return o}i=c,c=i.parentNode}return null}function ci(i){if(i=i[pn]||i[Oi]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function Ea(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function _o(i){var o=i[ui];return o||(o=i[ui]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function je(i){i[Yr]=!0}var zn=new Set,Ni={};function Rn(i,o){Nn(i,o),Nn(i+"Capture",o)}function Nn(i,o){for(Ni[i]=o,i=0;i<o.length;i++)zn.add(o[i])}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),br=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wr={},Pu={};function Il(i){return ee.call(Pu,i)?!0:ee.call(wr,i)?!1:br.test(i)?Pu[i]=!0:(wr[i]=!0,!1)}function Di(i,o,c){if(Il(o))if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+c)}}function Dn(i,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+c)}}function Zn(i,o,c,d){if(d===null)i.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(o,c,""+d)}}function Ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function xs(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Bu(i){var o=xs(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,x=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(D){d=""+D,x.call(this,D)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(D){d=""+D},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function xo(i){i._valueTracker||(i._valueTracker=Bu(i))}function ba(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),d="";return i&&(d=xs(i)?i.checked?"true":"false":i.value),i=d,i!==c?(o.setValue(i),!0):!1}function ir(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Np=/[\n"\\]/g;function Hn(i){return i.replace(Np,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function wa(i,o,c,d,y,x,D,$){i.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.type=D:i.removeAttribute("type"),o!=null?D==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Ln(o)):i.value!==""+Ln(o)&&(i.value=""+Ln(o)):D!=="submit"&&D!=="reset"||i.removeAttribute("value"),o!=null?ju(i,D,Ln(o)):c!=null?ju(i,D,Ln(c)):d!=null&&i.removeAttribute("value"),y==null&&x!=null&&(i.defaultChecked=!!x),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?i.name=""+Ln($):i.removeAttribute("name")}function Iu(i,o,c,d,y,x,D,$){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),o!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||o!=null))return;c=c!=null?""+Ln(c):"",o=o!=null?""+Ln(o):c,$||o===i.value||(i.value=o),i.defaultValue=o}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=$?i.checked:!!d,i.defaultChecked=!!d,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(i.name=D)}function ju(i,o,c){o==="number"&&ir(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function Eo(i,o,c,d){if(i=i.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<i.length;c++)y=o.hasOwnProperty("$"+i[c].value),i[c].selected!==y&&(i[c].selected=y),y&&d&&(i[c].defaultSelected=!0)}else{for(c=""+Ln(c),o=null,y=0;y<i.length;y++){if(i[y].value===c){i[y].selected=!0,d&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function j(i,o,c){if(o!=null&&(o=""+Ln(o),o!==i.value&&(i.value=o),c==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=c!=null?""+Ln(c):""}function U(i,o,c,d){if(o==null){if(d!=null){if(c!=null)throw Error(r(92));if(at(d)){if(1<d.length)throw Error(r(93));d=d[0]}c=d}c==null&&(c=""),o=c}c=Ln(o),i.defaultValue=c,d=i.textContent,d===c&&d!==""&&d!==null&&(i.value=d)}function W(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var pt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mt(i,o,c){var d=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":d?i.setProperty(o,c):typeof c!="number"||c===0||pt.has(o)?o==="float"?i.cssFloat=c:i[o]=(""+c).trim():i[o]=c+"px"}function kt(i,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var y in o)d=o[y],o.hasOwnProperty(y)&&c[y]!==d&&Mt(i,y,d)}else for(var x in o)o.hasOwnProperty(x)&&Mt(i,x,o[x])}function ae(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qe=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),un=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Je(i){return un.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Wn=null;function Dp(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Es=null,bs=null;function E1(i){var o=ci(i);if(o&&(i=o.stateNode)){var c=i[wn]||null;t:switch(i=o.stateNode,o.type){case"input":if(wa(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Hn(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var d=c[o];if(d!==i&&d.form===i.form){var y=d[wn]||null;if(!y)throw Error(r(90));wa(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<c.length;o++)d=c[o],d.form===i.form&&ba(d)}break t;case"textarea":j(i,c.value,c.defaultValue);break t;case"select":o=c.value,o!=null&&Eo(i,!!c.multiple,o,!1)}}}var Lp=!1;function b1(i,o,c){if(Lp)return i(o,c);Lp=!0;try{var d=i(o);return d}finally{if(Lp=!1,(Es!==null||bs!==null)&&(xf(),Es&&(o=Es,i=bs,bs=Es=null,E1(o),i)))for(o=0;o<i.length;o++)E1(i[o])}}function ku(i,o){var c=i.stateNode;if(c===null)return null;var d=c[wn]||null;if(d===null)return null;c=d[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break t;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Pp=!1;if($n)try{var zu={};Object.defineProperty(zu,"passive",{get:function(){Pp=!0}}),window.addEventListener("test",zu,zu),window.removeEventListener("test",zu,zu)}catch{Pp=!1}var bo=null,Bp=null,jl=null;function w1(){if(jl)return jl;var i,o=Bp,c=o.length,d,y="value"in bo?bo.value:bo.textContent,x=y.length;for(i=0;i<c&&o[i]===y[i];i++);var D=c-i;for(d=1;d<=D&&o[c-d]===y[x-d];d++);return jl=y.slice(i,1<d?1-d:void 0)}function kl(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function zl(){return!0}function S1(){return!1}function Qn(i){function o(c,d,y,x,D){this._reactName=c,this._targetInst=y,this.type=d,this.nativeEvent=x,this.target=D,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(c=i[$],this[$]=c?c(x):x[$]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?zl:S1,this.isPropagationStopped=S1,this}return z(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=zl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=zl)},persist:function(){},isPersistent:zl}),o}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$l=Qn(Sa),$u=z({},Sa,{view:0,detail:0}),sO=Qn($u),Ip,jp,Hu,Hl=z({},$u,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zp,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Hu&&(Hu&&i.type==="mousemove"?(Ip=i.screenX-Hu.screenX,jp=i.screenY-Hu.screenY):jp=Ip=0,Hu=i),Ip)},movementY:function(i){return"movementY"in i?i.movementY:jp}}),T1=Qn(Hl),uO=z({},Hl,{dataTransfer:0}),cO=Qn(uO),lO=z({},$u,{relatedTarget:0}),kp=Qn(lO),fO=z({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),dO=Qn(fO),hO=z({},Sa,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),pO=Qn(hO),gO=z({},Sa,{data:0}),C1=Qn(gO),yO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _O(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=mO[i])?!!o[i]:!1}function zp(){return _O}var xO=z({},$u,{key:function(i){if(i.key){var o=yO[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=kl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?vO[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zp,charCode:function(i){return i.type==="keypress"?kl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?kl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),EO=Qn(xO),bO=z({},Hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M1=Qn(bO),wO=z({},$u,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zp}),SO=Qn(wO),TO=z({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),CO=Qn(TO),MO=z({},Hl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),AO=Qn(MO),OO=z({},Sa,{newState:0,oldState:0}),RO=Qn(OO),NO=[9,13,27,32],$p=$n&&"CompositionEvent"in window,Uu=null;$n&&"documentMode"in document&&(Uu=document.documentMode);var DO=$n&&"TextEvent"in window&&!Uu,A1=$n&&(!$p||Uu&&8<Uu&&11>=Uu),O1=" ",R1=!1;function N1(i,o){switch(i){case"keyup":return NO.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function D1(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ws=!1;function LO(i,o){switch(i){case"compositionend":return D1(o);case"keypress":return o.which!==32?null:(R1=!0,O1);case"textInput":return i=o.data,i===O1&&R1?null:i;default:return null}}function PO(i,o){if(ws)return i==="compositionend"||!$p&&N1(i,o)?(i=w1(),jl=Bp=bo=null,ws=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return A1&&o.locale!=="ko"?null:o.data;default:return null}}var BO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L1(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!BO[i.type]:o==="textarea"}function P1(i,o,c,d){Es?bs?bs.push(d):bs=[d]:Es=d,o=Tf(o,"onChange"),0<o.length&&(c=new $l("onChange","change",null,c,d),i.push({event:c,listeners:o}))}var Fu=null,Xu=null;function IO(i){aE(i,0)}function Ul(i){var o=Ea(i);if(ba(o))return i}function B1(i,o){if(i==="change")return o}var I1=!1;if($n){var Hp;if($n){var Up="oninput"in document;if(!Up){var j1=document.createElement("div");j1.setAttribute("oninput","return;"),Up=typeof j1.oninput=="function"}Hp=Up}else Hp=!1;I1=Hp&&(!document.documentMode||9<document.documentMode)}function k1(){Fu&&(Fu.detachEvent("onpropertychange",z1),Xu=Fu=null)}function z1(i){if(i.propertyName==="value"&&Ul(Xu)){var o=[];P1(o,Xu,i,Dp(i)),b1(IO,o)}}function jO(i,o,c){i==="focusin"?(k1(),Fu=o,Xu=c,Fu.attachEvent("onpropertychange",z1)):i==="focusout"&&k1()}function kO(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ul(Xu)}function zO(i,o){if(i==="click")return Ul(o)}function $O(i,o){if(i==="input"||i==="change")return Ul(o)}function HO(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var or=typeof Object.is=="function"?Object.is:HO;function Gu(i,o){if(or(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),d=Object.keys(o);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var y=c[d];if(!ee.call(o,y)||!or(i[y],o[y]))return!1}return!0}function $1(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function H1(i,o){var c=$1(i);i=0;for(var d;c;){if(c.nodeType===3){if(d=i+c.textContent.length,i<=o&&d>=o)return{node:c,offset:o-i};i=d}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=$1(c)}}function U1(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?U1(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function F1(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=ir(i.document);o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=ir(i.document)}return o}function Fp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function UO(i,o){var c=F1(o);o=i.focusedElem;var d=i.selectionRange;if(c!==o&&o&&o.ownerDocument&&U1(o.ownerDocument.documentElement,o)){if(d!==null&&Fp(o)){if(i=d.start,c=d.end,c===void 0&&(c=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(c,o.value.length);else if(c=(i=o.ownerDocument||document)&&i.defaultView||window,c.getSelection){c=c.getSelection();var y=o.textContent.length,x=Math.min(d.start,y);d=d.end===void 0?x:Math.min(d.end,y),!c.extend&&x>d&&(y=d,d=x,x=y),y=H1(o,x);var D=H1(o,d);y&&D&&(c.rangeCount!==1||c.anchorNode!==y.node||c.anchorOffset!==y.offset||c.focusNode!==D.node||c.focusOffset!==D.offset)&&(i=i.createRange(),i.setStart(y.node,y.offset),c.removeAllRanges(),x>d?(c.addRange(i),c.extend(D.node,D.offset)):(i.setEnd(D.node,D.offset),c.addRange(i)))}}for(i=[],c=o;c=c.parentNode;)c.nodeType===1&&i.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)c=i[o],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var FO=$n&&"documentMode"in document&&11>=document.documentMode,Ss=null,Xp=null,qu=null,Gp=!1;function X1(i,o,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Gp||Ss==null||Ss!==ir(d)||(d=Ss,"selectionStart"in d&&Fp(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),qu&&Gu(qu,d)||(qu=d,d=Tf(Xp,"onSelect"),0<d.length&&(o=new $l("onSelect","select",null,o,c),i.push({event:o,listeners:d}),o.target=Ss)))}function Ta(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var Ts={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},qp={},G1={};$n&&(G1=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Ca(i){if(qp[i])return qp[i];if(!Ts[i])return i;var o=Ts[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in G1)return qp[i]=o[c];return i}var q1=Ca("animationend"),V1=Ca("animationiteration"),Y1=Ca("animationstart"),XO=Ca("transitionrun"),GO=Ca("transitionstart"),qO=Ca("transitioncancel"),K1=Ca("transitionend"),Z1=new Map,W1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Kr(i,o){Z1.set(i,o),Rn(o,[i])}var Sr=[],Cs=0,Vp=0;function Fl(){for(var i=Cs,o=Vp=Cs=0;o<i;){var c=Sr[o];Sr[o++]=null;var d=Sr[o];Sr[o++]=null;var y=Sr[o];Sr[o++]=null;var x=Sr[o];if(Sr[o++]=null,d!==null&&y!==null){var D=d.pending;D===null?y.next=y:(y.next=D.next,D.next=y),d.pending=y}x!==0&&Q1(c,y,x)}}function Xl(i,o,c,d){Sr[Cs++]=i,Sr[Cs++]=o,Sr[Cs++]=c,Sr[Cs++]=d,Vp|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function Yp(i,o,c,d){return Xl(i,o,c,d),Gl(i)}function wo(i,o){return Xl(i,null,null,o),Gl(i)}function Q1(i,o,c){i.lanes|=c;var d=i.alternate;d!==null&&(d.lanes|=c);for(var y=!1,x=i.return;x!==null;)x.childLanes|=c,d=x.alternate,d!==null&&(d.childLanes|=c),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(y=!0)),i=x,x=x.return;y&&o!==null&&i.tag===3&&(x=i.stateNode,y=31-ie(c),x=x.hiddenUpdates,i=x[y],i===null?x[y]=[o]:i.push(o),o.lane=c|536870912)}function Gl(i){if(50<vc)throw vc=0,ty=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Ms={},J1=new WeakMap;function Tr(i,o){if(typeof i=="object"&&i!==null){var c=J1.get(i);return c!==void 0?c:(o={value:i,source:o,stack:gt(o)},J1.set(i,o),o)}return{value:i,source:o,stack:gt(o)}}var As=[],Os=0,ql=null,Vl=0,Cr=[],Mr=0,Ma=null,Li=1,Pi="";function Aa(i,o){As[Os++]=Vl,As[Os++]=ql,ql=i,Vl=o}function t_(i,o,c){Cr[Mr++]=Li,Cr[Mr++]=Pi,Cr[Mr++]=Ma,Ma=i;var d=Li;i=Pi;var y=32-ie(d)-1;d&=~(1<<y),c+=1;var x=32-ie(o)+y;if(30<x){var D=y-y%5;x=(d&(1<<D)-1).toString(32),d>>=D,y-=D,Li=1<<32-ie(o)+y|c<<y|d,Pi=x+i}else Li=1<<x|c<<y|d,Pi=i}function Kp(i){i.return!==null&&(Aa(i,1),t_(i,1,0))}function Zp(i){for(;i===ql;)ql=As[--Os],As[Os]=null,Vl=As[--Os],As[Os]=null;for(;i===Ma;)Ma=Cr[--Mr],Cr[Mr]=null,Pi=Cr[--Mr],Cr[Mr]=null,Li=Cr[--Mr],Cr[Mr]=null}var Un=null,Sn=null,Ee=!1,Zr=null,li=!1,Wp=Error(r(519));function Oa(i){var o=Error(r(418,""));throw Ku(Tr(o,i)),Wp}function e_(i){var o=i.stateNode,c=i.type,d=i.memoizedProps;switch(o[pn]=i,o[wn]=d,c){case"dialog":me("cancel",o),me("close",o);break;case"iframe":case"object":case"embed":me("load",o);break;case"video":case"audio":for(c=0;c<_c.length;c++)me(_c[c],o);break;case"source":me("error",o);break;case"img":case"image":case"link":me("error",o),me("load",o);break;case"details":me("toggle",o);break;case"input":me("invalid",o),Iu(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),xo(o);break;case"select":me("invalid",o);break;case"textarea":me("invalid",o),U(o,d.value,d.defaultValue,d.children),xo(o)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||d.suppressHydrationWarning===!0||lE(o.textContent,c)?(d.popover!=null&&(me("beforetoggle",o),me("toggle",o)),d.onScroll!=null&&me("scroll",o),d.onScrollEnd!=null&&me("scrollend",o),d.onClick!=null&&(o.onclick=Cf),o=!0):o=!1,o||Oa(i)}function n_(i){for(Un=i.return;Un;)switch(Un.tag){case 3:case 27:li=!0;return;case 5:case 13:li=!1;return;default:Un=Un.return}}function Vu(i){if(i!==Un)return!1;if(!Ee)return n_(i),Ee=!0,!1;var o=!1,c;if((c=i.tag!==3&&i.tag!==27)&&((c=i.tag===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||vy(i.type,i.memoizedProps)),c=!c),c&&(o=!0),o&&Sn&&Oa(i),n_(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));t:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(c=i.data,c==="/$"){if(o===0){Sn=Qr(i.nextSibling);break t}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++;i=i.nextSibling}Sn=null}}else Sn=Un?Qr(i.stateNode.nextSibling):null;return!0}function Yu(){Sn=Un=null,Ee=!1}function Ku(i){Zr===null?Zr=[i]:Zr.push(i)}var Zu=Error(r(460)),r_=Error(r(474)),Qp={then:function(){}};function i_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Yl(){}function o_(i,o,c){switch(c=i[c],c===void 0?i.push(o):c!==o&&(o.then(Yl,Yl),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,i===Zu?Error(r(483)):i;default:if(typeof o.status=="string")o.then(Yl,Yl);else{if(i=Re,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(d){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=d}},function(d){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,i===Zu?Error(r(483)):i}throw Wu=o,Zu}}var Wu=null;function a_(){if(Wu===null)throw Error(r(459));var i=Wu;return Wu=null,i}var Rs=null,Qu=0;function Kl(i){var o=Qu;return Qu+=1,Rs===null&&(Rs=[]),o_(Rs,i,o)}function Ju(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Zl(i,o){throw o.$$typeof===s?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function s_(i){var o=i._init;return o(i._payload)}function u_(i){function o(ot,tt){if(i){var ut=ot.deletions;ut===null?(ot.deletions=[tt],ot.flags|=16):ut.push(tt)}}function c(ot,tt){if(!i)return null;for(;tt!==null;)o(ot,tt),tt=tt.sibling;return null}function d(ot){for(var tt=new Map;ot!==null;)ot.key!==null?tt.set(ot.key,ot):tt.set(ot.index,ot),ot=ot.sibling;return tt}function y(ot,tt){return ot=Bo(ot,tt),ot.index=0,ot.sibling=null,ot}function x(ot,tt,ut){return ot.index=ut,i?(ut=ot.alternate,ut!==null?(ut=ut.index,ut<tt?(ot.flags|=33554434,tt):ut):(ot.flags|=33554434,tt)):(ot.flags|=1048576,tt)}function D(ot){return i&&ot.alternate===null&&(ot.flags|=33554434),ot}function $(ot,tt,ut,St){return tt===null||tt.tag!==6?(tt=qg(ut,ot.mode,St),tt.return=ot,tt):(tt=y(tt,ut),tt.return=ot,tt)}function Y(ot,tt,ut,St){var $t=ut.type;return $t===f?xt(ot,tt,ut.props.children,St,ut.key):tt!==null&&(tt.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===E&&s_($t)===tt.type)?(tt=y(tt,ut.props),Ju(tt,ut),tt.return=ot,tt):(tt=gf(ut.type,ut.key,ut.props,null,ot.mode,St),Ju(tt,ut),tt.return=ot,tt)}function et(ot,tt,ut,St){return tt===null||tt.tag!==4||tt.stateNode.containerInfo!==ut.containerInfo||tt.stateNode.implementation!==ut.implementation?(tt=Vg(ut,ot.mode,St),tt.return=ot,tt):(tt=y(tt,ut.children||[]),tt.return=ot,tt)}function xt(ot,tt,ut,St,$t){return tt===null||tt.tag!==7?(tt=za(ut,ot.mode,St,$t),tt.return=ot,tt):(tt=y(tt,ut),tt.return=ot,tt)}function Ct(ot,tt,ut){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return tt=qg(""+tt,ot.mode,ut),tt.return=ot,tt;if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case u:return ut=gf(tt.type,tt.key,tt.props,null,ot.mode,ut),Ju(ut,tt),ut.return=ot,ut;case l:return tt=Vg(tt,ot.mode,ut),tt.return=ot,tt;case E:var St=tt._init;return tt=St(tt._payload),Ct(ot,tt,ut)}if(at(tt)||C(tt))return tt=za(tt,ot.mode,ut,null),tt.return=ot,tt;if(typeof tt.then=="function")return Ct(ot,Kl(tt),ut);if(tt.$$typeof===_)return Ct(ot,df(ot,tt),ut);Zl(ot,tt)}return null}function ht(ot,tt,ut,St){var $t=tt!==null?tt.key:null;if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return $t!==null?null:$(ot,tt,""+ut,St);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case u:return ut.key===$t?Y(ot,tt,ut,St):null;case l:return ut.key===$t?et(ot,tt,ut,St):null;case E:return $t=ut._init,ut=$t(ut._payload),ht(ot,tt,ut,St)}if(at(ut)||C(ut))return $t!==null?null:xt(ot,tt,ut,St,null);if(typeof ut.then=="function")return ht(ot,tt,Kl(ut),St);if(ut.$$typeof===_)return ht(ot,tt,df(ot,ut),St);Zl(ot,ut)}return null}function mt(ot,tt,ut,St,$t){if(typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint")return ot=ot.get(ut)||null,$(tt,ot,""+St,$t);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case u:return ot=ot.get(St.key===null?ut:St.key)||null,Y(tt,ot,St,$t);case l:return ot=ot.get(St.key===null?ut:St.key)||null,et(tt,ot,St,$t);case E:var pe=St._init;return St=pe(St._payload),mt(ot,tt,ut,St,$t)}if(at(St)||C(St))return ot=ot.get(ut)||null,xt(tt,ot,St,$t,null);if(typeof St.then=="function")return mt(ot,tt,ut,Kl(St),$t);if(St.$$typeof===_)return mt(ot,tt,ut,df(tt,St),$t);Zl(tt,St)}return null}function Ht(ot,tt,ut,St){for(var $t=null,pe=null,Xt=tt,Kt=tt=0,vn=null;Xt!==null&&Kt<ut.length;Kt++){Xt.index>Kt?(vn=Xt,Xt=null):vn=Xt.sibling;var be=ht(ot,Xt,ut[Kt],St);if(be===null){Xt===null&&(Xt=vn);break}i&&Xt&&be.alternate===null&&o(ot,Xt),tt=x(be,tt,Kt),pe===null?$t=be:pe.sibling=be,pe=be,Xt=vn}if(Kt===ut.length)return c(ot,Xt),Ee&&Aa(ot,Kt),$t;if(Xt===null){for(;Kt<ut.length;Kt++)Xt=Ct(ot,ut[Kt],St),Xt!==null&&(tt=x(Xt,tt,Kt),pe===null?$t=Xt:pe.sibling=Xt,pe=Xt);return Ee&&Aa(ot,Kt),$t}for(Xt=d(Xt);Kt<ut.length;Kt++)vn=mt(Xt,ot,Kt,ut[Kt],St),vn!==null&&(i&&vn.alternate!==null&&Xt.delete(vn.key===null?Kt:vn.key),tt=x(vn,tt,Kt),pe===null?$t=vn:pe.sibling=vn,pe=vn);return i&&Xt.forEach(function(Uo){return o(ot,Uo)}),Ee&&Aa(ot,Kt),$t}function ne(ot,tt,ut,St){if(ut==null)throw Error(r(151));for(var $t=null,pe=null,Xt=tt,Kt=tt=0,vn=null,be=ut.next();Xt!==null&&!be.done;Kt++,be=ut.next()){Xt.index>Kt?(vn=Xt,Xt=null):vn=Xt.sibling;var Uo=ht(ot,Xt,be.value,St);if(Uo===null){Xt===null&&(Xt=vn);break}i&&Xt&&Uo.alternate===null&&o(ot,Xt),tt=x(Uo,tt,Kt),pe===null?$t=Uo:pe.sibling=Uo,pe=Uo,Xt=vn}if(be.done)return c(ot,Xt),Ee&&Aa(ot,Kt),$t;if(Xt===null){for(;!be.done;Kt++,be=ut.next())be=Ct(ot,be.value,St),be!==null&&(tt=x(be,tt,Kt),pe===null?$t=be:pe.sibling=be,pe=be);return Ee&&Aa(ot,Kt),$t}for(Xt=d(Xt);!be.done;Kt++,be=ut.next())be=mt(Xt,ot,Kt,be.value,St),be!==null&&(i&&be.alternate!==null&&Xt.delete(be.key===null?Kt:be.key),tt=x(be,tt,Kt),pe===null?$t=be:pe.sibling=be,pe=be);return i&&Xt.forEach(function(aN){return o(ot,aN)}),Ee&&Aa(ot,Kt),$t}function Xe(ot,tt,ut,St){if(typeof ut=="object"&&ut!==null&&ut.type===f&&ut.key===null&&(ut=ut.props.children),typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case u:t:{for(var $t=ut.key;tt!==null;){if(tt.key===$t){if($t=ut.type,$t===f){if(tt.tag===7){c(ot,tt.sibling),St=y(tt,ut.props.children),St.return=ot,ot=St;break t}}else if(tt.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===E&&s_($t)===tt.type){c(ot,tt.sibling),St=y(tt,ut.props),Ju(St,ut),St.return=ot,ot=St;break t}c(ot,tt);break}else o(ot,tt);tt=tt.sibling}ut.type===f?(St=za(ut.props.children,ot.mode,St,ut.key),St.return=ot,ot=St):(St=gf(ut.type,ut.key,ut.props,null,ot.mode,St),Ju(St,ut),St.return=ot,ot=St)}return D(ot);case l:t:{for($t=ut.key;tt!==null;){if(tt.key===$t)if(tt.tag===4&&tt.stateNode.containerInfo===ut.containerInfo&&tt.stateNode.implementation===ut.implementation){c(ot,tt.sibling),St=y(tt,ut.children||[]),St.return=ot,ot=St;break t}else{c(ot,tt);break}else o(ot,tt);tt=tt.sibling}St=Vg(ut,ot.mode,St),St.return=ot,ot=St}return D(ot);case E:return $t=ut._init,ut=$t(ut._payload),Xe(ot,tt,ut,St)}if(at(ut))return Ht(ot,tt,ut,St);if(C(ut)){if($t=C(ut),typeof $t!="function")throw Error(r(150));return ut=$t.call(ut),ne(ot,tt,ut,St)}if(typeof ut.then=="function")return Xe(ot,tt,Kl(ut),St);if(ut.$$typeof===_)return Xe(ot,tt,df(ot,ut),St);Zl(ot,ut)}return typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint"?(ut=""+ut,tt!==null&&tt.tag===6?(c(ot,tt.sibling),St=y(tt,ut),St.return=ot,ot=St):(c(ot,tt),St=qg(ut,ot.mode,St),St.return=ot,ot=St),D(ot)):c(ot,tt)}return function(ot,tt,ut,St){try{Qu=0;var $t=Xe(ot,tt,ut,St);return Rs=null,$t}catch(Xt){if(Xt===Zu)throw Xt;var pe=Nr(29,Xt,null,ot.mode);return pe.lanes=St,pe.return=ot,pe}finally{}}}var Ra=u_(!0),c_=u_(!1),Ns=L(null),Wl=L(0);function l_(i,o){i=Gi,H(Wl,i),H(Ns,o),Gi=i|o.baseLanes}function Jp(){H(Wl,Gi),H(Ns,Ns.current)}function tg(){Gi=Wl.current,Z(Ns),Z(Wl)}var Ar=L(null),fi=null;function So(i){var o=i.alternate;H(cn,cn.current&1),H(Ar,i),fi===null&&(o===null||Ns.current!==null||o.memoizedState!==null)&&(fi=i)}function f_(i){if(i.tag===22){if(H(cn,cn.current),H(Ar,i),fi===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(fi=i)}}else To()}function To(){H(cn,cn.current),H(Ar,Ar.current)}function Bi(i){Z(Ar),fi===i&&(fi=null),Z(cn)}var cn=L(0);function Ql(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var VO=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(c,d){i.push(d)}};this.abort=function(){o.aborted=!0,i.forEach(function(c){return c()})}},YO=t.unstable_scheduleCallback,KO=t.unstable_NormalPriority,ln={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eg(){return{controller:new VO,data:new Map,refCount:0}}function tc(i){i.refCount--,i.refCount===0&&YO(KO,function(){i.controller.abort()})}var ec=null,ng=0,Ds=0,Ls=null;function ZO(i,o){if(ec===null){var c=ec=[];ng=0,Ds=uy(),Ls={status:"pending",value:void 0,then:function(d){c.push(d)}}}return ng++,o.then(d_,d_),o}function d_(){if(--ng===0&&ec!==null){Ls!==null&&(Ls.status="fulfilled");var i=ec;ec=null,Ds=0,Ls=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function WO(i,o){var c=[],d={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return i.then(function(){d.status="fulfilled",d.value=o;for(var y=0;y<c.length;y++)(0,c[y])(o)},function(y){for(d.status="rejected",d.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),d}var h_=S.S;S.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&ZO(i,o),h_!==null&&h_(i,o)};var Na=L(null);function rg(){var i=Na.current;return i!==null?i:Re.pooledCache}function Jl(i,o){o===null?H(Na,Na.current):H(Na,o.pool)}function p_(){var i=rg();return i===null?null:{parent:ln._currentValue,pool:i}}var Co=0,de=null,Me=null,tn=null,tf=!1,Ps=!1,Da=!1,ef=0,nc=0,Bs=null,QO=0;function Ve(){throw Error(r(321))}function ig(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!or(i[c],o[c]))return!1;return!0}function og(i,o,c,d,y,x){return Co=x,de=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,S.H=i===null||i.memoizedState===null?La:Mo,Da=!1,x=c(d,y),Da=!1,Ps&&(x=y_(o,c,d,y)),g_(i),x}function g_(i){S.H=di;var o=Me!==null&&Me.next!==null;if(Co=0,tn=Me=de=null,tf=!1,nc=0,Bs=null,o)throw Error(r(300));i===null||gn||(i=i.dependencies,i!==null&&ff(i)&&(gn=!0))}function y_(i,o,c,d){de=i;var y=0;do{if(Ps&&(Bs=null),nc=0,Ps=!1,25<=y)throw Error(r(301));if(y+=1,tn=Me=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}S.H=Pa,x=o(c,d)}while(Ps);return x}function JO(){var i=S.H,o=i.useState()[0];return o=typeof o.then=="function"?rc(o):o,i=i.useState()[0],(Me!==null?Me.memoizedState:null)!==i&&(de.flags|=1024),o}function ag(){var i=ef!==0;return ef=0,i}function sg(i,o,c){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~c}function ug(i){if(tf){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}tf=!1}Co=0,tn=Me=de=null,Ps=!1,nc=ef=0,Bs=null}function Jn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?de.memoizedState=tn=i:tn=tn.next=i,tn}function en(){if(Me===null){var i=de.alternate;i=i!==null?i.memoizedState:null}else i=Me.next;var o=tn===null?de.memoizedState:tn.next;if(o!==null)tn=o,Me=i;else{if(i===null)throw de.alternate===null?Error(r(467)):Error(r(310));Me=i,i={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},tn===null?de.memoizedState=tn=i:tn=tn.next=i}return tn}var nf;nf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function rc(i){var o=nc;return nc+=1,Bs===null&&(Bs=[]),i=o_(Bs,i,o),o=de,(tn===null?o.memoizedState:tn.next)===null&&(o=o.alternate,S.H=o===null||o.memoizedState===null?La:Mo),i}function rf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return rc(i);if(i.$$typeof===_)return Pn(i)}throw Error(r(438,String(i)))}function cg(i){var o=null,c=de.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var d=de.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=nf(),de.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(i),d=0;d<i;d++)c[d]=w;return o.index++,c}function Ii(i,o){return typeof o=="function"?o(i):o}function of(i){var o=en();return lg(o,Me,i)}function lg(i,o,c){var d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=c;var y=i.baseQueue,x=d.pending;if(x!==null){if(y!==null){var D=y.next;y.next=x.next,x.next=D}o.baseQueue=y=x,d.pending=null}if(x=i.baseState,y===null)i.memoizedState=x;else{o=y.next;var $=D=null,Y=null,et=o,xt=!1;do{var Ct=et.lane&-536870913;if(Ct!==et.lane?(_e&Ct)===Ct:(Co&Ct)===Ct){var ht=et.revertLane;if(ht===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),Ct===Ds&&(xt=!0);else if((Co&ht)===ht){et=et.next,ht===Ds&&(xt=!0);continue}else Ct={lane:0,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},Y===null?($=Y=Ct,D=x):Y=Y.next=Ct,de.lanes|=ht,Io|=ht;Ct=et.action,Da&&c(x,Ct),x=et.hasEagerState?et.eagerState:c(x,Ct)}else ht={lane:Ct,revertLane:et.revertLane,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},Y===null?($=Y=ht,D=x):Y=Y.next=ht,de.lanes|=Ct,Io|=Ct;et=et.next}while(et!==null&&et!==o);if(Y===null?D=x:Y.next=$,!or(x,i.memoizedState)&&(gn=!0,xt&&(c=Ls,c!==null)))throw c;i.memoizedState=x,i.baseState=D,i.baseQueue=Y,d.lastRenderedState=x}return y===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function fg(i){var o=en(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var d=c.dispatch,y=c.pending,x=o.memoizedState;if(y!==null){c.pending=null;var D=y=y.next;do x=i(x,D.action),D=D.next;while(D!==y);or(x,o.memoizedState)||(gn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),c.lastRenderedState=x}return[x,d]}function v_(i,o,c){var d=de,y=en(),x=Ee;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=o();var D=!or((Me||y).memoizedState,c);if(D&&(y.memoizedState=c,gn=!0),y=y.queue,pg(x_.bind(null,d,y,i),[i]),y.getSnapshot!==o||D||tn!==null&&tn.memoizedState.tag&1){if(d.flags|=2048,Is(9,__.bind(null,d,y,c,o),{destroy:void 0},null),Re===null)throw Error(r(349));x||Co&60||m_(d,o,c)}return c}function m_(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=de.updateQueue,o===null?(o=nf(),de.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function __(i,o,c,d){o.value=c,o.getSnapshot=d,E_(o)&&b_(i)}function x_(i,o,c){return c(function(){E_(o)&&b_(i)})}function E_(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!or(i,c)}catch{return!0}}function b_(i){var o=wo(i,2);o!==null&&Fn(o,i,2)}function dg(i){var o=Jn();if(typeof i=="function"){var c=i;if(i=c(),Da){he(!0);try{c()}finally{he(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:i},o}function w_(i,o,c,d){return i.baseState=c,lg(i,Me,typeof d=="function"?d:Ii)}function tR(i,o,c,d,y){if(uf(i))throw Error(r(485));if(i=o.action,i!==null){var x={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){x.listeners.push(D)}};S.T!==null?c(!0):x.isTransition=!1,d(x),c=o.pending,c===null?(x.next=o.pending=x,S_(o,x)):(x.next=c.next,o.pending=c.next=x)}}function S_(i,o){var c=o.action,d=o.payload,y=i.state;if(o.isTransition){var x=S.T,D={};S.T=D;try{var $=c(y,d),Y=S.S;Y!==null&&Y(D,$),T_(i,o,$)}catch(et){hg(i,o,et)}finally{S.T=x}}else try{x=c(y,d),T_(i,o,x)}catch(et){hg(i,o,et)}}function T_(i,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){C_(i,o,d)},function(d){return hg(i,o,d)}):C_(i,o,c)}function C_(i,o,c){o.status="fulfilled",o.value=c,M_(o),i.state=c,o=i.pending,o!==null&&(c=o.next,c===o?i.pending=null:(c=c.next,o.next=c,S_(i,c)))}function hg(i,o,c){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=c,M_(o),o=o.next;while(o!==d)}i.action=null}function M_(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function A_(i,o){return o}function O_(i,o){if(Ee){var c=Re.formState;if(c!==null){t:{var d=de;if(Ee){if(Sn){e:{for(var y=Sn,x=li;y.nodeType!==8;){if(!x){y=null;break e}if(y=Qr(y.nextSibling),y===null){y=null;break e}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){Sn=Qr(y.nextSibling),d=y.data==="F!";break t}}Oa(d)}d=!1}d&&(o=c[0])}}return c=Jn(),c.memoizedState=c.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A_,lastRenderedState:o},c.queue=d,c=V_.bind(null,de,d),d.dispatch=c,d=dg(!1),x=_g.bind(null,de,!1,d.queue),d=Jn(),y={state:o,dispatch:null,action:i,pending:null},d.queue=y,c=tR.bind(null,de,y,x,c),y.dispatch=c,d.memoizedState=i,[o,c,!1]}function R_(i){var o=en();return N_(o,Me,i)}function N_(i,o,c){o=lg(i,o,A_)[0],i=of(Ii)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?rc(o):o;var d=en(),y=d.queue,x=y.dispatch;return c!==d.memoizedState&&(de.flags|=2048,Is(9,eR.bind(null,y,c),{destroy:void 0},null)),[o,x,i]}function eR(i,o){i.action=o}function D_(i){var o=en(),c=Me;if(c!==null)return N_(o,c,i);en(),o=o.memoizedState,c=en();var d=c.queue.dispatch;return c.memoizedState=i,[o,d,!1]}function Is(i,o,c,d){return i={tag:i,create:o,inst:c,deps:d,next:null},o=de.updateQueue,o===null&&(o=nf(),de.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=i.next=i:(d=c.next,c.next=i,i.next=d,o.lastEffect=i),i}function L_(){return en().memoizedState}function af(i,o,c,d){var y=Jn();de.flags|=i,y.memoizedState=Is(1|o,c,{destroy:void 0},d===void 0?null:d)}function sf(i,o,c,d){var y=en();d=d===void 0?null:d;var x=y.memoizedState.inst;Me!==null&&d!==null&&ig(d,Me.memoizedState.deps)?y.memoizedState=Is(o,c,x,d):(de.flags|=i,y.memoizedState=Is(1|o,c,x,d))}function P_(i,o){af(8390656,8,i,o)}function pg(i,o){sf(2048,8,i,o)}function B_(i,o){return sf(4,2,i,o)}function I_(i,o){return sf(4,4,i,o)}function j_(i,o){if(typeof o=="function"){i=i();var c=o(i);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function k_(i,o,c){c=c!=null?c.concat([i]):null,sf(4,4,j_.bind(null,o,i),c)}function gg(){}function z_(i,o){var c=en();o=o===void 0?null:o;var d=c.memoizedState;return o!==null&&ig(o,d[1])?d[0]:(c.memoizedState=[i,o],i)}function $_(i,o){var c=en();o=o===void 0?null:o;var d=c.memoizedState;if(o!==null&&ig(o,d[1]))return d[0];if(d=i(),Da){he(!0);try{i()}finally{he(!1)}}return c.memoizedState=[d,o],d}function yg(i,o,c){return c===void 0||Co&1073741824?i.memoizedState=o:(i.memoizedState=c,i=Ux(),de.lanes|=i,Io|=i,c)}function H_(i,o,c,d){return or(c,o)?c:Ns.current!==null?(i=yg(i,c,d),or(i,o)||(gn=!0),i):Co&42?(i=Ux(),de.lanes|=i,Io|=i,o):(gn=!0,i.memoizedState=c)}function U_(i,o,c,d,y){var x=rt.p;rt.p=x!==0&&8>x?x:8;var D=S.T,$={};S.T=$,_g(i,!1,o,c);try{var Y=y(),et=S.S;if(et!==null&&et($,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var xt=WO(Y,d);ic(i,o,xt,cr(i))}else ic(i,o,d,cr(i))}catch(Ct){ic(i,o,{then:function(){},status:"rejected",reason:Ct},cr())}finally{rt.p=x,S.T=D}}function nR(){}function vg(i,o,c,d){if(i.tag!==5)throw Error(r(476));var y=F_(i).queue;U_(i,y,o,wt,c===null?nR:function(){return X_(i),c(d)})}function F_(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:wt,baseState:wt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:wt},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:c},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function X_(i){var o=F_(i).next.queue;ic(i,o,{},cr())}function mg(){return Pn(Sc)}function G_(){return en().memoizedState}function q_(){return en().memoizedState}function rR(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var c=cr();i=Ro(c);var d=No(o,i,c);d!==null&&(Fn(d,o,c),sc(d,o,c)),o={cache:eg()},i.payload=o;return}o=o.return}}function iR(i,o,c){var d=cr();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},uf(i)?Y_(o,c):(c=Yp(i,o,c,d),c!==null&&(Fn(c,i,d),K_(c,o,d)))}function V_(i,o,c){var d=cr();ic(i,o,c,d)}function ic(i,o,c,d){var y={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(uf(i))Y_(o,y);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var D=o.lastRenderedState,$=x(D,c);if(y.hasEagerState=!0,y.eagerState=$,or($,D))return Xl(i,o,y,0),Re===null&&Fl(),!1}catch{}finally{}if(c=Yp(i,o,y,d),c!==null)return Fn(c,i,d),K_(c,o,d),!0}return!1}function _g(i,o,c,d){if(d={lane:2,revertLane:uy(),action:d,hasEagerState:!1,eagerState:null,next:null},uf(i)){if(o)throw Error(r(479))}else o=Yp(i,c,d,2),o!==null&&Fn(o,i,2)}function uf(i){var o=i.alternate;return i===de||o!==null&&o===de}function Y_(i,o){Ps=tf=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function K_(i,o,c){if(c&4194176){var d=o.lanes;d&=i.pendingLanes,c|=d,o.lanes=c,Pl(i,c)}}var di={readContext:Pn,use:rf,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve};di.useCacheRefresh=Ve,di.useMemoCache=Ve,di.useHostTransitionStatus=Ve,di.useFormState=Ve,di.useActionState=Ve,di.useOptimistic=Ve;var La={readContext:Pn,use:rf,useCallback:function(i,o){return Jn().memoizedState=[i,o===void 0?null:o],i},useContext:Pn,useEffect:P_,useImperativeHandle:function(i,o,c){c=c!=null?c.concat([i]):null,af(4194308,4,j_.bind(null,o,i),c)},useLayoutEffect:function(i,o){return af(4194308,4,i,o)},useInsertionEffect:function(i,o){af(4,2,i,o)},useMemo:function(i,o){var c=Jn();o=o===void 0?null:o;var d=i();if(Da){he(!0);try{i()}finally{he(!1)}}return c.memoizedState=[d,o],d},useReducer:function(i,o,c){var d=Jn();if(c!==void 0){var y=c(o);if(Da){he(!0);try{c(o)}finally{he(!1)}}}else y=o;return d.memoizedState=d.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},d.queue=i,i=i.dispatch=iR.bind(null,de,i),[d.memoizedState,i]},useRef:function(i){var o=Jn();return i={current:i},o.memoizedState=i},useState:function(i){i=dg(i);var o=i.queue,c=V_.bind(null,de,o);return o.dispatch=c,[i.memoizedState,c]},useDebugValue:gg,useDeferredValue:function(i,o){var c=Jn();return yg(c,i,o)},useTransition:function(){var i=dg(!1);return i=U_.bind(null,de,i.queue,!0,!1),Jn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,c){var d=de,y=Jn();if(Ee){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Re===null)throw Error(r(349));_e&60||m_(d,o,c)}y.memoizedState=c;var x={value:c,getSnapshot:o};return y.queue=x,P_(x_.bind(null,d,x,i),[i]),d.flags|=2048,Is(9,__.bind(null,d,x,c,o),{destroy:void 0},null),c},useId:function(){var i=Jn(),o=Re.identifierPrefix;if(Ee){var c=Pi,d=Li;c=(d&~(1<<32-ie(d)-1)).toString(32)+c,o=":"+o+"R"+c,c=ef++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=QO++,o=":"+o+"r"+c.toString(32)+":";return i.memoizedState=o},useCacheRefresh:function(){return Jn().memoizedState=rR.bind(null,de)}};La.useMemoCache=cg,La.useHostTransitionStatus=mg,La.useFormState=O_,La.useActionState=O_,La.useOptimistic=function(i){var o=Jn();o.memoizedState=o.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=_g.bind(null,de,!0,c),c.dispatch=o,[i,o]};var Mo={readContext:Pn,use:rf,useCallback:z_,useContext:Pn,useEffect:pg,useImperativeHandle:k_,useInsertionEffect:B_,useLayoutEffect:I_,useMemo:$_,useReducer:of,useRef:L_,useState:function(){return of(Ii)},useDebugValue:gg,useDeferredValue:function(i,o){var c=en();return H_(c,Me.memoizedState,i,o)},useTransition:function(){var i=of(Ii)[0],o=en().memoizedState;return[typeof i=="boolean"?i:rc(i),o]},useSyncExternalStore:v_,useId:G_};Mo.useCacheRefresh=q_,Mo.useMemoCache=cg,Mo.useHostTransitionStatus=mg,Mo.useFormState=R_,Mo.useActionState=R_,Mo.useOptimistic=function(i,o){var c=en();return w_(c,Me,i,o)};var Pa={readContext:Pn,use:rf,useCallback:z_,useContext:Pn,useEffect:pg,useImperativeHandle:k_,useInsertionEffect:B_,useLayoutEffect:I_,useMemo:$_,useReducer:fg,useRef:L_,useState:function(){return fg(Ii)},useDebugValue:gg,useDeferredValue:function(i,o){var c=en();return Me===null?yg(c,i,o):H_(c,Me.memoizedState,i,o)},useTransition:function(){var i=fg(Ii)[0],o=en().memoizedState;return[typeof i=="boolean"?i:rc(i),o]},useSyncExternalStore:v_,useId:G_};Pa.useCacheRefresh=q_,Pa.useMemoCache=cg,Pa.useHostTransitionStatus=mg,Pa.useFormState=D_,Pa.useActionState=D_,Pa.useOptimistic=function(i,o){var c=en();return Me!==null?w_(c,Me,i,o):(c.baseState=i,[i,c.queue.dispatch])};function xg(i,o,c,d){o=i.memoizedState,c=c(d,o),c=c==null?o:z({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Eg={isMounted:function(i){return(i=i._reactInternals)?Nt(i)===i:!1},enqueueSetState:function(i,o,c){i=i._reactInternals;var d=cr(),y=Ro(d);y.payload=o,c!=null&&(y.callback=c),o=No(i,y,d),o!==null&&(Fn(o,i,d),sc(o,i,d))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var d=cr(),y=Ro(d);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=No(i,y,d),o!==null&&(Fn(o,i,d),sc(o,i,d))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=cr(),d=Ro(c);d.tag=2,o!=null&&(d.callback=o),o=No(i,d,c),o!==null&&(Fn(o,i,c),sc(o,i,c))}};function Z_(i,o,c,d,y,x,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,x,D):o.prototype&&o.prototype.isPureReactComponent?!Gu(c,d)||!Gu(y,x):!0}function W_(i,o,c,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,d),o.state!==i&&Eg.enqueueReplaceState(o,o.state,null)}function Ba(i,o){var c=o;if("ref"in o){c={};for(var d in o)d!=="ref"&&(c[d]=o[d])}if(i=i.defaultProps){c===o&&(c=z({},c));for(var y in i)c[y]===void 0&&(c[y]=i[y])}return c}var cf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Q_(i){cf(i)}function J_(i){console.error(i)}function tx(i){cf(i)}function lf(i,o){try{var c=i.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function ex(i,o,c){try{var d=i.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function bg(i,o,c){return c=Ro(c),c.tag=3,c.payload={element:null},c.callback=function(){lf(i,o)},c}function nx(i){return i=Ro(i),i.tag=3,i}function rx(i,o,c,d){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var x=d.value;i.payload=function(){return y(x)},i.callback=function(){ex(o,c,d)}}var D=c.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(i.callback=function(){ex(o,c,d),typeof y!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var $=d.stack;this.componentDidCatch(d.value,{componentStack:$!==null?$:""})})}function oR(i,o,c,d,y){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=c.alternate,o!==null&&ac(o,c,y,!0),c=Ar.current,c!==null){switch(c.tag){case 13:return fi===null?ry():c.alternate===null&&Fe===0&&(Fe=3),c.flags&=-257,c.flags|=65536,c.lanes=y,d===Qp?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([d]):o.add(d),oy(i,d,y)),!1;case 22:return c.flags|=65536,d===Qp?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([d]):c.add(d)),oy(i,d,y)),!1}throw Error(r(435,c.tag))}return oy(i,d,y),ry(),!1}if(Ee)return o=Ar.current,o!==null?(!(o.flags&65536)&&(o.flags|=256),o.flags|=65536,o.lanes=y,d!==Wp&&(i=Error(r(422),{cause:d}),Ku(Tr(i,c)))):(d!==Wp&&(o=Error(r(423),{cause:d}),Ku(Tr(o,c))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,d=Tr(d,c),y=bg(i.stateNode,d,y),jg(i,y),Fe!==4&&(Fe=2)),!1;var x=Error(r(520),{cause:d});if(x=Tr(x,c),gc===null?gc=[x]:gc.push(x),Fe!==4&&(Fe=2),o===null)return!0;d=Tr(d,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,i=y&-y,c.lanes|=i,i=bg(c.stateNode,d,i),jg(c,i),!1;case 1:if(o=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(jo===null||!jo.has(x))))return c.flags|=65536,y&=-y,c.lanes|=y,y=nx(y),rx(y,i,c,d),jg(c,y),!1}c=c.return}while(c!==null);return!1}var ix=Error(r(461)),gn=!1;function Tn(i,o,c,d){o.child=i===null?c_(o,null,c,d):Ra(o,i.child,c,d)}function ox(i,o,c,d,y){c=c.render;var x=o.ref;if("ref"in d){var D={};for(var $ in d)$!=="ref"&&(D[$]=d[$])}else D=d;return ja(o),d=og(i,o,c,D,x,y),$=ag(),i!==null&&!gn?(sg(i,o,y),ji(i,o,y)):(Ee&&$&&Kp(o),o.flags|=1,Tn(i,o,d,y),o.child)}function ax(i,o,c,d,y){if(i===null){var x=c.type;return typeof x=="function"&&!Gg(x)&&x.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=x,sx(i,o,x,d,y)):(i=gf(c.type,null,d,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(x=i.child,!Ng(i,y)){var D=x.memoizedProps;if(c=c.compare,c=c!==null?c:Gu,c(D,d)&&i.ref===o.ref)return ji(i,o,y)}return o.flags|=1,i=Bo(x,d),i.ref=o.ref,i.return=o,o.child=i}function sx(i,o,c,d,y){if(i!==null){var x=i.memoizedProps;if(Gu(x,d)&&i.ref===o.ref)if(gn=!1,o.pendingProps=d=x,Ng(i,y))i.flags&131072&&(gn=!0);else return o.lanes=i.lanes,ji(i,o,y)}return wg(i,o,c,d,y)}function ux(i,o,c){var d=o.pendingProps,y=d.children,x=(o.stateNode._pendingVisibility&2)!==0,D=i!==null?i.memoizedState:null;if(oc(i,o),d.mode==="hidden"||x){if(o.flags&128){if(d=D!==null?D.baseLanes|c:c,i!==null){for(y=o.child=i.child,x=0;y!==null;)x=x|y.lanes|y.childLanes,y=y.sibling;o.childLanes=x&~d}else o.childLanes=0,o.child=null;return cx(i,o,d,c)}if(c&536870912)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Jl(o,D!==null?D.cachePool:null),D!==null?l_(o,D):Jp(),f_(o);else return o.lanes=o.childLanes=536870912,cx(i,o,D!==null?D.baseLanes|c:c,c)}else D!==null?(Jl(o,D.cachePool),l_(o,D),To(),o.memoizedState=null):(i!==null&&Jl(o,null),Jp(),To());return Tn(i,o,y,c),o.child}function cx(i,o,c,d){var y=rg();return y=y===null?null:{parent:ln._currentValue,pool:y},o.memoizedState={baseLanes:c,cachePool:y},i!==null&&Jl(o,null),Jp(),f_(o),i!==null&&ac(i,o,d,!0),null}function oc(i,o){var c=o.ref;if(c===null)i!==null&&i.ref!==null&&(o.flags|=2097664);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(o.flags|=2097664)}}function wg(i,o,c,d,y){return ja(o),c=og(i,o,c,d,void 0,y),d=ag(),i!==null&&!gn?(sg(i,o,y),ji(i,o,y)):(Ee&&d&&Kp(o),o.flags|=1,Tn(i,o,c,y),o.child)}function lx(i,o,c,d,y,x){return ja(o),o.updateQueue=null,c=y_(o,d,c,y),g_(i),d=ag(),i!==null&&!gn?(sg(i,o,x),ji(i,o,x)):(Ee&&d&&Kp(o),o.flags|=1,Tn(i,o,c,x),o.child)}function fx(i,o,c,d,y){if(ja(o),o.stateNode===null){var x=Ms,D=c.contextType;typeof D=="object"&&D!==null&&(x=Pn(D)),x=new c(d,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Eg,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=d,x.state=o.memoizedState,x.refs={},Bg(o),D=c.contextType,x.context=typeof D=="object"&&D!==null?Pn(D):Ms,x.state=o.memoizedState,D=c.getDerivedStateFromProps,typeof D=="function"&&(xg(o,c,D,d),x.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(D=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),D!==x.state&&Eg.enqueueReplaceState(x,x.state,null),cc(o,d,x,y),uc(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(i===null){x=o.stateNode;var $=o.memoizedProps,Y=Ba(c,$);x.props=Y;var et=x.context,xt=c.contextType;D=Ms,typeof xt=="object"&&xt!==null&&(D=Pn(xt));var Ct=c.getDerivedStateFromProps;xt=typeof Ct=="function"||typeof x.getSnapshotBeforeUpdate=="function",$=o.pendingProps!==$,xt||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||($||et!==D)&&W_(o,x,d,D),Oo=!1;var ht=o.memoizedState;x.state=ht,cc(o,d,x,y),uc(),et=o.memoizedState,$||ht!==et||Oo?(typeof Ct=="function"&&(xg(o,c,Ct,d),et=o.memoizedState),(Y=Oo||Z_(o,c,Y,d,ht,et,D))?(xt||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=et),x.props=d,x.state=et,x.context=D,d=Y):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{x=o.stateNode,Ig(i,o),D=o.memoizedProps,xt=Ba(c,D),x.props=xt,Ct=o.pendingProps,ht=x.context,et=c.contextType,Y=Ms,typeof et=="object"&&et!==null&&(Y=Pn(et)),$=c.getDerivedStateFromProps,(et=typeof $=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(D!==Ct||ht!==Y)&&W_(o,x,d,Y),Oo=!1,ht=o.memoizedState,x.state=ht,cc(o,d,x,y),uc();var mt=o.memoizedState;D!==Ct||ht!==mt||Oo||i!==null&&i.dependencies!==null&&ff(i.dependencies)?(typeof $=="function"&&(xg(o,c,$,d),mt=o.memoizedState),(xt=Oo||Z_(o,c,xt,d,ht,mt,Y)||i!==null&&i.dependencies!==null&&ff(i.dependencies))?(et||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,mt,Y),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,mt,Y)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||D===i.memoizedProps&&ht===i.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ht===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=mt),x.props=d,x.state=mt,x.context=Y,d=xt):(typeof x.componentDidUpdate!="function"||D===i.memoizedProps&&ht===i.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ht===i.memoizedState||(o.flags|=1024),d=!1)}return x=d,oc(i,o),d=(o.flags&128)!==0,x||d?(x=o.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,i!==null&&d?(o.child=Ra(o,i.child,null,y),o.child=Ra(o,null,c,y)):Tn(i,o,c,y),o.memoizedState=x.state,i=o.child):i=ji(i,o,y),i}function dx(i,o,c,d){return Yu(),o.flags|=256,Tn(i,o,c,d),o.child}var Sg={dehydrated:null,treeContext:null,retryLane:0};function Tg(i){return{baseLanes:i,cachePool:p_()}}function Cg(i,o,c){return i=i!==null?i.childLanes&~c:0,o&&(i|=Dr),i}function hx(i,o,c){var d=o.pendingProps,y=!1,x=(o.flags&128)!==0,D;if((D=x)||(D=i!==null&&i.memoizedState===null?!1:(cn.current&2)!==0),D&&(y=!0,o.flags&=-129),D=(o.flags&32)!==0,o.flags&=-33,i===null){if(Ee){if(y?So(o):To(),Ee){var $=Sn,Y;if(Y=$){t:{for(Y=$,$=li;Y.nodeType!==8;){if(!$){$=null;break t}if(Y=Qr(Y.nextSibling),Y===null){$=null;break t}}$=Y}$!==null?(o.memoizedState={dehydrated:$,treeContext:Ma!==null?{id:Li,overflow:Pi}:null,retryLane:536870912},Y=Nr(18,null,null,0),Y.stateNode=$,Y.return=o,o.child=Y,Un=o,Sn=null,Y=!0):Y=!1}Y||Oa(o)}if($=o.memoizedState,$!==null&&($=$.dehydrated,$!==null))return $.data==="$!"?o.lanes=16:o.lanes=536870912,null;Bi(o)}return $=d.children,d=d.fallback,y?(To(),y=o.mode,$=Ag({mode:"hidden",children:$},y),d=za(d,y,c,null),$.return=o,d.return=o,$.sibling=d,o.child=$,y=o.child,y.memoizedState=Tg(c),y.childLanes=Cg(i,D,c),o.memoizedState=Sg,d):(So(o),Mg(o,$))}if(Y=i.memoizedState,Y!==null&&($=Y.dehydrated,$!==null)){if(x)o.flags&256?(So(o),o.flags&=-257,o=Og(i,o,c)):o.memoizedState!==null?(To(),o.child=i.child,o.flags|=128,o=null):(To(),y=d.fallback,$=o.mode,d=Ag({mode:"visible",children:d.children},$),y=za(y,$,c,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,Ra(o,i.child,null,c),d=o.child,d.memoizedState=Tg(c),d.childLanes=Cg(i,D,c),o.memoizedState=Sg,o=y);else if(So(o),$.data==="$!"){if(D=$.nextSibling&&$.nextSibling.dataset,D)var et=D.dgst;D=et,d=Error(r(419)),d.stack="",d.digest=D,Ku({value:d,source:null,stack:null}),o=Og(i,o,c)}else if(gn||ac(i,o,c,!1),D=(c&i.childLanes)!==0,gn||D){if(D=Re,D!==null){if(d=c&-c,d&42)d=1;else switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=64;break;case 268435456:d=134217728;break;default:d=0}if(d=d&(D.suspendedLanes|c)?0:d,d!==0&&d!==Y.retryLane)throw Y.retryLane=d,wo(i,d),Fn(D,i,d),ix}$.data==="$?"||ry(),o=Og(i,o,c)}else $.data==="$?"?(o.flags|=128,o.child=i.child,o=xR.bind(null,i),$._reactRetry=o,o=null):(i=Y.treeContext,Sn=Qr($.nextSibling),Un=o,Ee=!0,Zr=null,li=!1,i!==null&&(Cr[Mr++]=Li,Cr[Mr++]=Pi,Cr[Mr++]=Ma,Li=i.id,Pi=i.overflow,Ma=o),o=Mg(o,d.children),o.flags|=4096);return o}return y?(To(),y=d.fallback,$=o.mode,Y=i.child,et=Y.sibling,d=Bo(Y,{mode:"hidden",children:d.children}),d.subtreeFlags=Y.subtreeFlags&31457280,et!==null?y=Bo(et,y):(y=za(y,$,c,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,$=i.child.memoizedState,$===null?$=Tg(c):(Y=$.cachePool,Y!==null?(et=ln._currentValue,Y=Y.parent!==et?{parent:et,pool:et}:Y):Y=p_(),$={baseLanes:$.baseLanes|c,cachePool:Y}),y.memoizedState=$,y.childLanes=Cg(i,D,c),o.memoizedState=Sg,d):(So(o),c=i.child,i=c.sibling,c=Bo(c,{mode:"visible",children:d.children}),c.return=o,c.sibling=null,i!==null&&(D=o.deletions,D===null?(o.deletions=[i],o.flags|=16):D.push(i)),o.child=c,o.memoizedState=null,c)}function Mg(i,o){return o=Ag({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Ag(i,o){return zx(i,o,0,null)}function Og(i,o,c){return Ra(o,i.child,null,c),i=Mg(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function px(i,o,c){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),Lg(i.return,o,c)}function Rg(i,o,c,d,y){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:y}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=c,x.tailMode=y)}function gx(i,o,c){var d=o.pendingProps,y=d.revealOrder,x=d.tail;if(Tn(i,o,d.children,c),d=cn.current,d&2)d=d&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)t:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&px(i,c,o);else if(i.tag===19)px(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break t;for(;i.sibling===null;){if(i.return===null||i.return===o)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}switch(H(cn,d),y){case"forwards":for(c=o.child,y=null;c!==null;)i=c.alternate,i!==null&&Ql(i)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),Rg(o,!1,y,c,x);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&Ql(i)===null){o.child=y;break}i=y.sibling,y.sibling=c,c=y,y=i}Rg(o,!0,c,null,x);break;case"together":Rg(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ji(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),Io|=o.lanes,!(c&o.childLanes))if(i!==null){if(ac(i,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,c=Bo(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=Bo(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function Ng(i,o){return i.lanes&o?!0:(i=i.dependencies,!!(i!==null&&ff(i)))}function aR(i,o,c){switch(o.tag){case 3:vt(o,o.stateNode.containerInfo),Ao(o,ln,i.memoizedState.cache),Yu();break;case 27:case 5:Lt(o);break;case 4:vt(o,o.stateNode.containerInfo);break;case 10:Ao(o,o.type,o.memoizedProps.value);break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(So(o),o.flags|=128,null):c&o.child.childLanes?hx(i,o,c):(So(o),i=ji(i,o,c),i!==null?i.sibling:null);So(o);break;case 19:var y=(i.flags&128)!==0;if(d=(c&o.childLanes)!==0,d||(ac(i,o,c,!1),d=(c&o.childLanes)!==0),y){if(d)return gx(i,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),H(cn,cn.current),d)break;return null;case 22:case 23:return o.lanes=0,ux(i,o,c);case 24:Ao(o,ln,i.memoizedState.cache)}return ji(i,o,c)}function yx(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps)gn=!0;else{if(!Ng(i,c)&&!(o.flags&128))return gn=!1,aR(i,o,c);gn=!!(i.flags&131072)}else gn=!1,Ee&&o.flags&1048576&&t_(o,Vl,o.index);switch(o.lanes=0,o.tag){case 16:t:{i=o.pendingProps;var d=o.elementType,y=d._init;if(d=y(d._payload),o.type=d,typeof d=="function")Gg(d)?(i=Ba(d,i),o.tag=1,o=fx(null,o,d,i,c)):(o.tag=0,o=wg(null,o,d,i,c));else{if(d!=null){if(y=d.$$typeof,y===b){o.tag=11,o=ox(null,o,d,i,c);break t}else if(y===T){o.tag=14,o=ax(null,o,d,i,c);break t}}throw o=B(d)||d,Error(r(306,o,""))}}return o;case 0:return wg(i,o,o.type,o.pendingProps,c);case 1:return d=o.type,y=Ba(d,o.pendingProps),fx(i,o,d,y,c);case 3:t:{if(vt(o,o.stateNode.containerInfo),i===null)throw Error(r(387));var x=o.pendingProps;y=o.memoizedState,d=y.element,Ig(i,o),cc(o,x,null,c);var D=o.memoizedState;if(x=D.cache,Ao(o,ln,x),x!==y.cache&&Pg(o,[ln],c,!0),uc(),x=D.element,y.isDehydrated)if(y={element:x,isDehydrated:!1,cache:D.cache},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){o=dx(i,o,x,c);break t}else if(x!==d){d=Tr(Error(r(424)),o),Ku(d),o=dx(i,o,x,c);break t}else for(Sn=Qr(o.stateNode.containerInfo.firstChild),Un=o,Ee=!0,Zr=null,li=!0,c=c_(o,null,x,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Yu(),x===d){o=ji(i,o,c);break t}Tn(i,o,x,c)}o=o.child}return o;case 26:return oc(i,o),i===null?(c=_E(o.type,null,o.pendingProps,null))?o.memoizedState=c:Ee||(c=o.type,i=o.pendingProps,d=Mf(Tt.current).createElement(c),d[pn]=o,d[wn]=i,Cn(d,c,i),je(d),o.stateNode=d):o.memoizedState=_E(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Lt(o),i===null&&Ee&&(d=o.stateNode=yE(o.type,o.pendingProps,Tt.current),Un=o,li=!0,Sn=Qr(d.firstChild)),d=o.pendingProps.children,i!==null||Ee?Tn(i,o,d,c):o.child=Ra(o,null,d,c),oc(i,o),o.child;case 5:return i===null&&Ee&&((y=d=Sn)&&(d=IR(d,o.type,o.pendingProps,li),d!==null?(o.stateNode=d,Un=o,Sn=Qr(d.firstChild),li=!1,y=!0):y=!1),y||Oa(o)),Lt(o),y=o.type,x=o.pendingProps,D=i!==null?i.memoizedProps:null,d=x.children,vy(y,x)?d=null:D!==null&&vy(y,D)&&(o.flags|=32),o.memoizedState!==null&&(y=og(i,o,JO,null,null,c),Sc._currentValue=y),oc(i,o),Tn(i,o,d,c),o.child;case 6:return i===null&&Ee&&((i=c=Sn)&&(c=jR(c,o.pendingProps,li),c!==null?(o.stateNode=c,Un=o,Sn=null,i=!0):i=!1),i||Oa(o)),null;case 13:return hx(i,o,c);case 4:return vt(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=Ra(o,null,d,c):Tn(i,o,d,c),o.child;case 11:return ox(i,o,o.type,o.pendingProps,c);case 7:return Tn(i,o,o.pendingProps,c),o.child;case 8:return Tn(i,o,o.pendingProps.children,c),o.child;case 12:return Tn(i,o,o.pendingProps.children,c),o.child;case 10:return d=o.pendingProps,Ao(o,o.type,d.value),Tn(i,o,d.children,c),o.child;case 9:return y=o.type._context,d=o.pendingProps.children,ja(o),y=Pn(y),d=d(y),o.flags|=1,Tn(i,o,d,c),o.child;case 14:return ax(i,o,o.type,o.pendingProps,c);case 15:return sx(i,o,o.type,o.pendingProps,c);case 19:return gx(i,o,c);case 22:return ux(i,o,c);case 24:return ja(o),d=Pn(ln),i===null?(y=rg(),y===null&&(y=Re,x=eg(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=c),y=x),o.memoizedState={parent:d,cache:y},Bg(o),Ao(o,ln,y)):(i.lanes&c&&(Ig(i,o),cc(o,null,null,c),uc()),y=i.memoizedState,x=o.memoizedState,y.parent!==d?(y={parent:d,cache:d},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Ao(o,ln,d)):(d=x.cache,Ao(o,ln,d),d!==y.cache&&Pg(o,[ln],c,!0))),Tn(i,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}var Dg=L(null),Ia=null,ki=null;function Ao(i,o,c){H(Dg,o._currentValue),o._currentValue=c}function zi(i){i._currentValue=Dg.current,Z(Dg)}function Lg(i,o,c){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===c)break;i=i.return}}function Pg(i,o,c,d){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var x=y.dependencies;if(x!==null){var D=y.child;x=x.firstContext;t:for(;x!==null;){var $=x;x=y;for(var Y=0;Y<o.length;Y++)if($.context===o[Y]){x.lanes|=c,$=x.alternate,$!==null&&($.lanes|=c),Lg(x.return,c,i),d||(D=null);break t}x=$.next}}else if(y.tag===18){if(D=y.return,D===null)throw Error(r(341));D.lanes|=c,x=D.alternate,x!==null&&(x.lanes|=c),Lg(D,c,i),D=null}else D=y.child;if(D!==null)D.return=y;else for(D=y;D!==null;){if(D===i){D=null;break}if(y=D.sibling,y!==null){y.return=D.return,D=y;break}D=D.return}y=D}}function ac(i,o,c,d){i=null;for(var y=o,x=!1;y!==null;){if(!x){if(y.flags&524288)x=!0;else if(y.flags&262144)break}if(y.tag===10){var D=y.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var $=y.type;or(y.pendingProps.value,D.value)||(i!==null?i.push($):i=[$])}}else if(y===lt.current){if(D=y.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Sc):i=[Sc])}y=y.return}i!==null&&Pg(o,i,c,d),o.flags|=262144}function ff(i){for(i=i.firstContext;i!==null;){if(!or(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ja(i){Ia=i,ki=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Pn(i){return vx(Ia,i)}function df(i,o){return Ia===null&&ja(i),vx(i,o)}function vx(i,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},ki===null){if(i===null)throw Error(r(308));ki=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else ki=ki.next=o;return c}var Oo=!1;function Bg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ig(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ro(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function No(i,o,c){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,ze&2){var y=d.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),d.pending=o,o=Gl(i),Q1(i,null,c),o}return Xl(i,d,o,c),Gl(i)}function sc(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194176)!==0)){var d=o.lanes;d&=i.pendingLanes,c|=d,o.lanes=c,Pl(i,c)}}function jg(i,o){var c=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var y=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var D={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?y=x=D:x=x.next=D,c=c.next}while(c!==null);x===null?y=x=o:x=x.next=o}else y=x=o;c={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}var kg=!1;function uc(){if(kg){var i=Ls;if(i!==null)throw i}}function cc(i,o,c,d){kg=!1;var y=i.updateQueue;Oo=!1;var x=y.firstBaseUpdate,D=y.lastBaseUpdate,$=y.shared.pending;if($!==null){y.shared.pending=null;var Y=$,et=Y.next;Y.next=null,D===null?x=et:D.next=et,D=Y;var xt=i.alternate;xt!==null&&(xt=xt.updateQueue,$=xt.lastBaseUpdate,$!==D&&($===null?xt.firstBaseUpdate=et:$.next=et,xt.lastBaseUpdate=Y))}if(x!==null){var Ct=y.baseState;D=0,xt=et=Y=null,$=x;do{var ht=$.lane&-536870913,mt=ht!==$.lane;if(mt?(_e&ht)===ht:(d&ht)===ht){ht!==0&&ht===Ds&&(kg=!0),xt!==null&&(xt=xt.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});t:{var Ht=i,ne=$;ht=o;var Xe=c;switch(ne.tag){case 1:if(Ht=ne.payload,typeof Ht=="function"){Ct=Ht.call(Xe,Ct,ht);break t}Ct=Ht;break t;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=ne.payload,ht=typeof Ht=="function"?Ht.call(Xe,Ct,ht):Ht,ht==null)break t;Ct=z({},Ct,ht);break t;case 2:Oo=!0}}ht=$.callback,ht!==null&&(i.flags|=64,mt&&(i.flags|=8192),mt=y.callbacks,mt===null?y.callbacks=[ht]:mt.push(ht))}else mt={lane:ht,tag:$.tag,payload:$.payload,callback:$.callback,next:null},xt===null?(et=xt=mt,Y=Ct):xt=xt.next=mt,D|=ht;if($=$.next,$===null){if($=y.shared.pending,$===null)break;mt=$,$=mt.next,mt.next=null,y.lastBaseUpdate=mt,y.shared.pending=null}}while(!0);xt===null&&(Y=Ct),y.baseState=Y,y.firstBaseUpdate=et,y.lastBaseUpdate=xt,x===null&&(y.shared.lanes=0),Io|=D,i.lanes=D,i.memoizedState=Ct}}function mx(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function _x(i,o){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)mx(c[i],o)}function lc(i,o){try{var c=o.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var y=d.next;c=y;do{if((c.tag&i)===i){d=void 0;var x=c.create,D=c.inst;d=x(),D.destroy=d}c=c.next}while(c!==y)}}catch($){Oe(o,o.return,$)}}function Do(i,o,c){try{var d=o.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var x=y.next;d=x;do{if((d.tag&i)===i){var D=d.inst,$=D.destroy;if($!==void 0){D.destroy=void 0,y=o;var Y=c;try{$()}catch(et){Oe(y,Y,et)}}}d=d.next}while(d!==x)}}catch(et){Oe(o,o.return,et)}}function xx(i){var o=i.updateQueue;if(o!==null){var c=i.stateNode;try{_x(o,c)}catch(d){Oe(i,i.return,d)}}}function Ex(i,o,c){c.props=Ba(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(d){Oe(i,o,d)}}function ka(i,o){try{var c=i.ref;if(c!==null){var d=i.stateNode;switch(i.tag){case 26:case 27:case 5:var y=d;break;default:y=d}typeof c=="function"?i.refCleanup=c(y):c.current=y}}catch(x){Oe(i,o,x)}}function ar(i,o){var c=i.ref,d=i.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(y){Oe(i,o,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Oe(i,o,y)}else c.current=null}function bx(i){var o=i.type,c=i.memoizedProps,d=i.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break t;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(y){Oe(i,i.return,y)}}function wx(i,o,c){try{var d=i.stateNode;NR(d,i.type,c,o),d[wn]=o}catch(y){Oe(i,i.return,y)}}function Sx(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function zg(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Sx(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function $g(i,o,c){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(i,o):c.insertBefore(i,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(i,c)):(o=c,o.appendChild(i)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Cf));else if(d!==4&&d!==27&&(i=i.child,i!==null))for($g(i,o,c),i=i.sibling;i!==null;)$g(i,o,c),i=i.sibling}function hf(i,o,c){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(d!==4&&d!==27&&(i=i.child,i!==null))for(hf(i,o,c),i=i.sibling;i!==null;)hf(i,o,c),i=i.sibling}var $i=!1,Ue=!1,Hg=!1,Tx=typeof WeakSet=="function"?WeakSet:Set,yn=null,Cx=!1;function sR(i,o){if(i=i.containerInfo,gy=Lf,i=F1(i),Fp(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else t:{c=(c=i.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var y=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break t}var D=0,$=-1,Y=-1,et=0,xt=0,Ct=i,ht=null;e:for(;;){for(var mt;Ct!==c||y!==0&&Ct.nodeType!==3||($=D+y),Ct!==x||d!==0&&Ct.nodeType!==3||(Y=D+d),Ct.nodeType===3&&(D+=Ct.nodeValue.length),(mt=Ct.firstChild)!==null;)ht=Ct,Ct=mt;for(;;){if(Ct===i)break e;if(ht===c&&++et===y&&($=D),ht===x&&++xt===d&&(Y=D),(mt=Ct.nextSibling)!==null)break;Ct=ht,ht=Ct.parentNode}Ct=mt}c=$===-1||Y===-1?null:{start:$,end:Y}}else c=null}c=c||{start:0,end:0}}else c=null;for(yy={focusedElem:i,selectionRange:c},Lf=!1,yn=o;yn!==null;)if(o=yn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,yn=i;else for(;yn!==null;){switch(o=yn,x=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if(i&1024&&x!==null){i=void 0,c=o,y=x.memoizedProps,x=x.memoizedState,d=c.stateNode;try{var Ht=Ba(c.type,y,c.elementType===c.type);i=d.getSnapshotBeforeUpdate(Ht,x),d.__reactInternalSnapshotBeforeUpdate=i}catch(ne){Oe(c,c.return,ne)}}break;case 3:if(i&1024){if(i=o.stateNode.containerInfo,c=i.nodeType,c===9)xy(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":xy(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(i&1024)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,yn=i;break}yn=o.return}return Ht=Cx,Cx=!1,Ht}function Mx(i,o,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Ui(i,c),d&4&&lc(5,c);break;case 1:if(Ui(i,c),d&4)if(i=c.stateNode,o===null)try{i.componentDidMount()}catch($){Oe(c,c.return,$)}else{var y=Ba(c.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(y,o,i.__reactInternalSnapshotBeforeUpdate)}catch($){Oe(c,c.return,$)}}d&64&&xx(c),d&512&&ka(c,c.return);break;case 3:if(Ui(i,c),d&64&&(d=c.updateQueue,d!==null)){if(i=null,c.child!==null)switch(c.child.tag){case 27:case 5:i=c.child.stateNode;break;case 1:i=c.child.stateNode}try{_x(d,i)}catch($){Oe(c,c.return,$)}}break;case 26:Ui(i,c),d&512&&ka(c,c.return);break;case 27:case 5:Ui(i,c),o===null&&d&4&&bx(c),d&512&&ka(c,c.return);break;case 12:Ui(i,c);break;case 13:Ui(i,c),d&4&&Rx(i,c);break;case 22:if(y=c.memoizedState!==null||$i,!y){o=o!==null&&o.memoizedState!==null||Ue;var x=$i,D=Ue;$i=y,(Ue=o)&&!D?Lo(i,c,(c.subtreeFlags&8772)!==0):Ui(i,c),$i=x,Ue=D}d&512&&(c.memoizedProps.mode==="manual"?ka(c,c.return):ar(c,c.return));break;default:Ui(i,c)}}function Ax(i){var o=i.alternate;o!==null&&(i.alternate=null,Ax(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Ri(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var nn=null,sr=!1;function Hi(i,o,c){for(c=c.child;c!==null;)Ox(i,o,c),c=c.sibling}function Ox(i,o,c){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(_t,c)}catch{}switch(c.tag){case 26:Ue||ar(c,o),Hi(i,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Ue||ar(c,o);var d=nn,y=sr;for(nn=c.stateNode,Hi(i,o,c),c=c.stateNode,o=c.attributes;o.length;)c.removeAttributeNode(o[0]);Ri(c),nn=d,sr=y;break;case 5:Ue||ar(c,o);case 6:y=nn;var x=sr;if(nn=null,Hi(i,o,c),nn=y,sr=x,nn!==null)if(sr)try{i=nn,d=c.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)}catch(D){Oe(c,o,D)}else try{nn.removeChild(c.stateNode)}catch(D){Oe(c,o,D)}break;case 18:nn!==null&&(sr?(o=nn,c=c.stateNode,o.nodeType===8?_y(o.parentNode,c):o.nodeType===1&&_y(o,c),Ac(o)):_y(nn,c.stateNode));break;case 4:d=nn,y=sr,nn=c.stateNode.containerInfo,sr=!0,Hi(i,o,c),nn=d,sr=y;break;case 0:case 11:case 14:case 15:Ue||Do(2,c,o),Ue||Do(4,c,o),Hi(i,o,c);break;case 1:Ue||(ar(c,o),d=c.stateNode,typeof d.componentWillUnmount=="function"&&Ex(c,o,d)),Hi(i,o,c);break;case 21:Hi(i,o,c);break;case 22:Ue||ar(c,o),Ue=(d=Ue)||c.memoizedState!==null,Hi(i,o,c),Ue=d;break;default:Hi(i,o,c)}}function Rx(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ac(i)}catch(c){Oe(o,o.return,c)}}function uR(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new Tx),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new Tx),o;default:throw Error(r(435,i.tag))}}function Ug(i,o){var c=uR(i);o.forEach(function(d){var y=ER.bind(null,i,d);c.has(d)||(c.add(d),d.then(y,y))})}function Or(i,o){var c=o.deletions;if(c!==null)for(var d=0;d<c.length;d++){var y=c[d],x=i,D=o,$=D;t:for(;$!==null;){switch($.tag){case 27:case 5:nn=$.stateNode,sr=!1;break t;case 3:nn=$.stateNode.containerInfo,sr=!0;break t;case 4:nn=$.stateNode.containerInfo,sr=!0;break t}$=$.return}if(nn===null)throw Error(r(160));Ox(x,D,y),nn=null,sr=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Nx(o,i),o=o.sibling}var Wr=null;function Nx(i,o){var c=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Or(o,i),Rr(i),d&4&&(Do(3,i,i.return),lc(3,i),Do(5,i,i.return));break;case 1:Or(o,i),Rr(i),d&512&&(Ue||c===null||ar(c,c.return)),d&64&&$i&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var y=Wr;if(Or(o,i),Rr(i),d&512&&(Ue||c===null||ar(c,c.return)),d&4){var x=c!==null?c.memoizedState:null;if(d=i.memoizedState,c===null)if(d===null)if(i.stateNode===null){t:{d=i.type,c=i.memoizedProps,y=y.ownerDocument||y;e:switch(d){case"title":x=y.getElementsByTagName("title")[0],(!x||x[Yr]||x[pn]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(d),y.head.insertBefore(x,y.querySelector("head > title"))),Cn(x,d,c),x[pn]=i,je(x),d=x;break t;case"link":var D=bE("link","href",y).get(d+(c.href||""));if(D){for(var $=0;$<D.length;$++)if(x=D[$],x.getAttribute("href")===(c.href==null?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){D.splice($,1);break e}}x=y.createElement(d),Cn(x,d,c),y.head.appendChild(x);break;case"meta":if(D=bE("meta","content",y).get(d+(c.content||""))){for($=0;$<D.length;$++)if(x=D[$],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){D.splice($,1);break e}}x=y.createElement(d),Cn(x,d,c),y.head.appendChild(x);break;default:throw Error(r(468,d))}x[pn]=i,je(x),d=x}i.stateNode=d}else wE(y,i.type,i.stateNode);else i.stateNode=EE(y,d,i.memoizedProps);else x!==d?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,d===null?wE(y,i.type,i.stateNode):EE(y,d,i.memoizedProps)):d===null&&i.stateNode!==null&&wx(i,i.memoizedProps,c.memoizedProps)}break;case 27:if(d&4&&i.alternate===null){y=i.stateNode,x=i.memoizedProps;try{for(var Y=y.firstChild;Y;){var et=Y.nextSibling,xt=Y.nodeName;Y[Yr]||xt==="HEAD"||xt==="BODY"||xt==="SCRIPT"||xt==="STYLE"||xt==="LINK"&&Y.rel.toLowerCase()==="stylesheet"||y.removeChild(Y),Y=et}for(var Ct=i.type,ht=y.attributes;ht.length;)y.removeAttributeNode(ht[0]);Cn(y,Ct,x),y[pn]=i,y[wn]=x}catch(Ht){Oe(i,i.return,Ht)}}case 5:if(Or(o,i),Rr(i),d&512&&(Ue||c===null||ar(c,c.return)),i.flags&32){y=i.stateNode;try{W(y,"")}catch(Ht){Oe(i,i.return,Ht)}}d&4&&i.stateNode!=null&&(y=i.memoizedProps,wx(i,y,c!==null?c.memoizedProps:y)),d&1024&&(Hg=!0);break;case 6:if(Or(o,i),Rr(i),d&4){if(i.stateNode===null)throw Error(r(162));d=i.memoizedProps,c=i.stateNode;try{c.nodeValue=d}catch(Ht){Oe(i,i.return,Ht)}}break;case 3:if(Rf=null,y=Wr,Wr=Af(o.containerInfo),Or(o,i),Wr=y,Rr(i),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Ac(o.containerInfo)}catch(Ht){Oe(i,i.return,Ht)}Hg&&(Hg=!1,Dx(i));break;case 4:d=Wr,Wr=Af(i.stateNode.containerInfo),Or(o,i),Rr(i),Wr=d;break;case 12:Or(o,i),Rr(i);break;case 13:Or(o,i),Rr(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Wg=Dt()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Ug(i,d)));break;case 22:if(d&512&&(Ue||c===null||ar(c,c.return)),Y=i.memoizedState!==null,et=c!==null&&c.memoizedState!==null,xt=$i,Ct=Ue,$i=xt||Y,Ue=Ct||et,Or(o,i),Ue=Ct,$i=xt,Rr(i),o=i.stateNode,o._current=i,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,d&8192&&(o._visibility=Y?o._visibility&-2:o._visibility|1,Y&&(o=$i||Ue,c===null||et||o||js(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))t:for(c=null,o=i;;){if(o.tag===5||o.tag===26||o.tag===27){if(c===null){et=c=o;try{if(y=et.stateNode,Y)x=y.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{D=et.stateNode,$=et.memoizedProps.style;var mt=$!=null&&$.hasOwnProperty("display")?$.display:null;D.style.display=mt==null||typeof mt=="boolean"?"":(""+mt).trim()}}catch(Ht){Oe(et,et.return,Ht)}}}else if(o.tag===6){if(c===null){et=o;try{et.stateNode.nodeValue=Y?"":et.memoizedProps}catch(Ht){Oe(et,et.return,Ht)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break t;for(;o.sibling===null;){if(o.return===null||o.return===i)break t;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=i.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Ug(i,c))));break;case 19:Or(o,i),Rr(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Ug(i,d)));break;case 21:break;default:Or(o,i),Rr(i)}}function Rr(i){var o=i.flags;if(o&2){try{if(i.tag!==27){t:{for(var c=i.return;c!==null;){if(Sx(c)){var d=c;break t}c=c.return}throw Error(r(160))}switch(d.tag){case 27:var y=d.stateNode,x=zg(i);hf(i,x,y);break;case 5:var D=d.stateNode;d.flags&32&&(W(D,""),d.flags&=-33);var $=zg(i);hf(i,$,D);break;case 3:case 4:var Y=d.stateNode.containerInfo,et=zg(i);$g(i,et,Y);break;default:throw Error(r(161))}}}catch(xt){Oe(i,i.return,xt)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Dx(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;Dx(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Ui(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Mx(i,o.alternate,o),o=o.sibling}function js(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Do(4,o,o.return),js(o);break;case 1:ar(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&Ex(o,o.return,c),js(o);break;case 26:case 27:case 5:ar(o,o.return),js(o);break;case 22:ar(o,o.return),o.memoizedState===null&&js(o);break;default:js(o)}i=i.sibling}}function Lo(i,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,y=i,x=o,D=x.flags;switch(x.tag){case 0:case 11:case 15:Lo(y,x,c),lc(4,x);break;case 1:if(Lo(y,x,c),d=x,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(et){Oe(d,d.return,et)}if(d=x,y=d.updateQueue,y!==null){var $=d.stateNode;try{var Y=y.shared.hiddenCallbacks;if(Y!==null)for(y.shared.hiddenCallbacks=null,y=0;y<Y.length;y++)mx(Y[y],$)}catch(et){Oe(d,d.return,et)}}c&&D&64&&xx(x),ka(x,x.return);break;case 26:case 27:case 5:Lo(y,x,c),c&&d===null&&D&4&&bx(x),ka(x,x.return);break;case 12:Lo(y,x,c);break;case 13:Lo(y,x,c),c&&D&4&&Rx(y,x);break;case 22:x.memoizedState===null&&Lo(y,x,c),ka(x,x.return);break;default:Lo(y,x,c)}o=o.sibling}}function Fg(i,o){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&tc(c))}function Xg(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&tc(i))}function Po(i,o,c,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Lx(i,o,c,d),o=o.sibling}function Lx(i,o,c,d){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Po(i,o,c,d),y&2048&&lc(9,o);break;case 3:Po(i,o,c,d),y&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&tc(i)));break;case 12:if(y&2048){Po(i,o,c,d),i=o.stateNode;try{var x=o.memoizedProps,D=x.id,$=x.onPostCommit;typeof $=="function"&&$(D,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Y){Oe(o,o.return,Y)}}else Po(i,o,c,d);break;case 23:break;case 22:x=o.stateNode,o.memoizedState!==null?x._visibility&4?Po(i,o,c,d):fc(i,o):x._visibility&4?Po(i,o,c,d):(x._visibility|=4,ks(i,o,c,d,(o.subtreeFlags&10256)!==0)),y&2048&&Fg(o.alternate,o);break;case 24:Po(i,o,c,d),y&2048&&Xg(o.alternate,o);break;default:Po(i,o,c,d)}}function ks(i,o,c,d,y){for(y=y&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var x=i,D=o,$=c,Y=d,et=D.flags;switch(D.tag){case 0:case 11:case 15:ks(x,D,$,Y,y),lc(8,D);break;case 23:break;case 22:var xt=D.stateNode;D.memoizedState!==null?xt._visibility&4?ks(x,D,$,Y,y):fc(x,D):(xt._visibility|=4,ks(x,D,$,Y,y)),y&&et&2048&&Fg(D.alternate,D);break;case 24:ks(x,D,$,Y,y),y&&et&2048&&Xg(D.alternate,D);break;default:ks(x,D,$,Y,y)}o=o.sibling}}function fc(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=i,d=o,y=d.flags;switch(d.tag){case 22:fc(c,d),y&2048&&Fg(d.alternate,d);break;case 24:fc(c,d),y&2048&&Xg(d.alternate,d);break;default:fc(c,d)}o=o.sibling}}var dc=8192;function zs(i){if(i.subtreeFlags&dc)for(i=i.child;i!==null;)Px(i),i=i.sibling}function Px(i){switch(i.tag){case 26:zs(i),i.flags&dc&&i.memoizedState!==null&&ZR(Wr,i.memoizedState,i.memoizedProps);break;case 5:zs(i);break;case 3:case 4:var o=Wr;Wr=Af(i.stateNode.containerInfo),zs(i),Wr=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=dc,dc=16777216,zs(i),dc=o):zs(i));break;default:zs(i)}}function Bx(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function hc(i){var o=i.deletions;if(i.flags&16){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];yn=d,jx(d,i)}Bx(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ix(i),i=i.sibling}function Ix(i){switch(i.tag){case 0:case 11:case 15:hc(i),i.flags&2048&&Do(9,i,i.return);break;case 3:hc(i);break;case 12:hc(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&4&&(i.return===null||i.return.tag!==13)?(o._visibility&=-5,pf(i)):hc(i);break;default:hc(i)}}function pf(i){var o=i.deletions;if(i.flags&16){if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];yn=d,jx(d,i)}Bx(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Do(8,o,o.return),pf(o);break;case 22:c=o.stateNode,c._visibility&4&&(c._visibility&=-5,pf(o));break;default:pf(o)}i=i.sibling}}function jx(i,o){for(;yn!==null;){var c=yn;switch(c.tag){case 0:case 11:case 15:Do(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:tc(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,yn=d;else t:for(c=i;yn!==null;){d=yn;var y=d.sibling,x=d.return;if(Ax(d),d===c){yn=null;break t}if(y!==null){y.return=x,yn=y;break t}yn=x}}}function cR(i,o,c,d){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(i,o,c,d){return new cR(i,o,c,d)}function Gg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Bo(i,o){var c=i.alternate;return c===null?(c=Nr(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&31457280,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function kx(i,o){i.flags&=31457282;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,o=c.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function gf(i,o,c,d,y,x){var D=0;if(d=i,typeof i=="function")Gg(i)&&(D=1);else if(typeof i=="string")D=YR(i,c,bt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case f:return za(c.children,y,x,o);case h:D=8,y|=24;break;case p:return i=Nr(12,c,o,y|2),i.elementType=p,i.lanes=x,i;case A:return i=Nr(13,c,o,y),i.elementType=A,i.lanes=x,i;case R:return i=Nr(19,c,o,y),i.elementType=R,i.lanes=x,i;case v:return zx(c,y,x,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case g:case _:D=10;break t;case m:D=9;break t;case b:D=11;break t;case T:D=14;break t;case E:D=16,d=null;break t}D=29,c=Error(r(130,i===null?"null":typeof i,"")),d=null}return o=Nr(D,c,o,y),o.elementType=i,o.type=d,o.lanes=x,o}function za(i,o,c,d){return i=Nr(7,i,d,o),i.lanes=c,i}function zx(i,o,c,d){i=Nr(22,i,d,o),i.elementType=v,i.lanes=c;var y={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var x=y._current;if(x===null)throw Error(r(456));if(!(y._pendingVisibility&2)){var D=wo(x,2);D!==null&&(y._pendingVisibility|=2,Fn(D,x,2))}},attach:function(){var x=y._current;if(x===null)throw Error(r(456));if(y._pendingVisibility&2){var D=wo(x,2);D!==null&&(y._pendingVisibility&=-3,Fn(D,x,2))}}};return i.stateNode=y,i}function qg(i,o,c){return i=Nr(6,i,null,o),i.lanes=c,i}function Vg(i,o,c){return o=Nr(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function Fi(i){i.flags|=4}function $x(i,o){if(o.type!=="stylesheet"||o.state.loading&4)i.flags&=-16777217;else if(i.flags|=16777216,!SE(o)){if(o=Ar.current,o!==null&&((_e&4194176)===_e?fi!==null:(_e&62914560)!==_e&&!(_e&536870912)||o!==fi))throw Wu=Qp,r_;i.flags|=8192}}function yf(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?ys():536870912,i.lanes|=o,Hs|=o)}function pc(i,o){if(!Ee)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function ke(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,d=0;if(o)for(var y=i.child;y!==null;)c|=y.lanes|y.childLanes,d|=y.subtreeFlags&31457280,d|=y.flags&31457280,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)c|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=d,i.childLanes=c,o}function lR(i,o,c){var d=o.pendingProps;switch(Zp(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(o),null;case 1:return ke(o),null;case 3:return c=o.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),zi(ln),Bt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Vu(o)?Fi(o):i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Zr!==null&&(ey(Zr),Zr=null))),ke(o),null;case 26:return c=o.memoizedState,i===null?(Fi(o),c!==null?(ke(o),$x(o,c)):(ke(o),o.flags&=-16777217)):c?c!==i.memoizedState?(Fi(o),ke(o),$x(o,c)):(ke(o),o.flags&=-16777217):(i.memoizedProps!==d&&Fi(o),ke(o),o.flags&=-16777217),null;case 27:Pt(o),c=Tt.current;var y=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==d&&Fi(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return ke(o),null}i=bt.current,Vu(o)?e_(o):(i=yE(y,d,c),o.stateNode=i,Fi(o))}return ke(o),null;case 5:if(Pt(o),c=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==d&&Fi(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return ke(o),null}if(i=bt.current,Vu(o))e_(o);else{switch(y=Mf(Tt.current),i){case 1:i=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:i=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":i=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":i=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":i=y.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof d.is=="string"?y.createElement("select",{is:d.is}):y.createElement("select"),d.multiple?i.multiple=!0:d.size&&(i.size=d.size);break;default:i=typeof d.is=="string"?y.createElement(c,{is:d.is}):y.createElement(c)}}i[pn]=o,i[wn]=d;t:for(y=o.child;y!==null;){if(y.tag===5||y.tag===6)i.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===o)break t;for(;y.sibling===null;){if(y.return===null||y.return===o)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}o.stateNode=i;t:switch(Cn(i,c,d),c){case"button":case"input":case"select":case"textarea":i=!!d.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Fi(o)}}return ke(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==d&&Fi(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(r(166));if(i=Tt.current,Vu(o)){if(i=o.stateNode,c=o.memoizedProps,d=null,y=Un,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}i[pn]=o,i=!!(i.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||lE(i.nodeValue,c)),i||Oa(o)}else i=Mf(i).createTextNode(d),i[pn]=o,o.stateNode=i}return ke(o),null;case 13:if(d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Vu(o),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[pn]=o}else Yu(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;ke(o),y=!1}else Zr!==null&&(ey(Zr),Zr=null),y=!0;if(!y)return o.flags&256?(Bi(o),o):(Bi(o),null)}if(Bi(o),o.flags&128)return o.lanes=c,o;if(c=d!==null,i=i!==null&&i.memoizedState!==null,c){d=o.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool);var x=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==y&&(d.flags|=2048)}return c!==i&&c&&(o.child.flags|=8192),yf(o,o.updateQueue),ke(o),null;case 4:return Bt(),i===null&&dy(o.stateNode.containerInfo),ke(o),null;case 10:return zi(o.type),ke(o),null;case 19:if(Z(cn),y=o.memoizedState,y===null)return ke(o),null;if(d=(o.flags&128)!==0,x=y.rendering,x===null)if(d)pc(y,!1);else{if(Fe!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(x=Ql(i),x!==null){for(o.flags|=128,pc(y,!1),i=x.updateQueue,o.updateQueue=i,yf(o,i),o.subtreeFlags=0,i=c,c=o.child;c!==null;)kx(c,i),c=c.sibling;return H(cn,cn.current&1|2),o.child}i=i.sibling}y.tail!==null&&Dt()>vf&&(o.flags|=128,d=!0,pc(y,!1),o.lanes=4194304)}else{if(!d)if(i=Ql(x),i!==null){if(o.flags|=128,d=!0,i=i.updateQueue,o.updateQueue=i,yf(o,i),pc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!x.alternate&&!Ee)return ke(o),null}else 2*Dt()-y.renderingStartTime>vf&&c!==536870912&&(o.flags|=128,d=!0,pc(y,!1),o.lanes=4194304);y.isBackwards?(x.sibling=o.child,o.child=x):(i=y.last,i!==null?i.sibling=x:o.child=x,y.last=x)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Dt(),o.sibling=null,i=cn.current,H(cn,d?i&1|2:i&1),o):(ke(o),null);case 22:case 23:return Bi(o),tg(),d=o.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?c&536870912&&!(o.flags&128)&&(ke(o),o.subtreeFlags&6&&(o.flags|=8192)):ke(o),c=o.updateQueue,c!==null&&yf(o,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048),i!==null&&Z(Na),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),zi(ln),ke(o),null;case 25:return null}throw Error(r(156,o.tag))}function fR(i,o){switch(Zp(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return zi(ln),Bt(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Pt(o),null;case 13:if(Bi(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Yu()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Z(cn),null;case 4:return Bt(),null;case 10:return zi(o.type),null;case 22:case 23:return Bi(o),tg(),i!==null&&Z(Na),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return zi(ln),null;case 25:return null;default:return null}}function Hx(i,o){switch(Zp(o),o.tag){case 3:zi(ln),Bt();break;case 26:case 27:case 5:Pt(o);break;case 4:Bt();break;case 13:Bi(o);break;case 19:Z(cn);break;case 10:zi(o.type);break;case 22:case 23:Bi(o),tg(),i!==null&&Z(Na);break;case 24:zi(ln)}}var dR={getCacheForType:function(i){var o=Pn(ln),c=o.data.get(i);return c===void 0&&(c=i(),o.data.set(i,c)),c}},hR=typeof WeakMap=="function"?WeakMap:Map,ze=0,Re=null,ge=null,_e=0,Ne=0,ur=null,Xi=!1,$s=!1,Yg=!1,Gi=0,Fe=0,Io=0,$a=0,Kg=0,Dr=0,Hs=0,gc=null,hi=null,Zg=!1,Wg=0,vf=1/0,mf=null,jo=null,_f=!1,Ha=null,yc=0,Qg=0,Jg=null,vc=0,ty=null;function cr(){if(ze&2&&_e!==0)return _e&-_e;if(S.T!==null){var i=Ds;return i!==0?i:uy()}return ms()}function Ux(){Dr===0&&(Dr=!(_e&536870912)||Ee?_a():536870912);var i=Ar.current;return i!==null&&(i.flags|=32),Dr}function Fn(i,o,c){(i===Re&&Ne===2||i.cancelPendingCommit!==null)&&(Us(i,0),qi(i,_e,Dr,!1)),xa(i,c),(!(ze&2)||i!==Re)&&(i===Re&&(!(ze&2)&&($a|=c),Fe===4&&qi(i,_e,Dr,!1)),pi(i))}function Fx(i,o,c){if(ze&6)throw Error(r(327));var d=!c&&(o&60)===0&&(o&i.expiredLanes)===0||si(i,o),y=d?yR(i,o):iy(i,o,!0),x=d;do{if(y===0){$s&&!d&&qi(i,o,0,!1);break}else if(y===6)qi(i,o,0,!Xi);else{if(c=i.current.alternate,x&&!pR(c)){y=iy(i,o,!1),x=!1;continue}if(y===2){if(x=o,i.errorRecoveryDisabledLanes&x)var D=0;else D=i.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){o=D;t:{var $=i;y=gc;var Y=$.current.memoizedState.isDehydrated;if(Y&&(Us($,D).flags|=256),D=iy($,D,!1),D!==2){if(Yg&&!Y){$.errorRecoveryDisabledLanes|=x,$a|=x,y=4;break t}x=hi,hi=y,x!==null&&ey(x)}y=D}if(x=!1,y!==2)continue}}if(y===1){Us(i,0),qi(i,o,0,!0);break}t:{switch(d=i,y){case 0:case 1:throw Error(r(345));case 4:if((o&4194176)===o){qi(d,o,Dr,!Xi);break t}break;case 2:hi=null;break;case 3:case 5:break;default:throw Error(r(329))}if(d.finishedWork=c,d.finishedLanes=o,(o&62914560)===o&&(x=Wg+300-Dt(),10<x)){if(qi(d,o,Dr,!Xi),Ai(d,0)!==0)break t;d.timeoutHandle=hE(Xx.bind(null,d,c,hi,mf,Zg,o,Dr,$a,Hs,Xi,2,-0,0),x);break t}Xx(d,c,hi,mf,Zg,o,Dr,$a,Hs,Xi,0,-0,0)}}break}while(!0);pi(i)}function ey(i){hi===null?hi=i:hi.push.apply(hi,i)}function Xx(i,o,c,d,y,x,D,$,Y,et,xt,Ct,ht){var mt=o.subtreeFlags;if((mt&8192||(mt&16785408)===16785408)&&(wc={stylesheets:null,count:0,unsuspend:KR},Px(o),o=WR(),o!==null)){i.cancelPendingCommit=o(Wx.bind(null,i,c,d,y,D,$,Y,1,Ct,ht)),qi(i,x,D,!et);return}Wx(i,c,d,y,D,$,Y,xt,Ct,ht)}function pR(i){for(var o=i;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var y=c[d],x=y.getSnapshot;y=y.value;try{if(!or(x(),y))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function qi(i,o,c,d){o&=~Kg,o&=~$a,i.suspendedLanes|=o,i.pingedLanes&=~o,d&&(i.warmLanes|=o),d=i.expirationTimes;for(var y=o;0<y;){var x=31-ie(y),D=1<<x;d[x]=-1,y&=~D}c!==0&&Ll(i,c,o)}function xf(){return ze&6?!0:(mc(0),!1)}function ny(){if(ge!==null){if(Ne===0)var i=ge.return;else i=ge,ki=Ia=null,ug(i),Rs=null,Qu=0,i=ge;for(;i!==null;)Hx(i.alternate,i),i=i.return;ge=null}}function Us(i,o){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,LR(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),ny(),Re=i,ge=c=Bo(i.current,null),_e=o,Ne=0,ur=null,Xi=!1,$s=si(i,o),Yg=!1,Hs=Dr=Kg=$a=Io=Fe=0,hi=gc=null,Zg=!1,o&8&&(o|=o&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=o;0<d;){var y=31-ie(d),x=1<<y;o|=i[y],d&=~x}return Gi=o,Fl(),c}function Gx(i,o){de=null,S.H=di,o===Zu?(o=a_(),Ne=3):o===r_?(o=a_(),Ne=4):Ne=o===ix?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ur=o,ge===null&&(Fe=1,lf(i,Tr(o,i.current)))}function qx(){var i=S.H;return S.H=di,i===null?di:i}function Vx(){var i=S.A;return S.A=dR,i}function ry(){Fe=4,Xi||(_e&4194176)!==_e&&Ar.current!==null||($s=!0),!(Io&134217727)&&!($a&134217727)||Re===null||qi(Re,_e,Dr,!1)}function iy(i,o,c){var d=ze;ze|=2;var y=qx(),x=Vx();(Re!==i||_e!==o)&&(mf=null,Us(i,o)),o=!1;var D=Fe;t:do try{if(Ne!==0&&ge!==null){var $=ge,Y=ur;switch(Ne){case 8:ny(),D=6;break t;case 3:case 2:case 6:Ar.current===null&&(o=!0);var et=Ne;if(Ne=0,ur=null,Fs(i,$,Y,et),c&&$s){D=0;break t}break;default:et=Ne,Ne=0,ur=null,Fs(i,$,Y,et)}}gR(),D=Fe;break}catch(xt){Gx(i,xt)}while(!0);return o&&i.shellSuspendCounter++,ki=Ia=null,ze=d,S.H=y,S.A=x,ge===null&&(Re=null,_e=0,Fl()),D}function gR(){for(;ge!==null;)Yx(ge)}function yR(i,o){var c=ze;ze|=2;var d=qx(),y=Vx();Re!==i||_e!==o?(mf=null,vf=Dt()+500,Us(i,o)):$s=si(i,o);t:do try{if(Ne!==0&&ge!==null){o=ge;var x=ur;e:switch(Ne){case 1:Ne=0,ur=null,Fs(i,o,x,1);break;case 2:if(i_(x)){Ne=0,ur=null,Kx(o);break}o=function(){Ne===2&&Re===i&&(Ne=7),pi(i)},x.then(o,o);break t;case 3:Ne=7;break t;case 4:Ne=5;break t;case 7:i_(x)?(Ne=0,ur=null,Kx(o)):(Ne=0,ur=null,Fs(i,o,x,7));break;case 5:var D=null;switch(ge.tag){case 26:D=ge.memoizedState;case 5:case 27:var $=ge;if(!D||SE(D)){Ne=0,ur=null;var Y=$.sibling;if(Y!==null)ge=Y;else{var et=$.return;et!==null?(ge=et,Ef(et)):ge=null}break e}}Ne=0,ur=null,Fs(i,o,x,5);break;case 6:Ne=0,ur=null,Fs(i,o,x,6);break;case 8:ny(),Fe=6;break t;default:throw Error(r(462))}}vR();break}catch(xt){Gx(i,xt)}while(!0);return ki=Ia=null,S.H=d,S.A=y,ze=c,ge!==null?0:(Re=null,_e=0,Fl(),Fe)}function vR(){for(;ge!==null&&!Gt();)Yx(ge)}function Yx(i){var o=yx(i.alternate,i,Gi);i.memoizedProps=i.pendingProps,o===null?Ef(i):ge=o}function Kx(i){var o=i,c=o.alternate;switch(o.tag){case 15:case 0:o=lx(c,o,o.pendingProps,o.type,void 0,_e);break;case 11:o=lx(c,o,o.pendingProps,o.type.render,o.ref,_e);break;case 5:ug(o);default:Hx(c,o),o=ge=kx(o,Gi),o=yx(c,o,Gi)}i.memoizedProps=i.pendingProps,o===null?Ef(i):ge=o}function Fs(i,o,c,d){ki=Ia=null,ug(o),Rs=null,Qu=0;var y=o.return;try{if(oR(i,y,o,c,_e)){Fe=1,lf(i,Tr(c,i.current)),ge=null;return}}catch(x){if(y!==null)throw ge=y,x;Fe=1,lf(i,Tr(c,i.current)),ge=null;return}o.flags&32768?(Ee||d===1?i=!0:$s||_e&536870912?i=!1:(Xi=i=!0,(d===2||d===3||d===6)&&(d=Ar.current,d!==null&&d.tag===13&&(d.flags|=16384))),Zx(o,i)):Ef(o)}function Ef(i){var o=i;do{if(o.flags&32768){Zx(o,Xi);return}i=o.return;var c=lR(o.alternate,o,Gi);if(c!==null){ge=c;return}if(o=o.sibling,o!==null){ge=o;return}ge=o=i}while(o!==null);Fe===0&&(Fe=5)}function Zx(i,o){do{var c=fR(i.alternate,i);if(c!==null){c.flags&=32767,ge=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(i=i.sibling,i!==null)){ge=i;return}ge=i=c}while(i!==null);Fe=6,ge=null}function Wx(i,o,c,d,y,x,D,$,Y,et){var xt=S.T,Ct=rt.p;try{rt.p=2,S.T=null,mR(i,o,c,d,Ct,y,x,D,$,Y,et)}finally{S.T=xt,rt.p=Ct}}function mR(i,o,c,d,y,x,D,$){do Xs();while(Ha!==null);if(ze&6)throw Error(r(327));var Y=i.finishedWork;if(d=i.finishedLanes,Y===null)return null;if(i.finishedWork=null,i.finishedLanes=0,Y===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var et=Y.lanes|Y.childLanes;if(et|=Vp,vs(i,d,et,x,D,$),i===Re&&(ge=Re=null,_e=0),!(Y.subtreeFlags&10256)&&!(Y.flags&10256)||_f||(_f=!0,Qg=et,Jg=c,bR(O,function(){return Xs(),null})),c=(Y.flags&15990)!==0,Y.subtreeFlags&15990||c?(c=S.T,S.T=null,x=rt.p,rt.p=2,D=ze,ze|=4,sR(i,Y),Nx(Y,i),UO(yy,i.containerInfo),Lf=!!gy,yy=gy=null,i.current=Y,Mx(i,Y.alternate,Y),fe(),ze=D,rt.p=x,S.T=c):i.current=Y,_f?(_f=!1,Ha=i,yc=d):Qx(i,et),et=i.pendingLanes,et===0&&(jo=null),Ce(Y.stateNode),pi(i),o!==null)for(y=i.onRecoverableError,Y=0;Y<o.length;Y++)et=o[Y],y(et.value,{componentStack:et.stack});return yc&3&&Xs(),et=i.pendingLanes,d&4194218&&et&42?i===ty?vc++:(vc=0,ty=i):vc=0,mc(0),null}function Qx(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,tc(o)))}function Xs(){if(Ha!==null){var i=Ha,o=Qg;Qg=0;var c=Du(yc),d=S.T,y=rt.p;try{if(rt.p=32>c?32:c,S.T=null,Ha===null)var x=!1;else{c=Jg,Jg=null;var D=Ha,$=yc;if(Ha=null,yc=0,ze&6)throw Error(r(331));var Y=ze;if(ze|=4,Ix(D.current),Lx(D,D.current,$,c),ze=Y,mc(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(_t,D)}catch{}x=!0}return x}finally{rt.p=y,S.T=d,Qx(i,o)}}return!1}function Jx(i,o,c){o=Tr(c,o),o=bg(i.stateNode,o,2),i=No(i,o,2),i!==null&&(xa(i,2),pi(i))}function Oe(i,o,c){if(i.tag===3)Jx(i,i,c);else for(;o!==null;){if(o.tag===3){Jx(o,i,c);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(jo===null||!jo.has(d))){i=Tr(c,i),c=nx(2),d=No(o,c,2),d!==null&&(rx(c,d,o,i),xa(d,2),pi(d));break}}o=o.return}}function oy(i,o,c){var d=i.pingCache;if(d===null){d=i.pingCache=new hR;var y=new Set;d.set(o,y)}else y=d.get(o),y===void 0&&(y=new Set,d.set(o,y));y.has(c)||(Yg=!0,y.add(c),i=_R.bind(null,i,o,c),o.then(i,i))}function _R(i,o,c){var d=i.pingCache;d!==null&&d.delete(o),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,Re===i&&(_e&c)===c&&(Fe===4||Fe===3&&(_e&62914560)===_e&&300>Dt()-Wg?!(ze&2)&&Us(i,0):Kg|=c,Hs===_e&&(Hs=0)),pi(i)}function tE(i,o){o===0&&(o=ys()),i=wo(i,o),i!==null&&(xa(i,o),pi(i))}function xR(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),tE(i,c)}function ER(i,o){var c=0;switch(i.tag){case 13:var d=i.stateNode,y=i.memoizedState;y!==null&&(c=y.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(o),tE(i,c)}function bR(i,o){return It(i,o)}var bf=null,Gs=null,ay=!1,wf=!1,sy=!1,Ua=0;function pi(i){i!==Gs&&i.next===null&&(Gs===null?bf=Gs=i:Gs=Gs.next=i),wf=!0,ay||(ay=!0,SR(wR))}function mc(i,o){if(!sy&&wf){sy=!0;do for(var c=!1,d=bf;d!==null;){if(i!==0){var y=d.pendingLanes;if(y===0)var x=0;else{var D=d.suspendedLanes,$=d.pingedLanes;x=(1<<31-ie(42|i)+1)-1,x&=y&~(D&~$),x=x&201326677?x&201326677|1:x?x|2:0}x!==0&&(c=!0,rE(d,x))}else x=_e,x=Ai(d,d===Re?x:0),!(x&3)||si(d,x)||(c=!0,rE(d,x));d=d.next}while(c);sy=!1}}function wR(){wf=ay=!1;var i=0;Ua!==0&&(DR()&&(i=Ua),Ua=0);for(var o=Dt(),c=null,d=bf;d!==null;){var y=d.next,x=eE(d,o);x===0?(d.next=null,c===null?bf=y:c.next=y,y===null&&(Gs=c)):(c=d,(i!==0||x&3)&&(wf=!0)),d=y}mc(i)}function eE(i,o){for(var c=i.suspendedLanes,d=i.pingedLanes,y=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var D=31-ie(x),$=1<<D,Y=y[D];Y===-1?(!($&c)||$&d)&&(y[D]=mo($,o)):Y<=o&&(i.expiredLanes|=$),x&=~$}if(o=Re,c=_e,c=Ai(i,i===o?c:0),d=i.callbackNode,c===0||i===o&&Ne===2||i.cancelPendingCommit!==null)return d!==null&&d!==null&&Ut(d),i.callbackNode=null,i.callbackPriority=0;if(!(c&3)||si(i,c)){if(o=c&-c,o===i.callbackPriority)return o;switch(d!==null&&Ut(d),Du(c)){case 2:case 8:c=k;break;case 32:c=O;break;case 268435456:c=V;break;default:c=O}return d=nE.bind(null,i),c=It(c,d),i.callbackPriority=o,i.callbackNode=c,o}return d!==null&&d!==null&&Ut(d),i.callbackPriority=2,i.callbackNode=null,2}function nE(i,o){var c=i.callbackNode;if(Xs()&&i.callbackNode!==c)return null;var d=_e;return d=Ai(i,i===Re?d:0),d===0?null:(Fx(i,d,o),eE(i,Dt()),i.callbackNode!=null&&i.callbackNode===c?nE.bind(null,i):null)}function rE(i,o){if(Xs())return null;Fx(i,o,!0)}function SR(i){PR(function(){ze&6?It(Kn,i):i()})}function uy(){return Ua===0&&(Ua=_a()),Ua}function iE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Je(""+i)}function oE(i,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,i.id&&c.setAttribute("form",i.id),o.parentNode.insertBefore(c,o),i=new FormData(i),c.parentNode.removeChild(c),i}function TR(i,o,c,d,y){if(o==="submit"&&c&&c.stateNode===y){var x=iE((y[wn]||null).action),D=d.submitter;D&&(o=(o=D[wn]||null)?iE(o.formAction):D.getAttribute("formAction"),o!==null&&(x=o,D=null));var $=new $l("action","action",null,d,y);i.push({event:$,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ua!==0){var Y=D?oE(y,D):new FormData(y);vg(c,{pending:!0,data:Y,method:y.method,action:x},null,Y)}}else typeof x=="function"&&($.preventDefault(),Y=D?oE(y,D):new FormData(y),vg(c,{pending:!0,data:Y,method:y.method,action:x},x,Y))},currentTarget:y}]})}}for(var cy=0;cy<W1.length;cy++){var ly=W1[cy],CR=ly.toLowerCase(),MR=ly[0].toUpperCase()+ly.slice(1);Kr(CR,"on"+MR)}Kr(q1,"onAnimationEnd"),Kr(V1,"onAnimationIteration"),Kr(Y1,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(XO,"onTransitionRun"),Kr(GO,"onTransitionStart"),Kr(qO,"onTransitionCancel"),Kr(K1,"onTransitionEnd"),Nn("onMouseEnter",["mouseout","mouseover"]),Nn("onMouseLeave",["mouseout","mouseover"]),Nn("onPointerEnter",["pointerout","pointerover"]),Nn("onPointerLeave",["pointerout","pointerover"]),Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _c="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_c));function aE(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var d=i[c],y=d.event;d=d.listeners;t:{var x=void 0;if(o)for(var D=d.length-1;0<=D;D--){var $=d[D],Y=$.instance,et=$.currentTarget;if($=$.listener,Y!==x&&y.isPropagationStopped())break t;x=$,y.currentTarget=et;try{x(y)}catch(xt){cf(xt)}y.currentTarget=null,x=Y}else for(D=0;D<d.length;D++){if($=d[D],Y=$.instance,et=$.currentTarget,$=$.listener,Y!==x&&y.isPropagationStopped())break t;x=$,y.currentTarget=et;try{x(y)}catch(xt){cf(xt)}y.currentTarget=null,x=Y}}}}function me(i,o){var c=o[_s];c===void 0&&(c=o[_s]=new Set);var d=i+"__bubble";c.has(d)||(sE(o,i,2,!1),c.add(d))}function fy(i,o,c){var d=0;o&&(d|=4),sE(c,i,d,o)}var Sf="_reactListening"+Math.random().toString(36).slice(2);function dy(i){if(!i[Sf]){i[Sf]=!0,zn.forEach(function(c){c!=="selectionchange"&&(AR.has(c)||fy(c,!1,i),fy(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Sf]||(o[Sf]=!0,fy("selectionchange",!1,o))}}function sE(i,o,c,d){switch(RE(o)){case 2:var y=tN;break;case 8:y=eN;break;default:y=Ty}c=y.bind(null,o,c,i),y=void 0,!Pp||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),d?y!==void 0?i.addEventListener(o,c,{capture:!0,passive:y}):i.addEventListener(o,c,!0):y!==void 0?i.addEventListener(o,c,{passive:y}):i.addEventListener(o,c,!1)}function hy(i,o,c,d,y){var x=d;if(!(o&1)&&!(o&2)&&d!==null)t:for(;;){if(d===null)return;var D=d.tag;if(D===3||D===4){var $=d.stateNode.containerInfo;if($===y||$.nodeType===8&&$.parentNode===y)break;if(D===4)for(D=d.return;D!==null;){var Y=D.tag;if((Y===3||Y===4)&&(Y=D.stateNode.containerInfo,Y===y||Y.nodeType===8&&Y.parentNode===y))return;D=D.return}for(;$!==null;){if(D=Er($),D===null)return;if(Y=D.tag,Y===5||Y===6||Y===26||Y===27){d=x=D;continue t}$=$.parentNode}}d=d.return}b1(function(){var et=x,xt=Dp(c),Ct=[];t:{var ht=Z1.get(i);if(ht!==void 0){var mt=$l,Ht=i;switch(i){case"keypress":if(kl(c)===0)break t;case"keydown":case"keyup":mt=EO;break;case"focusin":Ht="focus",mt=kp;break;case"focusout":Ht="blur",mt=kp;break;case"beforeblur":case"afterblur":mt=kp;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=T1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=cO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=SO;break;case q1:case V1:case Y1:mt=dO;break;case K1:mt=CO;break;case"scroll":case"scrollend":mt=sO;break;case"wheel":mt=AO;break;case"copy":case"cut":case"paste":mt=pO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=M1;break;case"toggle":case"beforetoggle":mt=RO}var ne=(o&4)!==0,Xe=!ne&&(i==="scroll"||i==="scrollend"),ot=ne?ht!==null?ht+"Capture":null:ht;ne=[];for(var tt=et,ut;tt!==null;){var St=tt;if(ut=St.stateNode,St=St.tag,St!==5&&St!==26&&St!==27||ut===null||ot===null||(St=ku(tt,ot),St!=null&&ne.push(xc(tt,St,ut))),Xe)break;tt=tt.return}0<ne.length&&(ht=new mt(ht,Ht,null,c,xt),Ct.push({event:ht,listeners:ne}))}}if(!(o&7)){t:{if(ht=i==="mouseover"||i==="pointerover",mt=i==="mouseout"||i==="pointerout",ht&&c!==Wn&&(Ht=c.relatedTarget||c.fromElement)&&(Er(Ht)||Ht[Oi]))break t;if((mt||ht)&&(ht=xt.window===xt?xt:(ht=xt.ownerDocument)?ht.defaultView||ht.parentWindow:window,mt?(Ht=c.relatedTarget||c.toElement,mt=et,Ht=Ht?Er(Ht):null,Ht!==null&&(Xe=Nt(Ht),ne=Ht.tag,Ht!==Xe||ne!==5&&ne!==27&&ne!==6)&&(Ht=null)):(mt=null,Ht=et),mt!==Ht)){if(ne=T1,St="onMouseLeave",ot="onMouseEnter",tt="mouse",(i==="pointerout"||i==="pointerover")&&(ne=M1,St="onPointerLeave",ot="onPointerEnter",tt="pointer"),Xe=mt==null?ht:Ea(mt),ut=Ht==null?ht:Ea(Ht),ht=new ne(St,tt+"leave",mt,c,xt),ht.target=Xe,ht.relatedTarget=ut,St=null,Er(xt)===et&&(ne=new ne(ot,tt+"enter",Ht,c,xt),ne.target=ut,ne.relatedTarget=Xe,St=ne),Xe=St,mt&&Ht)e:{for(ne=mt,ot=Ht,tt=0,ut=ne;ut;ut=qs(ut))tt++;for(ut=0,St=ot;St;St=qs(St))ut++;for(;0<tt-ut;)ne=qs(ne),tt--;for(;0<ut-tt;)ot=qs(ot),ut--;for(;tt--;){if(ne===ot||ot!==null&&ne===ot.alternate)break e;ne=qs(ne),ot=qs(ot)}ne=null}else ne=null;mt!==null&&uE(Ct,ht,mt,ne,!1),Ht!==null&&Xe!==null&&uE(Ct,Xe,Ht,ne,!0)}}t:{if(ht=et?Ea(et):window,mt=ht.nodeName&&ht.nodeName.toLowerCase(),mt==="select"||mt==="input"&&ht.type==="file")var $t=B1;else if(L1(ht))if(I1)$t=$O;else{$t=kO;var pe=jO}else mt=ht.nodeName,!mt||mt.toLowerCase()!=="input"||ht.type!=="checkbox"&&ht.type!=="radio"?et&&ae(et.elementType)&&($t=B1):$t=zO;if($t&&($t=$t(i,et))){P1(Ct,$t,c,xt);break t}pe&&pe(i,ht,et),i==="focusout"&&et&&ht.type==="number"&&et.memoizedProps.value!=null&&ju(ht,"number",ht.value)}switch(pe=et?Ea(et):window,i){case"focusin":(L1(pe)||pe.contentEditable==="true")&&(Ss=pe,Xp=et,qu=null);break;case"focusout":qu=Xp=Ss=null;break;case"mousedown":Gp=!0;break;case"contextmenu":case"mouseup":case"dragend":Gp=!1,X1(Ct,c,xt);break;case"selectionchange":if(FO)break;case"keydown":case"keyup":X1(Ct,c,xt)}var Xt;if($p)t:{switch(i){case"compositionstart":var Kt="onCompositionStart";break t;case"compositionend":Kt="onCompositionEnd";break t;case"compositionupdate":Kt="onCompositionUpdate";break t}Kt=void 0}else ws?N1(i,c)&&(Kt="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Kt="onCompositionStart");Kt&&(A1&&c.locale!=="ko"&&(ws||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&ws&&(Xt=w1()):(bo=xt,Bp="value"in bo?bo.value:bo.textContent,ws=!0)),pe=Tf(et,Kt),0<pe.length&&(Kt=new C1(Kt,i,null,c,xt),Ct.push({event:Kt,listeners:pe}),Xt?Kt.data=Xt:(Xt=D1(c),Xt!==null&&(Kt.data=Xt)))),(Xt=DO?LO(i,c):PO(i,c))&&(Kt=Tf(et,"onBeforeInput"),0<Kt.length&&(pe=new C1("onBeforeInput","beforeinput",null,c,xt),Ct.push({event:pe,listeners:Kt}),pe.data=Xt)),TR(Ct,i,et,c,xt)}aE(Ct,o)})}function xc(i,o,c){return{instance:i,listener:o,currentTarget:c}}function Tf(i,o){for(var c=o+"Capture",d=[];i!==null;){var y=i,x=y.stateNode;y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=ku(i,c),y!=null&&d.unshift(xc(i,y,x)),y=ku(i,o),y!=null&&d.push(xc(i,y,x))),i=i.return}return d}function qs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function uE(i,o,c,d,y){for(var x=o._reactName,D=[];c!==null&&c!==d;){var $=c,Y=$.alternate,et=$.stateNode;if($=$.tag,Y!==null&&Y===d)break;$!==5&&$!==26&&$!==27||et===null||(Y=et,y?(et=ku(c,x),et!=null&&D.unshift(xc(c,et,Y))):y||(et=ku(c,x),et!=null&&D.push(xc(c,et,Y)))),c=c.return}D.length!==0&&i.push({event:o,listeners:D})}var OR=/\r\n?/g,RR=/\u0000|\uFFFD/g;function cE(i){return(typeof i=="string"?i:""+i).replace(OR,`
`).replace(RR,"")}function lE(i,o){return o=cE(o),cE(i)===o}function Cf(){}function Ae(i,o,c,d,y,x){switch(c){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||W(i,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&W(i,""+d);break;case"className":Dn(i,"class",d);break;case"tabIndex":Dn(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(i,c,d);break;case"style":kt(i,d,x);break;case"data":if(o!=="object"){Dn(i,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||c!=="href")){i.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(c);break}d=Je(""+d),i.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(o!=="input"&&Ae(i,o,"name",y.name,y,null),Ae(i,o,"formEncType",y.formEncType,y,null),Ae(i,o,"formMethod",y.formMethod,y,null),Ae(i,o,"formTarget",y.formTarget,y,null)):(Ae(i,o,"encType",y.encType,y,null),Ae(i,o,"method",y.method,y,null),Ae(i,o,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(c);break}d=Je(""+d),i.setAttribute(c,d);break;case"onClick":d!=null&&(i.onclick=Cf);break;case"onScroll":d!=null&&me("scroll",i);break;case"onScrollEnd":d!=null&&me("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}c=Je(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,""+d):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":d===!0?i.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,d):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(c,d):i.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(c):i.setAttribute(c,d);break;case"popover":me("beforetoggle",i),me("toggle",i),Di(i,"popover",d);break;case"xlinkActuate":Zn(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Zn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Zn(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Zn(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Zn(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Zn(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Zn(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Zn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Zn(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Di(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Qe.get(c)||c,Di(i,c,d))}}function py(i,o,c,d,y,x){switch(c){case"style":kt(i,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof d=="string"?W(i,d):(typeof d=="number"||typeof d=="bigint")&&W(i,""+d);break;case"onScroll":d!=null&&me("scroll",i);break;case"onScrollEnd":d!=null&&me("scrollend",i);break;case"onClick":d!=null&&(i.onclick=Cf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ni.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),o=c.slice(2,y?c.length-7:void 0),x=i[wn]||null,x=x!=null?x[c]:null,typeof x=="function"&&i.removeEventListener(o,x,y),typeof d=="function")){typeof x!="function"&&x!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(o,d,y);break t}c in i?i[c]=d:d===!0?i.setAttribute(c,""):Di(i,c,d)}}}function Cn(i,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":me("error",i),me("load",i);var d=!1,y=!1,x;for(x in c)if(c.hasOwnProperty(x)){var D=c[x];if(D!=null)switch(x){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ae(i,o,x,D,c,null)}}y&&Ae(i,o,"srcSet",c.srcSet,c,null),d&&Ae(i,o,"src",c.src,c,null);return;case"input":me("invalid",i);var $=x=D=y=null,Y=null,et=null;for(d in c)if(c.hasOwnProperty(d)){var xt=c[d];if(xt!=null)switch(d){case"name":y=xt;break;case"type":D=xt;break;case"checked":Y=xt;break;case"defaultChecked":et=xt;break;case"value":x=xt;break;case"defaultValue":$=xt;break;case"children":case"dangerouslySetInnerHTML":if(xt!=null)throw Error(r(137,o));break;default:Ae(i,o,d,xt,c,null)}}Iu(i,x,$,Y,et,D,y,!1),xo(i);return;case"select":me("invalid",i),d=D=x=null;for(y in c)if(c.hasOwnProperty(y)&&($=c[y],$!=null))switch(y){case"value":x=$;break;case"defaultValue":D=$;break;case"multiple":d=$;default:Ae(i,o,y,$,c,null)}o=x,c=D,i.multiple=!!d,o!=null?Eo(i,!!d,o,!1):c!=null&&Eo(i,!!d,c,!0);return;case"textarea":me("invalid",i),x=y=d=null;for(D in c)if(c.hasOwnProperty(D)&&($=c[D],$!=null))switch(D){case"value":d=$;break;case"defaultValue":y=$;break;case"children":x=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:Ae(i,o,D,$,c,null)}U(i,d,y,x),xo(i);return;case"option":for(Y in c)if(c.hasOwnProperty(Y)&&(d=c[Y],d!=null))switch(Y){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Ae(i,o,Y,d,c,null)}return;case"dialog":me("cancel",i),me("close",i);break;case"iframe":case"object":me("load",i);break;case"video":case"audio":for(d=0;d<_c.length;d++)me(_c[d],i);break;case"image":me("error",i),me("load",i);break;case"details":me("toggle",i);break;case"embed":case"source":case"link":me("error",i),me("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in c)if(c.hasOwnProperty(et)&&(d=c[et],d!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ae(i,o,et,d,c,null)}return;default:if(ae(o)){for(xt in c)c.hasOwnProperty(xt)&&(d=c[xt],d!==void 0&&py(i,o,xt,d,c,void 0));return}}for($ in c)c.hasOwnProperty($)&&(d=c[$],d!=null&&Ae(i,o,$,d,c,null))}function NR(i,o,c,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,D=null,$=null,Y=null,et=null,xt=null;for(mt in c){var Ct=c[mt];if(c.hasOwnProperty(mt)&&Ct!=null)switch(mt){case"checked":break;case"value":break;case"defaultValue":Y=Ct;default:d.hasOwnProperty(mt)||Ae(i,o,mt,null,d,Ct)}}for(var ht in d){var mt=d[ht];if(Ct=c[ht],d.hasOwnProperty(ht)&&(mt!=null||Ct!=null))switch(ht){case"type":x=mt;break;case"name":y=mt;break;case"checked":et=mt;break;case"defaultChecked":xt=mt;break;case"value":D=mt;break;case"defaultValue":$=mt;break;case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(r(137,o));break;default:mt!==Ct&&Ae(i,o,ht,mt,d,Ct)}}wa(i,D,$,Y,et,xt,x,y);return;case"select":mt=D=$=ht=null;for(x in c)if(Y=c[x],c.hasOwnProperty(x)&&Y!=null)switch(x){case"value":break;case"multiple":mt=Y;default:d.hasOwnProperty(x)||Ae(i,o,x,null,d,Y)}for(y in d)if(x=d[y],Y=c[y],d.hasOwnProperty(y)&&(x!=null||Y!=null))switch(y){case"value":ht=x;break;case"defaultValue":$=x;break;case"multiple":D=x;default:x!==Y&&Ae(i,o,y,x,d,Y)}o=$,c=D,d=mt,ht!=null?Eo(i,!!c,ht,!1):!!d!=!!c&&(o!=null?Eo(i,!!c,o,!0):Eo(i,!!c,c?[]:"",!1));return;case"textarea":mt=ht=null;for($ in c)if(y=c[$],c.hasOwnProperty($)&&y!=null&&!d.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Ae(i,o,$,null,d,y)}for(D in d)if(y=d[D],x=c[D],d.hasOwnProperty(D)&&(y!=null||x!=null))switch(D){case"value":ht=y;break;case"defaultValue":mt=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==x&&Ae(i,o,D,y,d,x)}j(i,ht,mt);return;case"option":for(var Ht in c)if(ht=c[Ht],c.hasOwnProperty(Ht)&&ht!=null&&!d.hasOwnProperty(Ht))switch(Ht){case"selected":i.selected=!1;break;default:Ae(i,o,Ht,null,d,ht)}for(Y in d)if(ht=d[Y],mt=c[Y],d.hasOwnProperty(Y)&&ht!==mt&&(ht!=null||mt!=null))switch(Y){case"selected":i.selected=ht&&typeof ht!="function"&&typeof ht!="symbol";break;default:Ae(i,o,Y,ht,d,mt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in c)ht=c[ne],c.hasOwnProperty(ne)&&ht!=null&&!d.hasOwnProperty(ne)&&Ae(i,o,ne,null,d,ht);for(et in d)if(ht=d[et],mt=c[et],d.hasOwnProperty(et)&&ht!==mt&&(ht!=null||mt!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(r(137,o));break;default:Ae(i,o,et,ht,d,mt)}return;default:if(ae(o)){for(var Xe in c)ht=c[Xe],c.hasOwnProperty(Xe)&&ht!==void 0&&!d.hasOwnProperty(Xe)&&py(i,o,Xe,void 0,d,ht);for(xt in d)ht=d[xt],mt=c[xt],!d.hasOwnProperty(xt)||ht===mt||ht===void 0&&mt===void 0||py(i,o,xt,ht,d,mt);return}}for(var ot in c)ht=c[ot],c.hasOwnProperty(ot)&&ht!=null&&!d.hasOwnProperty(ot)&&Ae(i,o,ot,null,d,ht);for(Ct in d)ht=d[Ct],mt=c[Ct],!d.hasOwnProperty(Ct)||ht===mt||ht==null&&mt==null||Ae(i,o,Ct,ht,d,mt)}var gy=null,yy=null;function Mf(i){return i.nodeType===9?i:i.ownerDocument}function fE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dE(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function vy(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var my=null;function DR(){var i=window.event;return i&&i.type==="popstate"?i===my?!1:(my=i,!0):(my=null,!1)}var hE=typeof setTimeout=="function"?setTimeout:void 0,LR=typeof clearTimeout=="function"?clearTimeout:void 0,pE=typeof Promise=="function"?Promise:void 0,PR=typeof queueMicrotask=="function"?queueMicrotask:typeof pE<"u"?function(i){return pE.resolve(null).then(i).catch(BR)}:hE;function BR(i){setTimeout(function(){throw i})}function _y(i,o){var c=o,d=0;do{var y=c.nextSibling;if(i.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(d===0){i.removeChild(y),Ac(o);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=y}while(c);Ac(o)}function xy(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":xy(c),Ri(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function IR(i,o,c,d){for(;i.nodeType===1;){var y=c;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[Yr])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==y.rel||i.getAttribute("href")!==(y.href==null?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=Qr(i.nextSibling),i===null)break}return null}function jR(i,o,c){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=Qr(i.nextSibling),i===null))return null;return i}function Qr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}function gE(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}function yE(i,o,c){switch(o=Mf(c),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var Lr=new Map,vE=new Set;function Af(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Vi=rt.d;rt.d={f:kR,r:zR,D:$R,C:HR,L:UR,m:FR,X:GR,S:XR,M:qR};function kR(){var i=Vi.f(),o=xf();return i||o}function zR(i){var o=ci(i);o!==null&&o.tag===5&&o.type==="form"?X_(o):Vi.r(i)}var Vs=typeof document>"u"?null:document;function mE(i,o,c){var d=Vs;if(d&&typeof o=="string"&&o){var y=Hn(o);y='link[rel="'+i+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),vE.has(y)||(vE.add(y),i={rel:i,crossOrigin:c,href:o},d.querySelector(y)===null&&(o=d.createElement("link"),Cn(o,"link",i),je(o),d.head.appendChild(o)))}}function $R(i){Vi.D(i),mE("dns-prefetch",i,null)}function HR(i,o){Vi.C(i,o),mE("preconnect",i,o)}function UR(i,o,c){Vi.L(i,o,c);var d=Vs;if(d&&i&&o){var y='link[rel="preload"][as="'+Hn(o)+'"]';o==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+Hn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+Hn(c.imageSizes)+'"]')):y+='[href="'+Hn(i)+'"]';var x=y;switch(o){case"style":x=Ys(i);break;case"script":x=Ks(i)}Lr.has(x)||(i=z({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:i,as:o},c),Lr.set(x,i),d.querySelector(y)!==null||o==="style"&&d.querySelector(Ec(x))||o==="script"&&d.querySelector(bc(x))||(o=d.createElement("link"),Cn(o,"link",i),je(o),d.head.appendChild(o)))}}function FR(i,o){Vi.m(i,o);var c=Vs;if(c&&i){var d=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+Hn(d)+'"][href="'+Hn(i)+'"]',x=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Ks(i)}if(!Lr.has(x)&&(i=z({rel:"modulepreload",href:i},o),Lr.set(x,i),c.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(bc(x)))return}d=c.createElement("link"),Cn(d,"link",i),je(d),c.head.appendChild(d)}}}function XR(i,o,c){Vi.S(i,o,c);var d=Vs;if(d&&i){var y=_o(d).hoistableStyles,x=Ys(i);o=o||"default";var D=y.get(x);if(!D){var $={loading:0,preload:null};if(D=d.querySelector(Ec(x)))$.loading=5;else{i=z({rel:"stylesheet",href:i,"data-precedence":o},c),(c=Lr.get(x))&&Ey(i,c);var Y=D=d.createElement("link");je(Y),Cn(Y,"link",i),Y._p=new Promise(function(et,xt){Y.onload=et,Y.onerror=xt}),Y.addEventListener("load",function(){$.loading|=1}),Y.addEventListener("error",function(){$.loading|=2}),$.loading|=4,Of(D,o,d)}D={type:"stylesheet",instance:D,count:1,state:$},y.set(x,D)}}}function GR(i,o){Vi.X(i,o);var c=Vs;if(c&&i){var d=_o(c).hoistableScripts,y=Ks(i),x=d.get(y);x||(x=c.querySelector(bc(y)),x||(i=z({src:i,async:!0},o),(o=Lr.get(y))&&by(i,o),x=c.createElement("script"),je(x),Cn(x,"link",i),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(y,x))}}function qR(i,o){Vi.M(i,o);var c=Vs;if(c&&i){var d=_o(c).hoistableScripts,y=Ks(i),x=d.get(y);x||(x=c.querySelector(bc(y)),x||(i=z({src:i,async:!0,type:"module"},o),(o=Lr.get(y))&&by(i,o),x=c.createElement("script"),je(x),Cn(x,"link",i),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(y,x))}}function _E(i,o,c,d){var y=(y=Tt.current)?Af(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Ys(c.href),c=_o(y).hoistableStyles,d=c.get(o),d||(d={type:"style",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Ys(c.href);var x=_o(y).hoistableStyles,D=x.get(i);if(D||(y=y.ownerDocument||y,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,D),(x=y.querySelector(Ec(i)))&&!x._p&&(D.instance=x,D.state.loading=5),Lr.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Lr.set(i,c),x||VR(y,i,c,D.state))),o&&d===null)throw Error(r(528,""));return D}if(o&&d!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ks(c),c=_o(y).hoistableScripts,d=c.get(o),d||(d={type:"script",instance:null,count:0,state:null},c.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ys(i){return'href="'+Hn(i)+'"'}function Ec(i){return'link[rel="stylesheet"]['+i+"]"}function xE(i){return z({},i,{"data-precedence":i.precedence,precedence:null})}function VR(i,o,c,d){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=i.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),Cn(o,"link",c),je(o),i.head.appendChild(o))}function Ks(i){return'[src="'+Hn(i)+'"]'}function bc(i){return"script[async]"+i}function EE(i,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var d=i.querySelector('style[data-href~="'+Hn(c.href)+'"]');if(d)return o.instance=d,je(d),d;var y=z({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),je(d),Cn(d,"style",y),Of(d,c.precedence,i),o.instance=d;case"stylesheet":y=Ys(c.href);var x=i.querySelector(Ec(y));if(x)return o.state.loading|=4,o.instance=x,je(x),x;d=xE(c),(y=Lr.get(y))&&Ey(d,y),x=(i.ownerDocument||i).createElement("link"),je(x);var D=x;return D._p=new Promise(function($,Y){D.onload=$,D.onerror=Y}),Cn(x,"link",d),o.state.loading|=4,Of(x,c.precedence,i),o.instance=x;case"script":return x=Ks(c.src),(y=i.querySelector(bc(x)))?(o.instance=y,je(y),y):(d=c,(y=Lr.get(x))&&(d=z({},c),by(d,y)),i=i.ownerDocument||i,y=i.createElement("script"),je(y),Cn(y,"link",d),i.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&!(o.state.loading&4)&&(d=o.instance,o.state.loading|=4,Of(d,c.precedence,i));return o.instance}function Of(i,o,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,x=y,D=0;D<d.length;D++){var $=d[D];if($.dataset.precedence===o)x=$;else if(x!==y)break}x?x.parentNode.insertBefore(i,x.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(i,o.firstChild))}function Ey(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function by(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Rf=null;function bE(i,o,c){if(Rf===null){var d=new Map,y=Rf=new Map;y.set(c,d)}else y=Rf,d=y.get(c),d||(d=new Map,y.set(c,d));if(d.has(i))return d;for(d.set(i,null),c=c.getElementsByTagName(i),y=0;y<c.length;y++){var x=c[y];if(!(x[Yr]||x[pn]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var D=x.getAttribute(o)||"";D=i+D;var $=d.get(D);$?$.push(x):d.set(D,[x])}}return d}function wE(i,o,c){i=i.ownerDocument||i,i.head.insertBefore(c,o==="title"?i.querySelector("head > title"):null)}function YR(i,o,c){if(c===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function SE(i){return!(i.type==="stylesheet"&&!(i.state.loading&3))}var wc=null;function KR(){}function ZR(i,o,c){if(wc===null)throw Error(r(475));var d=wc;if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&!(o.state.loading&4)){if(o.instance===null){var y=Ys(c.href),x=i.querySelector(Ec(y));if(x){i=x._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(d.count++,d=Nf.bind(d),i.then(d,d)),o.state.loading|=4,o.instance=x,je(x);return}x=i.ownerDocument||i,c=xE(c),(y=Lr.get(y))&&Ey(c,y),x=x.createElement("link"),je(x);var D=x;D._p=new Promise(function($,Y){D.onload=$,D.onerror=Y}),Cn(x,"link",c),o.instance=x}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(o,i),(i=o.state.preload)&&!(o.state.loading&3)&&(d.count++,o=Nf.bind(d),i.addEventListener("load",o),i.addEventListener("error",o))}}function WR(){if(wc===null)throw Error(r(475));var i=wc;return i.stylesheets&&i.count===0&&wy(i,i.stylesheets),0<i.count?function(o){var c=setTimeout(function(){if(i.stylesheets&&wy(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c)}}:null}function Nf(){if(this.count--,this.count===0){if(this.stylesheets)wy(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Df=null;function wy(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Df=new Map,o.forEach(QR,i),Df=null,Nf.call(i))}function QR(i,o){if(!(o.state.loading&4)){var c=Df.get(i);if(c)var d=c.get(null);else{c=new Map,Df.set(i,c);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var D=y[x];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(c.set(D.dataset.precedence,D),d=D)}d&&c.set(null,d)}y=o.instance,D=y.getAttribute("data-precedence"),x=c.get(D)||d,x===d&&c.set(null,y),c.set(D,y),this.count++,d=Nf.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),x?x.parentNode.insertBefore(y,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),o.state.loading|=4}}var Sc={$$typeof:_,Provider:null,Consumer:null,_currentValue:wt,_currentValue2:wt,_threadCount:0};function JR(i,o,c,d,y,x,D,$){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nu(0),this.hiddenUpdates=Nu(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function TE(i,o,c,d,y,x,D,$,Y,et,xt,Ct){return i=new JR(i,o,c,D,$,Y,et,Ct),o=1,x===!0&&(o|=24),x=Nr(3,null,null,o),i.current=x,x.stateNode=i,o=eg(),o.refCount++,i.pooledCache=o,o.refCount++,x.memoizedState={element:d,isDehydrated:c,cache:o},Bg(x),i}function CE(i){return i?(i=Ms,i):Ms}function ME(i,o,c,d,y,x){y=CE(y),d.context===null?d.context=y:d.pendingContext=y,d=Ro(o),d.payload={element:c},x=x===void 0?null:x,x!==null&&(d.callback=x),c=No(i,d,o),c!==null&&(Fn(c,i,o),sc(c,i,o))}function AE(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function Sy(i,o){AE(i,o),(i=i.alternate)&&AE(i,o)}function OE(i){if(i.tag===13){var o=wo(i,67108864);o!==null&&Fn(o,i,67108864),Sy(i,67108864)}}var Lf=!0;function tN(i,o,c,d){var y=S.T;S.T=null;var x=rt.p;try{rt.p=2,Ty(i,o,c,d)}finally{rt.p=x,S.T=y}}function eN(i,o,c,d){var y=S.T;S.T=null;var x=rt.p;try{rt.p=8,Ty(i,o,c,d)}finally{rt.p=x,S.T=y}}function Ty(i,o,c,d){if(Lf){var y=Cy(d);if(y===null)hy(i,o,d,Pf,c),NE(i,d);else if(rN(y,i,o,c,d))d.stopPropagation();else if(NE(i,d),o&4&&-1<nN.indexOf(i)){for(;y!==null;){var x=ci(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var D=rr(x.pendingLanes);if(D!==0){var $=x;for($.pendingLanes|=2,$.entangledLanes|=2;D;){var Y=1<<31-ie(D);$.entanglements[1]|=Y,D&=~Y}pi(x),!(ze&6)&&(vf=Dt()+500,mc(0))}}break;case 13:$=wo(x,2),$!==null&&Fn($,x,2),xf(),Sy(x,2)}if(x=Cy(d),x===null&&hy(i,o,d,Pf,c),x===y)break;y=x}y!==null&&d.stopPropagation()}else hy(i,o,d,null,c)}}function Cy(i){return i=Dp(i),My(i)}var Pf=null;function My(i){if(Pf=null,i=Er(i),i!==null){var o=Nt(i);if(o===null)i=null;else{var c=o.tag;if(c===13){if(i=zt(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Pf=i,null}function RE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jt()){case Kn:return 2;case k:return 8;case O:case N:return 32;case V:return 268435456;default:return 32}default:return 32}}var Ay=!1,ko=null,zo=null,$o=null,Tc=new Map,Cc=new Map,Ho=[],nN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function NE(i,o){switch(i){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":zo=null;break;case"mouseover":case"mouseout":$o=null;break;case"pointerover":case"pointerout":Tc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cc.delete(o.pointerId)}}function Mc(i,o,c,d,y,x){return i===null||i.nativeEvent!==x?(i={blockedOn:o,domEventName:c,eventSystemFlags:d,nativeEvent:x,targetContainers:[y]},o!==null&&(o=ci(o),o!==null&&OE(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function rN(i,o,c,d,y){switch(o){case"focusin":return ko=Mc(ko,i,o,c,d,y),!0;case"dragenter":return zo=Mc(zo,i,o,c,d,y),!0;case"mouseover":return $o=Mc($o,i,o,c,d,y),!0;case"pointerover":var x=y.pointerId;return Tc.set(x,Mc(Tc.get(x)||null,i,o,c,d,y)),!0;case"gotpointercapture":return x=y.pointerId,Cc.set(x,Mc(Cc.get(x)||null,i,o,c,d,y)),!0}return!1}function DE(i){var o=Er(i.target);if(o!==null){var c=Nt(o);if(c!==null){if(o=c.tag,o===13){if(o=zt(c),o!==null){i.blockedOn=o,Rp(i.priority,function(){if(c.tag===13){var d=cr(),y=wo(c,d);y!==null&&Fn(y,c,d),Sy(c,d)}});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Bf(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=Cy(i.nativeEvent);if(c===null){c=i.nativeEvent;var d=new c.constructor(c.type,c);Wn=d,c.target.dispatchEvent(d),Wn=null}else return o=ci(c),o!==null&&OE(o),i.blockedOn=c,!1;o.shift()}return!0}function LE(i,o,c){Bf(i)&&c.delete(o)}function iN(){Ay=!1,ko!==null&&Bf(ko)&&(ko=null),zo!==null&&Bf(zo)&&(zo=null),$o!==null&&Bf($o)&&($o=null),Tc.forEach(LE),Cc.forEach(LE)}function If(i,o){i.blockedOn===o&&(i.blockedOn=null,Ay||(Ay=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,iN)))}var jf=null;function PE(i){jf!==i&&(jf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jf===i&&(jf=null);for(var o=0;o<i.length;o+=3){var c=i[o],d=i[o+1],y=i[o+2];if(typeof d!="function"){if(My(d||c)===null)continue;break}var x=ci(c);x!==null&&(i.splice(o,3),o-=3,vg(x,{pending:!0,data:y,method:c.method,action:d},d,y))}}))}function Ac(i){function o(Y){return If(Y,i)}ko!==null&&If(ko,i),zo!==null&&If(zo,i),$o!==null&&If($o,i),Tc.forEach(o),Cc.forEach(o);for(var c=0;c<Ho.length;c++){var d=Ho[c];d.blockedOn===i&&(d.blockedOn=null)}for(;0<Ho.length&&(c=Ho[0],c.blockedOn===null);)DE(c),c.blockedOn===null&&Ho.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var y=c[d],x=c[d+1],D=y[wn]||null;if(typeof x=="function")D||PE(c);else if(D){var $=null;if(x&&x.hasAttribute("formAction")){if(y=x,D=x[wn]||null)$=D.formAction;else if(My(y)!==null)continue}else $=D.action;typeof $=="function"?c[d+1]=$:(c.splice(d,3),d-=3),PE(c)}}}function Oy(i){this._internalRoot=i}kf.prototype.render=Oy.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,d=cr();ME(c,d,i,o,null,null)},kf.prototype.unmount=Oy.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;i.tag===0&&Xs(),ME(i.current,2,null,i,null,null),xf(),o[Oi]=null}};function kf(i){this._internalRoot=i}kf.prototype.unstable_scheduleHydration=function(i){if(i){var o=ms();i={blockedOn:null,target:i,priority:o};for(var c=0;c<Ho.length&&o!==0&&o<Ho[c].priority;c++);Ho.splice(c,0,i),c===0&&DE(i)}};var BE=e.version;if(BE!=="19.0.0")throw Error(r(527,BE,"19.0.0"));rt.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=X(o),i=i!==null?Q(i):null,i=i===null?null:i.stateNode,i};var oN={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Er,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zf.isDisabled&&zf.supportsFiber)try{_t=zf.inject(oN),Ft=zf}catch{}}return Rc.createRoot=function(i,o){if(!a(i))throw Error(r(299));var c=!1,d="",y=Q_,x=J_,D=tx,$=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(D=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&($=o.unstable_transitionCallbacks)),o=TE(i,1,!1,null,null,c,d,y,x,D,$,null),i[Oi]=o.current,dy(i.nodeType===8?i.parentNode:i),new Oy(o)},Rc.hydrateRoot=function(i,o,c){if(!a(i))throw Error(r(299));var d=!1,y="",x=Q_,D=J_,$=tx,Y=null,et=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(D=c.onCaughtError),c.onRecoverableError!==void 0&&($=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(Y=c.unstable_transitionCallbacks),c.formState!==void 0&&(et=c.formState)),o=TE(i,1,!0,o,c??null,d,y,x,D,$,Y,et),o.context=CE(null),c=o.current,d=cr(),y=Ro(d),y.callback=null,No(c,y,d),o.current.lanes=d,xa(o,d),pi(o),i[Oi]=o.current,dy(i),new kf(o)},Rc.version="19.0.0",Rc}var GE;function yN(){if(GE)return Dy.exports;GE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dy.exports=gN(),Dy.exports}var vN=yN();function we(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}function mN(t,e){return e={exports:{}},t(e,e.exports),e.exports}var _N=mN(function(t){var e=t.exports=function(n,r){if(r||(r=16),n===void 0&&(n=128),n<=0)return"0";for(var a=Math.log(Math.pow(2,n))/Math.log(r),s=2;a===1/0;s*=2)a=Math.log(Math.pow(2,n/s))/Math.log(r)*s;for(var u=a-Math.floor(a),l="",s=0;s<Math.floor(a);s++){var f=Math.floor(Math.random()*r).toString(r);l=f+l}if(u){var h=Math.pow(r,u),f=Math.floor(Math.random()*h).toString(r);l=f+l}var p=parseInt(l,r);return p!==1/0&&p>=Math.pow(2,n)?e(n,r):l};e.rack=function(n,r,a){var s=function(l){var f=0;do{if(f++>10)if(a)n+=a;else throw new Error("too many ID collisions, use more bits");var h=e(n,r)}while(Object.hasOwnProperty.call(u,h));return u[h]=l,h},u=s.hats={};return s.get=function(l){return s.hats[l]},s.set=function(l,f){return s.hats[l]=f,s},s.bits=n||128,s.base=r||16,s}});function wi(t){if(!(this instanceof wi))return new wi(t);t=t||[128,36,1],this._seed=t.length?_N.rack(t[0],t[1],t[2]):t}wi.prototype.next=function(t){return this._seed(t||!0)};wi.prototype.nextPrefixed=function(t,e){var n;do n=t+this.next(!0);while(this.assigned(n));return this.claim(n,e),n};wi.prototype.claim=function(t,e){this._seed.set(t,e||!0)};wi.prototype.assigned=function(t){return this._seed.get(t)||!1};wi.prototype.unclaim=function(t){delete this._seed.hats[t]};wi.prototype.clear=function(){var t=this._seed.hats,e;for(e in t)this.unclaim(e)};function jv(t){return Array.prototype.concat.apply([],t)}const il=Object.prototype.toString,xN=Object.prototype.hasOwnProperty;function ns(t){return t===void 0}function _n(t){return t!==void 0}function fh(t){return t==null}function re(t){return il.call(t)==="[object Array]"}function An(t){return il.call(t)==="[object Object]"}function Vt(t){return il.call(t)==="[object Number]"}function En(t){const e=il.call(t);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"||e==="[object Proxy]"}function jr(t){return il.call(t)==="[object String]"}function EN(t){if(!re(t))throw new Error("must supply array")}function ol(t,e){return!fh(t)&&xN.call(t,e)}function Ie(t,e){const n=$h(e);let r;return nt(t,function(a,s){if(n(a,s))return r=a,!1}),r}function YT(t,e){const n=$h(e);let r=re(t)?-1:void 0;return nt(t,function(a,s){if(n(a,s))return r=s,!1}),r}function an(t,e){const n=$h(e);let r=[];return nt(t,function(a,s){n(a,s)&&r.push(a)}),r}function nt(t,e){let n,r;if(ns(t))return;const a=re(t)?CN:TN;for(let s in t)if(ol(t,s)&&(n=t[s],r=e(n,a(s)),r===!1))return n}function bN(t,e){if(ns(t))return[];EN(t);const n=$h(e);return t.filter(function(r,a){return!n(r,a)})}function kr(t,e,n){return nt(t,function(r,a){n=e(n,r,a)}),n}function al(t,e){return!!kr(t,function(n,r,a){return n&&e(r,a)},!0)}function zh(t,e){return!!Ie(t,e)}function Mn(t,e){let n=[];return nt(t,function(r,a){n.push(e(r,a))}),n}function kv(t){return t&&Object.keys(t)||[]}function wN(t){return kv(t).length}function KT(t){return Mn(t,e=>e)}function sl(t,e,n={}){return e=wm(e),nt(t,function(r){let a=e(r)||"_",s=n[a];s||(s=n[a]=[]),s.push(r)}),n}function ZT(t,...e){t=wm(t);let n={};return nt(e,a=>sl(a,t,n)),Mn(n,function(a,s){return a[0]})}const SN=ZT;function to(t,e){e=wm(e);let n=[];return nt(t,function(r,a){let s=e(r,a),u={d:s,v:r};for(var l=0;l<n.length;l++){let{d:f}=n[l];if(s<f){n.splice(l,0,u);return}}n.push(u)}),Mn(n,r=>r.v)}function Zo(t){return function(e){return al(t,function(n,r){return e[r]===n})}}function wm(t){return En(t)?t:e=>e[t]}function $h(t){return En(t)?t:e=>e===t}function TN(t){return t}function CN(t){return Number(t)}function WT(t,e){let n,r,a,s;function u(g){let m=Date.now(),_=g?0:s+e-m;if(_>0)return l(_);t.apply(a,r),f()}function l(g){n=setTimeout(u,g)}function f(){n&&clearTimeout(n),n=s=r=a=void 0}function h(){n&&u(!0),f()}function p(...g){s=Date.now(),r=g,a=this,n||l(e)}return p.flush=h,p.cancel=f,p}function Gn(t,e){return t.bind(e)}function ct(t,...e){return Object.assign(t,...e)}function MN(t,e,n){let r=t;return nt(e,function(a,s){if(typeof a!="number"&&typeof a!="string")throw new Error("illegal key type: "+typeof a+". Key should be of type number or string.");if(a==="constructor")throw new Error("illegal key: constructor");if(a==="__proto__")throw new Error("illegal key: __proto__");let u=e[s+1],l=r[a];_n(u)&&fh(l)&&(l=r[a]=isNaN(+u)?{}:[]),ns(u)?ns(n)?delete r[a]:r[a]=n:r=l}),t}function eo(t,e){let n={},r=Object(t);return nt(e,function(a){a in r&&(n[a]=t[a])}),n}function ro(t,e){let n={},r=Object(t);return nt(r,function(a,s){e.indexOf(s)===-1&&(n[s]=a)}),n}function AN(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var a=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}const ON=Object.prototype.toString,RN=Object.prototype.hasOwnProperty;function NN(t){return t===void 0}function DN(t){return ON.call(t)==="[object Array]"}function LN(t,e){return RN.call(t,e)}function qE(t,e){let n,r;if(NN(t))return;const a=DN(t)?BN:PN;for(let s in t)if(LN(t,s)&&(n=t[s],r=e(n,a(s)),r===!1))return n}function PN(t){return t}function BN(t){return Number(t)}function io(t,...e){const n=t.style;return qE(e,function(r){r&&qE(r,function(a,s){n[s]=a})}),t}function hr(t,e,n){return arguments.length==2?t.getAttribute(e):n===null?t.removeAttribute(e):(t.setAttribute(e,n),t)}const IN=Object.prototype.toString;function yr(t){return new na(t)}function na(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}na.prototype.add=function(t){return this.list.add(t),this};na.prototype.remove=function(t){return IN.call(t)=="[object RegExp]"?this.removeMatching(t):(this.list.remove(t),this)};na.prototype.removeMatching=function(t){const e=this.array();for(let n=0;n<e.length;n++)t.test(e[n])&&this.remove(e[n]);return this};na.prototype.toggle=function(t,e){return typeof e<"u"?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this};na.prototype.array=function(){return Array.from(this.list)};na.prototype.has=na.prototype.contains=function(t){return this.list.contains(t)};function Sm(t){for(var e;e=t.firstChild;)t.removeChild(e);return t}function oo(t,e,n){var r=n?t:t.parentNode;return r&&typeof r.closest=="function"&&r.closest(e)||null}var dh={},hh,zv,Tm;function QT(){hh=window.addEventListener?"addEventListener":"attachEvent",zv=window.removeEventListener?"removeEventListener":"detachEvent",Tm=hh!=="addEventListener"?"on":""}var jN=dh.bind=function(t,e,n,r){return hh||QT(),t[hh](Tm+e,n,r||!1),n},kN=dh.unbind=function(t,e,n,r){return zv||QT(),t[zv](Tm+e,n,r||!1),n},qt=AN({__proto__:null,bind:jN,unbind:kN,default:dh},[dh]),JT=["focus","blur"];function zN(t,e,n,r,a){return JT.indexOf(n)!==-1&&(a=!0),qt.bind(t,n,function(s){var u=s.target||s.srcElement;s.delegateTarget=oo(u,e,!0),s.delegateTarget&&r.call(t,s)},a)}function $N(t,e,n,r){return JT.indexOf(e)!==-1&&(r=!0),qt.unbind(t,e,n,r)}var ti={bind:zN,unbind:$N},HN=UN,t2=!1,$f;typeof document<"u"&&($f=document.createElement("div"),$f.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',t2=!$f.getElementsByTagName("link").length,$f=void 0);var Ke={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:t2?[1,"X<div>","</div>"]:[0,"",""]};Ke.td=Ke.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];Ke.option=Ke.optgroup=[1,'<select multiple="multiple">',"</select>"];Ke.thead=Ke.tbody=Ke.colgroup=Ke.caption=Ke.tfoot=[1,"<table>","</table>"];Ke.polyline=Ke.ellipse=Ke.polygon=Ke.circle=Ke.text=Ke.line=Ke.path=Ke.rect=Ke.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];function UN(t,e){if(typeof t!="string")throw new TypeError("String expected");e||(e=document);var n=/<([\w:]+)/.exec(t);if(!n)return e.createTextNode(t);t=t.replace(/^\s+|\s+$/g,"");var r=n[1];if(r=="body"){var f=e.createElement("html");return f.innerHTML=t,f.removeChild(f.lastChild)}var a=Object.prototype.hasOwnProperty.call(Ke,r)?Ke[r]:Ke._default,s=a[0],u=a[1],l=a[2],f=e.createElement("div");for(f.innerHTML=u+t+l;s--;)f=f.lastChild;if(f.firstChild==f.lastChild)return f.removeChild(f.firstChild);for(var h=e.createDocumentFragment();f.firstChild;)h.appendChild(f.removeChild(f.firstChild));return h}var fn=HN;function Cm(t,e){return t&&typeof t.matches=="function"&&t.matches(e)||!1}function on(t,e){return e=e||document,e.querySelector(t)}function $v(t,e){return e=e||document,e.querySelectorAll(t)}function Si(t){t.parentNode&&t.parentNode.removeChild(t)}function FN(t,e){if(t.ownerDocument!==e.ownerDocument)try{return e.ownerDocument.importNode(t,!0)}catch{}return t}function XN(t,e){return e.appendChild(FN(t,e))}function Zt(t,e){return XN(e,t),t}var Hv=2,e2={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":Hv,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":Hv,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function GN(t,e){return e2[e]?t.style[e]:t.getAttributeNS(null,e)}function n2(t,e,n){var r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=e2[r];a?(a===Hv&&typeof n=="number"&&(n=String(n)+"px"),t.style[r]=n):t.setAttributeNS(null,e,n)}function qN(t,e){var n=Object.keys(e),r,a;for(r=0,a;a=n[r];r++)n2(t,a,e[a])}function yt(t,e,n){if(typeof e=="string")if(n!==void 0)n2(t,e,n);else return GN(t,e);else qN(t,e);return t}const VN=Object.prototype.toString;function le(t){return new ra(t)}function ra(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}ra.prototype.add=function(t){return this.list.add(t),this};ra.prototype.remove=function(t){return VN.call(t)=="[object RegExp]"?this.removeMatching(t):(this.list.remove(t),this)};ra.prototype.removeMatching=function(t){const e=this.array();for(let n=0;n<e.length;n++)t.test(e[n])&&this.remove(e[n]);return this};ra.prototype.toggle=function(t,e){return typeof e<"u"?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this};ra.prototype.array=function(){return Array.from(this.list)};ra.prototype.has=ra.prototype.contains=function(t){return this.list.contains(t)};function Mm(t){for(var e;e=t.firstChild;)t.removeChild(e);return t}function r2(t){return t.cloneNode(!0)}var Am={svg:"http://www.w3.org/2000/svg"},VE='<svg xmlns="'+Am.svg+'"';function YN(t){var e=!1;t.substring(0,4)==="<svg"?t.indexOf(Am.svg)===-1&&(t=VE+t.substring(4)):(t=VE+">"+t+"</svg>",e=!0);var n=KN(t);if(!e)return n;for(var r=document.createDocumentFragment(),a=n.firstChild;a.firstChild;)r.appendChild(a.firstChild);return r}function KN(t){var e;return e=new DOMParser,e.async=!1,e.parseFromString(t,"text/xml")}function Rt(t,e){var n;return t=t.trim(),t.charAt(0)==="<"?(n=YN(t).firstChild,n=document.importNode(n,!0)):n=document.createElementNS(Am.svg,t),e&&yt(n,e),n}var Iy=null;function i2(){return Iy===null&&(Iy=Rt("svg")),Iy}function YE(t,e){var n,r,a=Object.keys(e);for(n=0;r=a[n];n++)t[r]=e[r];return t}function ZN(t,e,n,r,a,s){var u=i2().createSVGMatrix();switch(arguments.length){case 0:return u;case 1:return YE(u,t);case 6:return YE(u,{a:t,b:e,c:n,d:r,e:a,f:s})}}function Fc(t){return i2().createSVGTransform()}var KE=/([&<>]{1})/g,WN=/([&<>\n\r"]{1})/g,QN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function jy(t,e){function n(r,a){return QN[a]||a}return t.replace(e,n)}function o2(t,e){var n,r,a,s,u;switch(t.nodeType){case 3:e.push(jy(t.textContent,KE));break;case 1:if(e.push("<",t.tagName),t.hasAttributes())for(a=t.attributes,n=0,r=a.length;n<r;++n)s=a.item(n),e.push(" ",s.name,'="',jy(s.value,WN),'"');if(t.hasChildNodes()){for(e.push(">"),u=t.childNodes,n=0,r=u.length;n<r;++n)o2(u.item(n),e);e.push("</",t.tagName,">")}else e.push("/>");break;case 8:e.push("<!--",jy(t.nodeValue,KE),"-->");break;case 4:e.push("<![CDATA[",t.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+t.nodeType)}return e}function JN(t){for(var e=t.firstChild,n=[];e;)o2(e,n),e=e.nextSibling;return n.join("")}function ZE(t,e){return JN(t)}function We(t){var e=t.parentNode;return e&&e.removeChild(t),t}function tD(t,e){return e instanceof SVGMatrix?t.createSVGTransformFromMatrix(e):e}function eD(t,e){var n,r;for(t.clear(),n=0;r=e[n];n++)t.appendItem(tD(t,r))}function Zc(t,e){var n=t.transform.baseVal;return e&&(Array.isArray(e)||(e=[e]),eD(n,e)),n.consolidate()}const nD=/^class[ {]/;function rD(t){return nD.test(t.toString())}function Om(t){return Array.isArray(t)}function ky(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function yd(...t){t.length===1&&Om(t[0])&&(t=t[0]),t=[...t];const e=t.pop();return e.$inject=t,e}const iD=/constructor\s*[^(]*\(\s*([^)]*)\)/m,oD=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,aD=/\/\*([^*]*)\*\//m;function sD(t){if(typeof t!="function")throw new Error(`Cannot annotate "${t}". Expected a function!`);const e=t.toString().match(rD(t)?iD:oD);if(!e)return[];const n=e[1]||e[2];return n&&n.split(",").map(r=>{const a=r.match(aD);return(a&&a[1]||r).trim()})||[]}function a2(t,e){e=e||{get:function(E,v){if(n.push(E),v===!1)return null;throw u(`No provider for "${E}"!`)}};const n=[],r=this._providers=Object.create(e._providers||null),a=this._instances=Object.create(null),s=a.injector=this,u=function(E){const v=n.join(" -> ");return n.length=0,new Error(v?`${E} (Resolving: ${v})`:E)};function l(E,v){if(!r[E]&&E.indexOf(".")!==-1){const w=E.split(".");let M=l(w.shift());for(;w.length;)M=M[w.shift()];return M}if(ky(a,E))return a[E];if(ky(r,E)){if(n.indexOf(E)!==-1)throw n.push(E),u("Cannot resolve circular dependency!");return n.push(E),a[E]=r[E][0](r[E][1]),n.pop(),a[E]}return e.get(E,v)}function f(E,v){if(typeof v>"u"&&(v={}),typeof E!="function")if(Om(E))E=yd(E.slice());else throw u(`Cannot invoke "${E}". Expected a function!`);const M=(E.$inject||sD(E)).map(C=>ky(v,C)?v[C]:l(C));return{fn:E,dependencies:M}}function h(E){const{fn:v,dependencies:w}=f(E),M=Function.prototype.bind.apply(v,[null].concat(w));return new M}function p(E,v,w){const{fn:M,dependencies:C}=f(E,w);return M.apply(v,C)}function g(E){return yd(v=>E.get(v))}function m(E,v){if(v&&v.length){const w=Object.create(null),M=Object.create(null),C=[],P=[],B=[];let S,z,F,G;for(let q in r)S=r[q],v.indexOf(q)!==-1&&(S[2]==="private"?(z=C.indexOf(S[3]),z===-1?(F=S[3].createChild([],v),G=g(F),C.push(S[3]),P.push(F),B.push(G),w[q]=[G,q,"private",F]):w[q]=[B[z],q,"private",P[z]]):w[q]=[S[2],S[1]],M[q]=!0),(S[2]==="factory"||S[2]==="type")&&S[1].$scope&&v.forEach(dt=>{S[1].$scope.indexOf(dt)!==-1&&(w[q]=[S[2],S[1]],M[dt]=!0)});v.forEach(q=>{if(!M[q])throw new Error('No provider for "'+q+'". Cannot use provider from the parent!')}),E.unshift(w)}return new a2(E,s)}const _={factory:p,type:h,value:function(E){return E}};function b(E,v){const w=E.__init__||[];return function(){w.forEach(M=>{typeof M=="string"?v.get(M):v.invoke(M)})}}function A(E){const v=E.__exports__;if(v){const w=E.__modules__,M=Object.keys(E).reduce((z,F)=>(F!=="__exports__"&&F!=="__modules__"&&F!=="__init__"&&F!=="__depends__"&&(z[F]=E[F]),z),Object.create(null)),C=(w||[]).concat(M),P=m(C),B=yd(function(z){return P.get(z)});v.forEach(function(z){r[z]=[B,z,"private",P]});const S=(E.__init__||[]).slice();return S.unshift(function(){P.init()}),E=Object.assign({},E,{__init__:S}),b(E,P)}return Object.keys(E).forEach(function(w){if(w==="__init__"||w==="__depends__")return;if(E[w][2]==="private"){r[w]=E[w];return}const M=E[w][0],C=E[w][1];r[w]=[_[M],uD(M,C),M]}),b(E,s)}function R(E,v){return E.indexOf(v)!==-1||(E=(v.__depends__||[]).reduce(R,E),E.indexOf(v)!==-1)?E:E.concat(v)}function T(E){const v=E.reduce(R,[]).map(A);let w=!1;return function(){w||(w=!0,v.forEach(M=>M()))}}this.get=l,this.invoke=p,this.instantiate=h,this.createChild=m,this.init=T(t)}function uD(t,e){return t!=="value"&&Om(e)&&(e=yd(e.slice())),e}var cD=1e3;function ao(t,e){var n=this;e=e||cD,t.on(["render.shape","render.connection"],e,function(r,a){var s=r.type,u=a.element,l=a.gfx,f=a.attrs;if(n.canRender(u))return s==="render.shape"?n.drawShape(l,u,f):n.drawConnection(l,u,f)}),t.on(["render.getShapePath","render.getConnectionPath"],e,function(r,a){if(n.canRender(a))return r.type==="render.getShapePath"?n.getShapePath(a):n.getConnectionPath(a)})}ao.prototype.canRender=function(t){};ao.prototype.drawShape=function(t,e){};ao.prototype.drawConnection=function(t,e){};ao.prototype.getShapePath=function(t){};ao.prototype.getConnectionPath=function(t){};function Hh(t){return t.flat().join(",").replace(/,?([A-z]),?/g,"$1")}function lD(t){return["M",t.x,t.y]}function zy(t){return["L",t.x,t.y]}function fD(t,e,n){return["C",t.x,t.y,e.x,e.y,n.x,n.y]}function dD(t,e){const n=t.length,r=[lD(t[0])];for(let a=1;a<n;a++){const s=t[a-1],u=t[a],l=t[a+1];if(!l||!e){r.push(zy(u));continue}const f=Math.min(e,Uv(u.x-s.x,u.y-s.y),Uv(l.x-u.x,l.y-u.y));if(!f){r.push(zy(u));continue}const h=Hf(u,s,f),p=Hf(u,s,f*.5),g=Hf(u,l,f),m=Hf(u,l,f*.5);r.push(zy(h)),r.push(fD(p,m,g))}return r}function Hf(t,e,n){const r=e.x-t.x,a=e.y-t.y,s=Uv(r,a),u=n/s;return{x:t.x+r*u,y:t.y+a*u}}function Uv(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))}function Uh(t,e,n){Vt(e)&&(n=e,e=null),e||(e={});const r=Rt("path",e);return Vt(n)&&(r.dataset.cornerRadius=String(n)),s2(r,t)}function s2(t,e){const n=parseInt(t.dataset.cornerRadius,10)||0;return yt(t,{d:Hh(dD(e,n))}),t}function u2(t){return an(t,function(e){return!Ie(t,function(n){return n!==e&&c2(e,n)})})}function c2(t,e){if(e){if(t===e)return e;if(t.parent)return c2(t.parent,e)}}function WE(t,e,n){var r=!n||t.indexOf(e)===-1;return r&&t.push(e),r}function Fh(t,e,n){n=n||0,re(t)||(t=[t]),nt(t,function(r,a){var s=e(r,a,n);re(s)&&s.length&&Fh(s,e,n+1)})}function hD(t,e,n){var r=[],a=[];return Fh(t,function(s,u,l){WE(r,s,e);var f=s.children;if(f&&WE(a,f,e))return f}),r}function Rm(t,e){return hD(t,!e)}function pD(t,e,n){ns(e)&&(e=!0),An(e)&&(n=e,e=!0),n=n||{};var r=Nc(n.allShapes),a=Nc(n.allConnections),s=Nc(n.enclosedElements),u=Nc(n.enclosedConnections),l=Nc(n.topLevel,e&&sl(t,function(p){return p.id}));function f(p){l[p.source.id]&&l[p.target.id]&&(l[p.id]=[p]),r[p.source.id]&&r[p.target.id]&&(u[p.id]=s[p.id]=p),a[p.id]=p}function h(p){if(s[p.id]=p,p.waypoints)u[p.id]=a[p.id]=p;else return r[p.id]=p,nt(p.incoming,f),nt(p.outgoing,f),p.children}return Fh(t,h),{allShapes:r,allConnections:a,topLevel:l,enclosedConnections:u,enclosedElements:s}}function xn(t,e){e=!!e,re(t)||(t=[t]);var n,r,a,s;return nt(t,function(u){var l=u;u.waypoints&&!e&&(l=xn(u.waypoints,!0));var f=l.x,h=l.y,p=l.height||0,g=l.width||0;(f<n||n===void 0)&&(n=f),(h<r||r===void 0)&&(r=h),(f+g>a||a===void 0)&&(a=f+g),(h+p>s||s===void 0)&&(s=h+p)}),{x:n,y:r,height:s-r,width:a-n}}function gD(t,e){var n={};return nt(t,function(r){var a=r;a.waypoints&&(a=xn(a)),!Vt(e.y)&&a.x>e.x&&(n[r.id]=r),!Vt(e.x)&&a.y>e.y&&(n[r.id]=r),a.x>e.x&&a.y>e.y&&(Vt(e.width)&&Vt(e.height)&&a.width+a.x<e.width+e.x&&a.height+a.y<e.height+e.y||!Vt(e.width)||!Vt(e.height))&&(n[r.id]=r)}),n}function l2(t){return"waypoints"in t?"connection":"x"in t?"shape":"root"}function f2(t){return!!(t&&t.isFrame)}function Nc(t,e){return ct({},t||{},e||{})}var yD=1;function sa(t,e){ao.call(this,t,yD),this.CONNECTION_STYLE=e.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=e.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=e.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}we(sa,ao);sa.prototype.canRender=function(){return!0};sa.prototype.drawShape=function(e,n,r){var a=Rt("rect");return yt(a,{x:0,y:0,width:n.width||0,height:n.height||0}),f2(n)?yt(a,ct({},this.FRAME_STYLE,r||{})):yt(a,ct({},this.SHAPE_STYLE,r||{})),Zt(e,a),a};sa.prototype.drawConnection=function(e,n,r){var a=Uh(n.waypoints,ct({},this.CONNECTION_STYLE,r||{}));return Zt(e,a),a};sa.prototype.getShapePath=function(e){var n=e.x,r=e.y,a=e.width,s=e.height,u=[["M",n,r],["l",a,0],["l",0,s],["l",-a,0],["z"]];return Hh(u)};sa.prototype.getConnectionPath=function(e){var n=e.waypoints,r,a,s=[];for(r=0;a=n[r];r++)a=a.original||a,s.push([r===0?"M":"L",a.x,a.y]);return Hh(s)};sa.$inject=["eventBus","styles"];function vD(){var t={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},e=this;this.cls=function(n,r,a){var s=this.style(r,a);return ct(s,{class:n})},this.style=function(n,r){!re(n)&&!r&&(r=n,n=[]);var a=kr(n,function(s,u){return ct(s,t[u]||{})},{});return r?ct(a,r):a},this.computeStyle=function(n,r,a){return re(r)||(a=r,r=[]),e.style(r||[],ct({},a,n||{}))}}const mD={__init__:["defaultRenderer"],defaultRenderer:["type",sa],styles:["type",vD]};function ni(t,e){if(!t||!e)return-1;var n=t.indexOf(e);return n!==-1&&t.splice(n,1),n}function ri(t,e,n){if(!(!t||!e)){typeof n!="number"&&(n=-1);var r=t.indexOf(e);if(r!==-1){if(r===n)return;if(n!==-1)t.splice(r,1);else return}n!==-1?t.splice(n,0,e):t.push(e)}}function Nm(t,e){return!t||!e?-1:t.indexOf(e)}function ul(t,e){return!t||!e?-1:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Dm(t,e,n,r){if(typeof r>"u"&&(r=5),!t||!e||!n)return!1;var a=(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x),s=ul(t,e);return Math.abs(a/s)<=r}var _D=2;function Wi(t,e){var n=Array.from(arguments).flat();const r={x:"v",y:"h"};for(const[a,s]of Object.entries(r))if(xD(a,n))return s;return!1}function xD(t,e){const n=e[0];return al(e,function(r){return Math.abs(n[t]-r[t])<=_D})}function QE(t,e,n){return n=n||0,t.x>e.x-n&&t.y>e.y-n&&t.x<e.x+e.width+n&&t.y<e.y+e.height+n}function Fv(t,e){return{x:Math.round(t.x+(e.x-t.x)/2),y:Math.round(t.y+(e.y-t.y)/2)}}var $y,JE;function ED(){if(JE)return $y;JE=1;var t=/,?([a-z]),?/gi,e=parseFloat,n=Math,r=n.PI,a=n.min,s=n.max,u=n.pow,l=n.abs,f=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/ig,h=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/ig,p=Array.isArray||function(X){return X instanceof Array};function g(X,Q){return Object.prototype.hasOwnProperty.call(X,Q)}function m(X){if(typeof X=="function"||Object(X)!==X)return X;var Q=new X.constructor;for(var at in X)g(X,at)&&(Q[at]=m(X[at]));return Q}function _(X,Q){for(var at=0,rt=X.length;at<rt;at++)if(X[at]===Q)return X.push(X.splice(at,1)[0])}function b(X){function Q(){var at=Array.prototype.slice.call(arguments,0),rt=at.join("␀"),wt=Q.cache=Q.cache||{},Et=Q.count=Q.count||[];return g(wt,rt)?(_(Et,rt),wt[rt]):(Et.length>=1e3&&delete wt[Et.shift()],Et.push(rt),wt[rt]=X.apply(0,at),wt[rt])}return Q}function A(X){if(!X)return null;var Q=R(X);if(Q.arr)return m(Q.arr);var at={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},rt=[];return p(X)&&p(X[0])&&(rt=m(X)),rt.length||String(X).replace(f,function(wt,Et,I){var L=[],Z=Et.toLowerCase();for(I.replace(h,function(H,bt){bt&&L.push(+bt)}),Z=="m"&&L.length>2&&(rt.push([Et].concat(L.splice(0,2))),Z="l",Et=Et=="m"?"l":"L");L.length>=at[Z]&&(rt.push([Et].concat(L.splice(0,at[Z]))),!!at[Z]););}),rt.toString=R.toString,Q.arr=m(rt),rt}function R(X){var Q=R.ps=R.ps||{};return Q[X]?Q[X].sleep=100:Q[X]={sleep:100},setTimeout(function(){for(var at in Q)g(Q,at)&&at!=X&&(Q[at].sleep--,!Q[at].sleep&&delete Q[at])}),Q[X]}function T(X,Q,at,rt){return arguments.length===1&&(Q=X.y,at=X.width,rt=X.height,X=X.x),{x:X,y:Q,width:at,height:rt,x2:X+at,y2:Q+rt}}function E(){return this.join(",").replace(t,"$1")}function v(X){var Q=m(X);return Q.toString=E,Q}function w(X,Q,at,rt,wt,Et,I,L,Z){var H=1-Z,bt=u(H,3),Ot=u(H,2),Tt=Z*Z,lt=Tt*Z,vt=bt*X+Ot*3*Z*at+H*3*Z*Z*wt+lt*I,Bt=bt*Q+Ot*3*Z*rt+H*3*Z*Z*Et+lt*L;return{x:F(vt),y:F(Bt)}}function M(X){var Q=zt.apply(null,X);return T(Q.x0,Q.y0,Q.x1-Q.x0,Q.y1-Q.y0)}function C(X,Q,at){return Q>=X.x&&Q<=X.x+X.width&&at>=X.y&&at<=X.y+X.height}function P(X,Q){return X=T(X),Q=T(Q),C(Q,X.x,X.y)||C(Q,X.x2,X.y)||C(Q,X.x,X.y2)||C(Q,X.x2,X.y2)||C(X,Q.x,Q.y)||C(X,Q.x2,Q.y)||C(X,Q.x,Q.y2)||C(X,Q.x2,Q.y2)||(X.x<Q.x2&&X.x>Q.x||Q.x<X.x2&&Q.x>X.x)&&(X.y<Q.y2&&X.y>Q.y||Q.y<X.y2&&Q.y>X.y)}function B(X,Q,at,rt,wt){var Et=-3*Q+9*at-9*rt+3*wt,I=X*Et+6*Q-12*at+6*rt;return X*I-3*Q+3*at}function S(X,Q,at,rt,wt,Et,I,L,Z){Z==null&&(Z=1),Z=Z>1?1:Z<0?0:Z;for(var H=Z/2,bt=12,Ot=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Tt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],lt=0,vt=0;vt<bt;vt++){var Bt=H*Ot[vt]+H,Lt=B(Bt,X,at,wt,I),Pt=B(Bt,Q,rt,Et,L),ee=Lt*Lt+Pt*Pt;lt+=Tt[vt]*n.sqrt(ee)}return H*lt}function z(X,Q,at,rt,wt,Et,I,L){if(!(s(X,at)<a(wt,I)||a(X,at)>s(wt,I)||s(Q,rt)<a(Et,L)||a(Q,rt)>s(Et,L))){var Z=(X*rt-Q*at)*(wt-I)-(X-at)*(wt*L-Et*I),H=(X*rt-Q*at)*(Et-L)-(Q-rt)*(wt*L-Et*I),bt=(X-at)*(Et-L)-(Q-rt)*(wt-I);if(bt){var Ot=F(Z/bt),Tt=F(H/bt),lt=+Ot.toFixed(2),vt=+Tt.toFixed(2);if(!(lt<+a(X,at).toFixed(2)||lt>+s(X,at).toFixed(2)||lt<+a(wt,I).toFixed(2)||lt>+s(wt,I).toFixed(2)||vt<+a(Q,rt).toFixed(2)||vt>+s(Q,rt).toFixed(2)||vt<+a(Et,L).toFixed(2)||vt>+s(Et,L).toFixed(2)))return{x:Ot,y:Tt}}}}function F(X){return Math.round(X*1e11)/1e11}function G(X,Q,at){var rt=M(X),wt=M(Q);if(!P(rt,wt))return at?0:[];for(var Et=S.apply(0,X),I=S.apply(0,Q),L=At(X)?1:~~(Et/5)||1,Z=At(Q)?1:~~(I/5)||1,H=[],bt=[],Ot={},Tt=at?0:[],lt=0;lt<L+1;lt++){var vt=w.apply(0,X.concat(lt/L));H.push({x:vt.x,y:vt.y,t:lt/L})}for(lt=0;lt<Z+1;lt++)vt=w.apply(0,Q.concat(lt/Z)),bt.push({x:vt.x,y:vt.y,t:lt/Z});for(lt=0;lt<L;lt++)for(var Bt=0;Bt<Z;Bt++){var Lt=H[lt],Pt=H[lt+1],ee=bt[Bt],It=bt[Bt+1],Ut=l(Pt.x-Lt.x)<.01?"y":"x",Gt=l(It.x-ee.x)<.01?"y":"x",fe=z(Lt.x,Lt.y,Pt.x,Pt.y,ee.x,ee.y,It.x,It.y),Dt;if(fe){if(Dt=fe.x.toFixed(9)+"#"+fe.y.toFixed(9),Ot[Dt])continue;Ot[Dt]=!0;var jt=Lt.t+l((fe[Ut]-Lt[Ut])/(Pt[Ut]-Lt[Ut]))*(Pt.t-Lt.t),Kn=ee.t+l((fe[Gt]-ee[Gt])/(It[Gt]-ee[Gt]))*(It.t-ee.t);jt>=0&&jt<=1&&Kn>=0&&Kn<=1&&(at?Tt++:Tt.push({x:fe.x,y:fe.y,t1:jt,t2:Kn}))}}return Tt}function q(X,Q,at){X=K(X),Q=K(Q);for(var rt,wt,Et,I,L,Z,H,bt,Ot,Tt,lt=at?0:[],vt=0,Bt=X.length;vt<Bt;vt++){var Lt=X[vt];if(Lt[0]=="M")rt=L=Lt[1],wt=Z=Lt[2];else{Lt[0]=="C"?(Ot=[rt,wt].concat(Lt.slice(1)),rt=Ot[6],wt=Ot[7]):(Ot=[rt,wt,rt,wt,L,Z,L,Z],rt=L,wt=Z);for(var Pt=0,ee=Q.length;Pt<ee;Pt++){var It=Q[Pt];if(It[0]=="M")Et=H=It[1],I=bt=It[2];else{It[0]=="C"?(Tt=[Et,I].concat(It.slice(1)),Et=Tt[6],I=Tt[7]):(Tt=[Et,I,Et,I,H,bt,H,bt],Et=H,I=bt);var Ut=G(Ot,Tt,at);if(at)lt+=Ut;else{for(var Gt=0,fe=Ut.length;Gt<fe;Gt++)Ut[Gt].segment1=vt,Ut[Gt].segment2=Pt,Ut[Gt].bez1=Ot,Ut[Gt].bez2=Tt;lt=lt.concat(Ut)}}}}}return lt}function dt(X){var Q=R(X);if(Q.abs)return v(Q.abs);if((!p(X)||!p(X&&X[0]))&&(X=A(X)),!X||!X.length)return[["M",0,0]];var at=[],rt=0,wt=0,Et=0,I=0,L=0,Z;X[0][0]=="M"&&(rt=+X[0][1],wt=+X[0][2],Et=rt,I=wt,L++,at[0]=["M",rt,wt]);for(var H,bt,Ot=L,Tt=X.length;Ot<Tt;Ot++){if(at.push(H=[]),bt=X[Ot],Z=bt[0],Z!=Z.toUpperCase())switch(H[0]=Z.toUpperCase(),H[0]){case"A":H[1]=bt[1],H[2]=bt[2],H[3]=bt[3],H[4]=bt[4],H[5]=bt[5],H[6]=+bt[6]+rt,H[7]=+bt[7]+wt;break;case"V":H[1]=+bt[1]+wt;break;case"H":H[1]=+bt[1]+rt;break;case"M":Et=+bt[1]+rt,I=+bt[2]+wt;default:for(var lt=1,vt=bt.length;lt<vt;lt++)H[lt]=+bt[lt]+(lt%2?rt:wt)}else for(var Bt=0,Lt=bt.length;Bt<Lt;Bt++)H[Bt]=bt[Bt];switch(Z=Z.toUpperCase(),H[0]){case"Z":rt=+Et,wt=+I;break;case"H":rt=H[1];break;case"V":wt=H[1];break;case"M":Et=H[H.length-2],I=H[H.length-1];default:rt=H[H.length-2],wt=H[H.length-1]}}return at.toString=E,Q.abs=v(at),at}function At(X){return X[0]===X[2]&&X[1]===X[3]&&X[4]===X[6]&&X[5]===X[7]}function it(X,Q,at,rt){return[X,Q,at,rt,at,rt]}function gt(X,Q,at,rt,wt,Et){var I=.3333333333333333,L=2/3;return[I*X+L*at,I*Q+L*rt,I*wt+L*at,I*Et+L*rt,wt,Et]}function Nt(X,Q,at,rt,wt,Et,I,L,Z,H){var bt=r*120/180,Ot=r/180*(+wt||0),Tt=[],lt,vt=b(function(Ai,si,mo){var _a=Ai*n.cos(mo)-si*n.sin(mo),ys=Ai*n.sin(mo)+si*n.cos(mo);return{x:_a,y:ys}});if(H)Dt=H[0],jt=H[1],Gt=H[2],fe=H[3];else{lt=vt(X,Q,-Ot),X=lt.x,Q=lt.y,lt=vt(L,Z,-Ot),L=lt.x,Z=lt.y;var Bt=(X-L)/2,Lt=(Q-Z)/2,Pt=Bt*Bt/(at*at)+Lt*Lt/(rt*rt);Pt>1&&(Pt=n.sqrt(Pt),at=Pt*at,rt=Pt*rt);var ee=at*at,It=rt*rt,Ut=(Et==I?-1:1)*n.sqrt(l((ee*It-ee*Lt*Lt-It*Bt*Bt)/(ee*Lt*Lt+It*Bt*Bt))),Gt=Ut*at*Lt/rt+(X+L)/2,fe=Ut*-rt*Bt/at+(Q+Z)/2,Dt=n.asin(((Q-fe)/rt).toFixed(9)),jt=n.asin(((Z-fe)/rt).toFixed(9));Dt=X<Gt?r-Dt:Dt,jt=L<Gt?r-jt:jt,Dt<0&&(Dt=r*2+Dt),jt<0&&(jt=r*2+jt),I&&Dt>jt&&(Dt=Dt-r*2),!I&&jt>Dt&&(jt=jt-r*2)}var Kn=jt-Dt;if(l(Kn)>bt){var k=jt,O=L,N=Z;jt=Dt+bt*(I&&jt>Dt?1:-1),L=Gt+at*n.cos(jt),Z=fe+rt*n.sin(jt),Tt=Nt(L,Z,at,rt,wt,0,I,O,N,[jt,k,Gt,fe])}Kn=jt-Dt;var V=n.cos(Dt),J=n.sin(Dt),ft=n.cos(jt),_t=n.sin(jt),Ft=n.tan(Kn/4),Ce=4/3*at*Ft,he=4/3*rt*Ft,ie=[X,Q],oe=[X+Ce*J,Q-he*V],ps=[L+Ce*_t,Z-he*ft],gs=[L,Z];if(oe[0]=2*ie[0]-oe[0],oe[1]=2*ie[1]-oe[1],H)return[oe,ps,gs].concat(Tt);Tt=[oe,ps,gs].concat(Tt).join().split(",");for(var ai=[],On=0,rr=Tt.length;On<rr;On++)ai[On]=On%2?vt(Tt[On-1],Tt[On],Ot).y:vt(Tt[On],Tt[On+1],Ot).x;return ai}function zt(X,Q,at,rt,wt,Et,I,L){for(var Z=[],H=[[],[]],bt,Ot,Tt,lt,vt,Bt,Lt,Pt,ee=0;ee<2;++ee){if(ee==0?(Ot=6*X-12*at+6*wt,bt=-3*X+9*at-9*wt+3*I,Tt=3*at-3*X):(Ot=6*Q-12*rt+6*Et,bt=-3*Q+9*rt-9*Et+3*L,Tt=3*rt-3*Q),l(bt)<1e-12){if(l(Ot)<1e-12)continue;lt=-Tt/Ot,0<lt&&lt<1&&Z.push(lt);continue}Lt=Ot*Ot-4*Tt*bt,Pt=n.sqrt(Lt),!(Lt<0)&&(vt=(-Ot+Pt)/(2*bt),0<vt&&vt<1&&Z.push(vt),Bt=(-Ot-Pt)/(2*bt),0<Bt&&Bt<1&&Z.push(Bt))}for(var It=Z.length,Ut=It,Gt;It--;)lt=Z[It],Gt=1-lt,H[0][It]=Gt*Gt*Gt*X+3*Gt*Gt*lt*at+3*Gt*lt*lt*wt+lt*lt*lt*I,H[1][It]=Gt*Gt*Gt*Q+3*Gt*Gt*lt*rt+3*Gt*lt*lt*Et+lt*lt*lt*L;return H[0][Ut]=X,H[1][Ut]=Q,H[0][Ut+1]=I,H[1][Ut+1]=L,H[0].length=H[1].length=Ut+2,{x0:a.apply(0,H[0]),y0:a.apply(0,H[1]),x1:s.apply(0,H[0]),y1:s.apply(0,H[1])}}function K(X){var Q=R(X);if(Q.curve)return v(Q.curve);for(var at=dt(X),rt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},wt=function(lt,vt,Bt){var Lt,Pt;if(!lt)return["C",vt.x,vt.y,vt.x,vt.y,vt.x,vt.y];switch(!(lt[0]in{T:1,Q:1})&&(vt.qx=vt.qy=null),lt[0]){case"M":vt.X=lt[1],vt.Y=lt[2];break;case"A":lt=["C"].concat(Nt.apply(0,[vt.x,vt.y].concat(lt.slice(1))));break;case"S":Bt=="C"||Bt=="S"?(Lt=vt.x*2-vt.bx,Pt=vt.y*2-vt.by):(Lt=vt.x,Pt=vt.y),lt=["C",Lt,Pt].concat(lt.slice(1));break;case"T":Bt=="Q"||Bt=="T"?(vt.qx=vt.x*2-vt.qx,vt.qy=vt.y*2-vt.qy):(vt.qx=vt.x,vt.qy=vt.y),lt=["C"].concat(gt(vt.x,vt.y,vt.qx,vt.qy,lt[1],lt[2]));break;case"Q":vt.qx=lt[1],vt.qy=lt[2],lt=["C"].concat(gt(vt.x,vt.y,lt[1],lt[2],lt[3],lt[4]));break;case"L":lt=["C"].concat(it(vt.x,vt.y,lt[1],lt[2]));break;case"H":lt=["C"].concat(it(vt.x,vt.y,lt[1],vt.y));break;case"V":lt=["C"].concat(it(vt.x,vt.y,vt.x,lt[1]));break;case"Z":lt=["C"].concat(it(vt.x,vt.y,vt.X,vt.Y));break}return lt},Et=function(lt,vt){if(lt[vt].length>7){lt[vt].shift();for(var Bt=lt[vt];Bt.length;)I[vt]="A",lt.splice(vt++,0,["C"].concat(Bt.splice(0,6)));lt.splice(vt,1),bt=at.length}},I=[],L="",Z="",H=0,bt=at.length;H<bt;H++){at[H]&&(L=at[H][0]),L!="C"&&(I[H]=L,H&&(Z=I[H-1])),at[H]=wt(at[H],rt,Z),I[H]!="A"&&L=="C"&&(I[H]="C"),Et(at,H);var Ot=at[H],Tt=Ot.length;rt.x=Ot[Tt-2],rt.y=Ot[Tt-1],rt.bx=e(Ot[Tt-4])||rt.x,rt.by=e(Ot[Tt-3])||rt.y}return Q.curve=v(at),at}return $y=q,$y}var bD=ED();const d2=aa(bD);function $e(t){return An(t)&&ol(t,"waypoints")}function vr(t){return An(t)&&ol(t,"labelTarget")}function wD(t){return{x:Math.round(t.x),y:Math.round(t.y),width:Math.round(t.width),height:Math.round(t.height)}}function Wo(t){return{x:Math.round(t.x),y:Math.round(t.y)}}function ce(t){return{top:t.y,right:t.x+(t.width||0),bottom:t.y+(t.height||0),left:t.x}}function h2(t){return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}function SD(t){return Wo({x:t.x+(t.width||0)/2,y:t.y+(t.height||0)/2})}function TD(t){for(var e=t.waypoints,n=e.reduce(function(h,p,g){var m=e[g-1];if(m){var _=h[h.length-1],b=_&&_.endLength||0,A=AD(m,p);h.push({start:m,end:p,startLength:b,endLength:b+A,length:A})}return h},[]),r=n.reduce(function(h,p){return h+p.length},0),a=r/2,s=0,u=n[s];u.endLength<a;)u=n[++s];var l=(a-u.startLength)/u.length,f={x:u.start.x+(u.end.x-u.start.x)*l,y:u.start.y+(u.end.y-u.start.y)*l};return f}function ye(t){return $e(t)?TD(t):SD(t)}function zr(t,e,n){n=n||0,An(n)||(n={x:n,y:n});var r=ce(t),a=ce(e),s=r.bottom+n.y<=a.top,u=r.left-n.x>=a.right,l=r.top-n.y>=a.bottom,f=r.right+n.x<=a.left,h=s?"top":l?"bottom":null,p=f?"left":u?"right":null;return p&&h?h+"-"+p:p||h||"intersect"}function Xv(t,e,n){var r=CD(t,e);return r.length===1||r.length===2&&ul(r[0],r[1])<1?Wo(r[0]):r.length>1?(r=to(r,function(a){var s=Math.floor(a.t2*100)||1;return s=100-s,s=(s<10?"0":"")+s,a.segment2+"#"+s}),Wo(r[n?0:r.length-1])):null}function CD(t,e){return d2(t,e)}function MD(t){t=t.slice();for(var e=0,n,r,a;t[e];)n=t[e],r=t[e-1],a=t[e+1],ul(n,a)===0||Dm(r,a,n)?t.splice(e,1):e++;return t}function AD(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function vd(t,e){return Math.round(t*e)/e}function tb(t){return Vt(t)?t+"px":t}function OD(t){for(;t.parent;)t=t.parent;return t}function RD(t){t=ct({},{width:"100%",height:"100%"},t);const e=t.container||document.body,n=document.createElement("div");return n.setAttribute("class","djs-container djs-parent"),io(n,{position:"relative",overflow:"hidden",width:tb(t.width),height:tb(t.height)}),e.appendChild(n),n}function p2(t,e,n){const r=Rt("g");le(r).add(e);const a=n!==void 0?n:t.childNodes.length-1;return t.insertBefore(r,t.childNodes[a]||null),r}const ND="base",g2=0,DD=1,LD={shape:["x","y","width","height"],connection:["waypoints"]};function Wt(t,e,n,r){this._eventBus=e,this._elementRegistry=r,this._graphicsFactory=n,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._init(t||{})}Wt.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"];Wt.prototype._init=function(t){const e=this._eventBus,n=this._container=RD(t),r=this._svg=Rt("svg");yt(r,{width:"100%",height:"100%"}),Zt(n,r);const a=this._viewport=p2(r,"viewport");t.deferUpdate&&(this._viewboxChanged=WT(Gn(this._viewboxChanged,this),300)),e.on("diagram.init",()=>{e.fire("canvas.init",{svg:r,viewport:a})}),e.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],()=>{delete this._cachedViewbox}),e.on("diagram.destroy",500,this._destroy,this),e.on("diagram.clear",500,this._clear,this)};Wt.prototype._destroy=function(){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});const t=this._container.parentNode;t&&t.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport};Wt.prototype._clear=function(){this._elementRegistry.getAll().forEach(e=>{const n=l2(e);n==="root"?this.removeRootElement(e):this._removeElement(e,n)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox};Wt.prototype.getDefaultLayer=function(){return this.getLayer(ND,g2)};Wt.prototype.getLayer=function(t,e){if(!t)throw new Error("must specify a name");let n=this._layers[t];if(n||(n=this._layers[t]=this._createLayer(t,e)),typeof e<"u"&&n.index!==e)throw new Error("layer <"+t+"> already created at index <"+e+">");return n.group};Wt.prototype._getChildIndex=function(t){return kr(this._layers,function(e,n){return n.visible&&t>=n.index&&e++,e},0)};Wt.prototype._createLayer=function(t,e){typeof e>"u"&&(e=DD);const n=this._getChildIndex(e);return{group:p2(this._viewport,"layer-"+t,n),index:e,visible:!0}};Wt.prototype.showLayer=function(t){if(!t)throw new Error("must specify a name");const e=this._layers[t];if(!e)throw new Error("layer <"+t+"> does not exist");const n=this._viewport,r=e.group,a=e.index;if(e.visible)return r;const s=this._getChildIndex(a);return n.insertBefore(r,n.childNodes[s]||null),e.visible=!0,r};Wt.prototype.hideLayer=function(t){if(!t)throw new Error("must specify a name");const e=this._layers[t];if(!e)throw new Error("layer <"+t+"> does not exist");const n=e.group;return e.visible&&(We(n),e.visible=!1),n};Wt.prototype._removeLayer=function(t){const e=this._layers[t];e&&(delete this._layers[t],We(e.group))};Wt.prototype.getActiveLayer=function(){const t=this._findPlaneForRoot(this.getRootElement());return t?t.layer:null};Wt.prototype.findRoot=function(t){return typeof t=="string"&&(t=this._elementRegistry.get(t)),t?(this._findPlaneForRoot(OD(t))||{}).rootElement:void 0};Wt.prototype.getRootElements=function(){return this._planes.map(function(t){return t.rootElement})};Wt.prototype._findPlaneForRoot=function(t){return Ie(this._planes,function(e){return e.rootElement===t})};Wt.prototype.getContainer=function(){return this._container};Wt.prototype._updateMarker=function(t,e,n){let r;t.id||(t=this._elementRegistry.get(t)),r=this._elementRegistry._elements[t.id],r&&(nt([r.gfx,r.secondaryGfx],function(a){a&&(n?le(a).add(e):le(a).remove(e))}),this._eventBus.fire("element.marker.update",{element:t,gfx:r.gfx,marker:e,add:!!n}))};Wt.prototype.addMarker=function(t,e){this._updateMarker(t,e,!0)};Wt.prototype.removeMarker=function(t,e){this._updateMarker(t,e,!1)};Wt.prototype.hasMarker=function(t,e){t.id||(t=this._elementRegistry.get(t));const n=this.getGraphics(t);return le(n).has(e)};Wt.prototype.toggleMarker=function(t,e){this.hasMarker(t,e)?this.removeMarker(t,e):this.addMarker(t,e)};Wt.prototype.getRootElement=function(){const t=this._rootElement;return t||this._planes.length?t:this.setRootElement(this.addRootElement(null))};Wt.prototype.addRootElement=function(t){const e=this._rootsIdx++;t||(t={id:"__implicitroot_"+e,children:[],isImplicit:!0});const n=t.layer="root-"+e;this._ensureValid("root",t);const r=this.getLayer(n,g2);return this.hideLayer(n),this._addRoot(t,r),this._planes.push({rootElement:t,layer:r}),t};Wt.prototype.removeRootElement=function(t){if(typeof t=="string"&&(t=this._elementRegistry.get(t)),!!this._findPlaneForRoot(t))return this._removeRoot(t),this._removeLayer(t.layer),this._planes=this._planes.filter(function(n){return n.rootElement!==t}),this._rootElement===t&&(this._rootElement=null),t};Wt.prototype.setRootElement=function(t){if(t===this._rootElement)return;let e;if(!t)throw new Error("rootElement required");return e=this._findPlaneForRoot(t),e||(t=this.addRootElement(t)),this._setRoot(t),t};Wt.prototype._removeRoot=function(t){const e=this._elementRegistry,n=this._eventBus;n.fire("root.remove",{element:t}),n.fire("root.removed",{element:t}),e.remove(t)};Wt.prototype._addRoot=function(t,e){const n=this._elementRegistry,r=this._eventBus;r.fire("root.add",{element:t}),n.add(t,e),r.fire("root.added",{element:t,gfx:e})};Wt.prototype._setRoot=function(t,e){const n=this._rootElement;n&&(this._elementRegistry.updateGraphics(n,null,!0),this.hideLayer(n.layer)),t&&(e||(e=this._findPlaneForRoot(t).layer),this._elementRegistry.updateGraphics(t,this._svg,!0),this.showLayer(t.layer)),this._rootElement=t,this._eventBus.fire("root.set",{element:t})};Wt.prototype._ensureValid=function(t,e){if(!e.id)throw new Error("element must have an id");if(this._elementRegistry.get(e.id))throw new Error("element <"+e.id+"> already exists");const n=LD[t];if(!al(n,function(a){return typeof e[a]<"u"}))throw new Error("must supply { "+n.join(", ")+" } with "+t)};Wt.prototype._setParent=function(t,e,n){ri(e.children,t,n),t.parent=e};Wt.prototype._addElement=function(t,e,n,r){n=n||this.getRootElement();const a=this._eventBus,s=this._graphicsFactory;this._ensureValid(t,e),a.fire(t+".add",{element:e,parent:n}),this._setParent(e,n,r);const u=s.create(t,e,r);return this._elementRegistry.add(e,u),s.update(t,e,u),a.fire(t+".added",{element:e,gfx:u}),e};Wt.prototype.addShape=function(t,e,n){return this._addElement("shape",t,e,n)};Wt.prototype.addConnection=function(t,e,n){return this._addElement("connection",t,e,n)};Wt.prototype._removeElement=function(t,e){const n=this._elementRegistry,r=this._graphicsFactory,a=this._eventBus;if(t=n.get(t.id||t),!!t)return a.fire(e+".remove",{element:t}),r.remove(t),ni(t.parent&&t.parent.children,t),t.parent=null,a.fire(e+".removed",{element:t}),n.remove(t),t};Wt.prototype.removeShape=function(t){return this._removeElement(t,"shape")};Wt.prototype.removeConnection=function(t){return this._removeElement(t,"connection")};Wt.prototype.getGraphics=function(t,e){return this._elementRegistry.getGraphics(t,e)};Wt.prototype._changeViewbox=function(t){this._eventBus.fire("canvas.viewbox.changing"),t.apply(this),this._cachedViewbox=null,this._viewboxChanged()};Wt.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})};Wt.prototype.viewbox=function(t){if(t===void 0&&this._cachedViewbox)return this._cachedViewbox;const e=this._viewport,n=this.getSize();let r,a,s,u,l,f,h;if(t)this._changeViewbox(function(){l=Math.min(n.width/t.width,n.height/t.height);const p=this._svg.createSVGMatrix().scale(l).translate(-t.x,-t.y);Zc(e,p)});else return s=this._rootElement?this.getActiveLayer():null,r=s&&s.getBBox()||{},u=Zc(e),a=u?u.matrix:ZN(),l=vd(a.a,1e3),f=vd(-a.e||0,1e3),h=vd(-a.f||0,1e3),t=this._cachedViewbox={x:f?f/l:0,y:h?h/l:0,width:n.width/l,height:n.height/l,scale:l,inner:{width:r.width||0,height:r.height||0,x:r.x||0,y:r.y||0},outer:n},t;return t};Wt.prototype.scroll=function(t){const e=this._viewport;let n=e.getCTM();return t&&this._changeViewbox(function(){t=ct({dx:0,dy:0},t||{}),n=this._svg.createSVGMatrix().translate(t.dx,t.dy).multiply(n),y2(e,n)}),{x:n.e,y:n.f}};Wt.prototype.scrollToElement=function(t,e){let n=100;typeof t=="string"&&(t=this._elementRegistry.get(t));const r=this.findRoot(t);if(r!==this.getRootElement()&&this.setRootElement(r),r===t)return;e||(e={}),typeof e=="number"&&(n=e),e={top:e.top||n,right:e.right||n,bottom:e.bottom||n,left:e.left||n};const a=xn(t),s=ce(a),u=this.viewbox(),l=this.zoom();let f,h;u.y+=e.top/l,u.x+=e.left/l,u.width-=(e.right+e.left)/l,u.height-=(e.bottom+e.top)/l;const p=ce(u);if(!(a.width<u.width&&a.height<u.height))f=a.x-u.x,h=a.y-u.y;else{const m=Math.max(0,s.right-p.right),_=Math.min(0,s.left-p.left),b=Math.max(0,s.bottom-p.bottom),A=Math.min(0,s.top-p.top);f=m||_,h=b||A}this.scroll({dx:-f*l,dy:-h*l})};Wt.prototype.zoom=function(t,e){if(!t)return this.viewbox(t).scale;if(t==="fit-viewport")return this._fitViewport(e);let n,r;return this._changeViewbox(function(){typeof e!="object"&&(n=this.viewbox().outer,e={x:n.width/2,y:n.height/2}),r=this._setZoom(t,e)}),vd(r.a,1e3)};function y2(t,e){const n="matrix("+e.a+","+e.b+","+e.c+","+e.d+","+e.e+","+e.f+")";t.setAttribute("transform",n)}Wt.prototype._fitViewport=function(t){const e=this.viewbox(),n=e.outer,r=e.inner;let a,s;return r.x>=0&&r.y>=0&&r.x+r.width<=n.width&&r.y+r.height<=n.height&&!t?s={x:0,y:0,width:Math.max(r.width+r.x,n.width),height:Math.max(r.height+r.y,n.height)}:(a=Math.min(1,n.width/r.width,n.height/r.height),s={x:r.x+(t?r.width/2-n.width/a/2:0),y:r.y+(t?r.height/2-n.height/a/2:0),width:n.width/a,height:n.height/a}),this.viewbox(s),this.viewbox(!1).scale};Wt.prototype._setZoom=function(t,e){const n=this._svg,r=this._viewport,a=n.createSVGMatrix(),s=n.createSVGPoint();let u,l,f,h,p;f=r.getCTM();const g=f.a;return e?(u=ct(s,e),l=u.matrixTransform(f.inverse()),h=a.translate(l.x,l.y).scale(1/g*t).translate(-l.x,-l.y),p=f.multiply(h)):p=a.scale(t),y2(this._viewport,p),p};Wt.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}};Wt.prototype.getAbsoluteBBox=function(t){const e=this.viewbox();let n;t.waypoints?n=this.getGraphics(t).getBBox():n=t;const r=n.x*e.scale-e.x*e.scale,a=n.y*e.scale-e.y*e.scale,s=n.width*e.scale,u=n.height*e.scale;return{x:r,y:a,width:s,height:u}};Wt.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var ou="data-element-id";function mr(t){this._elements={},this._eventBus=t}mr.$inject=["eventBus"];mr.prototype.add=function(t,e,n){var r=t.id;this._validateId(r),yt(e,ou,r),n&&yt(n,ou,r),this._elements[r]={element:t,gfx:e,secondaryGfx:n}};mr.prototype.remove=function(t){var e=this._elements,n=t.id||t,r=n&&e[n];r&&(yt(r.gfx,ou,""),r.secondaryGfx&&yt(r.secondaryGfx,ou,""),delete e[n])};mr.prototype.updateId=function(t,e){this._validateId(e),typeof t=="string"&&(t=this.get(t)),this._eventBus.fire("element.updateId",{element:t,newId:e});var n=this.getGraphics(t),r=this.getGraphics(t,!0);this.remove(t),t.id=e,this.add(t,n,r)};mr.prototype.updateGraphics=function(t,e,n){var r=t.id||t,a=this._elements[r];return n?a.secondaryGfx=e:a.gfx=e,e&&yt(e,ou,r),e};mr.prototype.get=function(t){var e;typeof t=="string"?e=t:e=t&&yt(t,ou);var n=this._elements[e];return n&&n.element};mr.prototype.filter=function(t){var e=[];return this.forEach(function(n,r){t(n,r)&&e.push(n)}),e};mr.prototype.find=function(t){for(var e=this._elements,n=Object.keys(e),r=0;r<n.length;r++){var a=n[r],s=e[a],u=s.element,l=s.gfx;if(t(u,l))return u}};mr.prototype.getAll=function(){return this.filter(function(t){return t})};mr.prototype.forEach=function(t){var e=this._elements;Object.keys(e).forEach(function(n){var r=e[n],a=r.element,s=r.gfx;return t(a,s)})};mr.prototype.getGraphics=function(t,e){var n=t.id||t,r=this._elements[n];return r&&(e?r.secondaryGfx:r.gfx)};mr.prototype._validateId=function(t){if(!t)throw new Error("element must have an id");if(this._elements[t])throw new Error("element with id "+t+" already added")};var Uf={exports:{}},Ff={},eb;function v2(){if(eb)return Ff;eb=1;function t(n,r,a,s){var u=a.inverse;return Object.defineProperty(n,"remove",{value:function(l){var f=this.indexOf(l);return f!==-1&&(this.splice(f,1),r.unset(l,u,s)),l}}),Object.defineProperty(n,"contains",{value:function(l){return this.indexOf(l)!==-1}}),Object.defineProperty(n,"add",{value:function(l,f){var h=this.indexOf(l);if(typeof f>"u"){if(h!==-1)return;f=this.length}h!==-1&&this.splice(h,1),this.splice(f,0,l),h===-1&&r.set(l,u,s)}}),Object.defineProperty(n,"__refs_collection",{value:!0}),n}function e(n){return n.__refs_collection===!0}return Ff.extend=t,Ff.isExtended=e,Ff}var Hy,nb;function PD(){if(nb)return Hy;nb=1;var t=v2();function e(s,u){return Object.prototype.hasOwnProperty.call(s,u.name||u)}function n(s,u,l){var f=t.extend(l[u.name]||[],s,u,l);Object.defineProperty(l,u.name,{enumerable:u.enumerable,value:f}),f.length&&f.forEach(function(h){s.set(h,u.inverse,l)})}function r(s,u,l){var f=u.inverse,h=l[u.name];Object.defineProperty(l,u.name,{configurable:u.configurable,enumerable:u.enumerable,get:function(){return h},set:function(p){if(p!==h){var g=h;h=null,g&&s.unset(g,f,l),h=p,s.set(h,f,l)}}})}function a(s,u){if(!(this instanceof a))return new a(s,u);s.inverse=u,u.inverse=s,this.props={},this.props[s.name]=s,this.props[u.name]=u}return a.prototype.bind=function(s,u){if(typeof u=="string"){if(!this.props[u])throw new Error("no property <"+u+"> in ref");u=this.props[u]}u.collection?n(this,u,s):r(this,u,s)},a.prototype.ensureRefsCollection=function(s,u){var l=s[u.name];return t.isExtended(l)||n(this,u,s),l},a.prototype.ensureBound=function(s,u){e(s,u)||this.bind(s,u)},a.prototype.unset=function(s,u,l){s&&(this.ensureBound(s,u),u.collection?this.ensureRefsCollection(s,u).remove(l):s[u.name]=void 0)},a.prototype.set=function(s,u,l){s&&(this.ensureBound(s,u),u.collection?this.ensureRefsCollection(s,u).add(l):s[u.name]=l)},Hy=a,Hy}var rb;function BD(){return rb||(rb=1,Uf.exports=PD(),Uf.exports.Collection=v2()),Uf.exports}var ID=BD();const vu=aa(ID);var Lm=new vu({name:"children",enumerable:!0,collection:!0},{name:"parent"}),m2=new vu({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),ib=new vu({name:"attachers",collection:!0},{name:"host"}),_2=new vu({name:"outgoing",collection:!0},{name:"source"}),x2=new vu({name:"incoming",collection:!0},{name:"target"});function mu(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(t){var e=this.label,n=this.labels;!t&&e?n.remove(e):n.add(t,0)}}),Lm.bind(this,"parent"),m2.bind(this,"labels"),_2.bind(this,"outgoing"),x2.bind(this,"incoming")}function cl(){mu.call(this),Lm.bind(this,"children"),ib.bind(this,"host"),ib.bind(this,"attachers")}we(cl,mu);function E2(){mu.call(this),Lm.bind(this,"children")}we(E2,cl);function b2(){cl.call(this),m2.bind(this,"labelTarget")}we(b2,cl);function w2(){mu.call(this),_2.bind(this,"source"),x2.bind(this,"target")}we(w2,mu);var jD={connection:w2,shape:cl,label:b2,root:E2};function kD(t,e){var n=jD[t];if(!n)throw new Error("unknown type: <"+t+">");return ct(new n,e)}function zD(t){return t instanceof mu}function so(){this._uid=12}so.prototype.createRoot=function(t){return this.create("root",t)};so.prototype.createLabel=function(t){return this.create("label",t)};so.prototype.createShape=function(t){return this.create("shape",t)};so.prototype.createConnection=function(t){return this.create("connection",t)};so.prototype.create=function(t,e){return e=ct({},e||{}),e.id||(e.id=t+"_"+this._uid++),kD(t,e)};var ph="__fn",S2=1e3,$D=Array.prototype.slice;function er(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}er.prototype.on=function(t,e,n,r){if(t=re(t)?t:[t],En(e)&&(r=n,n=e,e=S2),!Vt(e))throw new Error("priority must be a number");var a=n;r&&(a=Gn(n,r),a[ph]=n[ph]||n);var s=this;t.forEach(function(u){s._addListener(u,{priority:e,callback:a,next:null})})};er.prototype.once=function(t,e,n,r){var a=this;if(En(e)&&(r=n,n=e,e=S2),!Vt(e))throw new Error("priority must be a number");function s(){s.__isTomb=!0;var u=n.apply(r,arguments);return a.off(t,s),u}s[ph]=n,this.on(t,e,s)};er.prototype.off=function(t,e){t=re(t)?t:[t];var n=this;t.forEach(function(r){n._removeListener(r,e)})};er.prototype.createEvent=function(t){var e=new ll;return e.init(t),e};er.prototype.fire=function(t,e){var n,r,a,s;if(s=$D.call(arguments),typeof t=="object"&&(e=t,t=e.type),!t)throw new Error("no event type specified");if(r=this._listeners[t],!!r){e instanceof ll?n=e:n=this.createEvent(e),s[0]=n;var u=n.type;t!==u&&(n.type=t);try{a=this._invokeListeners(n,s,r)}finally{t!==u&&(n.type=u)}return a===void 0&&n.defaultPrevented&&(a=!1),a}};er.prototype.handleError=function(t){return this.fire("error",{error:t})===!1};er.prototype._destroy=function(){this._listeners={}};er.prototype._invokeListeners=function(t,e,n){for(var r;n&&!t.cancelBubble;)r=this._invokeListener(t,e,n),n=n.next;return r};er.prototype._invokeListener=function(t,e,n){var r;if(n.callback.__isTomb)return r;try{r=HD(n.callback,e),r!==void 0&&(t.returnValue=r,t.stopPropagation()),r===!1&&t.preventDefault()}catch(a){if(!this.handleError(a))throw console.error("unhandled error in event listener",a),a}return r};er.prototype._addListener=function(t,e){var n=this._getListeners(t),r;if(!n){this._setListeners(t,e);return}for(;n;){if(n.priority<e.priority){e.next=n,r?r.next=e:this._setListeners(t,e);return}r=n,n=n.next}r.next=e};er.prototype._getListeners=function(t){return this._listeners[t]};er.prototype._setListeners=function(t,e){this._listeners[t]=e};er.prototype._removeListener=function(t,e){var n=this._getListeners(t),r,a,s;if(!e){this._setListeners(t,null);return}for(;n;)r=n.next,s=n.callback,(s===e||s[ph]===e)&&(a?a.next=r:this._setListeners(t,r)),a=n,n=r};function ll(){}ll.prototype.stopPropagation=function(){this.cancelBubble=!0};ll.prototype.preventDefault=function(){this.defaultPrevented=!0};ll.prototype.init=function(t){ct(this,t||{})};function HD(t,e){return t.apply(null,e)}function gh(t){return t.childNodes[0]}function UD(t){return t.parentNode.childNodes[1]}function FD(t,e,n,r,a){var s=Fc();s.setTranslate(e,n);var u=Fc();u.setRotate(0,0,0);var l=Fc();l.setScale(1,1),Zc(t,[s,u,l])}function Br(t,e,n){var r=Fc();r.setTranslate(e,n),Zc(t,r)}function XD(t,e){var n=Fc();n.setRotate(e,0,0),Zc(t,n)}function _r(t,e){this._eventBus=t,this._elementRegistry=e}_r.$inject=["eventBus","elementRegistry"];_r.prototype._getChildrenContainer=function(t){var e=this._elementRegistry.getGraphics(t),n;return t.parent?(n=UD(e),n||(n=Rt("g"),le(n).add("djs-children"),Zt(e.parentNode,n))):n=e,n};_r.prototype._clear=function(t){var e=gh(t);return Sm(e),e};_r.prototype._createContainer=function(t,e,n,r){var a=Rt("g");le(a).add("djs-group"),typeof n<"u"?T2(a,e,e.childNodes[n]):Zt(e,a);var s=Rt("g");le(s).add("djs-element"),le(s).add("djs-"+t),r&&le(s).add("djs-frame"),Zt(a,s);var u=Rt("g");return le(u).add("djs-visual"),Zt(s,u),s};_r.prototype.create=function(t,e,n){var r=this._getChildrenContainer(e.parent);return this._createContainer(t,r,n,f2(e))};_r.prototype.updateContainments=function(t){var e=this,n=this._elementRegistry,r;r=kr(t,function(a,s){return s.parent&&(a[s.parent.id]=s.parent),a},{}),nt(r,function(a){var s=a.children;if(s){var u=e._getChildrenContainer(a);nt(s.slice().reverse(),function(l){var f=n.getGraphics(l);T2(f.parentNode,u)})}})};_r.prototype.drawShape=function(t,e,n={}){var r=this._eventBus;return r.fire("render.shape",{gfx:t,element:e,attrs:n})};_r.prototype.getShapePath=function(t){var e=this._eventBus;return e.fire("render.getShapePath",t)};_r.prototype.drawConnection=function(t,e,n={}){var r=this._eventBus;return r.fire("render.connection",{gfx:t,element:e,attrs:n})};_r.prototype.getConnectionPath=function(t){var e=this._eventBus;return e.fire("render.getConnectionPath",t)};_r.prototype.update=function(t,e,n){if(e.parent){var r=this._clear(n);if(t==="shape")this.drawShape(r,e),Br(n,e.x,e.y);else if(t==="connection")this.drawConnection(r,e);else throw new Error("unknown type: "+t);e.hidden?yt(n,"display","none"):yt(n,"display","block")}};_r.prototype.remove=function(t){var e=this._elementRegistry.getGraphics(t);We(e.parentNode)};function T2(t,e,n){var r=n||e.firstChild;t!==r&&e.insertBefore(t,r)}const GD={__depends__:[mD],__init__:["canvas"],canvas:["type",Wt],elementRegistry:["type",mr],elementFactory:["type",so],eventBus:["type",er],graphicsFactory:["type",_r]};function qD(t){var e=new a2(t);return e.init(),e}function VD(t){t=t||{};var e={config:["value",t]},n=[e,GD].concat(t.modules||[]);return qD(n)}function _u(t,e){this._injector=e=e||VD(t),this.get=e.get,this.invoke=e.invoke,this.get("eventBus").fire("diagram.init")}_u.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")};_u.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")};function Pm(){}Pm.prototype.get=function(t){return this.$model.properties.get(this,t)};Pm.prototype.set=function(t,e){this.$model.properties.set(this,t,e)};function C2(t,e){this.model=t,this.properties=e}C2.prototype.createType=function(t){var e=this.model,n=this.properties,r=Object.create(Pm.prototype);nt(t.properties,function(u){!u.isMany&&u.default!==void 0&&(r[u.name]=u.default)}),n.defineModel(r,e),n.defineDescriptor(r,t);var a=t.ns.name;function s(u){n.define(this,"$type",{value:a,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),nt(u,Gn(function(l,f){this.set(f,l)},this))}return s.prototype=r,s.hasType=r.$instanceOf=this.model.hasType,n.defineModel(s,e),n.defineDescriptor(s,t),s};var YD={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},M2={String:function(t){return t},Boolean:function(t){return t==="true"},Integer:function(t){return parseInt(t,10)},Real:function(t){return parseFloat(t)}};function Bm(t,e){var n=M2[t];return n?n(e):e}function Gv(t){return!!YD[t]}function A2(t){return!!M2[t]}function jn(t,e){var n=t.split(/:/),r,a;if(n.length===1)r=t,a=e;else if(n.length===2)r=n[1],a=n[0];else throw new Error("expected <prefix:localName> or <localName>, got "+t);return t=(a?a+":":"")+r,{name:t,prefix:a,localName:r}}function xr(t){this.ns=t,this.name=t.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}xr.prototype.build=function(){return eo(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])};xr.prototype.addProperty=function(t,e,n){typeof e=="boolean"&&(n=e,e=void 0),this.addNamedProperty(t,n!==!1);var r=this.properties;e!==void 0?r.splice(e,0,t):r.push(t)};xr.prototype.replaceProperty=function(t,e,n){var r=t.ns,a=this.properties,s=this.propertiesByName,u=t.name!==e.name;if(t.isId){if(!e.isId)throw new Error("property <"+e.ns.name+"> must be id property to refine <"+t.ns.name+">");this.setIdProperty(e,!1)}if(t.isBody){if(!e.isBody)throw new Error("property <"+e.ns.name+"> must be body property to refine <"+t.ns.name+">");this.setBodyProperty(e,!1)}var l=a.indexOf(t);if(l===-1)throw new Error("property <"+r.name+"> not found in property list");a.splice(l,1),this.addProperty(e,n?void 0:l,u),s[r.name]=s[r.localName]=e};xr.prototype.redefineProperty=function(t,e,n){var r=t.ns.prefix,a=e.split("#"),s=jn(a[0],r),u=jn(a[1],s.prefix).name,l=this.propertiesByName[u];if(l)this.replaceProperty(l,t,n);else throw new Error("refined property <"+u+"> not found");delete t.redefines};xr.prototype.addNamedProperty=function(t,e){var n=t.ns,r=this.propertiesByName;e&&(this.assertNotDefined(t,n.name),this.assertNotDefined(t,n.localName)),r[n.name]=r[n.localName]=t};xr.prototype.removeNamedProperty=function(t){var e=t.ns,n=this.propertiesByName;delete n[e.name],delete n[e.localName]};xr.prototype.setBodyProperty=function(t,e){if(e&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+t.ns.name+">)");this.bodyProperty=t};xr.prototype.setIdProperty=function(t,e){if(e&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+t.ns.name+">)");this.idProperty=t};xr.prototype.assertNotTrait=function(t){if((t.extends||[]).length)throw new Error(`cannot create <${t.name}> extending <${t.extends}>`)};xr.prototype.assertNotDefined=function(t,e){var n=t.name,r=this.propertiesByName[n];if(r)throw new Error("property <"+n+"> already defined; override of <"+r.definedBy.ns.name+"#"+r.ns.name+"> by <"+t.definedBy.ns.name+"#"+t.ns.name+"> not allowed without redefines")};xr.prototype.hasProperty=function(t){return this.propertiesByName[t]};xr.prototype.addTrait=function(t,e){e&&this.assertNotTrait(t);var n=this.allTypesByName,r=this.allTypes,a=t.name;a in n||(nt(t.properties,Gn(function(s){s=ct({},s,{name:s.ns.localName,inherited:e}),Object.defineProperty(s,"definedBy",{value:t});var u=s.replaces,l=s.redefines;u||l?this.redefineProperty(s,u||l,u):(s.isBody&&this.setBodyProperty(s),s.isId&&this.setIdProperty(s),this.addProperty(s))},this)),r.push(t),n[a]=t)};function ua(t,e){this.packageMap={},this.typeMap={},this.packages=[],this.properties=e,nt(t,Gn(this.registerPackage,this))}ua.prototype.getPackage=function(t){return this.packageMap[t]};ua.prototype.getPackages=function(){return this.packages};ua.prototype.registerPackage=function(t){t=ct({},t);var e=this.packageMap;ob(e,t,"prefix"),ob(e,t,"uri"),nt(t.types,Gn(function(n){this.registerType(n,t)},this)),e[t.uri]=e[t.prefix]=t,this.packages.push(t)};ua.prototype.registerType=function(t,e){t=ct({},t,{superClass:(t.superClass||[]).slice(),extends:(t.extends||[]).slice(),properties:(t.properties||[]).slice(),meta:ct(t.meta||{})});var n=jn(t.name,e.prefix),r=n.name,a={};nt(t.properties,Gn(function(s){var u=jn(s.name,n.prefix),l=u.name;Gv(s.type)||(s.type=jn(s.type,u.prefix).name),ct(s,{ns:u,name:l}),a[l]=s},this)),ct(t,{ns:n,name:r,propertiesByName:a}),nt(t.extends,Gn(function(s){var u=jn(s,n.prefix),l=this.typeMap[u.name];l.traits=l.traits||[],l.traits.push(r)},this)),this.definePackage(t,e),this.typeMap[r]=t};ua.prototype.mapTypes=function(t,e,n){var r=Gv(t.name)?{name:t.name}:this.typeMap[t.name],a=this;function s(f,h){var p=jn(f,Gv(f)?"":t.prefix);a.mapTypes(p,e,h)}function u(f){return s(f,!0)}function l(f){return s(f,!1)}if(!r)throw new Error("unknown type <"+t.name+">");nt(r.superClass,n?u:l),e(r,!n),nt(r.traits,u)};ua.prototype.getEffectiveDescriptor=function(t){var e=jn(t),n=new xr(e);this.mapTypes(e,function(a,s){n.addTrait(a,s)});var r=n.build();return this.definePackage(r,r.allTypes[r.allTypes.length-1].$pkg),r};ua.prototype.definePackage=function(t,e){this.properties.define(t,"$pkg",{value:e})};function ob(t,e,n){var r=e[n];if(r in t)throw new Error("package with "+n+" <"+r+"> already defined")}function is(t){this.model=t}is.prototype.set=function(t,e,n){if(!jr(e)||!e.length)throw new TypeError("property name must be a non-empty string");var r=this.getProperty(t,e),a=r&&r.name;KD(n)?r?delete t[a]:delete t.$attrs[qv(e)]:r?a in t?t[a]=n:O2(t,r,n):t.$attrs[qv(e)]=n};is.prototype.get=function(t,e){var n=this.getProperty(t,e);if(!n)return t.$attrs[qv(e)];var r=n.name;return!t[r]&&n.isMany&&O2(t,n,[]),t[r]};is.prototype.define=function(t,e,n){if(!n.writable){var r=n.value;n=ct({},n,{get:function(){return r}}),delete n.value}Object.defineProperty(t,e,n)};is.prototype.defineDescriptor=function(t,e){this.define(t,"$descriptor",{value:e})};is.prototype.defineModel=function(t,e){this.define(t,"$model",{value:e})};is.prototype.getProperty=function(t,e){var n=this.model,r=n.getPropertyDescriptor(t,e);if(r)return r;if(e.includes(":"))return null;const a=n.config.strict;if(typeof a<"u"){const s=new TypeError(`unknown property <${e}> on <${t.$type}>`);if(a)throw s;typeof console<"u"&&console.warn(s)}return null};function KD(t){return typeof t>"u"}function O2(t,e,n){Object.defineProperty(t,e.name,{enumerable:!e.isReference,writable:!0,value:n,configurable:!0})}function qv(t){return t.replace(/^:/,"")}function Hr(t,e={}){this.properties=new is(this),this.factory=new C2(this,this.properties),this.registry=new ua(t,this.properties),this.typeCache={},this.config=e}Hr.prototype.create=function(t,e){var n=this.getType(t);if(!n)throw new Error("unknown type <"+t+">");return new n(e)};Hr.prototype.getType=function(t){var e=this.typeCache,n=jr(t)?t:t.ns.name,r=e[n];return r||(t=this.registry.getEffectiveDescriptor(n),r=e[n]=this.factory.createType(t)),r};Hr.prototype.createAny=function(t,e,n){var r=jn(t),a={$type:t,$instanceOf:function(u){return u===this.$type},get:function(u){return this[u]},set:function(u,l){MN(this,[u],l)}},s={name:t,isGeneric:!0,ns:{prefix:r.prefix,localName:r.localName,uri:e}};return this.properties.defineDescriptor(a,s),this.properties.defineModel(a,this),this.properties.define(a,"get",{enumerable:!1,writable:!0}),this.properties.define(a,"set",{enumerable:!1,writable:!0}),this.properties.define(a,"$parent",{enumerable:!1,writable:!0}),this.properties.define(a,"$instanceOf",{enumerable:!1,writable:!0}),nt(n,function(u,l){An(u)&&u.value!==void 0?a[u.name]=u.value:a[l]=u}),a};Hr.prototype.getPackage=function(t){return this.registry.getPackage(t)};Hr.prototype.getPackages=function(){return this.registry.getPackages()};Hr.prototype.getElementDescriptor=function(t){return t.$descriptor};Hr.prototype.hasType=function(t,e){e===void 0&&(e=t,t=this);var n=t.$model.getElementDescriptor(t);return e in n.allTypesByName};Hr.prototype.getPropertyDescriptor=function(t,e){return this.getElementDescriptor(t).propertiesByName[e]};Hr.prototype.getTypeDescriptor=function(t){return this.registry.typeMap[t]};var ab=String.fromCharCode,ZD=Object.prototype.hasOwnProperty,WD=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/ig,Xc={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};Object.keys(Xc).forEach(function(t){Xc[t.toUpperCase()]=Xc[t]});function QD(t,e,n,r){return r?ZD.call(Xc,r)?Xc[r]:"&"+r+";":ab(e||parseInt(n,16))}function Fa(t){return t.length>3&&t.indexOf("&")!==-1?t.replace(WD,QD):t}var JD="http://www.w3.org/2001/XMLSchema-instance",t3="xsi",sb="xsi:type",ub="non-whitespace outside of root node";function Zs(t){return new Error(t)}function cb(t){return"missing namespace for prefix <"+t+">"}function Xf(t){return{get:t,enumerable:!0}}function e3(t){var e={},n;for(n in t)e[n]=t[n];return e}function Vv(t){return t+"$uri"}function n3(t){var e={},n,r;for(n in t)r=t[n],e[r]=r,e[Vv(r)]=n;return e}function lb(){return{line:0,column:0}}function r3(t){throw t}function R2(t){if(!this)return new R2(t);var e=t&&t.proxy,n,r,a,s,u=r3,l,f,h,p,g=lb,m=!1,_=!1,b=null,A=!1,R;function T(w){w instanceof Error||(w=Zs(w)),b=w,u(w,g)}function E(w){l&&(w instanceof Error||(w=Zs(w)),l(w,g))}this.on=function(w,M){if(typeof M!="function")throw Zs("required args <name, cb>");switch(w){case"openTag":r=M;break;case"text":n=M;break;case"closeTag":a=M;break;case"error":u=M;break;case"warn":l=M;break;case"cdata":s=M;break;case"attention":p=M;break;case"question":h=M;break;case"comment":f=M;break;default:throw Zs("unsupported event: "+w)}return this},this.ns=function(w){if(typeof w>"u"&&(w={}),typeof w!="object")throw Zs("required args <nsMap={}>");var M={},C;for(C in w)M[C]=w[C];return M[JD]=t3,_=!0,R=M,this},this.parse=function(w){if(typeof w!="string")throw Zs("required args <xml=string>");return b=null,v(w),g=lb,A=!1,b},this.stop=function(){A=!0};function v(w){var M=_?[]:null,C=_?n3(R):null,P,B=[],S=0,z=!1,F=!1,G=0,q=0,dt,At,it,gt,Nt,zt,K,X,Q,at="",rt=0,wt;function Et(){if(wt!==null)return wt;var L,Z,H,bt=_&&C.xmlns,Ot=_&&m?[]:null,Tt=rt,lt=at,vt=lt.length,Bt,Lt,Pt,ee,It,Ut={},Gt={},fe,Dt,jt;t:for(;Tt<vt;Tt++)if(fe=!1,Dt=lt.charCodeAt(Tt),!(Dt===32||Dt<14&&Dt>8)){for((Dt<65||Dt>122||Dt>90&&Dt<97)&&Dt!==95&&Dt!==58&&(E("illegal first char attribute name"),fe=!0),jt=Tt+1;jt<vt;jt++)if(Dt=lt.charCodeAt(jt),!(Dt>96&&Dt<123||Dt>64&&Dt<91||Dt>47&&Dt<59||Dt===46||Dt===45||Dt===95)){if(Dt===32||Dt<14&&Dt>8){E("missing attribute value"),Tt=jt;continue t}if(Dt===61)break;E("illegal attribute name char"),fe=!0}if(It=lt.substring(Tt,jt),It==="xmlns:xmlns"&&(E("illegal declaration of xmlns"),fe=!0),Dt=lt.charCodeAt(jt+1),Dt===34)jt=lt.indexOf('"',Tt=jt+2),jt===-1&&(jt=lt.indexOf("'",Tt),jt!==-1&&(E("attribute value quote missmatch"),fe=!0));else if(Dt===39)jt=lt.indexOf("'",Tt=jt+2),jt===-1&&(jt=lt.indexOf('"',Tt),jt!==-1&&(E("attribute value quote missmatch"),fe=!0));else for(E("missing attribute value quotes"),fe=!0,jt=jt+1;jt<vt&&(Dt=lt.charCodeAt(jt+1),!(Dt===32||Dt<14&&Dt>8));jt++);for(jt===-1&&(E("missing closing quotes"),jt=vt,fe=!0),fe||(Pt=lt.substring(Tt,jt)),Tt=jt;jt+1<vt&&(Dt=lt.charCodeAt(jt+1),!(Dt===32||Dt<14&&Dt>8));jt++)Tt===jt&&(E("illegal character after attribute end"),fe=!0);if(Tt=jt+1,fe)continue t;if(It in Gt){E("attribute <"+It+"> already defined");continue}if(Gt[It]=!0,!_){Ut[It]=Pt;continue}if(m){if(Lt=It==="xmlns"?"xmlns":It.charCodeAt(0)===120&&It.substr(0,6)==="xmlns:"?It.substr(6):null,Lt!==null){if(L=Fa(Pt),Z=Vv(Lt),ee=R[L],!ee){if(Lt==="xmlns"||Z in C&&C[Z]!==L)do ee="ns"+S++;while(typeof C[ee]<"u");else ee=Lt;R[L]=ee}C[Lt]!==ee&&(Bt||(C=e3(C),Bt=!0),C[Lt]=ee,Lt==="xmlns"&&(C[Vv(ee)]=L,bt=ee),C[Z]=L),Ut[It]=Pt;continue}Ot.push(It,Pt);continue}if(Dt=It.indexOf(":"),Dt===-1){Ut[It]=Pt;continue}if(!(H=C[It.substring(0,Dt)])){E(cb(It.substring(0,Dt)));continue}It=bt===H?It.substr(Dt+1):H+It.substr(Dt),It===sb&&(Dt=Pt.indexOf(":"),Dt!==-1?(H=Pt.substring(0,Dt),H=C[H]||H,Pt=H+Pt.substring(Dt)):Pt=bt+":"+Pt),Ut[It]=Pt}if(m)for(Tt=0,vt=Ot.length;Tt<vt;Tt++){if(It=Ot[Tt++],Pt=Ot[Tt],Dt=It.indexOf(":"),Dt!==-1){if(!(H=C[It.substring(0,Dt)])){E(cb(It.substring(0,Dt)));continue}It=bt===H?It.substr(Dt+1):H+It.substr(Dt),It===sb&&(Dt=Pt.indexOf(":"),Dt!==-1?(H=Pt.substring(0,Dt),H=C[H]||H,Pt=H+Pt.substring(Dt)):Pt=bt+":"+Pt)}Ut[It]=Pt}return wt=Ut}function I(){for(var L=/(\r\n|\r|\n)/g,Z=0,H=0,bt=0,Ot=q,Tt,lt;G>=bt&&(Tt=L.exec(w),!(!Tt||(Ot=Tt[0].length+Tt.index,Ot>G)));)Z+=1,bt=Ot;return G==-1?(H=Ot,lt=w.substring(q)):q===0?lt=w.substring(q,G):(H=G-bt,lt=q==-1?w.substring(G):w.substring(G,q+1)),{data:lt,line:Z,column:H}}for(g=I,e&&(Q=Object.create({},{name:Xf(function(){return K}),originalName:Xf(function(){return X}),attrs:Xf(Et),ns:Xf(function(){return C})}));q!==-1;){if(w.charCodeAt(q)===60?G=q:G=w.indexOf("<",q),G===-1){if(B.length)return T("unexpected end of file");if(q===0)return T("missing start tag");q<w.length&&w.substring(q).trim()&&E(ub);return}if(q!==G){if(B.length){if(n&&(n(w.substring(q,G),Fa,g),A))return}else if(w.substring(q,G).trim()&&(E(ub),A))return}if(gt=w.charCodeAt(G+1),gt===33){if(it=w.charCodeAt(G+2),it===91&&w.substr(G+3,6)==="CDATA["){if(q=w.indexOf("]]>",G),q===-1)return T("unclosed cdata");if(s&&(s(w.substring(G+9,q),g),A))return;q+=3;continue}if(it===45&&w.charCodeAt(G+3)===45){if(q=w.indexOf("-->",G),q===-1)return T("unclosed comment");if(f&&(f(w.substring(G+4,q),Fa,g),A))return;q+=3;continue}}if(gt===63){if(q=w.indexOf("?>",G),q===-1)return T("unclosed question");if(h&&(h(w.substring(G,q+2),g),A))return;q+=2;continue}for(dt=G+1;;dt++){if(Nt=w.charCodeAt(dt),isNaN(Nt))return q=-1,T("unclosed tag");if(Nt===34)it=w.indexOf('"',dt+1),dt=it!==-1?it:dt;else if(Nt===39)it=w.indexOf("'",dt+1),dt=it!==-1?it:dt;else if(Nt===62){q=dt;break}}if(gt===33){if(p&&(p(w.substring(G,q+1),Fa,g),A))return;q+=1;continue}if(wt={},gt===47){if(z=!1,F=!0,!B.length)return T("missing open tag");if(dt=K=B.pop(),it=G+2+dt.length,w.substring(G+2,it)!==dt)return T("closing tag mismatch");for(;it<q;it++)if(gt=w.charCodeAt(it),!(gt===32||gt>8&&gt<14))return T("close tag")}else{if(w.charCodeAt(q-1)===47?(dt=K=w.substring(G+1,q-1),z=!0,F=!0):(dt=K=w.substring(G+1,q),z=!0,F=!1),!(gt>96&&gt<123||gt>64&&gt<91||gt===95||gt===58))return T("illegal first char nodeName");for(it=1,At=dt.length;it<At;it++)if(gt=dt.charCodeAt(it),!(gt>96&&gt<123||gt>64&&gt<91||gt>47&&gt<59||gt===45||gt===95||gt==46)){if(gt===32||gt<14&&gt>8){K=dt.substring(0,it),wt=null;break}return T("invalid nodeName")}F||B.push(K)}if(_){if(P=C,z&&(F||M.push(P),wt===null&&(m=dt.indexOf("xmlns",it)!==-1)&&(rt=it,at=dt,Et(),m=!1)),X=K,gt=K.indexOf(":"),gt!==-1){if(zt=C[K.substring(0,gt)],!zt)return T("missing namespace on <"+X+">");K=K.substr(gt+1)}else zt=C.xmlns;zt&&(K=zt+":"+K)}if(z&&(rt=it,at=dt,r&&(e?r(Q,Fa,F,g):r(K,Et,Fa,F,g),A)))return;if(F){if(a&&(a(e?Q:K,Fa,z,g),A))return;_&&(z?C=P:C=M.pop())}q+=1}}}function N2(t){return t.xml&&t.xml.tagAlias==="lowerCase"}var i3={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},Xh="xsi:type";function D2(t){return t.xml&&t.xml.serialize}function L2(t){return D2(t)===Xh}function o3(t){return D2(t)==="property"}function a3(t){return t.charAt(0).toUpperCase()+t.slice(1)}function P2(t,e){return N2(e)?t.prefix+":"+a3(t.localName):t.name}function s3(t,e){var n=t.name,r=t.localName,a=e.xml&&e.xml.typePrefix;return a&&r.indexOf(a)===0?t.prefix+":"+r.slice(a.length):n}function u3(t,e){var n=jn(t),r=e.getPackage(n.prefix);return s3(n,r)}function ia(t){return new Error(t)}function Qi(t){return t.$descriptor}function c3(t){ct(this,t),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e)throw ia("expected element");var n=this.elementsById,r=Qi(e),a=r.idProperty,s;if(a&&(s=e.get(a.name),s)){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(s))throw new Error("illegal ID <"+s+">");if(n[s])throw ia("duplicate ID <"+s+">");n[s]=e}},this.addWarning=function(e){this.warnings.push(e)}}function fl(){}fl.prototype.handleEnd=function(){};fl.prototype.handleText=function(){};fl.prototype.handleNode=function(){};function Im(){}Im.prototype=Object.create(fl.prototype);Im.prototype.handleNode=function(){return this};function xu(){}xu.prototype=Object.create(fl.prototype);xu.prototype.handleText=function(t){this.body=(this.body||"")+t};function dl(t,e){this.property=t,this.context=e}dl.prototype=Object.create(xu.prototype);dl.prototype.handleNode=function(t){if(this.element)throw ia("expected no sub nodes");return this.element=this.createReference(t),this};dl.prototype.handleEnd=function(){this.element.id=this.body};dl.prototype.createReference=function(t){return{property:this.property.ns.name,id:""}};function jm(t,e){this.element=e,this.propertyDesc=t}jm.prototype=Object.create(xu.prototype);jm.prototype.handleEnd=function(){var t=this.body||"",e=this.element,n=this.propertyDesc;t=Bm(n.type,t),n.isMany?e.get(n.name).push(t):e.set(n.name,t)};function Gh(){}Gh.prototype=Object.create(xu.prototype);Gh.prototype.handleNode=function(t){var e=this,n=this.element;return n?e=this.handleChild(t):(n=this.element=this.createElement(t),this.context.addElement(n)),e};function kn(t,e,n){this.model=t,this.type=t.getType(e),this.context=n}kn.prototype=Object.create(Gh.prototype);kn.prototype.addReference=function(t){this.context.addReference(t)};kn.prototype.handleText=function(t){var e=this.element,n=Qi(e),r=n.bodyProperty;if(!r)throw ia("unexpected body text <"+t+">");xu.prototype.handleText.call(this,t)};kn.prototype.handleEnd=function(){var t=this.body,e=this.element,n=Qi(e),r=n.bodyProperty;r&&t!==void 0&&(t=Bm(r.type,t),e.set(r.name,t))};kn.prototype.createElement=function(t){var e=t.attributes,n=this.type,r=Qi(n),a=this.context,s=new n({}),u=this.model,l;return nt(e,function(f,h){var p=r.propertiesByName[h],g;p&&p.isReference?p.isMany?(g=f.split(" "),nt(g,function(m){a.addReference({element:s,property:p.ns.name,id:m})})):a.addReference({element:s,property:p.ns.name,id:f}):(p?f=Bm(p.type,f):h!=="xmlns"&&(l=jn(h,r.ns.prefix),u.getPackage(l.prefix)&&a.addWarning({message:"unknown attribute <"+h+">",element:s,property:h,value:f})),s.set(h,f))}),s};kn.prototype.getPropertyForNode=function(t){var e=t.name,n=jn(e),r=this.type,a=this.model,s=Qi(r),u=n.name,l=s.propertiesByName[u],f,h;if(l&&!l.isAttr)return L2(l)&&(f=t.attributes[Xh],f)?(f=u3(f,a),h=a.getType(f),ct({},l,{effectiveType:Qi(h).name})):l;var p=a.getPackage(n.prefix);if(p){if(f=P2(n,p),h=a.getType(f),l=Ie(s.properties,function(g){return!g.isVirtual&&!g.isReference&&!g.isAttribute&&h.hasType(g.type)}),l)return ct({},l,{effectiveType:Qi(h).name})}else if(l=Ie(s.properties,function(g){return!g.isReference&&!g.isAttribute&&g.type==="Element"}),l)return l;throw ia("unrecognized element <"+n.name+">")};kn.prototype.toString=function(){return"ElementDescriptor["+Qi(this.type).name+"]"};kn.prototype.valueHandler=function(t,e){return new jm(t,e)};kn.prototype.referenceHandler=function(t){return new dl(t,this.context)};kn.prototype.handler=function(t){return t==="Element"?new au(this.model,t,this.context):new kn(this.model,t,this.context)};kn.prototype.handleChild=function(t){var e,n,r,a;if(e=this.getPropertyForNode(t),r=this.element,n=e.effectiveType||e.type,A2(n))return this.valueHandler(e,r);e.isReference?a=this.referenceHandler(e).handleNode(t):a=this.handler(n).handleNode(t);var s=a.element;return s!==void 0&&(e.isMany?r.get(e.name).push(s):r.set(e.name,s),e.isReference?(ct(s,{element:r}),this.context.addReference(s)):s.$parent=r),a};function km(t,e,n){kn.call(this,t,e,n)}km.prototype=Object.create(kn.prototype);km.prototype.createElement=function(t){var e=t.name,n=jn(e),r=this.model,a=this.type,s=r.getPackage(n.prefix),u=s&&P2(n,s)||e;if(!a.hasType(u))throw ia("unexpected element <"+t.originalName+">");return kn.prototype.createElement.call(this,t)};function au(t,e,n){this.model=t,this.context=n}au.prototype=Object.create(Gh.prototype);au.prototype.createElement=function(t){var e=t.name,n=jn(e),r=n.prefix,a=t.ns[r+"$uri"],s=t.attributes;return this.model.createAny(e,a,s)};au.prototype.handleChild=function(t){var e=new au(this.model,"Element",this.context).handleNode(t),n=this.element,r=e.element,a;return r!==void 0&&(a=n.$children=n.$children||[],a.push(r),r.$parent=n),e};au.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)};function zm(t){t instanceof Hr&&(t={model:t}),ct(this,{lax:!1},t)}zm.prototype.fromXML=function(t,e,n){var r=e.rootHandler;e instanceof kn?(r=e,e={}):typeof e=="string"?(r=this.handler(e),e={}):typeof r=="string"&&(r=this.handler(r));var a=this.model,s=this.lax,u=new c3(ct({},e,{rootHandler:r})),l=new R2({proxy:!0}),f=l3();r.context=u,f.push(r);function h(M,C,P){var B=C(),S=B.line,z=B.column,F=B.data;F.charAt(0)==="<"&&F.indexOf(" ")!==-1&&(F=F.slice(0,F.indexOf(" "))+">");var G="unparsable content "+(F?F+" ":"")+`detected
	line: `+S+`
	column: `+z+`
	nested error: `+M.message;if(P)return u.addWarning({message:G,error:M}),!0;throw ia(G)}function p(M,C){return h(M,C,!0)}function g(){var M=u.elementsById,C=u.references,P,B;for(P=0;B=C[P];P++){var S=B.element,z=M[B.id],F=Qi(S).propertiesByName[B.property];if(z||u.addWarning({message:"unresolved reference <"+B.id+">",element:B.element,property:B.property,value:B.id}),F.isMany){var G=S.get(F.name),q=G.indexOf(B);q===-1&&(q=G.length),z?G[q]=z:G.splice(q,1)}else S.set(F.name,z)}}function m(){f.pop().handleEnd()}var _=/^<\?xml /i,b=/ encoding="([^"]+)"/i,A=/^utf-8$/i;function R(M){if(_.test(M)){var C=b.exec(M),P=C&&C[1];!P||A.test(P)||u.addWarning({message:"unsupported document encoding <"+P+">, falling back to UTF-8"})}}function T(M,C){var P=f.peek();try{f.push(P.handleNode(M))}catch(B){h(B,C,s)&&f.push(new Im)}}function E(M,C){try{f.peek().handleText(M)}catch(P){p(P,C)}}function v(M,C){M.trim()&&E(M,C)}var w=a.getPackages().reduce(function(M,C){return M[C.uri]=C.prefix,M},{"http://www.w3.org/XML/1998/namespace":"xml"});return l.ns(w).on("openTag",function(M,C,P,B){var S=M.attrs||{},z=Object.keys(S).reduce(function(G,q){var dt=C(S[q]);return G[q]=dt,G},{}),F={name:M.name,originalName:M.originalName,attributes:z,ns:M.ns};T(F,B)}).on("question",R).on("closeTag",m).on("cdata",E).on("text",function(M,C,P){v(C(M),P)}).on("error",h).on("warn",p),new Promise(function(M,C){var P;try{l.parse(t),g()}catch(G){P=G}var B=r.element;!P&&!B&&(P=ia("failed to parse document as <"+r.type.$descriptor.name+">"));var S=u.warnings,z=u.references,F=u.elementsById;return P?(P.warnings=S,C(P)):M({rootElement:B,elementsById:F,references:z,warnings:S})})};zm.prototype.handler=function(t){return new km(this.model,t)};function l3(){var t=[];return Object.defineProperty(t,"peek",{value:function(){return this[this.length-1]}}),t}var f3=`<?xml version="1.0" encoding="UTF-8"?>
`,d3=/<|>|'|"|&|\n\r|\n/g,B2=/<|>|&/g;function h3(t){var e={},n={},r={},a=[],s=[];this.byUri=function(u){return n[u]||t&&t.byUri(u)},this.add=function(u,l){n[u.uri]=u,l?a.push(u):s.push(u),this.mapPrefix(u.prefix,u.uri)},this.uriByPrefix=function(u){return e[u||"xmlns"]},this.mapPrefix=function(u,l){e[u||"xmlns"]=l},this.getNSKey=function(u){return u.prefix!==void 0?u.uri+"|"+u.prefix:u.uri},this.logUsed=function(u){var l=u.uri,f=this.getNSKey(u);r[f]=this.byUri(l),t&&t.logUsed(u)},this.getUsed=function(u){function l(p){var g=f.getNSKey(p);return r[g]}var f=this,h=[].concat(a,s);return h.filter(l)}}function p3(t){return t.charAt(0).toLowerCase()+t.slice(1)}function g3(t,e){return N2(e)?p3(t):t}function I2(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function j2(t){return jr(t)?t:(t.prefix?t.prefix+":":"")+t.localName}function y3(t){return t.getUsed().filter(function(e){return e.prefix!=="xml"}).map(function(e){var n="xmlns"+(e.prefix?":"+e.prefix:"");return{name:n,value:e.uri}})}function v3(t,e){return e.isGeneric?ct({localName:e.ns.localName},t):ct({localName:g3(e.ns.localName,e.$pkg)},t)}function m3(t,e){return ct({localName:e.ns.localName},t)}function _3(t){var e=t.$descriptor;return an(e.properties,function(n){var r=n.name;if(n.isVirtual||!ol(t,r))return!1;var a=t[r];return a===n.default||a===null?!1:n.isMany?a.length:!0})}var x3={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},E3={"<":"lt",">":"gt","&":"amp"};function k2(t,e,n){return t=jr(t)?t:""+t,t.replace(e,function(r){return"&"+n[r]+";"})}function b3(t){return k2(t,d3,x3)}function w3(t){return k2(t,B2,E3)}function S3(t){return an(t,function(e){return e.isAttr})}function T3(t){return an(t,function(e){return!e.isAttr})}function $m(t){this.tagName=t}$m.prototype.build=function(t){return this.element=t,this};$m.prototype.serializeTo=function(t){t.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()};function rs(){}rs.prototype.serializeValue=rs.prototype.serializeTo=function(t){t.append(this.escape?w3(this.value):this.value)};rs.prototype.build=function(t,e){return this.value=e,t.type==="String"&&e.search(B2)!==-1&&(this.escape=!0),this};function Hm(t){this.tagName=t}I2(Hm,rs);Hm.prototype.serializeTo=function(t){t.appendIndent().append("<"+this.tagName+">"),this.serializeValue(t),t.append("</"+this.tagName+">").appendNewLine()};function Pe(t,e){this.body=[],this.attrs=[],this.parent=t,this.propertyDescriptor=e}Pe.prototype.build=function(t){this.element=t;var e=t.$descriptor,n=this.propertyDescriptor,r,a,s=e.isGeneric;return s?r=this.parseGeneric(t):r=this.parseNsAttributes(t),n?this.ns=this.nsPropertyTagName(n):this.ns=this.nsTagName(e),this.tagName=this.addTagName(this.ns),s||(a=_3(t),this.parseAttributes(S3(a)),this.parseContainments(T3(a))),this.parseGenericAttributes(t,r),this};Pe.prototype.nsTagName=function(t){var e=this.logNamespaceUsed(t.ns);return v3(e,t)};Pe.prototype.nsPropertyTagName=function(t){var e=this.logNamespaceUsed(t.ns);return m3(e,t)};Pe.prototype.isLocalNs=function(t){return t.uri===this.ns.uri};Pe.prototype.nsAttributeName=function(t){var e;if(jr(t)?e=jn(t):e=t.ns,t.inherited)return{localName:e.localName};var n=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:e.localName}:ct({localName:e.localName},n)};Pe.prototype.parseGeneric=function(t){var e=this,n=this.body,r=[];return nt(t,function(a,s){var u;s==="$body"?n.push(new rs().build({type:"String"},a)):s==="$children"?nt(a,function(l){n.push(new Pe(e).build(l))}):s.indexOf("$")!==0&&(u=e.parseNsAttribute(t,s,a),u&&r.push({name:s,value:a}))}),r};Pe.prototype.parseNsAttribute=function(t,e,n){var r=t.$model,a=jn(e),s;if(a.prefix==="xmlns"&&(s={prefix:a.localName,uri:n}),!a.prefix&&a.localName==="xmlns"&&(s={uri:n}),!s)return{name:e,value:n};if(r&&r.getPackage(n))this.logNamespace(s,!0,!0);else{var u=this.logNamespaceUsed(s,!0);this.getNamespaces().logUsed(u)}};Pe.prototype.parseNsAttributes=function(t,e){var n=this,r=t.$attrs,a=[];return nt(r,function(s,u){var l=n.parseNsAttribute(t,u,s);l&&a.push(l)}),a};Pe.prototype.parseGenericAttributes=function(t,e){var n=this;nt(e,function(r){if(r.name!==Xh)try{n.addAttribute(n.nsAttributeName(r.name),r.value)}catch(a){console.warn("missing namespace information for ",r.name,"=",r.value,"on",t,a)}})};Pe.prototype.parseContainments=function(t){var e=this,n=this.body,r=this.element;nt(t,function(a){var s=r.get(a.name),u=a.isReference,l=a.isMany;if(l||(s=[s]),a.isBody)n.push(new rs().build(a,s[0]));else if(A2(a.type))nt(s,function(p){n.push(new Hm(e.addTagName(e.nsPropertyTagName(a))).build(a,p))});else if(u)nt(s,function(p){n.push(new $m(e.addTagName(e.nsPropertyTagName(a))).build(p))});else{var f=L2(a),h=o3(a);nt(s,function(p){var g;f?g=new qh(e,a):h?g=new Pe(e,a):g=new Pe(e),n.push(g.build(p))})}})};Pe.prototype.getNamespaces=function(t){var e=this.namespaces,n=this.parent,r;return e||(r=n&&n.getNamespaces(),t||!r?this.namespaces=e=new h3(r):e=r),e};Pe.prototype.logNamespace=function(t,e,n){var r=this.getNamespaces(n),a=t.uri,s=t.prefix,u=r.byUri(a);return(!u||n)&&r.add(t,e),r.mapPrefix(s,a),t};Pe.prototype.logNamespaceUsed=function(t,e){var n=this.element,r=n.$model,a=this.getNamespaces(e),s=t.prefix,u=t.uri,l,f,h;if(!s&&!u)return{localName:t.localName};if(h=i3[s]||r&&(r.getPackage(s)||{}).uri,u=u||h||a.uriByPrefix(s),!u)throw new Error("no namespace uri given for prefix <"+s+">");if(t=a.byUri(u),!t){for(l=s,f=1;a.uriByPrefix(l);)l=s+"_"+f++;t=this.logNamespace({prefix:l,uri:u},h===u)}return s&&a.mapPrefix(s,u),t};Pe.prototype.parseAttributes=function(t){var e=this,n=this.element;nt(t,function(r){var a=n.get(r.name);if(r.isReference)if(!r.isMany)a=a.id;else{var s=[];nt(a,function(u){s.push(u.id)}),a=s.join(" ")}e.addAttribute(e.nsAttributeName(r),a)})};Pe.prototype.addTagName=function(t){var e=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(e),j2(t)};Pe.prototype.addAttribute=function(t,e){var n=this.attrs;jr(e)&&(e=b3(e));var r=YT(n,function(s){return s.name.localName===t.localName&&s.name.uri===t.uri&&s.name.prefix===t.prefix}),a={name:t,value:e};r!==-1?n.splice(r,1,a):n.push(a)};Pe.prototype.serializeAttributes=function(t){var e=this.attrs,n=this.namespaces;n&&(e=y3(n).concat(e)),nt(e,function(r){t.append(" ").append(j2(r.name)).append('="').append(r.value).append('"')})};Pe.prototype.serializeTo=function(t){var e=this.body[0],n=e&&e.constructor!==rs;t.appendIndent().append("<"+this.tagName),this.serializeAttributes(t),t.append(e?">":" />"),e&&(n&&t.appendNewLine().indent(),nt(this.body,function(r){r.serializeTo(t)}),n&&t.unindent().appendIndent(),t.append("</"+this.tagName+">")),t.appendNewLine()};function qh(t,e){Pe.call(this,t,e)}I2(qh,Pe);qh.prototype.parseNsAttributes=function(t){var e=Pe.prototype.parseNsAttributes.call(this,t),n=t.$descriptor;if(n.name===this.propertyDescriptor.type)return e;var r=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var a=t.$model.getPackage(r.uri),s=a.xml&&a.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(Xh),(r.prefix?r.prefix+":":"")+s+n.ns.localName),e};qh.prototype.isLocalNs=function(t){return t.uri===(this.typeNs||this.ns).uri};function C3(){this.value="",this.write=function(t){this.value+=t}}function M3(t,e){var n=[""];this.append=function(r){return t.write(r),this},this.appendNewLine=function(){return e&&t.write(`
`),this},this.appendIndent=function(){return e&&t.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}function A3(t){t=ct({format:!1,preamble:!0},t||{});function e(n,r){var a=r||new C3,s=new M3(a,t.format);if(t.preamble&&s.append(f3),new Pe().build(n).serializeTo(s),!r)return a.value}return{toXML:e}}function Vh(t,e){Hr.call(this,t,e)}Vh.prototype=Object.create(Hr.prototype);Vh.prototype.fromXML=function(t,e,n){jr(e)||(n=e,e="dcr:Definitions");var r=new zm(ct({model:this,lax:!1},n)),a=r.handler(e);return r.fromXML(t,a)};Vh.prototype.toXML=function(t,e){console.log(t);var n=new A3(e);return new Promise(function(r,a){try{var s=n.toXML(t);return r({xml:s})}catch(u){return a(u)}})};const O3="DCR Graph diagram",R3="http://tk/schema/dcr",N3="dcr",D3={tagAlias:"lowerCase"},L3=[{name:"BoardElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0}]},{name:"Event",superClass:["BoardElement"],properties:[{name:"role",isAttr:!0,type:"String"},{name:"description",isAttr:!0,type:"String"},{name:"included",isAttr:!0,type:"Boolean"},{name:"executed",isAttr:!0,type:"Boolean"},{name:"pending",isAttr:!0,type:"Boolean"},{name:"enabled",isAttr:!0,type:"Boolean"}]},{name:"Nesting",superClass:["BoardElement"],properties:[{name:"role",isAttr:!0,type:"String"},{name:"description",isAttr:!0,type:"String"},{name:"boardElements",type:"BoardElement",isMany:!0}]},{name:"SubProcess",superClass:["BoardElement"],properties:[{name:"description",isAttr:!0,type:"String"},{name:"boardElements",type:"BoardElement",isMany:!0},{name:"included",isAttr:!0,type:"Boolean"},{name:"executed",isAttr:!0,type:"Boolean"},{name:"pending",isAttr:!0,type:"Boolean"},{name:"multi-instance",isAttr:!0,type:"Boolean"}]},{name:"Relation",superClass:["BoardElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"sourceRef",isAttr:!0,isReference:!0,type:"Event"},{name:"targetRef",isAttr:!0,isReference:!0,type:"Event"}]},{name:"DcrGraph",superClass:["RootElement"],properties:[{name:"boardElements",isMany:!0,type:"BoardElement"}]},{name:"TextBox",superClass:["BoardElement"]},{name:"RootElement",isAbstract:!0,superClass:["BoardElement"]},{name:"Definitions",superClass:["BoardElement"],properties:[{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"rootElements",type:"RootElement",isMany:!0},{name:"rootBoards",isMany:!0,type:"dcrDi:DcrRootBoard"},{name:"exporter",isAttr:!0,type:"String"},{name:"exporterVersion",isAttr:!0,type:"String"}]}],P3={name:O3,uri:R3,prefix:N3,xml:D3,types:L3},B3="DCRDI",I3="http://tk/schema/dcrDi",j3="dcrDi",k3={tagAlias:"lowerCase"},z3=[{name:"DcrRootBoard",properties:[{name:"plane",type:"DcrPlane",redefines:"Board#rootElement"},{name:"labelStyle",type:"OdLabelStyle",isMany:!0}],superClass:["Board"]},{name:"DcrPlane",properties:[{name:"boardElement",isAttr:!0,isReference:!0,type:"dcr:BoardElement",redefines:"BoardElement#modelElement"}],superClass:["Plane"]},{name:"DcrShape",properties:[{name:"boardElement",isAttr:!0,isReference:!0,type:"dcr:BoardElement",redefines:"BoardElement#modelElement"},{name:"label",type:"OdLabel"}],superClass:["LabeledShape"]},{name:"Relation",properties:[{name:"label",type:"OdLabel"},{name:"boardElement",isAttr:!0,isReference:!0,type:"dcr:BoardElement",redefines:"BoardElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"dcr:BoardElement",redefines:"Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"dcr:BoardElement",redefines:"Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["LabeledEdge"]},{name:"OdLabel",properties:[{name:"labelStyle",type:"OdLabelStyle",isAttr:!0,isReference:!0,redefines:"BoardElement#style"}],superClass:["Label"]},{name:"OdLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["Style"]},{name:"BoardElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"owningBoard",type:"Board",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"BoardElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0}]},{name:"Node",isAbstract:!0,superClass:["BoardElement"]},{name:"Edge",isAbstract:!0,superClass:["BoardElement"],properties:[{name:"source",type:"dcr:BoardElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"dcr:BoardElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Board",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"BoardElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"BoardElement",subsettedProperty:"BoardElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"BoardElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"BoardElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],$3=[],H3=[],U3={name:B3,uri:I3,prefix:j3,xml:k3,types:z3,enumerations:$3,associations:H3},F3="dc",X3="http://www.omg.org/spec/DD/20100524/DC",G3="dc",q3=[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],V3=[],Y3={name:F3,uri:X3,prefix:G3,types:q3,associations:V3};var K3={dcr:P3,dcrDi:U3,dc:Y3};function Z3(t,e){var n=ct({},K3,t);return new Vh(n,e)}function fr(t){return t?"<"+t.$type+(t.id?' id="'+t.id:"")+'" />':"<null>"}var W3=new vu({name:"boardElement",enumerable:!0},{name:"di",configurable:!0});function Yv(t,e){return t.$instanceOf(e)}function Q3(t){return Ie(t.rootElements,function(e){return Yv(e,"dcr:DcrGraph")})}function J3(t,e){var n={},r=[];function a(E,v){return t.root(E,v)}function s(E,v){var w=E.gfx;if(w)throw new Error(e("already rendered {element}",{element:fr(E)}));var M=t.element(E,v);return E.boardElements&&A(E.boardElements,M),M}function u(E,v){try{var w=E.di&&s(E,v);return f(E),w}catch(M){l(M.message,{element:E,error:M}),console.error(e("failed to import {element}",{element:fr(E)})),console.error(M)}}function l(E,v){t.error(E,v)}function f(E){n[E.id]=E}function h(E){var v=E.boardElement;v?v.di?l(e("multiple DI elements defined for {element}",{element:fr(v)}),{element:v}):(W3.bind(v,"di"),v.di=E):l(e("no boardElement referenced in {element}",{element:fr(E)}),{element:E})}function p(E){g(E.plane)}function g(E){h(E),nt(E.planeElement,m)}function m(E){h(E)}function _(E,v){u(E,v)}function b(E,v){var w=E.rootBoards;if(v&&w.indexOf(v)===-1)throw new Error(e("rootBoard not part of dcr:Definitions"));if(!v&&w&&w.length&&(v=w[0]),!v)throw new Error(e("no rootBoard to display"));p(v);var M=v.plane;if(!M)throw new Error(e("no plane for {element}",{element:fr(v)}));var C=M.boardElement;if(!C)if(C=Q3(E),C)l(e("correcting missing boardElement on {plane} to {rootElement}",{plane:fr(M),rootElement:fr(C)})),M.boardElement=C,h(M);else throw new Error(e("no board to display"));var P=a(C,M);Yv(C,"dcr:DcrGraph")&&R(C,P),T()}function A(E,v){nt(E,function(w){Yv(w,"dcr:Relation")?r.push(function(){_(w,v)}):u(w,v)})}function R(E,v){A(E.boardElements,v),f(E)}function T(){for(var E;r.length;)E=r.shift(),E()}return{handleDeferred:T,handleDefinitions:b,registerDi:h}}function tL(t,e,n){var r,a,s,u,l=[];function f(h,p){var g={root:function(_){return r.add(_)},element:function(_,b){return r.add(_,b)},error:function(_,b){l.push({message:_,context:b})}},m=new J3(g,s);m.handleDefinitions(h,p)}return new Promise(function(h,p){try{return r=t.get("DCRImporter"),a=t.get("eventBus"),s=t.get("translate"),a.fire("import.render.start",{definitions:e}),f(e,n),a.fire("import.render.complete",{error:u,warnings:l}),h({warnings:l})}catch(g){return p(g)}})}var gi={},Gf={},fb;function Um(){return fb||(fb=1,(function(){Gf.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:`
`},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(Gf)),Gf}var qf={},yi={},vi={},db;function uo(){return db||(db=1,(function(){var t,e,n,r,a,s,u,l=[].slice,f={}.hasOwnProperty;t=function(){var h,p,g,m,_,b;if(b=arguments[0],_=2<=arguments.length?l.call(arguments,1):[],a(Object.assign))Object.assign.apply(null,arguments);else for(h=0,g=_.length;h<g;h++)if(m=_[h],m!=null)for(p in m)f.call(m,p)&&(b[p]=m[p]);return b},a=function(h){return!!h&&Object.prototype.toString.call(h)==="[object Function]"},s=function(h){var p;return!!h&&((p=typeof h)=="function"||p==="object")},n=function(h){return a(Array.isArray)?Array.isArray(h):Object.prototype.toString.call(h)==="[object Array]"},r=function(h){var p;if(n(h))return!h.length;for(p in h)if(f.call(h,p))return!1;return!0},u=function(h){var p,g;return s(h)&&(g=Object.getPrototypeOf(h))&&(p=g.constructor)&&typeof p=="function"&&p instanceof p&&Function.prototype.toString.call(p)===Function.prototype.toString.call(Object)},e=function(h){return a(h.valueOf)?h.valueOf():h},vi.assign=t,vi.isFunction=a,vi.isObject=s,vi.isArray=n,vi.isEmpty=r,vi.isPlainObject=u,vi.getValue=e}).call(vi)),vi}var md={exports:{}},eL=md.exports,hb;function z2(){return hb||(hb=1,(function(){md.exports=function(){function t(){}return t.prototype.hasFeature=function(e,n){return!0},t.prototype.createDocumentType=function(e,n,r){throw new Error("This DOM method is not implemented.")},t.prototype.createDocument=function(e,n,r){throw new Error("This DOM method is not implemented.")},t.prototype.createHTMLDocument=function(e){throw new Error("This DOM method is not implemented.")},t.prototype.getFeature=function(e,n){throw new Error("This DOM method is not implemented.")},t}()}).call(eL)),md.exports}var _d={exports:{}},xd={exports:{}},Ed={exports:{}},nL=Ed.exports,pb;function rL(){return pb||(pb=1,(function(){Ed.exports=function(){function t(){}return t.prototype.handleError=function(e){throw new Error(e)},t}()}).call(nL)),Ed.exports}var bd={exports:{}},iL=bd.exports,gb;function oL(){return gb||(gb=1,(function(){bd.exports=function(){function t(e){this.arr=e||[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.arr.length}}),t.prototype.item=function(e){return this.arr[e]||null},t.prototype.contains=function(e){return this.arr.indexOf(e)!==-1},t}()}).call(iL)),bd.exports}var aL=xd.exports,yb;function sL(){return yb||(yb=1,(function(){var t,e;t=rL(),e=oL(),xd.exports=function(){function n(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new t,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(n.prototype,"parameterNames",{get:function(){return new e(Object.keys(this.defaultParams))}}),n.prototype.getParameter=function(r){return this.params.hasOwnProperty(r)?this.params[r]:null},n.prototype.canSetParameter=function(r,a){return!0},n.prototype.setParameter=function(r,a){return a!=null?this.params[r]=a:delete this.params[r]},n}()}).call(aL)),xd.exports}var wd={exports:{}},Sd={exports:{}},Td={exports:{}},uL=Td.exports,vb;function sn(){return vb||(vb=1,(function(){Td.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(uL)),Td.exports}var Cd={exports:{}},cL=Cd.exports,mb;function $2(){return mb||(mb=1,(function(){var t;t=sn(),Ur(),Cd.exports=function(){function e(n,r,a){if(this.parent=n,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),r==null)throw new Error("Missing attribute name. "+this.debugInfo(r));this.name=this.stringify.name(r),this.value=this.stringify.attValue(a),this.type=t.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(e.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(n){return this.value=n||""}}),Object.defineProperty(e.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(e.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(e.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(e.prototype,"specified",{get:function(){return!0}}),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(n){return this.options.writer.attribute(this,this.options.writer.filterOptions(n))},e.prototype.debugInfo=function(n){return n=n||this.name,n==null?"parent: <"+this.parent.name+">":"attribute: {"+n+"}, parent: <"+this.parent.name+">"},e.prototype.isEqualNode=function(n){return!(n.namespaceURI!==this.namespaceURI||n.prefix!==this.prefix||n.localName!==this.localName||n.value!==this.value)},e}()}).call(cL)),Cd.exports}var Md={exports:{}},lL=Md.exports,_b;function Fm(){return _b||(_b=1,(function(){Md.exports=function(){function t(e){this.nodes=e}return Object.defineProperty(t.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.getNamedItem=function(e){return this.nodes[e]},t.prototype.setNamedItem=function(e){var n;return n=this.nodes[e.nodeName],this.nodes[e.nodeName]=e,n||null},t.prototype.removeNamedItem=function(e){var n;return n=this.nodes[e],delete this.nodes[e],n||null},t.prototype.item=function(e){return this.nodes[Object.keys(this.nodes)[e]]||null},t.prototype.getNamedItemNS=function(e,n){throw new Error("This DOM method is not implemented.")},t.prototype.setNamedItemNS=function(e){throw new Error("This DOM method is not implemented.")},t.prototype.removeNamedItemNS=function(e,n){throw new Error("This DOM method is not implemented.")},t}()}).call(lL)),Md.exports}var fL=Sd.exports,xb;function Xm(){return xb||(xb=1,(function(){var t,e,n,r,a,s,u,l,f=function(p,g){for(var m in g)h.call(g,m)&&(p[m]=g[m]);function _(){this.constructor=p}return _.prototype=g.prototype,p.prototype=new _,p.__super__=g.prototype,p},h={}.hasOwnProperty;l=uo(),u=l.isObject,s=l.isFunction,a=l.getValue,r=Ur(),t=sn(),e=$2(),n=Fm(),Sd.exports=function(p){f(g,p);function g(m,_,b){var A,R,T,E;if(g.__super__.constructor.call(this,m),_==null)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(_),this.type=t.Element,this.attribs={},this.schemaTypeInfo=null,b!=null&&this.attribute(b),m.type===t.Document&&(this.isRoot=!0,this.documentObject=m,m.rootObject=this,m.children)){for(E=m.children,R=0,T=E.length;R<T;R++)if(A=E[R],A.type===t.DocType){A.name=this.name;break}}}return Object.defineProperty(g.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(g.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(g.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(g.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(g.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(g.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(g.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(g.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new n(this.attribs)),this.attributeMap}}),g.prototype.clone=function(){var m,_,b,A;b=Object.create(this),b.isRoot&&(b.documentObject=null),b.attribs={},A=this.attribs;for(_ in A)h.call(A,_)&&(m=A[_],b.attribs[_]=m.clone());return b.children=[],this.children.forEach(function(R){var T;return T=R.clone(),T.parent=b,b.children.push(T)}),b},g.prototype.attribute=function(m,_){var b,A;if(m!=null&&(m=a(m)),u(m))for(b in m)h.call(m,b)&&(A=m[b],this.attribute(b,A));else s(_)&&(_=_.apply()),this.options.keepNullAttributes&&_==null?this.attribs[m]=new e(this,m,""):_!=null&&(this.attribs[m]=new e(this,m,_));return this},g.prototype.removeAttribute=function(m){var _,b,A;if(m==null)throw new Error("Missing attribute name. "+this.debugInfo());if(m=a(m),Array.isArray(m))for(b=0,A=m.length;b<A;b++)_=m[b],delete this.attribs[_];else delete this.attribs[m];return this},g.prototype.toString=function(m){return this.options.writer.element(this,this.options.writer.filterOptions(m))},g.prototype.att=function(m,_){return this.attribute(m,_)},g.prototype.a=function(m,_){return this.attribute(m,_)},g.prototype.getAttribute=function(m){return this.attribs.hasOwnProperty(m)?this.attribs[m].value:null},g.prototype.setAttribute=function(m,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getAttributeNode=function(m){return this.attribs.hasOwnProperty(m)?this.attribs[m]:null},g.prototype.setAttributeNode=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.removeAttributeNode=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getElementsByTagName=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getAttributeNS=function(m,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.setAttributeNS=function(m,_,b){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.removeAttributeNS=function(m,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getAttributeNodeNS=function(m,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.setAttributeNodeNS=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getElementsByTagNameNS=function(m,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.hasAttribute=function(m){return this.attribs.hasOwnProperty(m)},g.prototype.hasAttributeNS=function(m,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.setIdAttribute=function(m,_){return this.attribs.hasOwnProperty(m)?this.attribs[m].isId:_},g.prototype.setIdAttributeNS=function(m,_,b){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.setIdAttributeNode=function(m,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getElementsByTagName=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getElementsByTagNameNS=function(m,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.getElementsByClassName=function(m){throw new Error("This DOM method is not implemented."+this.debugInfo())},g.prototype.isEqualNode=function(m){var _,b,A;if(!g.__super__.isEqualNode.apply(this,arguments).isEqualNode(m)||m.namespaceURI!==this.namespaceURI||m.prefix!==this.prefix||m.localName!==this.localName||m.attribs.length!==this.attribs.length)return!1;for(_=b=0,A=this.attribs.length-1;0<=A?b<=A:b>=A;_=0<=A?++b:--b)if(!this.attribs[_].isEqualNode(m.attribs[_]))return!1;return!0},g}(r)}).call(fL)),Sd.exports}var Ad={exports:{}},Od={exports:{}},dL=Od.exports,Eb;function Yh(){return Eb||(Eb=1,(function(){var t,e=function(r,a){for(var s in a)n.call(a,s)&&(r[s]=a[s]);function u(){this.constructor=r}return u.prototype=a.prototype,r.prototype=new u,r.__super__=a.prototype,r},n={}.hasOwnProperty;t=Ur(),Od.exports=function(r){e(a,r);function a(s){a.__super__.constructor.call(this,s),this.value=""}return Object.defineProperty(a.prototype,"data",{get:function(){return this.value},set:function(s){return this.value=s||""}}),Object.defineProperty(a.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(a.prototype,"textContent",{get:function(){return this.value},set:function(s){return this.value=s||""}}),a.prototype.clone=function(){return Object.create(this)},a.prototype.substringData=function(s,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.appendData=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.insertData=function(s,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.deleteData=function(s,u){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.replaceData=function(s,u,l){throw new Error("This DOM method is not implemented."+this.debugInfo())},a.prototype.isEqualNode=function(s){return!(!a.__super__.isEqualNode.apply(this,arguments).isEqualNode(s)||s.data!==this.data)},a}(t)}).call(dL)),Od.exports}var hL=Ad.exports,bb;function Gm(){return bb||(bb=1,(function(){var t,e,n=function(a,s){for(var u in s)r.call(s,u)&&(a[u]=s[u]);function l(){this.constructor=a}return l.prototype=s.prototype,a.prototype=new l,a.__super__=s.prototype,a},r={}.hasOwnProperty;t=sn(),e=Yh(),Ad.exports=function(a){n(s,a);function s(u,l){if(s.__super__.constructor.call(this,u),l==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=t.CData,this.value=this.stringify.cdata(l)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(u){return this.options.writer.cdata(this,this.options.writer.filterOptions(u))},s}(e)}).call(hL)),Ad.exports}var Rd={exports:{}},pL=Rd.exports,wb;function qm(){return wb||(wb=1,(function(){var t,e,n=function(a,s){for(var u in s)r.call(s,u)&&(a[u]=s[u]);function l(){this.constructor=a}return l.prototype=s.prototype,a.prototype=new l,a.__super__=s.prototype,a},r={}.hasOwnProperty;t=sn(),e=Yh(),Rd.exports=function(a){n(s,a);function s(u,l){if(s.__super__.constructor.call(this,u),l==null)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=t.Comment,this.value=this.stringify.comment(l)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(u){return this.options.writer.comment(this,this.options.writer.filterOptions(u))},s}(e)}).call(pL)),Rd.exports}var Nd={exports:{}},gL=Nd.exports,Sb;function Vm(){return Sb||(Sb=1,(function(){var t,e,n,r=function(s,u){for(var l in u)a.call(u,l)&&(s[l]=u[l]);function f(){this.constructor=s}return f.prototype=u.prototype,s.prototype=new f,s.__super__=u.prototype,s},a={}.hasOwnProperty;n=uo().isObject,e=Ur(),t=sn(),Nd.exports=function(s){r(u,s);function u(l,f,h,p){var g;u.__super__.constructor.call(this,l),n(f)&&(g=f,f=g.version,h=g.encoding,p=g.standalone),f||(f="1.0"),this.type=t.Declaration,this.version=this.stringify.xmlVersion(f),h!=null&&(this.encoding=this.stringify.xmlEncoding(h)),p!=null&&(this.standalone=this.stringify.xmlStandalone(p))}return u.prototype.toString=function(l){return this.options.writer.declaration(this,this.options.writer.filterOptions(l))},u}(e)}).call(gL)),Nd.exports}var Dd={exports:{}},Ld={exports:{}},yL=Ld.exports,Tb;function Ym(){return Tb||(Tb=1,(function(){var t,e,n=function(a,s){for(var u in s)r.call(s,u)&&(a[u]=s[u]);function l(){this.constructor=a}return l.prototype=s.prototype,a.prototype=new l,a.__super__=s.prototype,a},r={}.hasOwnProperty;e=Ur(),t=sn(),Ld.exports=function(a){n(s,a);function s(u,l,f,h,p,g){if(s.__super__.constructor.call(this,u),l==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(f==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(l));if(!h)throw new Error("Missing DTD attribute type. "+this.debugInfo(l));if(!p)throw new Error("Missing DTD attribute default. "+this.debugInfo(l));if(p.indexOf("#")!==0&&(p="#"+p),!p.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(l));if(g&&!p.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(l));this.elementName=this.stringify.name(l),this.type=t.AttributeDeclaration,this.attributeName=this.stringify.name(f),this.attributeType=this.stringify.dtdAttType(h),g&&(this.defaultValue=this.stringify.dtdAttDefault(g)),this.defaultValueType=p}return s.prototype.toString=function(u){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(u))},s}(e)}).call(yL)),Ld.exports}var Pd={exports:{}},vL=Pd.exports,Cb;function Km(){return Cb||(Cb=1,(function(){var t,e,n,r=function(s,u){for(var l in u)a.call(u,l)&&(s[l]=u[l]);function f(){this.constructor=s}return f.prototype=u.prototype,s.prototype=new f,s.__super__=u.prototype,s},a={}.hasOwnProperty;n=uo().isObject,e=Ur(),t=sn(),Pd.exports=function(s){r(u,s);function u(l,f,h,p){if(u.__super__.constructor.call(this,l),h==null)throw new Error("Missing DTD entity name. "+this.debugInfo(h));if(p==null)throw new Error("Missing DTD entity value. "+this.debugInfo(h));if(this.pe=!!f,this.name=this.stringify.name(h),this.type=t.EntityDeclaration,!n(p))this.value=this.stringify.dtdEntityValue(p),this.internal=!0;else{if(!p.pubID&&!p.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(h));if(p.pubID&&!p.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(h));if(this.internal=!1,p.pubID!=null&&(this.pubID=this.stringify.dtdPubID(p.pubID)),p.sysID!=null&&(this.sysID=this.stringify.dtdSysID(p.sysID)),p.nData!=null&&(this.nData=this.stringify.dtdNData(p.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(h))}}return Object.defineProperty(u.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(u.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(u.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(u.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(u.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(u.prototype,"xmlVersion",{get:function(){return null}}),u.prototype.toString=function(l){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(l))},u}(e)}).call(vL)),Pd.exports}var Bd={exports:{}},mL=Bd.exports,Mb;function Zm(){return Mb||(Mb=1,(function(){var t,e,n=function(a,s){for(var u in s)r.call(s,u)&&(a[u]=s[u]);function l(){this.constructor=a}return l.prototype=s.prototype,a.prototype=new l,a.__super__=s.prototype,a},r={}.hasOwnProperty;e=Ur(),t=sn(),Bd.exports=function(a){n(s,a);function s(u,l,f){if(s.__super__.constructor.call(this,u),l==null)throw new Error("Missing DTD element name. "+this.debugInfo());f||(f="(#PCDATA)"),Array.isArray(f)&&(f="("+f.join(",")+")"),this.name=this.stringify.name(l),this.type=t.ElementDeclaration,this.value=this.stringify.dtdElementValue(f)}return s.prototype.toString=function(u){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(u))},s}(e)}).call(mL)),Bd.exports}var Id={exports:{}},_L=Id.exports,Ab;function Wm(){return Ab||(Ab=1,(function(){var t,e,n=function(a,s){for(var u in s)r.call(s,u)&&(a[u]=s[u]);function l(){this.constructor=a}return l.prototype=s.prototype,a.prototype=new l,a.__super__=s.prototype,a},r={}.hasOwnProperty;e=Ur(),t=sn(),Id.exports=function(a){n(s,a);function s(u,l,f){if(s.__super__.constructor.call(this,u),l==null)throw new Error("Missing DTD notation name. "+this.debugInfo(l));if(!f.pubID&&!f.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(l));this.name=this.stringify.name(l),this.type=t.NotationDeclaration,f.pubID!=null&&(this.pubID=this.stringify.dtdPubID(f.pubID)),f.sysID!=null&&(this.sysID=this.stringify.dtdSysID(f.sysID))}return Object.defineProperty(s.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(s.prototype,"systemId",{get:function(){return this.sysID}}),s.prototype.toString=function(u){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(u))},s}(e)}).call(_L)),Id.exports}var xL=Dd.exports,Ob;function Qm(){return Ob||(Ob=1,(function(){var t,e,n,r,a,s,u,l,f=function(p,g){for(var m in g)h.call(g,m)&&(p[m]=g[m]);function _(){this.constructor=p}return _.prototype=g.prototype,p.prototype=new _,p.__super__=g.prototype,p},h={}.hasOwnProperty;l=uo().isObject,u=Ur(),t=sn(),e=Ym(),r=Km(),n=Zm(),a=Wm(),s=Fm(),Dd.exports=function(p){f(g,p);function g(m,_,b){var A,R,T,E,v,w;if(g.__super__.constructor.call(this,m),this.type=t.DocType,m.children){for(E=m.children,R=0,T=E.length;R<T;R++)if(A=E[R],A.type===t.Element){this.name=A.name;break}}this.documentObject=m,l(_)&&(v=_,_=v.pubID,b=v.sysID),b==null&&(w=[_,b],b=w[0],_=w[1]),_!=null&&(this.pubID=this.stringify.dtdPubID(_)),b!=null&&(this.sysID=this.stringify.dtdSysID(b))}return Object.defineProperty(g.prototype,"entities",{get:function(){var m,_,b,A,R;for(A={},R=this.children,_=0,b=R.length;_<b;_++)m=R[_],m.type===t.EntityDeclaration&&!m.pe&&(A[m.name]=m);return new s(A)}}),Object.defineProperty(g.prototype,"notations",{get:function(){var m,_,b,A,R;for(A={},R=this.children,_=0,b=R.length;_<b;_++)m=R[_],m.type===t.NotationDeclaration&&(A[m.name]=m);return new s(A)}}),Object.defineProperty(g.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(g.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(g.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),g.prototype.element=function(m,_){var b;return b=new n(this,m,_),this.children.push(b),this},g.prototype.attList=function(m,_,b,A,R){var T;return T=new e(this,m,_,b,A,R),this.children.push(T),this},g.prototype.entity=function(m,_){var b;return b=new r(this,!1,m,_),this.children.push(b),this},g.prototype.pEntity=function(m,_){var b;return b=new r(this,!0,m,_),this.children.push(b),this},g.prototype.notation=function(m,_){var b;return b=new a(this,m,_),this.children.push(b),this},g.prototype.toString=function(m){return this.options.writer.docType(this,this.options.writer.filterOptions(m))},g.prototype.ele=function(m,_){return this.element(m,_)},g.prototype.att=function(m,_,b,A,R){return this.attList(m,_,b,A,R)},g.prototype.ent=function(m,_){return this.entity(m,_)},g.prototype.pent=function(m,_){return this.pEntity(m,_)},g.prototype.not=function(m,_){return this.notation(m,_)},g.prototype.up=function(){return this.root()||this.documentObject},g.prototype.isEqualNode=function(m){return!(!g.__super__.isEqualNode.apply(this,arguments).isEqualNode(m)||m.name!==this.name||m.publicId!==this.publicId||m.systemId!==this.systemId)},g}(u)}).call(xL)),Dd.exports}var jd={exports:{}},EL=jd.exports,Rb;function Jm(){return Rb||(Rb=1,(function(){var t,e,n=function(a,s){for(var u in s)r.call(s,u)&&(a[u]=s[u]);function l(){this.constructor=a}return l.prototype=s.prototype,a.prototype=new l,a.__super__=s.prototype,a},r={}.hasOwnProperty;t=sn(),e=Ur(),jd.exports=function(a){n(s,a);function s(u,l){if(s.__super__.constructor.call(this,u),l==null)throw new Error("Missing raw text. "+this.debugInfo());this.type=t.Raw,this.value=this.stringify.raw(l)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(u){return this.options.writer.raw(this,this.options.writer.filterOptions(u))},s}(e)}).call(EL)),jd.exports}var kd={exports:{}},bL=kd.exports,Nb;function t0(){return Nb||(Nb=1,(function(){var t,e,n=function(a,s){for(var u in s)r.call(s,u)&&(a[u]=s[u]);function l(){this.constructor=a}return l.prototype=s.prototype,a.prototype=new l,a.__super__=s.prototype,a},r={}.hasOwnProperty;t=sn(),e=Yh(),kd.exports=function(a){n(s,a);function s(u,l){if(s.__super__.constructor.call(this,u),l==null)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=t.Text,this.value=this.stringify.text(l)}return Object.defineProperty(s.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(s.prototype,"wholeText",{get:function(){var u,l,f;for(f="",l=this.previousSibling;l;)f=l.data+f,l=l.previousSibling;for(f+=this.data,u=this.nextSibling;u;)f=f+u.data,u=u.nextSibling;return f}}),s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(u){return this.options.writer.text(this,this.options.writer.filterOptions(u))},s.prototype.splitText=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.replaceWholeText=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},s}(e)}).call(bL)),kd.exports}var zd={exports:{}},wL=zd.exports,Db;function e0(){return Db||(Db=1,(function(){var t,e,n=function(a,s){for(var u in s)r.call(s,u)&&(a[u]=s[u]);function l(){this.constructor=a}return l.prototype=s.prototype,a.prototype=new l,a.__super__=s.prototype,a},r={}.hasOwnProperty;t=sn(),e=Yh(),zd.exports=function(a){n(s,a);function s(u,l,f){if(s.__super__.constructor.call(this,u),l==null)throw new Error("Missing instruction target. "+this.debugInfo());this.type=t.ProcessingInstruction,this.target=this.stringify.insTarget(l),this.name=this.target,f&&(this.value=this.stringify.insValue(f))}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(u){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(u))},s.prototype.isEqualNode=function(u){return!(!s.__super__.isEqualNode.apply(this,arguments).isEqualNode(u)||u.target!==this.target)},s}(e)}).call(wL)),zd.exports}var $d={exports:{}},SL=$d.exports,Lb;function H2(){return Lb||(Lb=1,(function(){var t,e,n=function(a,s){for(var u in s)r.call(s,u)&&(a[u]=s[u]);function l(){this.constructor=a}return l.prototype=s.prototype,a.prototype=new l,a.__super__=s.prototype,a},r={}.hasOwnProperty;e=Ur(),t=sn(),$d.exports=function(a){n(s,a);function s(u){s.__super__.constructor.call(this,u),this.type=t.Dummy}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(u){return""},s}(e)}).call(SL)),$d.exports}var Hd={exports:{}},TL=Hd.exports,Pb;function CL(){return Pb||(Pb=1,(function(){Hd.exports=function(){function t(e){this.nodes=e}return Object.defineProperty(t.prototype,"length",{get:function(){return this.nodes.length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.item=function(e){return this.nodes[e]||null},t}()}).call(TL)),Hd.exports}var Ud={exports:{}},ML=Ud.exports,Bb;function AL(){return Bb||(Bb=1,(function(){Ud.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(ML)),Ud.exports}var OL=wd.exports,Ib;function Ur(){return Ib||(Ib=1,(function(){var t,e,n,r,a,s,u,l,f,h,p,g,m,_,b,A,R,T={}.hasOwnProperty;R=uo(),A=R.isObject,b=R.isFunction,_=R.isEmpty,m=R.getValue,l=null,n=null,r=null,a=null,s=null,p=null,g=null,h=null,u=null,e=null,f=null,t=null,wd.exports=function(){function E(v){this.parent=v,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,l||(l=Xm(),n=Gm(),r=qm(),a=Vm(),s=Qm(),p=Jm(),g=t0(),h=e0(),u=H2(),e=sn(),f=CL(),Fm(),t=AL())}return Object.defineProperty(E.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(E.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(E.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(E.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(E.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new f(this.children)),this.childNodeList}}),Object.defineProperty(E.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(E.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(E.prototype,"previousSibling",{get:function(){var v;return v=this.parent.children.indexOf(this),this.parent.children[v-1]||null}}),Object.defineProperty(E.prototype,"nextSibling",{get:function(){var v;return v=this.parent.children.indexOf(this),this.parent.children[v+1]||null}}),Object.defineProperty(E.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(E.prototype,"textContent",{get:function(){var v,w,M,C,P;if(this.nodeType===e.Element||this.nodeType===e.DocumentFragment){for(P="",C=this.children,w=0,M=C.length;w<M;w++)v=C[w],v.textContent&&(P+=v.textContent);return P}else return null},set:function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),E.prototype.setParent=function(v){var w,M,C,P,B;for(this.parent=v,v&&(this.options=v.options,this.stringify=v.stringify),P=this.children,B=[],M=0,C=P.length;M<C;M++)w=P[M],B.push(w.setParent(this));return B},E.prototype.element=function(v,w,M){var C,P,B,S,z,F,G,q,dt,At,it;if(F=null,w===null&&M==null&&(dt=[{},null],w=dt[0],M=dt[1]),w==null&&(w={}),w=m(w),A(w)||(At=[w,M],M=At[0],w=At[1]),v!=null&&(v=m(v)),Array.isArray(v))for(B=0,G=v.length;B<G;B++)P=v[B],F=this.element(P);else if(b(v))F=this.element(v.apply());else if(A(v)){for(z in v)if(T.call(v,z))if(it=v[z],b(it)&&(it=it.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&z.indexOf(this.stringify.convertAttKey)===0)F=this.attribute(z.substr(this.stringify.convertAttKey.length),it);else if(!this.options.separateArrayItems&&Array.isArray(it)&&_(it))F=this.dummy();else if(A(it)&&_(it))F=this.element(z);else if(!this.options.keepNullNodes&&it==null)F=this.dummy();else if(!this.options.separateArrayItems&&Array.isArray(it))for(S=0,q=it.length;S<q;S++)P=it[S],C={},C[z]=P,F=this.element(C);else A(it)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&z.indexOf(this.stringify.convertTextKey)===0?F=this.element(it):(F=this.element(z),F.element(it)):F=this.element(z,it)}else!this.options.keepNullNodes&&M===null?F=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&v.indexOf(this.stringify.convertTextKey)===0?F=this.text(M):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&v.indexOf(this.stringify.convertCDataKey)===0?F=this.cdata(M):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&v.indexOf(this.stringify.convertCommentKey)===0?F=this.comment(M):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&v.indexOf(this.stringify.convertRawKey)===0?F=this.raw(M):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&v.indexOf(this.stringify.convertPIKey)===0?F=this.instruction(v.substr(this.stringify.convertPIKey.length),M):F=this.node(v,w,M);if(F==null)throw new Error("Could not create any elements with: "+v+". "+this.debugInfo());return F},E.prototype.insertBefore=function(v,w,M){var C,P,B,S,z;if(v!=null&&v.type)return B=v,S=w,B.setParent(this),S?(P=children.indexOf(S),z=children.splice(P),children.push(B),Array.prototype.push.apply(children,z)):children.push(B),B;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(v));return P=this.parent.children.indexOf(this),z=this.parent.children.splice(P),C=this.parent.element(v,w,M),Array.prototype.push.apply(this.parent.children,z),C},E.prototype.insertAfter=function(v,w,M){var C,P,B;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(v));return P=this.parent.children.indexOf(this),B=this.parent.children.splice(P+1),C=this.parent.element(v,w,M),Array.prototype.push.apply(this.parent.children,B),C},E.prototype.remove=function(){var v;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return v=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[v,v-v+1].concat([])),this.parent},E.prototype.node=function(v,w,M){var C,P;return v!=null&&(v=m(v)),w||(w={}),w=m(w),A(w)||(P=[w,M],M=P[0],w=P[1]),C=new l(this,v,w),M!=null&&C.text(M),this.children.push(C),C},E.prototype.text=function(v){var w;return A(v)&&this.element(v),w=new g(this,v),this.children.push(w),this},E.prototype.cdata=function(v){var w;return w=new n(this,v),this.children.push(w),this},E.prototype.comment=function(v){var w;return w=new r(this,v),this.children.push(w),this},E.prototype.commentBefore=function(v){var w,M;return w=this.parent.children.indexOf(this),M=this.parent.children.splice(w),this.parent.comment(v),Array.prototype.push.apply(this.parent.children,M),this},E.prototype.commentAfter=function(v){var w,M;return w=this.parent.children.indexOf(this),M=this.parent.children.splice(w+1),this.parent.comment(v),Array.prototype.push.apply(this.parent.children,M),this},E.prototype.raw=function(v){var w;return w=new p(this,v),this.children.push(w),this},E.prototype.dummy=function(){var v;return v=new u(this),v},E.prototype.instruction=function(v,w){var M,C,P,B,S;if(v!=null&&(v=m(v)),w!=null&&(w=m(w)),Array.isArray(v))for(B=0,S=v.length;B<S;B++)M=v[B],this.instruction(M);else if(A(v))for(M in v)T.call(v,M)&&(C=v[M],this.instruction(M,C));else b(w)&&(w=w.apply()),P=new h(this,v,w),this.children.push(P);return this},E.prototype.instructionBefore=function(v,w){var M,C;return M=this.parent.children.indexOf(this),C=this.parent.children.splice(M),this.parent.instruction(v,w),Array.prototype.push.apply(this.parent.children,C),this},E.prototype.instructionAfter=function(v,w){var M,C;return M=this.parent.children.indexOf(this),C=this.parent.children.splice(M+1),this.parent.instruction(v,w),Array.prototype.push.apply(this.parent.children,C),this},E.prototype.declaration=function(v,w,M){var C,P;return C=this.document(),P=new a(C,v,w,M),C.children.length===0?C.children.unshift(P):C.children[0].type===e.Declaration?C.children[0]=P:C.children.unshift(P),C.root()||C},E.prototype.dtd=function(v,w){var M,C,P,B,S,z,F,G,q,dt;for(C=this.document(),P=new s(C,v,w),q=C.children,B=S=0,F=q.length;S<F;B=++S)if(M=q[B],M.type===e.DocType)return C.children[B]=P,P;for(dt=C.children,B=z=0,G=dt.length;z<G;B=++z)if(M=dt[B],M.isRoot)return C.children.splice(B,0,P),P;return C.children.push(P),P},E.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},E.prototype.root=function(){var v;for(v=this;v;){if(v.type===e.Document)return v.rootObject;if(v.isRoot)return v;v=v.parent}},E.prototype.document=function(){var v;for(v=this;v;){if(v.type===e.Document)return v;v=v.parent}},E.prototype.end=function(v){return this.document().end(v)},E.prototype.prev=function(){var v;if(v=this.parent.children.indexOf(this),v<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[v-1]},E.prototype.next=function(){var v;if(v=this.parent.children.indexOf(this),v===-1||v===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[v+1]},E.prototype.importDocument=function(v){var w;return w=v.root().clone(),w.parent=this,w.isRoot=!1,this.children.push(w),this},E.prototype.debugInfo=function(v){var w,M;return v=v||this.name,v==null&&!((w=this.parent)!=null&&w.name)?"":v==null?"parent: <"+this.parent.name+">":(M=this.parent)!=null&&M.name?"node: <"+v+">, parent: <"+this.parent.name+">":"node: <"+v+">"},E.prototype.ele=function(v,w,M){return this.element(v,w,M)},E.prototype.nod=function(v,w,M){return this.node(v,w,M)},E.prototype.txt=function(v){return this.text(v)},E.prototype.dat=function(v){return this.cdata(v)},E.prototype.com=function(v){return this.comment(v)},E.prototype.ins=function(v,w){return this.instruction(v,w)},E.prototype.doc=function(){return this.document()},E.prototype.dec=function(v,w,M){return this.declaration(v,w,M)},E.prototype.e=function(v,w,M){return this.element(v,w,M)},E.prototype.n=function(v,w,M){return this.node(v,w,M)},E.prototype.t=function(v){return this.text(v)},E.prototype.d=function(v){return this.cdata(v)},E.prototype.c=function(v){return this.comment(v)},E.prototype.r=function(v){return this.raw(v)},E.prototype.i=function(v,w){return this.instruction(v,w)},E.prototype.u=function(){return this.up()},E.prototype.importXMLBuilder=function(v){return this.importDocument(v)},E.prototype.replaceChild=function(v,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.removeChild=function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.appendChild=function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.hasChildNodes=function(){return this.children.length!==0},E.prototype.cloneNode=function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.isSupported=function(v,w){return!0},E.prototype.hasAttributes=function(){return this.attribs.length!==0},E.prototype.compareDocumentPosition=function(v){var w,M;return w=this,w===v?0:this.document()!==v.document()?(M=t.Disconnected|t.ImplementationSpecific,Math.random()<.5?M|=t.Preceding:M|=t.Following,M):w.isAncestor(v)?t.Contains|t.Preceding:w.isDescendant(v)?t.Contains|t.Following:w.isPreceding(v)?t.Preceding:t.Following},E.prototype.isSameNode=function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.lookupPrefix=function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.isDefaultNamespace=function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.lookupNamespaceURI=function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.isEqualNode=function(v){var w,M,C;if(v.nodeType!==this.nodeType||v.children.length!==this.children.length)return!1;for(w=M=0,C=this.children.length-1;0<=C?M<=C:M>=C;w=0<=C?++M:--M)if(!this.children[w].isEqualNode(v.children[w]))return!1;return!0},E.prototype.getFeature=function(v,w){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.setUserData=function(v,w,M){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.getUserData=function(v){throw new Error("This DOM method is not implemented."+this.debugInfo())},E.prototype.contains=function(v){return v?v===this||this.isDescendant(v):!1},E.prototype.isDescendant=function(v){var w,M,C,P,B;for(B=this.children,C=0,P=B.length;C<P;C++)if(w=B[C],v===w||(M=w.isDescendant(v),M))return!0;return!1},E.prototype.isAncestor=function(v){return v.isDescendant(this)},E.prototype.isPreceding=function(v){var w,M;return w=this.treePosition(v),M=this.treePosition(this),w===-1||M===-1?!1:w<M},E.prototype.isFollowing=function(v){var w,M;return w=this.treePosition(v),M=this.treePosition(this),w===-1||M===-1?!1:w>M},E.prototype.treePosition=function(v){var w,M;return M=0,w=!1,this.foreachTreeNode(this.document(),function(C){if(M++,!w&&C===v)return w=!0}),w?M:-1},E.prototype.foreachTreeNode=function(v,w){var M,C,P,B,S;for(v||(v=this.document()),B=v.children,C=0,P=B.length;C<P;C++){if(M=B[C],S=w(M))return S;if(S=this.foreachTreeNode(M,w),S)return S}},E}()}).call(OL)),wd.exports}var Fd={exports:{}},RL=Fd.exports,jb;function U2(){return jb||(jb=1,(function(){var t=function(n,r){return function(){return n.apply(r,arguments)}},e={}.hasOwnProperty;Fd.exports=function(){function n(r){this.assertLegalName=t(this.assertLegalName,this),this.assertLegalChar=t(this.assertLegalChar,this);var a,s,u;r||(r={}),this.options=r,this.options.version||(this.options.version="1.0"),s=r.stringify||{};for(a in s)e.call(s,a)&&(u=s[a],this[a]=u)}return n.prototype.name=function(r){return this.options.noValidation?r:this.assertLegalName(""+r||"")},n.prototype.text=function(r){return this.options.noValidation?r:this.assertLegalChar(this.textEscape(""+r||""))},n.prototype.cdata=function(r){return this.options.noValidation?r:(r=""+r||"",r=r.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(r))},n.prototype.comment=function(r){if(this.options.noValidation)return r;if(r=""+r||"",r.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+r);return this.assertLegalChar(r)},n.prototype.raw=function(r){return this.options.noValidation?r:""+r||""},n.prototype.attValue=function(r){return this.options.noValidation?r:this.assertLegalChar(this.attEscape(r=""+r||""))},n.prototype.insTarget=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.insValue=function(r){if(this.options.noValidation)return r;if(r=""+r||"",r.match(/\?>/))throw new Error("Invalid processing instruction value: "+r);return this.assertLegalChar(r)},n.prototype.xmlVersion=function(r){if(this.options.noValidation)return r;if(r=""+r||"",!r.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+r);return r},n.prototype.xmlEncoding=function(r){if(this.options.noValidation)return r;if(r=""+r||"",!r.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+r);return this.assertLegalChar(r)},n.prototype.xmlStandalone=function(r){return this.options.noValidation?r:r?"yes":"no"},n.prototype.dtdPubID=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.dtdSysID=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.dtdElementValue=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.dtdAttType=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.dtdAttDefault=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.dtdEntityValue=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.dtdNData=function(r){return this.options.noValidation?r:this.assertLegalChar(""+r||"")},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(r){var a,s;if(this.options.noValidation)return r;if(a="",this.options.version==="1.0"){if(a=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,s=r.match(a))throw new Error("Invalid character in string: "+r+" at index "+s.index)}else if(this.options.version==="1.1"&&(a=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,s=r.match(a)))throw new Error("Invalid character in string: "+r+" at index "+s.index);return r},n.prototype.assertLegalName=function(r){var a;if(this.options.noValidation)return r;if(this.assertLegalChar(r),a=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!r.match(a))throw new Error("Invalid character in name");return r},n.prototype.textEscape=function(r){var a;return this.options.noValidation?r:(a=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(a,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},n.prototype.attEscape=function(r){var a;return this.options.noValidation?r:(a=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,r.replace(a,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},n}()}).call(RL)),Fd.exports}var Xd={exports:{}},Gd={exports:{}},qd={exports:{}},NL=qd.exports,kb;function Kh(){return kb||(kb=1,(function(){qd.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(NL)),qd.exports}var DL=Gd.exports,zb;function F2(){return zb||(zb=1,(function(){var t,e,n,r={}.hasOwnProperty;n=uo().assign,t=sn(),Vm(),Qm(),Gm(),qm(),Xm(),Jm(),t0(),e0(),H2(),Ym(),Zm(),Km(),Wm(),e=Kh(),Gd.exports=function(){function a(s){var u,l,f;s||(s={}),this.options=s,l=s.writer||{};for(u in l)r.call(l,u)&&(f=l[u],this["_"+u]=this[u],this[u]=f)}return a.prototype.filterOptions=function(s){var u,l,f,h,p,g,m,_;return s||(s={}),s=n({},this.options,s),u={writer:this},u.pretty=s.pretty||!1,u.allowEmpty=s.allowEmpty||!1,u.indent=(l=s.indent)!=null?l:"  ",u.newline=(f=s.newline)!=null?f:`
`,u.offset=(h=s.offset)!=null?h:0,u.dontPrettyTextNodes=(p=(g=s.dontPrettyTextNodes)!=null?g:s.dontprettytextnodes)!=null?p:0,u.spaceBeforeSlash=(m=(_=s.spaceBeforeSlash)!=null?_:s.spacebeforeslash)!=null?m:"",u.spaceBeforeSlash===!0&&(u.spaceBeforeSlash=" "),u.suppressPrettyCount=0,u.user={},u.state=e.None,u},a.prototype.indent=function(s,u,l){var f;return!u.pretty||u.suppressPrettyCount?"":u.pretty&&(f=(l||0)+u.offset+1,f>0)?new Array(f).join(u.indent):""},a.prototype.endline=function(s,u,l){return!u.pretty||u.suppressPrettyCount?"":u.newline},a.prototype.attribute=function(s,u,l){var f;return this.openAttribute(s,u,l),f=" "+s.name+'="'+s.value+'"',this.closeAttribute(s,u,l),f},a.prototype.cdata=function(s,u,l){var f;return this.openNode(s,u,l),u.state=e.OpenTag,f=this.indent(s,u,l)+"<![CDATA[",u.state=e.InsideTag,f+=s.value,u.state=e.CloseTag,f+="]]>"+this.endline(s,u,l),u.state=e.None,this.closeNode(s,u,l),f},a.prototype.comment=function(s,u,l){var f;return this.openNode(s,u,l),u.state=e.OpenTag,f=this.indent(s,u,l)+"<!-- ",u.state=e.InsideTag,f+=s.value,u.state=e.CloseTag,f+=" -->"+this.endline(s,u,l),u.state=e.None,this.closeNode(s,u,l),f},a.prototype.declaration=function(s,u,l){var f;return this.openNode(s,u,l),u.state=e.OpenTag,f=this.indent(s,u,l)+"<?xml",u.state=e.InsideTag,f+=' version="'+s.version+'"',s.encoding!=null&&(f+=' encoding="'+s.encoding+'"'),s.standalone!=null&&(f+=' standalone="'+s.standalone+'"'),u.state=e.CloseTag,f+=u.spaceBeforeSlash+"?>",f+=this.endline(s,u,l),u.state=e.None,this.closeNode(s,u,l),f},a.prototype.docType=function(s,u,l){var f,h,p,g,m;if(l||(l=0),this.openNode(s,u,l),u.state=e.OpenTag,g=this.indent(s,u,l),g+="<!DOCTYPE "+s.root().name,s.pubID&&s.sysID?g+=' PUBLIC "'+s.pubID+'" "'+s.sysID+'"':s.sysID&&(g+=' SYSTEM "'+s.sysID+'"'),s.children.length>0){for(g+=" [",g+=this.endline(s,u,l),u.state=e.InsideTag,m=s.children,h=0,p=m.length;h<p;h++)f=m[h],g+=this.writeChildNode(f,u,l+1);u.state=e.CloseTag,g+="]"}return u.state=e.CloseTag,g+=u.spaceBeforeSlash+">",g+=this.endline(s,u,l),u.state=e.None,this.closeNode(s,u,l),g},a.prototype.element=function(s,u,l){var f,h,p,g,m,_,b,A,R,T,E,v,w,M;l||(l=0),T=!1,E="",this.openNode(s,u,l),u.state=e.OpenTag,E+=this.indent(s,u,l)+"<"+s.name,v=s.attribs;for(R in v)r.call(v,R)&&(f=v[R],E+=this.attribute(f,u,l));if(p=s.children.length,g=p===0?null:s.children[0],p===0||s.children.every(function(C){return(C.type===t.Text||C.type===t.Raw)&&C.value===""}))u.allowEmpty?(E+=">",u.state=e.CloseTag,E+="</"+s.name+">"+this.endline(s,u,l)):(u.state=e.CloseTag,E+=u.spaceBeforeSlash+"/>"+this.endline(s,u,l));else if(u.pretty&&p===1&&(g.type===t.Text||g.type===t.Raw)&&g.value!=null)E+=">",u.state=e.InsideTag,u.suppressPrettyCount++,T=!0,E+=this.writeChildNode(g,u,l+1),u.suppressPrettyCount--,T=!1,u.state=e.CloseTag,E+="</"+s.name+">"+this.endline(s,u,l);else{if(u.dontPrettyTextNodes){for(w=s.children,m=0,b=w.length;m<b;m++)if(h=w[m],(h.type===t.Text||h.type===t.Raw)&&h.value!=null){u.suppressPrettyCount++,T=!0;break}}for(E+=">"+this.endline(s,u,l),u.state=e.InsideTag,M=s.children,_=0,A=M.length;_<A;_++)h=M[_],E+=this.writeChildNode(h,u,l+1);u.state=e.CloseTag,E+=this.indent(s,u,l)+"</"+s.name+">",T&&u.suppressPrettyCount--,E+=this.endline(s,u,l),u.state=e.None}return this.closeNode(s,u,l),E},a.prototype.writeChildNode=function(s,u,l){switch(s.type){case t.CData:return this.cdata(s,u,l);case t.Comment:return this.comment(s,u,l);case t.Element:return this.element(s,u,l);case t.Raw:return this.raw(s,u,l);case t.Text:return this.text(s,u,l);case t.ProcessingInstruction:return this.processingInstruction(s,u,l);case t.Dummy:return"";case t.Declaration:return this.declaration(s,u,l);case t.DocType:return this.docType(s,u,l);case t.AttributeDeclaration:return this.dtdAttList(s,u,l);case t.ElementDeclaration:return this.dtdElement(s,u,l);case t.EntityDeclaration:return this.dtdEntity(s,u,l);case t.NotationDeclaration:return this.dtdNotation(s,u,l);default:throw new Error("Unknown XML node type: "+s.constructor.name)}},a.prototype.processingInstruction=function(s,u,l){var f;return this.openNode(s,u,l),u.state=e.OpenTag,f=this.indent(s,u,l)+"<?",u.state=e.InsideTag,f+=s.target,s.value&&(f+=" "+s.value),u.state=e.CloseTag,f+=u.spaceBeforeSlash+"?>",f+=this.endline(s,u,l),u.state=e.None,this.closeNode(s,u,l),f},a.prototype.raw=function(s,u,l){var f;return this.openNode(s,u,l),u.state=e.OpenTag,f=this.indent(s,u,l),u.state=e.InsideTag,f+=s.value,u.state=e.CloseTag,f+=this.endline(s,u,l),u.state=e.None,this.closeNode(s,u,l),f},a.prototype.text=function(s,u,l){var f;return this.openNode(s,u,l),u.state=e.OpenTag,f=this.indent(s,u,l),u.state=e.InsideTag,f+=s.value,u.state=e.CloseTag,f+=this.endline(s,u,l),u.state=e.None,this.closeNode(s,u,l),f},a.prototype.dtdAttList=function(s,u,l){var f;return this.openNode(s,u,l),u.state=e.OpenTag,f=this.indent(s,u,l)+"<!ATTLIST",u.state=e.InsideTag,f+=" "+s.elementName+" "+s.attributeName+" "+s.attributeType,s.defaultValueType!=="#DEFAULT"&&(f+=" "+s.defaultValueType),s.defaultValue&&(f+=' "'+s.defaultValue+'"'),u.state=e.CloseTag,f+=u.spaceBeforeSlash+">"+this.endline(s,u,l),u.state=e.None,this.closeNode(s,u,l),f},a.prototype.dtdElement=function(s,u,l){var f;return this.openNode(s,u,l),u.state=e.OpenTag,f=this.indent(s,u,l)+"<!ELEMENT",u.state=e.InsideTag,f+=" "+s.name+" "+s.value,u.state=e.CloseTag,f+=u.spaceBeforeSlash+">"+this.endline(s,u,l),u.state=e.None,this.closeNode(s,u,l),f},a.prototype.dtdEntity=function(s,u,l){var f;return this.openNode(s,u,l),u.state=e.OpenTag,f=this.indent(s,u,l)+"<!ENTITY",u.state=e.InsideTag,s.pe&&(f+=" %"),f+=" "+s.name,s.value?f+=' "'+s.value+'"':(s.pubID&&s.sysID?f+=' PUBLIC "'+s.pubID+'" "'+s.sysID+'"':s.sysID&&(f+=' SYSTEM "'+s.sysID+'"'),s.nData&&(f+=" NDATA "+s.nData)),u.state=e.CloseTag,f+=u.spaceBeforeSlash+">"+this.endline(s,u,l),u.state=e.None,this.closeNode(s,u,l),f},a.prototype.dtdNotation=function(s,u,l){var f;return this.openNode(s,u,l),u.state=e.OpenTag,f=this.indent(s,u,l)+"<!NOTATION",u.state=e.InsideTag,f+=" "+s.name,s.pubID&&s.sysID?f+=' PUBLIC "'+s.pubID+'" "'+s.sysID+'"':s.pubID?f+=' PUBLIC "'+s.pubID+'"':s.sysID&&(f+=' SYSTEM "'+s.sysID+'"'),u.state=e.CloseTag,f+=u.spaceBeforeSlash+">"+this.endline(s,u,l),u.state=e.None,this.closeNode(s,u,l),f},a.prototype.openNode=function(s,u,l){},a.prototype.closeNode=function(s,u,l){},a.prototype.openAttribute=function(s,u,l){},a.prototype.closeAttribute=function(s,u,l){},a}()}).call(DL)),Gd.exports}var LL=Xd.exports,$b;function n0(){return $b||($b=1,(function(){var t,e=function(r,a){for(var s in a)n.call(a,s)&&(r[s]=a[s]);function u(){this.constructor=r}return u.prototype=a.prototype,r.prototype=new u,r.__super__=a.prototype,r},n={}.hasOwnProperty;t=F2(),Xd.exports=function(r){e(a,r);function a(s){a.__super__.constructor.call(this,s)}return a.prototype.document=function(s,u){var l,f,h,p,g;for(u=this.filterOptions(u),p="",g=s.children,f=0,h=g.length;f<h;f++)l=g[f],p+=this.writeChildNode(l,u,0);return u.pretty&&p.slice(-u.newline.length)===u.newline&&(p=p.slice(0,-u.newline.length)),p},a}(t)}).call(LL)),Xd.exports}var PL=_d.exports,Hb;function X2(){return Hb||(Hb=1,(function(){var t,e,n,r,a,s,u,l=function(h,p){for(var g in p)f.call(p,g)&&(h[g]=p[g]);function m(){this.constructor=h}return m.prototype=p.prototype,h.prototype=new m,h.__super__=p.prototype,h},f={}.hasOwnProperty;u=uo().isPlainObject,n=z2(),e=sL(),r=Ur(),t=sn(),s=U2(),a=n0(),_d.exports=function(h){l(p,h);function p(g){p.__super__.constructor.call(this,null),this.name="#document",this.type=t.Document,this.documentURI=null,this.domConfig=new e,g||(g={}),g.writer||(g.writer=new a),this.options=g,this.stringify=new s(g)}return Object.defineProperty(p.prototype,"implementation",{value:new n}),Object.defineProperty(p.prototype,"doctype",{get:function(){var g,m,_,b;for(b=this.children,m=0,_=b.length;m<_;m++)if(g=b[m],g.type===t.DocType)return g;return null}}),Object.defineProperty(p.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(p.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(p.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(p.prototype,"xmlEncoding",{get:function(){return this.children.length!==0&&this.children[0].type===t.Declaration?this.children[0].encoding:null}}),Object.defineProperty(p.prototype,"xmlStandalone",{get:function(){return this.children.length!==0&&this.children[0].type===t.Declaration?this.children[0].standalone==="yes":!1}}),Object.defineProperty(p.prototype,"xmlVersion",{get:function(){return this.children.length!==0&&this.children[0].type===t.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(p.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(p.prototype,"origin",{get:function(){return null}}),Object.defineProperty(p.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(p.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(p.prototype,"contentType",{get:function(){return null}}),p.prototype.end=function(g){var m;return m={},g?u(g)&&(m=g,g=this.options.writer):g=this.options.writer,g.document(this,g.filterOptions(m))},p.prototype.toString=function(g){return this.options.writer.document(this,this.options.writer.filterOptions(g))},p.prototype.createElement=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createTextNode=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createComment=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createCDATASection=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createProcessingInstruction=function(g,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createAttribute=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createEntityReference=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getElementsByTagName=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.importNode=function(g,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createElementNS=function(g,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createAttributeNS=function(g,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getElementsByTagNameNS=function(g,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getElementById=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.adoptNode=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.renameNode=function(g,m,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getElementsByClassName=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createEvent=function(g){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createNodeIterator=function(g,m,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.createTreeWalker=function(g,m,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},p}(r)}).call(PL)),_d.exports}var Vd={exports:{}},BL=Vd.exports,Ub;function IL(){return Ub||(Ub=1,(function(){var t,e,n,r,a,s,u,l,f,h,p,g,m,_,b,A,R,T,E,v,w,M,C,P={}.hasOwnProperty;C=uo(),w=C.isObject,v=C.isFunction,M=C.isPlainObject,E=C.getValue,t=sn(),g=X2(),m=Xm(),r=Gm(),a=qm(),b=Jm(),T=t0(),_=e0(),h=Vm(),p=Qm(),s=Ym(),l=Km(),u=Zm(),f=Wm(),n=$2(),R=U2(),A=n0(),e=Kh(),Vd.exports=function(){function B(S,z,F){var G;this.name="?xml",this.type=t.Document,S||(S={}),G={},S.writer?M(S.writer)&&(G=S.writer,S.writer=new A):S.writer=new A,this.options=S,this.writer=S.writer,this.writerOptions=this.writer.filterOptions(G),this.stringify=new R(S),this.onDataCallback=z||function(){},this.onEndCallback=F||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return B.prototype.createChildNode=function(S){var z,F,G,q,dt,At,it,gt;switch(S.type){case t.CData:this.cdata(S.value);break;case t.Comment:this.comment(S.value);break;case t.Element:G={},it=S.attribs;for(F in it)P.call(it,F)&&(z=it[F],G[F]=z.value);this.node(S.name,G);break;case t.Dummy:this.dummy();break;case t.Raw:this.raw(S.value);break;case t.Text:this.text(S.value);break;case t.ProcessingInstruction:this.instruction(S.target,S.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+S.constructor.name)}for(gt=S.children,dt=0,At=gt.length;dt<At;dt++)q=gt[dt],this.createChildNode(q),q.type===t.Element&&this.up();return this},B.prototype.dummy=function(){return this},B.prototype.node=function(S,z,F){var G;if(S==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(S));return this.openCurrent(),S=E(S),z==null&&(z={}),z=E(z),w(z)||(G=[z,F],F=G[0],z=G[1]),this.currentNode=new m(this,S,z),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,F!=null&&this.text(F),this},B.prototype.element=function(S,z,F){var G,q,dt,At,it,gt;if(this.currentNode&&this.currentNode.type===t.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(S)||w(S)||v(S))for(At=this.options.noValidation,this.options.noValidation=!0,gt=new g(this.options).element("TEMP_ROOT"),gt.element(S),this.options.noValidation=At,it=gt.children,q=0,dt=it.length;q<dt;q++)G=it[q],this.createChildNode(G),G.type===t.Element&&this.up();else this.node(S,z,F);return this},B.prototype.attribute=function(S,z){var F,G;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(S));if(S!=null&&(S=E(S)),w(S))for(F in S)P.call(S,F)&&(G=S[F],this.attribute(F,G));else v(z)&&(z=z.apply()),this.options.keepNullAttributes&&z==null?this.currentNode.attribs[S]=new n(this,S,""):z!=null&&(this.currentNode.attribs[S]=new n(this,S,z));return this},B.prototype.text=function(S){var z;return this.openCurrent(),z=new T(this,S),this.onData(this.writer.text(z,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},B.prototype.cdata=function(S){var z;return this.openCurrent(),z=new r(this,S),this.onData(this.writer.cdata(z,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},B.prototype.comment=function(S){var z;return this.openCurrent(),z=new a(this,S),this.onData(this.writer.comment(z,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},B.prototype.raw=function(S){var z;return this.openCurrent(),z=new b(this,S),this.onData(this.writer.raw(z,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},B.prototype.instruction=function(S,z){var F,G,q,dt,At;if(this.openCurrent(),S!=null&&(S=E(S)),z!=null&&(z=E(z)),Array.isArray(S))for(F=0,dt=S.length;F<dt;F++)G=S[F],this.instruction(G);else if(w(S))for(G in S)P.call(S,G)&&(q=S[G],this.instruction(G,q));else v(z)&&(z=z.apply()),At=new _(this,S,z),this.onData(this.writer.processingInstruction(At,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},B.prototype.declaration=function(S,z,F){var G;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return G=new h(this,S,z,F),this.onData(this.writer.declaration(G,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},B.prototype.doctype=function(S,z,F){if(this.openCurrent(),S==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new p(this,z,F),this.currentNode.rootNodeName=S,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},B.prototype.dtdElement=function(S,z){var F;return this.openCurrent(),F=new u(this,S,z),this.onData(this.writer.dtdElement(F,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},B.prototype.attList=function(S,z,F,G,q){var dt;return this.openCurrent(),dt=new s(this,S,z,F,G,q),this.onData(this.writer.dtdAttList(dt,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},B.prototype.entity=function(S,z){var F;return this.openCurrent(),F=new l(this,!1,S,z),this.onData(this.writer.dtdEntity(F,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},B.prototype.pEntity=function(S,z){var F;return this.openCurrent(),F=new l(this,!0,S,z),this.onData(this.writer.dtdEntity(F,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},B.prototype.notation=function(S,z){var F;return this.openCurrent(),F=new f(this,S,z),this.onData(this.writer.dtdNotation(F,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},B.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},B.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},B.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},B.prototype.openNode=function(S){var z,F,G,q;if(!S.isOpen){if(!this.root&&this.currentLevel===0&&S.type===t.Element&&(this.root=S),F="",S.type===t.Element){this.writerOptions.state=e.OpenTag,F=this.writer.indent(S,this.writerOptions,this.currentLevel)+"<"+S.name,q=S.attribs;for(G in q)P.call(q,G)&&(z=q[G],F+=this.writer.attribute(z,this.writerOptions,this.currentLevel));F+=(S.children?">":"/>")+this.writer.endline(S,this.writerOptions,this.currentLevel),this.writerOptions.state=e.InsideTag}else this.writerOptions.state=e.OpenTag,F=this.writer.indent(S,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+S.rootNodeName,S.pubID&&S.sysID?F+=' PUBLIC "'+S.pubID+'" "'+S.sysID+'"':S.sysID&&(F+=' SYSTEM "'+S.sysID+'"'),S.children?(F+=" [",this.writerOptions.state=e.InsideTag):(this.writerOptions.state=e.CloseTag,F+=">"),F+=this.writer.endline(S,this.writerOptions,this.currentLevel);return this.onData(F,this.currentLevel),S.isOpen=!0}},B.prototype.closeNode=function(S){var z;if(!S.isClosed)return z="",this.writerOptions.state=e.CloseTag,S.type===t.Element?z=this.writer.indent(S,this.writerOptions,this.currentLevel)+"</"+S.name+">"+this.writer.endline(S,this.writerOptions,this.currentLevel):z=this.writer.indent(S,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(S,this.writerOptions,this.currentLevel),this.writerOptions.state=e.None,this.onData(z,this.currentLevel),S.isClosed=!0},B.prototype.onData=function(S,z){return this.documentStarted=!0,this.onDataCallback(S,z+1)},B.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},B.prototype.debugInfo=function(S){return S==null?"":"node: <"+S+">"},B.prototype.ele=function(){return this.element.apply(this,arguments)},B.prototype.nod=function(S,z,F){return this.node(S,z,F)},B.prototype.txt=function(S){return this.text(S)},B.prototype.dat=function(S){return this.cdata(S)},B.prototype.com=function(S){return this.comment(S)},B.prototype.ins=function(S,z){return this.instruction(S,z)},B.prototype.dec=function(S,z,F){return this.declaration(S,z,F)},B.prototype.dtd=function(S,z,F){return this.doctype(S,z,F)},B.prototype.e=function(S,z,F){return this.element(S,z,F)},B.prototype.n=function(S,z,F){return this.node(S,z,F)},B.prototype.t=function(S){return this.text(S)},B.prototype.d=function(S){return this.cdata(S)},B.prototype.c=function(S){return this.comment(S)},B.prototype.r=function(S){return this.raw(S)},B.prototype.i=function(S,z){return this.instruction(S,z)},B.prototype.att=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},B.prototype.a=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},B.prototype.ent=function(S,z){return this.entity(S,z)},B.prototype.pent=function(S,z){return this.pEntity(S,z)},B.prototype.not=function(S,z){return this.notation(S,z)},B}()}).call(BL)),Vd.exports}var Yd={exports:{}},jL=Yd.exports,Fb;function kL(){return Fb||(Fb=1,(function(){var t,e,n,r=function(s,u){for(var l in u)a.call(u,l)&&(s[l]=u[l]);function f(){this.constructor=s}return f.prototype=u.prototype,s.prototype=new f,s.__super__=u.prototype,s},a={}.hasOwnProperty;t=sn(),n=F2(),e=Kh(),Yd.exports=function(s){r(u,s);function u(l,f){this.stream=l,u.__super__.constructor.call(this,f)}return u.prototype.endline=function(l,f,h){return l.isLastRootNode&&f.state===e.CloseTag?"":u.__super__.endline.call(this,l,f,h)},u.prototype.document=function(l,f){var h,p,g,m,_,b,A,R,T;for(A=l.children,p=g=0,_=A.length;g<_;p=++g)h=A[p],h.isLastRootNode=p===l.children.length-1;for(f=this.filterOptions(f),R=l.children,T=[],m=0,b=R.length;m<b;m++)h=R[m],T.push(this.writeChildNode(h,f,0));return T},u.prototype.attribute=function(l,f,h){return this.stream.write(u.__super__.attribute.call(this,l,f,h))},u.prototype.cdata=function(l,f,h){return this.stream.write(u.__super__.cdata.call(this,l,f,h))},u.prototype.comment=function(l,f,h){return this.stream.write(u.__super__.comment.call(this,l,f,h))},u.prototype.declaration=function(l,f,h){return this.stream.write(u.__super__.declaration.call(this,l,f,h))},u.prototype.docType=function(l,f,h){var p,g,m,_;if(h||(h=0),this.openNode(l,f,h),f.state=e.OpenTag,this.stream.write(this.indent(l,f,h)),this.stream.write("<!DOCTYPE "+l.root().name),l.pubID&&l.sysID?this.stream.write(' PUBLIC "'+l.pubID+'" "'+l.sysID+'"'):l.sysID&&this.stream.write(' SYSTEM "'+l.sysID+'"'),l.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(l,f,h)),f.state=e.InsideTag,_=l.children,g=0,m=_.length;g<m;g++)p=_[g],this.writeChildNode(p,f,h+1);f.state=e.CloseTag,this.stream.write("]")}return f.state=e.CloseTag,this.stream.write(f.spaceBeforeSlash+">"),this.stream.write(this.endline(l,f,h)),f.state=e.None,this.closeNode(l,f,h)},u.prototype.element=function(l,f,h){var p,g,m,_,b,A,R,T,E;h||(h=0),this.openNode(l,f,h),f.state=e.OpenTag,this.stream.write(this.indent(l,f,h)+"<"+l.name),T=l.attribs;for(R in T)a.call(T,R)&&(p=T[R],this.attribute(p,f,h));if(m=l.children.length,_=m===0?null:l.children[0],m===0||l.children.every(function(v){return(v.type===t.Text||v.type===t.Raw)&&v.value===""}))f.allowEmpty?(this.stream.write(">"),f.state=e.CloseTag,this.stream.write("</"+l.name+">")):(f.state=e.CloseTag,this.stream.write(f.spaceBeforeSlash+"/>"));else if(f.pretty&&m===1&&(_.type===t.Text||_.type===t.Raw)&&_.value!=null)this.stream.write(">"),f.state=e.InsideTag,f.suppressPrettyCount++,this.writeChildNode(_,f,h+1),f.suppressPrettyCount--,f.state=e.CloseTag,this.stream.write("</"+l.name+">");else{for(this.stream.write(">"+this.endline(l,f,h)),f.state=e.InsideTag,E=l.children,b=0,A=E.length;b<A;b++)g=E[b],this.writeChildNode(g,f,h+1);f.state=e.CloseTag,this.stream.write(this.indent(l,f,h)+"</"+l.name+">")}return this.stream.write(this.endline(l,f,h)),f.state=e.None,this.closeNode(l,f,h)},u.prototype.processingInstruction=function(l,f,h){return this.stream.write(u.__super__.processingInstruction.call(this,l,f,h))},u.prototype.raw=function(l,f,h){return this.stream.write(u.__super__.raw.call(this,l,f,h))},u.prototype.text=function(l,f,h){return this.stream.write(u.__super__.text.call(this,l,f,h))},u.prototype.dtdAttList=function(l,f,h){return this.stream.write(u.__super__.dtdAttList.call(this,l,f,h))},u.prototype.dtdElement=function(l,f,h){return this.stream.write(u.__super__.dtdElement.call(this,l,f,h))},u.prototype.dtdEntity=function(l,f,h){return this.stream.write(u.__super__.dtdEntity.call(this,l,f,h))},u.prototype.dtdNotation=function(l,f,h){return this.stream.write(u.__super__.dtdNotation.call(this,l,f,h))},u}(n)}).call(jL)),Yd.exports}var Xb;function zL(){return Xb||(Xb=1,(function(){var t,e,n,r,a,s,u,l,f,h;h=uo(),l=h.assign,f=h.isFunction,n=z2(),r=X2(),a=IL(),u=n0(),s=kL(),t=sn(),e=Kh(),yi.create=function(p,g,m,_){var b,A;if(p==null)throw new Error("Root element needs a name.");return _=l({},g,m,_),b=new r(_),A=b.element(p),_.headless||(b.declaration(_),(_.pubID!=null||_.sysID!=null)&&b.dtd(_)),A},yi.begin=function(p,g,m){var _;return f(p)&&(_=[p,g],g=_[0],m=_[1],p={}),g?new a(p,g,m):new r(p)},yi.stringWriter=function(p){return new u(p)},yi.streamWriter=function(p,g){return new s(p,g)},yi.implementation=new n,yi.nodeType=t,yi.writerState=e}).call(yi)),yi}var Gb;function $L(){return Gb||(Gb=1,(function(){var t,e,n,r,a,s={}.hasOwnProperty;t=zL(),e=Um().defaults,r=function(u){return typeof u=="string"&&(u.indexOf("&")>=0||u.indexOf(">")>=0||u.indexOf("<")>=0)},a=function(u){return"<![CDATA["+n(u)+"]]>"},n=function(u){return u.replace("]]>","]]]]><![CDATA[>")},qf.Builder=function(){function u(l){var f,h,p;this.options={},h=e["0.2"];for(f in h)s.call(h,f)&&(p=h[f],this.options[f]=p);for(f in l)s.call(l,f)&&(p=l[f],this.options[f]=p)}return u.prototype.buildObject=function(l){var f,h,p,g,m;return f=this.options.attrkey,h=this.options.charkey,Object.keys(l).length===1&&this.options.rootName===e["0.2"].rootName?(m=Object.keys(l)[0],l=l[m]):m=this.options.rootName,p=function(_){return function(b,A){var R,T,E,v,w,M;if(typeof A!="object")_.options.cdata&&r(A)?b.raw(a(A)):b.txt(A);else if(Array.isArray(A)){for(v in A)if(s.call(A,v)){T=A[v];for(w in T)E=T[w],b=p(b.ele(w),E).up()}}else for(w in A)if(s.call(A,w))if(T=A[w],w===f){if(typeof T=="object")for(R in T)M=T[R],b=b.att(R,M)}else if(w===h)_.options.cdata&&r(T)?b=b.raw(a(T)):b=b.txt(T);else if(Array.isArray(T))for(v in T)s.call(T,v)&&(E=T[v],typeof E=="string"?_.options.cdata&&r(E)?b=b.ele(w).raw(a(E)).up():b=b.ele(w,E).up():b=p(b.ele(w),E).up());else typeof T=="object"?b=p(b.ele(w),T).up():typeof T=="string"&&_.options.cdata&&r(T)?b=b.ele(w).raw(a(T)).up():(T==null&&(T=""),b=b.ele(w,T.toString()).up());return b}}(this),g=t.create(m,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),p(g,l).end(this.options.renderOpts)},u}()}).call(qf)),qf}var Vf={},Uy={},Fy={exports:{}},qb;function HL(){return qb||(qb=1,function(t){function e(r){if(r)return n(r);this._callbacks=new Map}function n(r){return Object.assign(r,e.prototype),r._callbacks=new Map,r}e.prototype.on=function(r,a){const s=this._callbacks.get(r)??[];return s.push(a),this._callbacks.set(r,s),this},e.prototype.once=function(r,a){const s=(...u)=>{this.off(r,s),a.apply(this,u)};return s.fn=a,this.on(r,s),this},e.prototype.off=function(r,a){if(r===void 0&&a===void 0)return this._callbacks.clear(),this;if(a===void 0)return this._callbacks.delete(r),this;const s=this._callbacks.get(r);if(s){for(const[u,l]of s.entries())if(l===a||l.fn===a){s.splice(u,1);break}s.length===0?this._callbacks.delete(r):this._callbacks.set(r,s)}return this},e.prototype.emit=function(r,...a){const s=this._callbacks.get(r);if(s){const u=[...s];for(const l of u)l.apply(this,a)}return this},e.prototype.listeners=function(r){return this._callbacks.get(r)??[]},e.prototype.listenerCount=function(r){if(r)return this.listeners(r).length;let a=0;for(const s of this._callbacks.values())a+=s.length;return a},e.prototype.hasListeners=function(r){return this.listenerCount(r)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(Fy)),Fy.exports}var Xy,Vb;function UL(){if(Vb)return Xy;Vb=1;var t=HL();function e(){t.call(this)}return e.prototype=new t,Xy=e,e.Stream=e,e.prototype.pipe=function(n,r){var a=this;function s(m){n.writable&&n.write(m)===!1&&a.pause&&a.pause()}a.on("data",s);function u(){a.readable&&a.resume&&a.resume()}n.on("drain",u),!n._isStdio&&(!r||r.end!==!1)&&(a.on("end",f),a.on("close",h));var l=!1;function f(){l||(l=!0,n.end())}function h(){l||(l=!0,typeof n.destroy=="function"&&n.destroy())}function p(m){if(g(),!this.hasListeners("error"))throw m}a.on("error",p),n.on("error",p);function g(){a.off("data",s),n.off("drain",u),a.off("end",f),a.off("close",h),a.off("error",p),n.off("error",p),a.off("end",g),a.off("close",g),n.off("end",g),n.off("close",g)}return a.on("end",g),a.on("close",g),n.on("end",g),n.on("close",g),n.emit("pipe",a),n},Xy}var Gy={},Yf={exports:{}},qy={},Dc={},Yb;function FL(){if(Yb)return Dc;Yb=1,Dc.byteLength=l,Dc.toByteArray=h,Dc.fromByteArray=m;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=r.length;a<s;++a)t[a]=r[a],e[r.charCodeAt(a)]=a;e[45]=62,e[95]=63;function u(_){var b=_.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var A=_.indexOf("=");A===-1&&(A=b);var R=A===b?0:4-A%4;return[A,R]}function l(_){var b=u(_),A=b[0],R=b[1];return(A+R)*3/4-R}function f(_,b,A){return(b+A)*3/4-A}function h(_){var b,A=u(_),R=A[0],T=A[1],E=new n(f(_,R,T)),v=0,w=T>0?R-4:R,M;for(M=0;M<w;M+=4)b=e[_.charCodeAt(M)]<<18|e[_.charCodeAt(M+1)]<<12|e[_.charCodeAt(M+2)]<<6|e[_.charCodeAt(M+3)],E[v++]=b>>16&255,E[v++]=b>>8&255,E[v++]=b&255;return T===2&&(b=e[_.charCodeAt(M)]<<2|e[_.charCodeAt(M+1)]>>4,E[v++]=b&255),T===1&&(b=e[_.charCodeAt(M)]<<10|e[_.charCodeAt(M+1)]<<4|e[_.charCodeAt(M+2)]>>2,E[v++]=b>>8&255,E[v++]=b&255),E}function p(_){return t[_>>18&63]+t[_>>12&63]+t[_>>6&63]+t[_&63]}function g(_,b,A){for(var R,T=[],E=b;E<A;E+=3)R=(_[E]<<16&16711680)+(_[E+1]<<8&65280)+(_[E+2]&255),T.push(p(R));return T.join("")}function m(_){for(var b,A=_.length,R=A%3,T=[],E=16383,v=0,w=A-R;v<w;v+=E)T.push(g(_,v,v+E>w?w:v+E));return R===1?(b=_[A-1],T.push(t[b>>2]+t[b<<4&63]+"==")):R===2&&(b=(_[A-2]<<8)+_[A-1],T.push(t[b>>10]+t[b>>4&63]+t[b<<2&63]+"=")),T.join("")}return Dc}var Kf={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Kb;function XL(){return Kb||(Kb=1,Kf.read=function(t,e,n,r,a){var s,u,l=a*8-r-1,f=(1<<l)-1,h=f>>1,p=-7,g=n?a-1:0,m=n?-1:1,_=t[e+g];for(g+=m,s=_&(1<<-p)-1,_>>=-p,p+=l;p>0;s=s*256+t[e+g],g+=m,p-=8);for(u=s&(1<<-p)-1,s>>=-p,p+=r;p>0;u=u*256+t[e+g],g+=m,p-=8);if(s===0)s=1-h;else{if(s===f)return u?NaN:(_?-1:1)*(1/0);u=u+Math.pow(2,r),s=s-h}return(_?-1:1)*u*Math.pow(2,s-r)},Kf.write=function(t,e,n,r,a,s){var u,l,f,h=s*8-a-1,p=(1<<h)-1,g=p>>1,m=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=r?0:s-1,b=r?1:-1,A=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,u=p):(u=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-u))<1&&(u--,f*=2),u+g>=1?e+=m/f:e+=m*Math.pow(2,1-g),e*f>=2&&(u++,f/=2),u+g>=p?(l=0,u=p):u+g>=1?(l=(e*f-1)*Math.pow(2,a),u=u+g):(l=e*Math.pow(2,g-1)*Math.pow(2,a),u=0));a>=8;t[n+_]=l&255,_+=b,l/=256,a-=8);for(u=u<<a|l,h+=a;h>0;t[n+_]=u&255,_+=b,u/=256,h-=8);t[n+_-b]|=A*128}),Kf}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Zb;function GL(){return Zb||(Zb=1,function(t){const e=FL(),n=XL(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=E,t.INSPECT_MAX_BYTES=50;const a=2147483647;t.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const k=new Uint8Array(1),O={foo:function(){return 42}};return Object.setPrototypeOf(O,Uint8Array.prototype),Object.setPrototypeOf(k,O),k.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function u(k){if(k>a)throw new RangeError('The value "'+k+'" is invalid for option "size"');const O=new Uint8Array(k);return Object.setPrototypeOf(O,l.prototype),O}function l(k,O,N){if(typeof k=="number"){if(typeof O=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(k)}return f(k,O,N)}l.poolSize=8192;function f(k,O,N){if(typeof k=="string")return m(k,O);if(ArrayBuffer.isView(k))return b(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(Gt(k,ArrayBuffer)||k&&Gt(k.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Gt(k,SharedArrayBuffer)||k&&Gt(k.buffer,SharedArrayBuffer)))return A(k,O,N);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const V=k.valueOf&&k.valueOf();if(V!=null&&V!==k)return l.from(V,O,N);const J=R(k);if(J)return J;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return l.from(k[Symbol.toPrimitive]("string"),O,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}l.from=function(k,O,N){return f(k,O,N)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function h(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function p(k,O,N){return h(k),k<=0?u(k):O!==void 0?typeof N=="string"?u(k).fill(O,N):u(k).fill(O):u(k)}l.alloc=function(k,O,N){return p(k,O,N)};function g(k){return h(k),u(k<0?0:T(k)|0)}l.allocUnsafe=function(k){return g(k)},l.allocUnsafeSlow=function(k){return g(k)};function m(k,O){if((typeof O!="string"||O==="")&&(O="utf8"),!l.isEncoding(O))throw new TypeError("Unknown encoding: "+O);const N=v(k,O)|0;let V=u(N);const J=V.write(k,O);return J!==N&&(V=V.slice(0,J)),V}function _(k){const O=k.length<0?0:T(k.length)|0,N=u(O);for(let V=0;V<O;V+=1)N[V]=k[V]&255;return N}function b(k){if(Gt(k,Uint8Array)){const O=new Uint8Array(k);return A(O.buffer,O.byteOffset,O.byteLength)}return _(k)}function A(k,O,N){if(O<0||k.byteLength<O)throw new RangeError('"offset" is outside of buffer bounds');if(k.byteLength<O+(N||0))throw new RangeError('"length" is outside of buffer bounds');let V;return O===void 0&&N===void 0?V=new Uint8Array(k):N===void 0?V=new Uint8Array(k,O):V=new Uint8Array(k,O,N),Object.setPrototypeOf(V,l.prototype),V}function R(k){if(l.isBuffer(k)){const O=T(k.length)|0,N=u(O);return N.length===0||k.copy(N,0,0,O),N}if(k.length!==void 0)return typeof k.length!="number"||fe(k.length)?u(0):_(k);if(k.type==="Buffer"&&Array.isArray(k.data))return _(k.data)}function T(k){if(k>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return k|0}function E(k){return+k!=k&&(k=0),l.alloc(+k)}l.isBuffer=function(O){return O!=null&&O._isBuffer===!0&&O!==l.prototype},l.compare=function(O,N){if(Gt(O,Uint8Array)&&(O=l.from(O,O.offset,O.byteLength)),Gt(N,Uint8Array)&&(N=l.from(N,N.offset,N.byteLength)),!l.isBuffer(O)||!l.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(O===N)return 0;let V=O.length,J=N.length;for(let ft=0,_t=Math.min(V,J);ft<_t;++ft)if(O[ft]!==N[ft]){V=O[ft],J=N[ft];break}return V<J?-1:J<V?1:0},l.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(O,N){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return l.alloc(0);let V;if(N===void 0)for(N=0,V=0;V<O.length;++V)N+=O[V].length;const J=l.allocUnsafe(N);let ft=0;for(V=0;V<O.length;++V){let _t=O[V];if(Gt(_t,Uint8Array))ft+_t.length>J.length?(l.isBuffer(_t)||(_t=l.from(_t)),_t.copy(J,ft)):Uint8Array.prototype.set.call(J,_t,ft);else if(l.isBuffer(_t))_t.copy(J,ft);else throw new TypeError('"list" argument must be an Array of Buffers');ft+=_t.length}return J};function v(k,O){if(l.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||Gt(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);const N=k.length,V=arguments.length>2&&arguments[2]===!0;if(!V&&N===0)return 0;let J=!1;for(;;)switch(O){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return Lt(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N*2;case"hex":return N>>>1;case"base64":return It(k).length;default:if(J)return V?-1:Lt(k).length;O=(""+O).toLowerCase(),J=!0}}l.byteLength=v;function w(k,O,N){let V=!1;if((O===void 0||O<0)&&(O=0),O>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0,O>>>=0,N<=O))return"";for(k||(k="utf8");;)switch(k){case"hex":return zt(this,O,N);case"utf8":case"utf-8":return dt(this,O,N);case"ascii":return gt(this,O,N);case"latin1":case"binary":return Nt(this,O,N);case"base64":return q(this,O,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,O,N);default:if(V)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),V=!0}}l.prototype._isBuffer=!0;function M(k,O,N){const V=k[O];k[O]=k[N],k[N]=V}l.prototype.swap16=function(){const O=this.length;if(O%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let N=0;N<O;N+=2)M(this,N,N+1);return this},l.prototype.swap32=function(){const O=this.length;if(O%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let N=0;N<O;N+=4)M(this,N,N+3),M(this,N+1,N+2);return this},l.prototype.swap64=function(){const O=this.length;if(O%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let N=0;N<O;N+=8)M(this,N,N+7),M(this,N+1,N+6),M(this,N+2,N+5),M(this,N+3,N+4);return this},l.prototype.toString=function(){const O=this.length;return O===0?"":arguments.length===0?dt(this,0,O):w.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(O){if(!l.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O?!0:l.compare(this,O)===0},l.prototype.inspect=function(){let O="";const N=t.INSPECT_MAX_BYTES;return O=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(O+=" ... "),"<Buffer "+O+">"},r&&(l.prototype[r]=l.prototype.inspect),l.prototype.compare=function(O,N,V,J,ft){if(Gt(O,Uint8Array)&&(O=l.from(O,O.offset,O.byteLength)),!l.isBuffer(O))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof O);if(N===void 0&&(N=0),V===void 0&&(V=O?O.length:0),J===void 0&&(J=0),ft===void 0&&(ft=this.length),N<0||V>O.length||J<0||ft>this.length)throw new RangeError("out of range index");if(J>=ft&&N>=V)return 0;if(J>=ft)return-1;if(N>=V)return 1;if(N>>>=0,V>>>=0,J>>>=0,ft>>>=0,this===O)return 0;let _t=ft-J,Ft=V-N;const Ce=Math.min(_t,Ft),he=this.slice(J,ft),ie=O.slice(N,V);for(let oe=0;oe<Ce;++oe)if(he[oe]!==ie[oe]){_t=he[oe],Ft=ie[oe];break}return _t<Ft?-1:Ft<_t?1:0};function C(k,O,N,V,J){if(k.length===0)return-1;if(typeof N=="string"?(V=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),N=+N,fe(N)&&(N=J?0:k.length-1),N<0&&(N=k.length+N),N>=k.length){if(J)return-1;N=k.length-1}else if(N<0)if(J)N=0;else return-1;if(typeof O=="string"&&(O=l.from(O,V)),l.isBuffer(O))return O.length===0?-1:P(k,O,N,V,J);if(typeof O=="number")return O=O&255,typeof Uint8Array.prototype.indexOf=="function"?J?Uint8Array.prototype.indexOf.call(k,O,N):Uint8Array.prototype.lastIndexOf.call(k,O,N):P(k,[O],N,V,J);throw new TypeError("val must be string, number or Buffer")}function P(k,O,N,V,J){let ft=1,_t=k.length,Ft=O.length;if(V!==void 0&&(V=String(V).toLowerCase(),V==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(k.length<2||O.length<2)return-1;ft=2,_t/=2,Ft/=2,N/=2}function Ce(ie,oe){return ft===1?ie[oe]:ie.readUInt16BE(oe*ft)}let he;if(J){let ie=-1;for(he=N;he<_t;he++)if(Ce(k,he)===Ce(O,ie===-1?0:he-ie)){if(ie===-1&&(ie=he),he-ie+1===Ft)return ie*ft}else ie!==-1&&(he-=he-ie),ie=-1}else for(N+Ft>_t&&(N=_t-Ft),he=N;he>=0;he--){let ie=!0;for(let oe=0;oe<Ft;oe++)if(Ce(k,he+oe)!==Ce(O,oe)){ie=!1;break}if(ie)return he}return-1}l.prototype.includes=function(O,N,V){return this.indexOf(O,N,V)!==-1},l.prototype.indexOf=function(O,N,V){return C(this,O,N,V,!0)},l.prototype.lastIndexOf=function(O,N,V){return C(this,O,N,V,!1)};function B(k,O,N,V){N=Number(N)||0;const J=k.length-N;V?(V=Number(V),V>J&&(V=J)):V=J;const ft=O.length;V>ft/2&&(V=ft/2);let _t;for(_t=0;_t<V;++_t){const Ft=parseInt(O.substr(_t*2,2),16);if(fe(Ft))return _t;k[N+_t]=Ft}return _t}function S(k,O,N,V){return Ut(Lt(O,k.length-N),k,N,V)}function z(k,O,N,V){return Ut(Pt(O),k,N,V)}function F(k,O,N,V){return Ut(It(O),k,N,V)}function G(k,O,N,V){return Ut(ee(O,k.length-N),k,N,V)}l.prototype.write=function(O,N,V,J){if(N===void 0)J="utf8",V=this.length,N=0;else if(V===void 0&&typeof N=="string")J=N,V=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite(V)?(V=V>>>0,J===void 0&&(J="utf8")):(J=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ft=this.length-N;if((V===void 0||V>ft)&&(V=ft),O.length>0&&(V<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");let _t=!1;for(;;)switch(J){case"hex":return B(this,O,N,V);case"utf8":case"utf-8":return S(this,O,N,V);case"ascii":case"latin1":case"binary":return z(this,O,N,V);case"base64":return F(this,O,N,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,O,N,V);default:if(_t)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),_t=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function q(k,O,N){return O===0&&N===k.length?e.fromByteArray(k):e.fromByteArray(k.slice(O,N))}function dt(k,O,N){N=Math.min(k.length,N);const V=[];let J=O;for(;J<N;){const ft=k[J];let _t=null,Ft=ft>239?4:ft>223?3:ft>191?2:1;if(J+Ft<=N){let Ce,he,ie,oe;switch(Ft){case 1:ft<128&&(_t=ft);break;case 2:Ce=k[J+1],(Ce&192)===128&&(oe=(ft&31)<<6|Ce&63,oe>127&&(_t=oe));break;case 3:Ce=k[J+1],he=k[J+2],(Ce&192)===128&&(he&192)===128&&(oe=(ft&15)<<12|(Ce&63)<<6|he&63,oe>2047&&(oe<55296||oe>57343)&&(_t=oe));break;case 4:Ce=k[J+1],he=k[J+2],ie=k[J+3],(Ce&192)===128&&(he&192)===128&&(ie&192)===128&&(oe=(ft&15)<<18|(Ce&63)<<12|(he&63)<<6|ie&63,oe>65535&&oe<1114112&&(_t=oe))}}_t===null?(_t=65533,Ft=1):_t>65535&&(_t-=65536,V.push(_t>>>10&1023|55296),_t=56320|_t&1023),V.push(_t),J+=Ft}return it(V)}const At=4096;function it(k){const O=k.length;if(O<=At)return String.fromCharCode.apply(String,k);let N="",V=0;for(;V<O;)N+=String.fromCharCode.apply(String,k.slice(V,V+=At));return N}function gt(k,O,N){let V="";N=Math.min(k.length,N);for(let J=O;J<N;++J)V+=String.fromCharCode(k[J]&127);return V}function Nt(k,O,N){let V="";N=Math.min(k.length,N);for(let J=O;J<N;++J)V+=String.fromCharCode(k[J]);return V}function zt(k,O,N){const V=k.length;(!O||O<0)&&(O=0),(!N||N<0||N>V)&&(N=V);let J="";for(let ft=O;ft<N;++ft)J+=Dt[k[ft]];return J}function K(k,O,N){const V=k.slice(O,N);let J="";for(let ft=0;ft<V.length-1;ft+=2)J+=String.fromCharCode(V[ft]+V[ft+1]*256);return J}l.prototype.slice=function(O,N){const V=this.length;O=~~O,N=N===void 0?V:~~N,O<0?(O+=V,O<0&&(O=0)):O>V&&(O=V),N<0?(N+=V,N<0&&(N=0)):N>V&&(N=V),N<O&&(N=O);const J=this.subarray(O,N);return Object.setPrototypeOf(J,l.prototype),J};function X(k,O,N){if(k%1!==0||k<0)throw new RangeError("offset is not uint");if(k+O>N)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(O,N,V){O=O>>>0,N=N>>>0,V||X(O,N,this.length);let J=this[O],ft=1,_t=0;for(;++_t<N&&(ft*=256);)J+=this[O+_t]*ft;return J},l.prototype.readUintBE=l.prototype.readUIntBE=function(O,N,V){O=O>>>0,N=N>>>0,V||X(O,N,this.length);let J=this[O+--N],ft=1;for(;N>0&&(ft*=256);)J+=this[O+--N]*ft;return J},l.prototype.readUint8=l.prototype.readUInt8=function(O,N){return O=O>>>0,N||X(O,1,this.length),this[O]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(O,N){return O=O>>>0,N||X(O,2,this.length),this[O]|this[O+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(O,N){return O=O>>>0,N||X(O,2,this.length),this[O]<<8|this[O+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(O,N){return O=O>>>0,N||X(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+this[O+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(O,N){return O=O>>>0,N||X(O,4,this.length),this[O]*16777216+(this[O+1]<<16|this[O+2]<<8|this[O+3])},l.prototype.readBigUInt64LE=jt(function(O){O=O>>>0,Tt(O,"offset");const N=this[O],V=this[O+7];(N===void 0||V===void 0)&&lt(O,this.length-8);const J=N+this[++O]*2**8+this[++O]*2**16+this[++O]*2**24,ft=this[++O]+this[++O]*2**8+this[++O]*2**16+V*2**24;return BigInt(J)+(BigInt(ft)<<BigInt(32))}),l.prototype.readBigUInt64BE=jt(function(O){O=O>>>0,Tt(O,"offset");const N=this[O],V=this[O+7];(N===void 0||V===void 0)&&lt(O,this.length-8);const J=N*2**24+this[++O]*2**16+this[++O]*2**8+this[++O],ft=this[++O]*2**24+this[++O]*2**16+this[++O]*2**8+V;return(BigInt(J)<<BigInt(32))+BigInt(ft)}),l.prototype.readIntLE=function(O,N,V){O=O>>>0,N=N>>>0,V||X(O,N,this.length);let J=this[O],ft=1,_t=0;for(;++_t<N&&(ft*=256);)J+=this[O+_t]*ft;return ft*=128,J>=ft&&(J-=Math.pow(2,8*N)),J},l.prototype.readIntBE=function(O,N,V){O=O>>>0,N=N>>>0,V||X(O,N,this.length);let J=N,ft=1,_t=this[O+--J];for(;J>0&&(ft*=256);)_t+=this[O+--J]*ft;return ft*=128,_t>=ft&&(_t-=Math.pow(2,8*N)),_t},l.prototype.readInt8=function(O,N){return O=O>>>0,N||X(O,1,this.length),this[O]&128?(255-this[O]+1)*-1:this[O]},l.prototype.readInt16LE=function(O,N){O=O>>>0,N||X(O,2,this.length);const V=this[O]|this[O+1]<<8;return V&32768?V|4294901760:V},l.prototype.readInt16BE=function(O,N){O=O>>>0,N||X(O,2,this.length);const V=this[O+1]|this[O]<<8;return V&32768?V|4294901760:V},l.prototype.readInt32LE=function(O,N){return O=O>>>0,N||X(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},l.prototype.readInt32BE=function(O,N){return O=O>>>0,N||X(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},l.prototype.readBigInt64LE=jt(function(O){O=O>>>0,Tt(O,"offset");const N=this[O],V=this[O+7];(N===void 0||V===void 0)&&lt(O,this.length-8);const J=this[O+4]+this[O+5]*2**8+this[O+6]*2**16+(V<<24);return(BigInt(J)<<BigInt(32))+BigInt(N+this[++O]*2**8+this[++O]*2**16+this[++O]*2**24)}),l.prototype.readBigInt64BE=jt(function(O){O=O>>>0,Tt(O,"offset");const N=this[O],V=this[O+7];(N===void 0||V===void 0)&&lt(O,this.length-8);const J=(N<<24)+this[++O]*2**16+this[++O]*2**8+this[++O];return(BigInt(J)<<BigInt(32))+BigInt(this[++O]*2**24+this[++O]*2**16+this[++O]*2**8+V)}),l.prototype.readFloatLE=function(O,N){return O=O>>>0,N||X(O,4,this.length),n.read(this,O,!0,23,4)},l.prototype.readFloatBE=function(O,N){return O=O>>>0,N||X(O,4,this.length),n.read(this,O,!1,23,4)},l.prototype.readDoubleLE=function(O,N){return O=O>>>0,N||X(O,8,this.length),n.read(this,O,!0,52,8)},l.prototype.readDoubleBE=function(O,N){return O=O>>>0,N||X(O,8,this.length),n.read(this,O,!1,52,8)};function Q(k,O,N,V,J,ft){if(!l.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(O>J||O<ft)throw new RangeError('"value" argument is out of bounds');if(N+V>k.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(O,N,V,J){if(O=+O,N=N>>>0,V=V>>>0,!J){const Ft=Math.pow(2,8*V)-1;Q(this,O,N,V,Ft,0)}let ft=1,_t=0;for(this[N]=O&255;++_t<V&&(ft*=256);)this[N+_t]=O/ft&255;return N+V},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(O,N,V,J){if(O=+O,N=N>>>0,V=V>>>0,!J){const Ft=Math.pow(2,8*V)-1;Q(this,O,N,V,Ft,0)}let ft=V-1,_t=1;for(this[N+ft]=O&255;--ft>=0&&(_t*=256);)this[N+ft]=O/_t&255;return N+V},l.prototype.writeUint8=l.prototype.writeUInt8=function(O,N,V){return O=+O,N=N>>>0,V||Q(this,O,N,1,255,0),this[N]=O&255,N+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(O,N,V){return O=+O,N=N>>>0,V||Q(this,O,N,2,65535,0),this[N]=O&255,this[N+1]=O>>>8,N+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(O,N,V){return O=+O,N=N>>>0,V||Q(this,O,N,2,65535,0),this[N]=O>>>8,this[N+1]=O&255,N+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(O,N,V){return O=+O,N=N>>>0,V||Q(this,O,N,4,4294967295,0),this[N+3]=O>>>24,this[N+2]=O>>>16,this[N+1]=O>>>8,this[N]=O&255,N+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(O,N,V){return O=+O,N=N>>>0,V||Q(this,O,N,4,4294967295,0),this[N]=O>>>24,this[N+1]=O>>>16,this[N+2]=O>>>8,this[N+3]=O&255,N+4};function at(k,O,N,V,J){Ot(O,V,J,k,N,7);let ft=Number(O&BigInt(4294967295));k[N++]=ft,ft=ft>>8,k[N++]=ft,ft=ft>>8,k[N++]=ft,ft=ft>>8,k[N++]=ft;let _t=Number(O>>BigInt(32)&BigInt(4294967295));return k[N++]=_t,_t=_t>>8,k[N++]=_t,_t=_t>>8,k[N++]=_t,_t=_t>>8,k[N++]=_t,N}function rt(k,O,N,V,J){Ot(O,V,J,k,N,7);let ft=Number(O&BigInt(4294967295));k[N+7]=ft,ft=ft>>8,k[N+6]=ft,ft=ft>>8,k[N+5]=ft,ft=ft>>8,k[N+4]=ft;let _t=Number(O>>BigInt(32)&BigInt(4294967295));return k[N+3]=_t,_t=_t>>8,k[N+2]=_t,_t=_t>>8,k[N+1]=_t,_t=_t>>8,k[N]=_t,N+8}l.prototype.writeBigUInt64LE=jt(function(O,N=0){return at(this,O,N,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=jt(function(O,N=0){return rt(this,O,N,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(O,N,V,J){if(O=+O,N=N>>>0,!J){const Ce=Math.pow(2,8*V-1);Q(this,O,N,V,Ce-1,-Ce)}let ft=0,_t=1,Ft=0;for(this[N]=O&255;++ft<V&&(_t*=256);)O<0&&Ft===0&&this[N+ft-1]!==0&&(Ft=1),this[N+ft]=(O/_t>>0)-Ft&255;return N+V},l.prototype.writeIntBE=function(O,N,V,J){if(O=+O,N=N>>>0,!J){const Ce=Math.pow(2,8*V-1);Q(this,O,N,V,Ce-1,-Ce)}let ft=V-1,_t=1,Ft=0;for(this[N+ft]=O&255;--ft>=0&&(_t*=256);)O<0&&Ft===0&&this[N+ft+1]!==0&&(Ft=1),this[N+ft]=(O/_t>>0)-Ft&255;return N+V},l.prototype.writeInt8=function(O,N,V){return O=+O,N=N>>>0,V||Q(this,O,N,1,127,-128),O<0&&(O=255+O+1),this[N]=O&255,N+1},l.prototype.writeInt16LE=function(O,N,V){return O=+O,N=N>>>0,V||Q(this,O,N,2,32767,-32768),this[N]=O&255,this[N+1]=O>>>8,N+2},l.prototype.writeInt16BE=function(O,N,V){return O=+O,N=N>>>0,V||Q(this,O,N,2,32767,-32768),this[N]=O>>>8,this[N+1]=O&255,N+2},l.prototype.writeInt32LE=function(O,N,V){return O=+O,N=N>>>0,V||Q(this,O,N,4,2147483647,-2147483648),this[N]=O&255,this[N+1]=O>>>8,this[N+2]=O>>>16,this[N+3]=O>>>24,N+4},l.prototype.writeInt32BE=function(O,N,V){return O=+O,N=N>>>0,V||Q(this,O,N,4,2147483647,-2147483648),O<0&&(O=4294967295+O+1),this[N]=O>>>24,this[N+1]=O>>>16,this[N+2]=O>>>8,this[N+3]=O&255,N+4},l.prototype.writeBigInt64LE=jt(function(O,N=0){return at(this,O,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=jt(function(O,N=0){return rt(this,O,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function wt(k,O,N,V,J,ft){if(N+V>k.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function Et(k,O,N,V,J){return O=+O,N=N>>>0,J||wt(k,O,N,4),n.write(k,O,N,V,23,4),N+4}l.prototype.writeFloatLE=function(O,N,V){return Et(this,O,N,!0,V)},l.prototype.writeFloatBE=function(O,N,V){return Et(this,O,N,!1,V)};function I(k,O,N,V,J){return O=+O,N=N>>>0,J||wt(k,O,N,8),n.write(k,O,N,V,52,8),N+8}l.prototype.writeDoubleLE=function(O,N,V){return I(this,O,N,!0,V)},l.prototype.writeDoubleBE=function(O,N,V){return I(this,O,N,!1,V)},l.prototype.copy=function(O,N,V,J){if(!l.isBuffer(O))throw new TypeError("argument should be a Buffer");if(V||(V=0),!J&&J!==0&&(J=this.length),N>=O.length&&(N=O.length),N||(N=0),J>0&&J<V&&(J=V),J===V||O.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),O.length-N<J-V&&(J=O.length-N+V);const ft=J-V;return this===O&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(N,V,J):Uint8Array.prototype.set.call(O,this.subarray(V,J),N),ft},l.prototype.fill=function(O,N,V,J){if(typeof O=="string"){if(typeof N=="string"?(J=N,N=0,V=this.length):typeof V=="string"&&(J=V,V=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!l.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(O.length===1){const _t=O.charCodeAt(0);(J==="utf8"&&_t<128||J==="latin1")&&(O=_t)}}else typeof O=="number"?O=O&255:typeof O=="boolean"&&(O=Number(O));if(N<0||this.length<N||this.length<V)throw new RangeError("Out of range index");if(V<=N)return this;N=N>>>0,V=V===void 0?this.length:V>>>0,O||(O=0);let ft;if(typeof O=="number")for(ft=N;ft<V;++ft)this[ft]=O;else{const _t=l.isBuffer(O)?O:l.from(O,J),Ft=_t.length;if(Ft===0)throw new TypeError('The value "'+O+'" is invalid for argument "value"');for(ft=0;ft<V-N;++ft)this[ft+N]=_t[ft%Ft]}return this};const L={};function Z(k,O,N){L[k]=class extends N{constructor(){super(),Object.defineProperty(this,"message",{value:O.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${k}]`,this.stack,delete this.name}get code(){return k}set code(J){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:J,writable:!0})}toString(){return`${this.name} [${k}]: ${this.message}`}}}Z("ERR_BUFFER_OUT_OF_BOUNDS",function(k){return k?`${k} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Z("ERR_INVALID_ARG_TYPE",function(k,O){return`The "${k}" argument must be of type number. Received type ${typeof O}`},TypeError),Z("ERR_OUT_OF_RANGE",function(k,O,N){let V=`The value of "${k}" is out of range.`,J=N;return Number.isInteger(N)&&Math.abs(N)>2**32?J=H(String(N)):typeof N=="bigint"&&(J=String(N),(N>BigInt(2)**BigInt(32)||N<-(BigInt(2)**BigInt(32)))&&(J=H(J)),J+="n"),V+=` It must be ${O}. Received ${J}`,V},RangeError);function H(k){let O="",N=k.length;const V=k[0]==="-"?1:0;for(;N>=V+4;N-=3)O=`_${k.slice(N-3,N)}${O}`;return`${k.slice(0,N)}${O}`}function bt(k,O,N){Tt(O,"offset"),(k[O]===void 0||k[O+N]===void 0)&&lt(O,k.length-(N+1))}function Ot(k,O,N,V,J,ft){if(k>N||k<O){const _t=typeof O=="bigint"?"n":"";let Ft;throw O===0||O===BigInt(0)?Ft=`>= 0${_t} and < 2${_t} ** ${(ft+1)*8}${_t}`:Ft=`>= -(2${_t} ** ${(ft+1)*8-1}${_t}) and < 2 ** ${(ft+1)*8-1}${_t}`,new L.ERR_OUT_OF_RANGE("value",Ft,k)}bt(V,J,ft)}function Tt(k,O){if(typeof k!="number")throw new L.ERR_INVALID_ARG_TYPE(O,"number",k)}function lt(k,O,N){throw Math.floor(k)!==k?(Tt(k,N),new L.ERR_OUT_OF_RANGE("offset","an integer",k)):O<0?new L.ERR_BUFFER_OUT_OF_BOUNDS:new L.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${O}`,k)}const vt=/[^+/0-9A-Za-z-_]/g;function Bt(k){if(k=k.split("=")[0],k=k.trim().replace(vt,""),k.length<2)return"";for(;k.length%4!==0;)k=k+"=";return k}function Lt(k,O){O=O||1/0;let N;const V=k.length;let J=null;const ft=[];for(let _t=0;_t<V;++_t){if(N=k.charCodeAt(_t),N>55295&&N<57344){if(!J){if(N>56319){(O-=3)>-1&&ft.push(239,191,189);continue}else if(_t+1===V){(O-=3)>-1&&ft.push(239,191,189);continue}J=N;continue}if(N<56320){(O-=3)>-1&&ft.push(239,191,189),J=N;continue}N=(J-55296<<10|N-56320)+65536}else J&&(O-=3)>-1&&ft.push(239,191,189);if(J=null,N<128){if((O-=1)<0)break;ft.push(N)}else if(N<2048){if((O-=2)<0)break;ft.push(N>>6|192,N&63|128)}else if(N<65536){if((O-=3)<0)break;ft.push(N>>12|224,N>>6&63|128,N&63|128)}else if(N<1114112){if((O-=4)<0)break;ft.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw new Error("Invalid code point")}return ft}function Pt(k){const O=[];for(let N=0;N<k.length;++N)O.push(k.charCodeAt(N)&255);return O}function ee(k,O){let N,V,J;const ft=[];for(let _t=0;_t<k.length&&!((O-=2)<0);++_t)N=k.charCodeAt(_t),V=N>>8,J=N%256,ft.push(J),ft.push(V);return ft}function It(k){return e.toByteArray(Bt(k))}function Ut(k,O,N,V){let J;for(J=0;J<V&&!(J+N>=O.length||J>=k.length);++J)O[J+N]=k[J];return J}function Gt(k,O){return k instanceof O||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===O.name}function fe(k){return k!==k}const Dt=function(){const k="0123456789abcdef",O=new Array(256);for(let N=0;N<16;++N){const V=N*16;for(let J=0;J<16;++J)O[V+J]=k[N]+k[J]}return O}();function jt(k){return typeof BigInt>"u"?Kn:k}function Kn(){throw new Error("BigInt not supported")}}(qy)),qy}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Wb;function qL(){return Wb||(Wb=1,function(t,e){var n=GL(),r=n.Buffer;function a(u,l){for(var f in u)l[f]=u[f]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(a(n,e),e.Buffer=s);function s(u,l,f){return r(u,l,f)}s.prototype=Object.create(r.prototype),a(r,s),s.from=function(u,l,f){if(typeof u=="number")throw new TypeError("Argument must not be a number");return r(u,l,f)},s.alloc=function(u,l,f){if(typeof u!="number")throw new TypeError("Argument must be a number");var h=r(u);return l!==void 0?typeof f=="string"?h.fill(l,f):h.fill(l):h.fill(0),h},s.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r(u)},s.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(u)}}(Yf,Yf.exports)),Yf.exports}var Qb;function VL(){if(Qb)return Gy;Qb=1;var t=qL().Buffer,e=t.isEncoding||function(T){switch(T=""+T,T&&T.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(T){if(!T)return"utf8";for(var E;;)switch(T){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return T;default:if(E)return;T=(""+T).toLowerCase(),E=!0}}function r(T){var E=n(T);if(typeof E!="string"&&(t.isEncoding===e||!e(T)))throw new Error("Unknown encoding: "+T);return E||T}Gy.StringDecoder=a;function a(T){this.encoding=r(T);var E;switch(this.encoding){case"utf16le":this.text=g,this.end=m,E=4;break;case"utf8":this.fillLast=f,E=4;break;case"base64":this.text=_,this.end=b,E=3;break;default:this.write=A,this.end=R;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(E)}a.prototype.write=function(T){if(T.length===0)return"";var E,v;if(this.lastNeed){if(E=this.fillLast(T),E===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<T.length?E?E+this.text(T,v):this.text(T,v):E||""},a.prototype.end=p,a.prototype.text=h,a.prototype.fillLast=function(T){if(this.lastNeed<=T.length)return T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,this.lastTotal-this.lastNeed,0,T.length),this.lastNeed-=T.length};function s(T){return T<=127?0:T>>5===6?2:T>>4===14?3:T>>3===30?4:T>>6===2?-1:-2}function u(T,E,v){var w=E.length-1;if(w<v)return 0;var M=s(E[w]);return M>=0?(M>0&&(T.lastNeed=M-1),M):--w<v||M===-2?0:(M=s(E[w]),M>=0?(M>0&&(T.lastNeed=M-2),M):--w<v||M===-2?0:(M=s(E[w]),M>=0?(M>0&&(M===2?M=0:T.lastNeed=M-3),M):0))}function l(T,E,v){if((E[0]&192)!==128)return T.lastNeed=0,"�";if(T.lastNeed>1&&E.length>1){if((E[1]&192)!==128)return T.lastNeed=1,"�";if(T.lastNeed>2&&E.length>2&&(E[2]&192)!==128)return T.lastNeed=2,"�"}}function f(T){var E=this.lastTotal-this.lastNeed,v=l(this,T);if(v!==void 0)return v;if(this.lastNeed<=T.length)return T.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);T.copy(this.lastChar,E,0,T.length),this.lastNeed-=T.length}function h(T,E){var v=u(this,T,E);if(!this.lastNeed)return T.toString("utf8",E);this.lastTotal=v;var w=T.length-(v-this.lastNeed);return T.copy(this.lastChar,0,w),T.toString("utf8",E,w)}function p(T){var E=T&&T.length?this.write(T):"";return this.lastNeed?E+"�":E}function g(T,E){if((T.length-E)%2===0){var v=T.toString("utf16le",E);if(v){var w=v.charCodeAt(v.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=T[T.length-1],T.toString("utf16le",E,T.length-1)}function m(T){var E=T&&T.length?this.write(T):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return E+this.lastChar.toString("utf16le",0,v)}return E}function _(T,E){var v=(T.length-E)%3;return v===0?T.toString("base64",E):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=T[T.length-1]:(this.lastChar[0]=T[T.length-2],this.lastChar[1]=T[T.length-1]),T.toString("base64",E,T.length-v))}function b(T){var E=T&&T.length?this.write(T):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function A(T){return T.toString(this.encoding)}function R(T){return T&&T.length?this.write(T):""}return Gy}var Jb;function YL(){return Jb||(Jb=1,function(t){(function(e){e.parser=function(I,L){return new r(I,L)},e.SAXParser=r,e.SAXStream=p,e.createStream=h,e.MAX_BUFFER_LENGTH=64*1024;var n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(I,L){if(!(this instanceof r))return new r(I,L);var Z=this;s(Z),Z.q=Z.c="",Z.bufferCheckPosition=e.MAX_BUFFER_LENGTH,Z.opt=L||{},Z.opt.lowercase=Z.opt.lowercase||Z.opt.lowercasetags,Z.looseCase=Z.opt.lowercase?"toLowerCase":"toUpperCase",Z.tags=[],Z.closed=Z.closedRoot=Z.sawRoot=!1,Z.tag=Z.error=null,Z.strict=!!I,Z.noscript=!!(I||Z.opt.noscript),Z.state=S.BEGIN,Z.strictEntities=Z.opt.strictEntities,Z.ENTITIES=Z.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),Z.attribList=[],Z.opt.xmlns&&(Z.ns=Object.create(A)),Z.trackPosition=Z.opt.position!==!1,Z.trackPosition&&(Z.position=Z.line=Z.column=0),F(Z,"onready")}Object.create||(Object.create=function(I){function L(){}L.prototype=I;var Z=new L;return Z}),Object.keys||(Object.keys=function(I){var L=[];for(var Z in I)I.hasOwnProperty(Z)&&L.push(Z);return L});function a(I){for(var L=Math.max(e.MAX_BUFFER_LENGTH,10),Z=0,H=0,bt=n.length;H<bt;H++){var Ot=I[n[H]].length;if(Ot>L)switch(n[H]){case"textNode":q(I);break;case"cdata":G(I,"oncdata",I.cdata),I.cdata="";break;case"script":G(I,"onscript",I.script),I.script="";break;default:At(I,"Max buffer length exceeded: "+n[H])}Z=Math.max(Z,Ot)}var Tt=e.MAX_BUFFER_LENGTH-Z;I.bufferCheckPosition=Tt+I.position}function s(I){for(var L=0,Z=n.length;L<Z;L++)I[n[L]]=""}function u(I){q(I),I.cdata!==""&&(G(I,"oncdata",I.cdata),I.cdata=""),I.script!==""&&(G(I,"onscript",I.script),I.script="")}r.prototype={end:function(){it(this)},write:Et,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){u(this)}};var l;try{l=UL().Stream}catch{l=function(){}}var f=e.EVENTS.filter(function(I){return I!=="error"&&I!=="end"});function h(I,L){return new p(I,L)}function p(I,L){if(!(this instanceof p))return new p(I,L);l.apply(this),this._parser=new r(I,L),this.writable=!0,this.readable=!0;var Z=this;this._parser.onend=function(){Z.emit("end")},this._parser.onerror=function(H){Z.emit("error",H),Z._parser.error=null},this._decoder=null,f.forEach(function(H){Object.defineProperty(Z,"on"+H,{get:function(){return Z._parser["on"+H]},set:function(bt){if(!bt)return Z.removeAllListeners(H),Z._parser["on"+H]=bt,bt;Z.on(H,bt)},enumerable:!0,configurable:!1})})}p.prototype=Object.create(l.prototype,{constructor:{value:p}}),p.prototype.write=function(I){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(I)){if(!this._decoder){var L=VL().StringDecoder;this._decoder=new L("utf8")}I=this._decoder.write(I)}return this._parser.write(I.toString()),this.emit("data",I),!0},p.prototype.end=function(I){return I&&I.length&&this.write(I),this._parser.end(),!0},p.prototype.on=function(I,L){var Z=this;return!Z._parser["on"+I]&&f.indexOf(I)!==-1&&(Z._parser["on"+I]=function(){var H=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);H.splice(0,0,I),Z.emit.apply(Z,H)}),l.prototype.on.call(Z,I,L)};var g="[CDATA[",m="DOCTYPE",_="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",A={xml:_,xmlns:b},R=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,T=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,E=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function w(I){return I===" "||I===`
`||I==="\r"||I==="	"}function M(I){return I==='"'||I==="'"}function C(I){return I===">"||w(I)}function P(I,L){return I.test(L)}function B(I,L){return!P(I,L)}var S=0;e.STATE={BEGIN:S++,BEGIN_WHITESPACE:S++,TEXT:S++,TEXT_ENTITY:S++,OPEN_WAKA:S++,SGML_DECL:S++,SGML_DECL_QUOTED:S++,DOCTYPE:S++,DOCTYPE_QUOTED:S++,DOCTYPE_DTD:S++,DOCTYPE_DTD_QUOTED:S++,COMMENT_STARTING:S++,COMMENT:S++,COMMENT_ENDING:S++,COMMENT_ENDED:S++,CDATA:S++,CDATA_ENDING:S++,CDATA_ENDING_2:S++,PROC_INST:S++,PROC_INST_BODY:S++,PROC_INST_ENDING:S++,OPEN_TAG:S++,OPEN_TAG_SLASH:S++,ATTRIB:S++,ATTRIB_NAME:S++,ATTRIB_NAME_SAW_WHITE:S++,ATTRIB_VALUE:S++,ATTRIB_VALUE_QUOTED:S++,ATTRIB_VALUE_CLOSED:S++,ATTRIB_VALUE_UNQUOTED:S++,ATTRIB_VALUE_ENTITY_Q:S++,ATTRIB_VALUE_ENTITY_U:S++,CLOSE_TAG:S++,CLOSE_TAG_SAW_WHITE:S++,SCRIPT:S++,SCRIPT_ENDING:S++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(I){var L=e.ENTITIES[I],Z=typeof L=="number"?String.fromCharCode(L):L;e.ENTITIES[I]=Z});for(var z in e.STATE)e.STATE[e.STATE[z]]=z;S=e.STATE;function F(I,L,Z){I[L]&&I[L](Z)}function G(I,L,Z){I.textNode&&q(I),F(I,L,Z)}function q(I){I.textNode=dt(I.opt,I.textNode),I.textNode&&F(I,"ontext",I.textNode),I.textNode=""}function dt(I,L){return I.trim&&(L=L.trim()),I.normalize&&(L=L.replace(/\s+/g," ")),L}function At(I,L){return q(I),I.trackPosition&&(L+=`
Line: `+I.line+`
Column: `+I.column+`
Char: `+I.c),L=new Error(L),I.error=L,F(I,"onerror",L),I}function it(I){return I.sawRoot&&!I.closedRoot&&gt(I,"Unclosed root tag"),I.state!==S.BEGIN&&I.state!==S.BEGIN_WHITESPACE&&I.state!==S.TEXT&&At(I,"Unexpected end"),q(I),I.c="",I.closed=!0,F(I,"onend"),r.call(I,I.strict,I.opt),I}function gt(I,L){if(typeof I!="object"||!(I instanceof r))throw new Error("bad call to strictFail");I.strict&&At(I,L)}function Nt(I){I.strict||(I.tagName=I.tagName[I.looseCase]());var L=I.tags[I.tags.length-1]||I,Z=I.tag={name:I.tagName,attributes:{}};I.opt.xmlns&&(Z.ns=L.ns),I.attribList.length=0,G(I,"onopentagstart",Z)}function zt(I,L){var Z=I.indexOf(":"),H=Z<0?["",I]:I.split(":"),bt=H[0],Ot=H[1];return L&&I==="xmlns"&&(bt="xmlns",Ot=""),{prefix:bt,local:Ot}}function K(I){if(I.strict||(I.attribName=I.attribName[I.looseCase]()),I.attribList.indexOf(I.attribName)!==-1||I.tag.attributes.hasOwnProperty(I.attribName)){I.attribName=I.attribValue="";return}if(I.opt.xmlns){var L=zt(I.attribName,!0),Z=L.prefix,H=L.local;if(Z==="xmlns")if(H==="xml"&&I.attribValue!==_)gt(I,"xml: prefix must be bound to "+_+`
Actual: `+I.attribValue);else if(H==="xmlns"&&I.attribValue!==b)gt(I,"xmlns: prefix must be bound to "+b+`
Actual: `+I.attribValue);else{var bt=I.tag,Ot=I.tags[I.tags.length-1]||I;bt.ns===Ot.ns&&(bt.ns=Object.create(Ot.ns)),bt.ns[H]=I.attribValue}I.attribList.push([I.attribName,I.attribValue])}else I.tag.attributes[I.attribName]=I.attribValue,G(I,"onattribute",{name:I.attribName,value:I.attribValue});I.attribName=I.attribValue=""}function X(I,L){if(I.opt.xmlns){var Z=I.tag,H=zt(I.tagName);Z.prefix=H.prefix,Z.local=H.local,Z.uri=Z.ns[H.prefix]||"",Z.prefix&&!Z.uri&&(gt(I,"Unbound namespace prefix: "+JSON.stringify(I.tagName)),Z.uri=H.prefix);var bt=I.tags[I.tags.length-1]||I;Z.ns&&bt.ns!==Z.ns&&Object.keys(Z.ns).forEach(function(Gt){G(I,"onopennamespace",{prefix:Gt,uri:Z.ns[Gt]})});for(var Ot=0,Tt=I.attribList.length;Ot<Tt;Ot++){var lt=I.attribList[Ot],vt=lt[0],Bt=lt[1],Lt=zt(vt,!0),Pt=Lt.prefix,ee=Lt.local,It=Pt===""?"":Z.ns[Pt]||"",Ut={name:vt,value:Bt,prefix:Pt,local:ee,uri:It};Pt&&Pt!=="xmlns"&&!It&&(gt(I,"Unbound namespace prefix: "+JSON.stringify(Pt)),Ut.uri=Pt),I.tag.attributes[vt]=Ut,G(I,"onattribute",Ut)}I.attribList.length=0}I.tag.isSelfClosing=!!L,I.sawRoot=!0,I.tags.push(I.tag),G(I,"onopentag",I.tag),L||(!I.noscript&&I.tagName.toLowerCase()==="script"?I.state=S.SCRIPT:I.state=S.TEXT,I.tag=null,I.tagName=""),I.attribName=I.attribValue="",I.attribList.length=0}function Q(I){if(!I.tagName){gt(I,"Weird empty close tag."),I.textNode+="</>",I.state=S.TEXT;return}if(I.script){if(I.tagName!=="script"){I.script+="</"+I.tagName+">",I.tagName="",I.state=S.SCRIPT;return}G(I,"onscript",I.script),I.script=""}var L=I.tags.length,Z=I.tagName;I.strict||(Z=Z[I.looseCase]());for(var H=Z;L--;){var bt=I.tags[L];if(bt.name!==H)gt(I,"Unexpected close tag");else break}if(L<0){gt(I,"Unmatched closing tag: "+I.tagName),I.textNode+="</"+I.tagName+">",I.state=S.TEXT;return}I.tagName=Z;for(var Ot=I.tags.length;Ot-- >L;){var Tt=I.tag=I.tags.pop();I.tagName=I.tag.name,G(I,"onclosetag",I.tagName);var lt={};for(var vt in Tt.ns)lt[vt]=Tt.ns[vt];var Bt=I.tags[I.tags.length-1]||I;I.opt.xmlns&&Tt.ns!==Bt.ns&&Object.keys(Tt.ns).forEach(function(Lt){var Pt=Tt.ns[Lt];G(I,"onclosenamespace",{prefix:Lt,uri:Pt})})}L===0&&(I.closedRoot=!0),I.tagName=I.attribValue=I.attribName="",I.attribList.length=0,I.state=S.TEXT}function at(I){var L=I.entity,Z=L.toLowerCase(),H,bt="";return I.ENTITIES[L]?I.ENTITIES[L]:I.ENTITIES[Z]?I.ENTITIES[Z]:(L=Z,L.charAt(0)==="#"&&(L.charAt(1)==="x"?(L=L.slice(2),H=parseInt(L,16),bt=H.toString(16)):(L=L.slice(1),H=parseInt(L,10),bt=H.toString(10))),L=L.replace(/^0+/,""),isNaN(H)||bt.toLowerCase()!==L?(gt(I,"Invalid character entity"),"&"+I.entity+";"):String.fromCodePoint(H))}function rt(I,L){L==="<"?(I.state=S.OPEN_WAKA,I.startTagPosition=I.position):w(L)||(gt(I,"Non-whitespace before first tag."),I.textNode=L,I.state=S.TEXT)}function wt(I,L){var Z="";return L<I.length&&(Z=I.charAt(L)),Z}function Et(I){var L=this;if(this.error)throw this.error;if(L.closed)return At(L,"Cannot write after close. Assign an onready handler.");if(I===null)return it(L);typeof I=="object"&&(I=I.toString());for(var Z=0,H="";H=wt(I,Z++),L.c=H,!!H;)switch(L.trackPosition&&(L.position++,H===`
`?(L.line++,L.column=0):L.column++),L.state){case S.BEGIN:if(L.state=S.BEGIN_WHITESPACE,H==="\uFEFF")continue;rt(L,H);continue;case S.BEGIN_WHITESPACE:rt(L,H);continue;case S.TEXT:if(L.sawRoot&&!L.closedRoot){for(var bt=Z-1;H&&H!=="<"&&H!=="&";)H=wt(I,Z++),H&&L.trackPosition&&(L.position++,H===`
`?(L.line++,L.column=0):L.column++);L.textNode+=I.substring(bt,Z-1)}H==="<"&&!(L.sawRoot&&L.closedRoot&&!L.strict)?(L.state=S.OPEN_WAKA,L.startTagPosition=L.position):(!w(H)&&(!L.sawRoot||L.closedRoot)&&gt(L,"Text data outside of root node."),H==="&"?L.state=S.TEXT_ENTITY:L.textNode+=H);continue;case S.SCRIPT:H==="<"?L.state=S.SCRIPT_ENDING:L.script+=H;continue;case S.SCRIPT_ENDING:H==="/"?L.state=S.CLOSE_TAG:(L.script+="<"+H,L.state=S.SCRIPT);continue;case S.OPEN_WAKA:if(H==="!")L.state=S.SGML_DECL,L.sgmlDecl="";else if(!w(H))if(P(R,H))L.state=S.OPEN_TAG,L.tagName=H;else if(H==="/")L.state=S.CLOSE_TAG,L.tagName="";else if(H==="?")L.state=S.PROC_INST,L.procInstName=L.procInstBody="";else{if(gt(L,"Unencoded <"),L.startTagPosition+1<L.position){var Ot=L.position-L.startTagPosition;H=new Array(Ot).join(" ")+H}L.textNode+="<"+H,L.state=S.TEXT}continue;case S.SGML_DECL:(L.sgmlDecl+H).toUpperCase()===g?(G(L,"onopencdata"),L.state=S.CDATA,L.sgmlDecl="",L.cdata=""):L.sgmlDecl+H==="--"?(L.state=S.COMMENT,L.comment="",L.sgmlDecl=""):(L.sgmlDecl+H).toUpperCase()===m?(L.state=S.DOCTYPE,(L.doctype||L.sawRoot)&&gt(L,"Inappropriately located doctype declaration"),L.doctype="",L.sgmlDecl=""):H===">"?(G(L,"onsgmldeclaration",L.sgmlDecl),L.sgmlDecl="",L.state=S.TEXT):(M(H)&&(L.state=S.SGML_DECL_QUOTED),L.sgmlDecl+=H);continue;case S.SGML_DECL_QUOTED:H===L.q&&(L.state=S.SGML_DECL,L.q=""),L.sgmlDecl+=H;continue;case S.DOCTYPE:H===">"?(L.state=S.TEXT,G(L,"ondoctype",L.doctype),L.doctype=!0):(L.doctype+=H,H==="["?L.state=S.DOCTYPE_DTD:M(H)&&(L.state=S.DOCTYPE_QUOTED,L.q=H));continue;case S.DOCTYPE_QUOTED:L.doctype+=H,H===L.q&&(L.q="",L.state=S.DOCTYPE);continue;case S.DOCTYPE_DTD:L.doctype+=H,H==="]"?L.state=S.DOCTYPE:M(H)&&(L.state=S.DOCTYPE_DTD_QUOTED,L.q=H);continue;case S.DOCTYPE_DTD_QUOTED:L.doctype+=H,H===L.q&&(L.state=S.DOCTYPE_DTD,L.q="");continue;case S.COMMENT:H==="-"?L.state=S.COMMENT_ENDING:L.comment+=H;continue;case S.COMMENT_ENDING:H==="-"?(L.state=S.COMMENT_ENDED,L.comment=dt(L.opt,L.comment),L.comment&&G(L,"oncomment",L.comment),L.comment=""):(L.comment+="-"+H,L.state=S.COMMENT);continue;case S.COMMENT_ENDED:H!==">"?(gt(L,"Malformed comment"),L.comment+="--"+H,L.state=S.COMMENT):L.state=S.TEXT;continue;case S.CDATA:H==="]"?L.state=S.CDATA_ENDING:L.cdata+=H;continue;case S.CDATA_ENDING:H==="]"?L.state=S.CDATA_ENDING_2:(L.cdata+="]"+H,L.state=S.CDATA);continue;case S.CDATA_ENDING_2:H===">"?(L.cdata&&G(L,"oncdata",L.cdata),G(L,"onclosecdata"),L.cdata="",L.state=S.TEXT):H==="]"?L.cdata+="]":(L.cdata+="]]"+H,L.state=S.CDATA);continue;case S.PROC_INST:H==="?"?L.state=S.PROC_INST_ENDING:w(H)?L.state=S.PROC_INST_BODY:L.procInstName+=H;continue;case S.PROC_INST_BODY:if(!L.procInstBody&&w(H))continue;H==="?"?L.state=S.PROC_INST_ENDING:L.procInstBody+=H;continue;case S.PROC_INST_ENDING:H===">"?(G(L,"onprocessinginstruction",{name:L.procInstName,body:L.procInstBody}),L.procInstName=L.procInstBody="",L.state=S.TEXT):(L.procInstBody+="?"+H,L.state=S.PROC_INST_BODY);continue;case S.OPEN_TAG:P(T,H)?L.tagName+=H:(Nt(L),H===">"?X(L):H==="/"?L.state=S.OPEN_TAG_SLASH:(w(H)||gt(L,"Invalid character in tag name"),L.state=S.ATTRIB));continue;case S.OPEN_TAG_SLASH:H===">"?(X(L,!0),Q(L)):(gt(L,"Forward-slash in opening tag not followed by >"),L.state=S.ATTRIB);continue;case S.ATTRIB:if(w(H))continue;H===">"?X(L):H==="/"?L.state=S.OPEN_TAG_SLASH:P(R,H)?(L.attribName=H,L.attribValue="",L.state=S.ATTRIB_NAME):gt(L,"Invalid attribute name");continue;case S.ATTRIB_NAME:H==="="?L.state=S.ATTRIB_VALUE:H===">"?(gt(L,"Attribute without value"),L.attribValue=L.attribName,K(L),X(L)):w(H)?L.state=S.ATTRIB_NAME_SAW_WHITE:P(T,H)?L.attribName+=H:gt(L,"Invalid attribute name");continue;case S.ATTRIB_NAME_SAW_WHITE:if(H==="=")L.state=S.ATTRIB_VALUE;else{if(w(H))continue;gt(L,"Attribute without value"),L.tag.attributes[L.attribName]="",L.attribValue="",G(L,"onattribute",{name:L.attribName,value:""}),L.attribName="",H===">"?X(L):P(R,H)?(L.attribName=H,L.state=S.ATTRIB_NAME):(gt(L,"Invalid attribute name"),L.state=S.ATTRIB)}continue;case S.ATTRIB_VALUE:if(w(H))continue;M(H)?(L.q=H,L.state=S.ATTRIB_VALUE_QUOTED):(gt(L,"Unquoted attribute value"),L.state=S.ATTRIB_VALUE_UNQUOTED,L.attribValue=H);continue;case S.ATTRIB_VALUE_QUOTED:if(H!==L.q){H==="&"?L.state=S.ATTRIB_VALUE_ENTITY_Q:L.attribValue+=H;continue}K(L),L.q="",L.state=S.ATTRIB_VALUE_CLOSED;continue;case S.ATTRIB_VALUE_CLOSED:w(H)?L.state=S.ATTRIB:H===">"?X(L):H==="/"?L.state=S.OPEN_TAG_SLASH:P(R,H)?(gt(L,"No whitespace between attributes"),L.attribName=H,L.attribValue="",L.state=S.ATTRIB_NAME):gt(L,"Invalid attribute name");continue;case S.ATTRIB_VALUE_UNQUOTED:if(!C(H)){H==="&"?L.state=S.ATTRIB_VALUE_ENTITY_U:L.attribValue+=H;continue}K(L),H===">"?X(L):L.state=S.ATTRIB;continue;case S.CLOSE_TAG:if(L.tagName)H===">"?Q(L):P(T,H)?L.tagName+=H:L.script?(L.script+="</"+L.tagName,L.tagName="",L.state=S.SCRIPT):(w(H)||gt(L,"Invalid tagname in closing tag"),L.state=S.CLOSE_TAG_SAW_WHITE);else{if(w(H))continue;B(R,H)?L.script?(L.script+="</"+H,L.state=S.SCRIPT):gt(L,"Invalid tagname in closing tag."):L.tagName=H}continue;case S.CLOSE_TAG_SAW_WHITE:if(w(H))continue;H===">"?Q(L):gt(L,"Invalid characters in closing tag");continue;case S.TEXT_ENTITY:case S.ATTRIB_VALUE_ENTITY_Q:case S.ATTRIB_VALUE_ENTITY_U:var Tt,lt;switch(L.state){case S.TEXT_ENTITY:Tt=S.TEXT,lt="textNode";break;case S.ATTRIB_VALUE_ENTITY_Q:Tt=S.ATTRIB_VALUE_QUOTED,lt="attribValue";break;case S.ATTRIB_VALUE_ENTITY_U:Tt=S.ATTRIB_VALUE_UNQUOTED,lt="attribValue";break}H===";"?(L[lt]+=at(L),L.entity="",L.state=Tt):P(L.entity.length?v:E,H)?L.entity+=H:(gt(L,"Invalid character in entity name"),L[lt]+="&"+L.entity+H,L.entity="",L.state=Tt);continue;default:throw new Error(L,"Unknown state: "+L.state)}return L.position>=L.bufferCheckPosition&&a(L),L}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var I=String.fromCharCode,L=Math.floor,Z=function(){var H=16384,bt=[],Ot,Tt,lt=-1,vt=arguments.length;if(!vt)return"";for(var Bt="";++lt<vt;){var Lt=Number(arguments[lt]);if(!isFinite(Lt)||Lt<0||Lt>1114111||L(Lt)!==Lt)throw RangeError("Invalid code point: "+Lt);Lt<=65535?bt.push(Lt):(Lt-=65536,Ot=(Lt>>10)+55296,Tt=Lt%1024+56320,bt.push(Ot,Tt)),(lt+1===vt||bt.length>H)&&(Bt+=I.apply(null,bt),bt.length=0)}return Bt};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:Z,configurable:!0,writable:!0}):String.fromCodePoint=Z}()})(t)}(Uy)),Uy}var Zf={exports:{}},tw;function KL(){if(tw)return Zf.exports;tw=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(M,C,P){return Function.prototype.apply.call(M,C,P)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))}:n=function(M){return Object.getOwnPropertyNames(M)};function r(w){console&&console.warn&&console.warn(w)}var a=Number.isNaN||function(M){return M!==M};function s(){s.init.call(this)}Zf.exports=s,Zf.exports.once=T,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(w){if(typeof w!="number"||w<0||a(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");u=w}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(M){if(typeof M!="number"||M<0||a(M))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+M+".");return this._maxListeners=M,this};function f(w){return w._maxListeners===void 0?s.defaultMaxListeners:w._maxListeners}s.prototype.getMaxListeners=function(){return f(this)},s.prototype.emit=function(M){for(var C=[],P=1;P<arguments.length;P++)C.push(arguments[P]);var B=M==="error",S=this._events;if(S!==void 0)B=B&&S.error===void 0;else if(!B)return!1;if(B){var z;if(C.length>0&&(z=C[0]),z instanceof Error)throw z;var F=new Error("Unhandled error."+(z?" ("+z.message+")":""));throw F.context=z,F}var G=S[M];if(G===void 0)return!1;if(typeof G=="function")e(G,this,C);else for(var q=G.length,dt=b(G,q),P=0;P<q;++P)e(dt[P],this,C);return!0};function h(w,M,C,P){var B,S,z;if(l(C),S=w._events,S===void 0?(S=w._events=Object.create(null),w._eventsCount=0):(S.newListener!==void 0&&(w.emit("newListener",M,C.listener?C.listener:C),S=w._events),z=S[M]),z===void 0)z=S[M]=C,++w._eventsCount;else if(typeof z=="function"?z=S[M]=P?[C,z]:[z,C]:P?z.unshift(C):z.push(C),B=f(w),B>0&&z.length>B&&!z.warned){z.warned=!0;var F=new Error("Possible EventEmitter memory leak detected. "+z.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");F.name="MaxListenersExceededWarning",F.emitter=w,F.type=M,F.count=z.length,r(F)}return w}s.prototype.addListener=function(M,C){return h(this,M,C,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(M,C){return h(this,M,C,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(w,M,C){var P={fired:!1,wrapFn:void 0,target:w,type:M,listener:C},B=p.bind(P);return B.listener=C,P.wrapFn=B,B}s.prototype.once=function(M,C){return l(C),this.on(M,g(this,M,C)),this},s.prototype.prependOnceListener=function(M,C){return l(C),this.prependListener(M,g(this,M,C)),this},s.prototype.removeListener=function(M,C){var P,B,S,z,F;if(l(C),B=this._events,B===void 0)return this;if(P=B[M],P===void 0)return this;if(P===C||P.listener===C)--this._eventsCount===0?this._events=Object.create(null):(delete B[M],B.removeListener&&this.emit("removeListener",M,P.listener||C));else if(typeof P!="function"){for(S=-1,z=P.length-1;z>=0;z--)if(P[z]===C||P[z].listener===C){F=P[z].listener,S=z;break}if(S<0)return this;S===0?P.shift():A(P,S),P.length===1&&(B[M]=P[0]),B.removeListener!==void 0&&this.emit("removeListener",M,F||C)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(M){var C,P,B;if(P=this._events,P===void 0)return this;if(P.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):P[M]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete P[M]),this;if(arguments.length===0){var S=Object.keys(P),z;for(B=0;B<S.length;++B)z=S[B],z!=="removeListener"&&this.removeAllListeners(z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(C=P[M],typeof C=="function")this.removeListener(M,C);else if(C!==void 0)for(B=C.length-1;B>=0;B--)this.removeListener(M,C[B]);return this};function m(w,M,C){var P=w._events;if(P===void 0)return[];var B=P[M];return B===void 0?[]:typeof B=="function"?C?[B.listener||B]:[B]:C?R(B):b(B,B.length)}s.prototype.listeners=function(M){return m(this,M,!0)},s.prototype.rawListeners=function(M){return m(this,M,!1)},s.listenerCount=function(w,M){return typeof w.listenerCount=="function"?w.listenerCount(M):_.call(w,M)},s.prototype.listenerCount=_;function _(w){var M=this._events;if(M!==void 0){var C=M[w];if(typeof C=="function")return 1;if(C!==void 0)return C.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function b(w,M){for(var C=new Array(M),P=0;P<M;++P)C[P]=w[P];return C}function A(w,M){for(;M+1<w.length;M++)w[M]=w[M+1];w.pop()}function R(w){for(var M=new Array(w.length),C=0;C<M.length;++C)M[C]=w[C].listener||w[C];return M}function T(w,M){return new Promise(function(C,P){function B(z){w.removeListener(M,S),P(z)}function S(){typeof w.removeListener=="function"&&w.removeListener("error",B),C([].slice.call(arguments))}v(w,M,S,{once:!0}),M!=="error"&&E(w,B,{once:!0})})}function E(w,M,C){typeof w.on=="function"&&v(w,"error",M,C)}function v(w,M,C,P){if(typeof w.on=="function")P.once?w.once(M,C):w.on(M,C);else if(typeof w.addEventListener=="function")w.addEventListener(M,function B(S){P.once&&w.removeEventListener(M,B),C(S)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w)}return Zf.exports}var Wf={},ew;function ZL(){return ew||(ew=1,(function(){Wf.stripBOM=function(t){return t[0]==="\uFEFF"?t.substring(1):t}}).call(Wf)),Wf}var Fo={},nw;function G2(){return nw||(nw=1,(function(){var t;t=new RegExp(/(?!xmlns)^.*:/),Fo.normalize=function(e){return e.toLowerCase()},Fo.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},Fo.stripPrefix=function(e){return e.replace(t,"")},Fo.parseNumbers=function(e){return isNaN(e)||(e=e%1===0?parseInt(e,10):parseFloat(e)),e},Fo.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e=e.toLowerCase()==="true"),e}}).call(Fo)),Fo}const WL={},QL=Object.freeze(Object.defineProperty({__proto__:null,default:WL},Symbol.toStringTag,{value:"Module"})),JL=sN(QL);var rw;function t5(){return rw||(rw=1,function(t){(function(){var e,n,r,a,s,u,l,f,h,p=function(_,b){return function(){return _.apply(b,arguments)}},g=function(_,b){for(var A in b)m.call(b,A)&&(_[A]=b[A]);function R(){this.constructor=_}return R.prototype=b.prototype,_.prototype=new R,_.__super__=b.prototype,_},m={}.hasOwnProperty;f=YL(),a=KL(),e=ZL(),l=G2(),h=JL.setImmediate,n=Um().defaults,s=function(_){return typeof _=="object"&&_!=null&&Object.keys(_).length===0},u=function(_,b,A){var R,T,E;for(R=0,T=_.length;R<T;R++)E=_[R],b=E(b,A);return b},r=function(_,b,A){var R;return R=Object.create(null),R.value=A,R.writable=!0,R.enumerable=!0,R.configurable=!0,Object.defineProperty(_,b,R)},t.Parser=function(_){g(b,_);function b(A){this.parseStringPromise=p(this.parseStringPromise,this),this.parseString=p(this.parseString,this),this.reset=p(this.reset,this),this.assignOrPush=p(this.assignOrPush,this),this.processAsync=p(this.processAsync,this);var R,T,E;if(!(this instanceof t.Parser))return new t.Parser(A);this.options={},T=n["0.2"];for(R in T)m.call(T,R)&&(E=T[R],this.options[R]=E);for(R in A)m.call(A,R)&&(E=A[R],this.options[R]=E);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(l.normalize)),this.reset()}return b.prototype.processAsync=function(){var A,R;try{return this.remaining.length<=this.options.chunkSize?(A=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(A),this.saxParser.close()):(A=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(A),h(this.processAsync))}catch(T){if(R=T,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(R)}},b.prototype.assignOrPush=function(A,R,T){return R in A?(A[R]instanceof Array||r(A,R,[A[R]]),A[R].push(T)):this.options.explicitArray?r(A,R,[T]):r(A,R,T)},b.prototype.reset=function(){var A,R,T,E;return this.removeAllListeners(),this.saxParser=f.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(v){return function(w){if(v.saxParser.resume(),!v.saxParser.errThrown)return v.saxParser.errThrown=!0,v.emit("error",w)}}(this),this.saxParser.onend=function(v){return function(){if(!v.saxParser.ended)return v.saxParser.ended=!0,v.emit("end",v.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,E=[],A=this.options.attrkey,R=this.options.charkey,this.saxParser.onopentag=function(v){return function(w){var M,C,P,B,S;if(P={},P[R]="",!v.options.ignoreAttrs){S=w.attributes;for(M in S)m.call(S,M)&&(!(A in P)&&!v.options.mergeAttrs&&(P[A]={}),C=v.options.attrValueProcessors?u(v.options.attrValueProcessors,w.attributes[M],M):w.attributes[M],B=v.options.attrNameProcessors?u(v.options.attrNameProcessors,M):M,v.options.mergeAttrs?v.assignOrPush(P,B,C):r(P[A],B,C))}return P["#name"]=v.options.tagNameProcessors?u(v.options.tagNameProcessors,w.name):w.name,v.options.xmlns&&(P[v.options.xmlnskey]={uri:w.uri,local:w.local}),E.push(P)}}(this),this.saxParser.onclosetag=function(v){return function(){var w,M,C,P,B,S,z,F,G,q;if(S=E.pop(),B=S["#name"],(!v.options.explicitChildren||!v.options.preserveChildrenOrder)&&delete S["#name"],S.cdata===!0&&(w=S.cdata,delete S.cdata),G=E[E.length-1],S[R].match(/^\s*$/)&&!w?(M=S[R],delete S[R]):(v.options.trim&&(S[R]=S[R].trim()),v.options.normalize&&(S[R]=S[R].replace(/\s{2,}/g," ").trim()),S[R]=v.options.valueProcessors?u(v.options.valueProcessors,S[R],B):S[R],Object.keys(S).length===1&&R in S&&!v.EXPLICIT_CHARKEY&&(S=S[R])),s(S)&&(typeof v.options.emptyTag=="function"?S=v.options.emptyTag():S=v.options.emptyTag!==""?v.options.emptyTag:M),v.options.validator!=null&&(q="/"+function(){var dt,At,it;for(it=[],dt=0,At=E.length;dt<At;dt++)P=E[dt],it.push(P["#name"]);return it}().concat(B).join("/"),function(){var dt;try{return S=v.options.validator(q,G&&G[B],S)}catch(At){return dt=At,v.emit("error",dt)}}()),v.options.explicitChildren&&!v.options.mergeAttrs&&typeof S=="object"){if(!v.options.preserveChildrenOrder)P={},v.options.attrkey in S&&(P[v.options.attrkey]=S[v.options.attrkey],delete S[v.options.attrkey]),!v.options.charsAsChildren&&v.options.charkey in S&&(P[v.options.charkey]=S[v.options.charkey],delete S[v.options.charkey]),Object.getOwnPropertyNames(S).length>0&&(P[v.options.childkey]=S),S=P;else if(G){G[v.options.childkey]=G[v.options.childkey]||[],z={};for(C in S)m.call(S,C)&&r(z,C,S[C]);G[v.options.childkey].push(z),delete S["#name"],Object.keys(S).length===1&&R in S&&!v.EXPLICIT_CHARKEY&&(S=S[R])}}return E.length>0?v.assignOrPush(G,B,S):(v.options.explicitRoot&&(F=S,S={},r(S,B,F)),v.resultObject=S,v.saxParser.ended=!0,v.emit("end",v.resultObject))}}(this),T=function(v){return function(w){var M,C;if(C=E[E.length-1],C)return C[R]+=w,v.options.explicitChildren&&v.options.preserveChildrenOrder&&v.options.charsAsChildren&&(v.options.includeWhiteChars||w.replace(/\\n/g,"").trim()!=="")&&(C[v.options.childkey]=C[v.options.childkey]||[],M={"#name":"__text__"},M[R]=w,v.options.normalize&&(M[R]=M[R].replace(/\s{2,}/g," ").trim()),C[v.options.childkey].push(M)),C}}(this),this.saxParser.ontext=T,this.saxParser.oncdata=function(v){return function(w){var M;if(M=T(w),M)return M.cdata=!0}}()},b.prototype.parseString=function(A,R){var T;R!=null&&typeof R=="function"&&(this.on("end",function(E){return this.reset(),R(null,E)}),this.on("error",function(E){return this.reset(),R(E)}));try{return A=A.toString(),A.trim()===""?(this.emit("end",null),!0):(A=e.stripBOM(A),this.options.async?(this.remaining=A,h(this.processAsync),this.saxParser):this.saxParser.write(A).close())}catch(E){if(T=E,this.saxParser.errThrown||this.saxParser.ended){if(this.saxParser.ended)throw T}else return this.emit("error",T),this.saxParser.errThrown=!0}},b.prototype.parseStringPromise=function(A){return new Promise(function(R){return function(T,E){return R.parseString(A,function(v,w){return v?E(v):T(w)})}}(this))},b}(a),t.parseString=function(_,b,A){var R,T,E;return A!=null?(typeof A=="function"&&(R=A),typeof b=="object"&&(T=b)):(typeof b=="function"&&(R=b),T={}),E=new t.Parser(T),E.parseString(_,R)},t.parseStringPromise=function(_,b){var A,R;return typeof b=="object"&&(A=b),R=new t.Parser(A),R.parseStringPromise(_)}}).call(Vf)}(Vf)),Vf}var iw;function e5(){return iw||(iw=1,(function(){var t,e,n,r,a=function(u,l){for(var f in l)s.call(l,f)&&(u[f]=l[f]);function h(){this.constructor=u}return h.prototype=l.prototype,u.prototype=new h,u.__super__=l.prototype,u},s={}.hasOwnProperty;e=Um(),t=$L(),n=t5(),r=G2(),gi.defaults=e.defaults,gi.processors=r,gi.ValidationError=function(u){a(l,u);function l(f){this.message=f}return l}(Error),gi.Builder=t.Builder,gi.Parser=n.Parser,gi.parseString=n.parseString,gi.parseStringPromise=n.parseStringPromise}).call(gi)),gi}var r0=e5();const i0=aa(r0);function q2(){return{dcrgraph:{specification:{resources:{events:{event:[]},subProcesses:{subProcess:[]},labels:{label:[]},labelMappings:{labelMapping:[]},variables:{variable:[]},expressions:{expression:[]},variableAccesses:{readAccessess:{readAccess:[]},writeAccessess:{writeAccess:[]}}},constraints:{conditions:{condition:[]},responses:{response:[]},coresponces:{coresponce:[]},excludes:{exclude:[]},includes:{include:[]},milestones:{milestone:[]},updates:{update:[]},spawns:{spawn:[]}}},runtime:{marking:{globalStore:{},executed:{event:[]},included:{event:[]},pendingResponses:{event:[]}}}}}}function o0(t,e){e.description&&e.description.trim().length>0&&(t.dcrgraph.specification.resources.labels.label.some(n=>n.$.id===e.description)||t.dcrgraph.specification.resources.labels.label.push({$:{id:e.description}}),t.dcrgraph.specification.resources.labelMappings.labelMapping.push({$:{eventId:e.id,labelId:e.description}}))}function V2(t,e){e.role&&(t.custom||(t.custom={}),ct(t.custom,{roles:{role:{_:e.role}}}))}function yh(t,e){t.custom||(t.custom={}),ct(t.custom,{visualization:{location:{$:{xLoc:e.di.bounds.x,yLoc:e.di.bounds.y}},size:{$:{width:e.di.bounds.width,height:e.di.bounds.height}}}})}function Y2(t,e){e.included&&t.dcrgraph.runtime.marking.included.event.push({$:{id:e.id}}),e.executed&&t.dcrgraph.runtime.marking.executed.event.push({$:{id:e.id}}),e.pending&&t.dcrgraph.runtime.marking.pendingResponses.event.push({$:{id:e.id}})}function n5(t,e,n,r){o0(t,n),V2(r,n),Y2(t,n),yh(r,n),e.push(r)}function r5(t,e,n,r){ct(r.$,{type:"nesting"}),o0(t,n),V2(r,n),yh(r,n),r.event=[],e.push(r);for(let a of n.boardElements||[])vh(t,r.event,a)}function i5(t,e,n,r){if(n["multi-instance"]){ct(r.$,{name:n.description,multiInstance:n["multi-instance"]}),yh(r,n),r.dcrgraph=q2().dcrgraph,t.dcrgraph.specification.resources.subProcesses.subProcess.push(r);for(let a of n.boardElements||[])vh(r,r.dcrgraph.specification.resources.events.event,a)}else{ct(r.$,{type:"subprocess"}),o0(t,n),Y2(t,n),yh(r,n),r.event=[],e.push(r);for(let a of n.boardElements||[])vh(t,r.event,a)}}function o5(t,e,n,r){r={$:{sourceId:n.sourceRef.id,targetId:n.targetRef.id},custom:{waypoints:{waypoint:n.di.waypoint.map(a=>({$:{x:a.x,y:a.y}}))},id:{$:{id:n.id}}}},t.dcrgraph.specification.constraints[`${n.type}s`][n.type].push(r)}function vh(t,e,n){let r={$:{id:n.id}};switch(n.$type){case"dcr:Event":n5(t,e,n,r);break;case"dcr:Nesting":r5(t,e,n,r);break;case"dcr:SubProcess":i5(t,e,n,r);break;case"dcr:Relation":o5(t,e,n,r);break;default:console.warn("unknown element type",n.$type);break}}function a5(t,e){return new Promise((n,r)=>{if(!e){var a=new Error("no definitions loaded");return r(a)}let s=q2();if(e.rootElements[0].boardElements)for(let l of e.rootElements[0].boardElements)vh(s,s.dcrgraph.specification.resources.events.event,l);let u=new i0.Builder;return n({xml:u.buildObject(s)})})}function s5(){return{"dcr:definitions":{$:{"xmlns:dcr":"http://tk/schema/dcr","xmlns:dcrDi":"http://tk/schema/dcrDi","xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC"},"dcr:dcrGraph":{$:{id:"dcrGraph"},"dcr:event":[],"dcr:nesting":[],"dcr:subProcess":[],"dcr:relation":[]},"dcrDi:dcrRootBoard":{$:{id:"dcrRootBoard"},"dcrDi:dcrPlane":{$:{id:"dcrPlane",boardElement:"dcrGraph"},"dcrDi:dcrShape":[],"dcrDi:relation":[]}}}}}function Vy(t,e){var n,r;return(r=(n=e.specification[0].resources[0].labelMappings[0].labelMapping)==null?void 0:n.find(a=>a.$.eventId===t))==null?void 0:r.$.labelId}function ow(t,e){var n,r;return((r=(n=e.runtime[0].marking[0].included[0])==null?void 0:n.event)==null?void 0:r.find(a=>a.$.id===t))!==void 0}function aw(t,e){var n,r;return((r=(n=e.runtime[0].marking[0].executed[0])==null?void 0:n.event)==null?void 0:r.find(a=>a.$.id===t))!==void 0}function sw(t,e){var n,r;return((r=(n=e.runtime[0].marking[0].pendingResponses[0])==null?void 0:n.event)==null?void 0:r.find(a=>a.$.id===t))!==void 0}function mh(t,e,n,r,a){var s,u,l,f,h,p,g,m,_,b,A,R,T,E,v,w,M,C,P,B,S,z,F,G,q,dt,At,it,gt,Nt,zt,K,X,Q,at,rt,wt,Et,I,L,Z,H,bt,Ot,Tt,lt,vt,Bt,Lt,Pt,ee,It,Ut,Gt;if(a.set(t.$.id,r),!t.$.type)r["dcr:event"].push({$:{id:t.$.id,role:(l=(u=(s=t.custom[0])==null?void 0:s.roles)==null?void 0:u[0])==null?void 0:l.role[0],description:Vy(t.$.id,e),included:ow(t.$.id,e),executed:aw(t.$.id,e),pending:sw(t.$.id,e)}}),n["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:dcrShape"].push({$:{id:`${t.$.id}_di`,boardElement:t.$.id},"dc:Bounds":{$:{x:(g=(p=(h=(f=t.custom[0])==null?void 0:f.visualization[0])==null?void 0:h.location[0])==null?void 0:p.$)==null?void 0:g.xLoc,y:(A=(b=(_=(m=t.custom[0])==null?void 0:m.visualization[0])==null?void 0:_.location[0])==null?void 0:b.$)==null?void 0:A.yLoc,width:(v=(E=(T=(R=t.custom[0])==null?void 0:R.visualization[0])==null?void 0:T.size[0])==null?void 0:E.$)==null?void 0:v.width,height:(P=(C=(M=(w=t.custom[0])==null?void 0:w.visualization[0])==null?void 0:M.size[0])==null?void 0:C.$)==null?void 0:P.height}}});else if(t.$.type==="nesting"){if(r["dcr:nesting"].push({$:{id:t.$.id,role:(z=(S=(B=t.custom[0])==null?void 0:B.roles)==null?void 0:S[0])==null?void 0:z.role[0],description:Vy(t.$.id,e)},"dcr:event":[],"dcr:nesting":[],"dcr:subProcess":[],"dcr:relation":[]}),n["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:dcrShape"].push({$:{id:`${t.$.id}_di`,boardElement:t.$.id},"dc:Bounds":{$:{x:(dt=(q=(G=(F=t.custom[0])==null?void 0:F.visualization[0])==null?void 0:G.location[0])==null?void 0:q.$)==null?void 0:dt.xLoc,y:(Nt=(gt=(it=(At=t.custom[0])==null?void 0:At.visualization[0])==null?void 0:it.location[0])==null?void 0:gt.$)==null?void 0:Nt.yLoc,width:(Q=(X=(K=(zt=t.custom[0])==null?void 0:zt.visualization[0])==null?void 0:K.size[0])==null?void 0:X.$)==null?void 0:Q.width,height:(Et=(wt=(rt=(at=t.custom[0])==null?void 0:at.visualization[0])==null?void 0:rt.size[0])==null?void 0:wt.$)==null?void 0:Et.height}}}),t.event)for(let fe of t.event)mh(fe,e,n,r["dcr:nesting"][r["dcr:nesting"].length-1],a)}else if(t.$.type==="subprocess"&&(r["dcr:subProcess"].push({$:{id:t.$.id,description:Vy(t.$.id,e),included:ow(t.$.id,e),executed:aw(t.$.id,e),pending:sw(t.$.id,e)},"dcr:event":[],"dcr:nesting":[],"dcr:subProcess":[],"dcr:relation":[]}),n["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:dcrShape"].push({$:{id:`${t.$.id}_di`,boardElement:t.$.id},"dc:Bounds":{$:{x:(H=(Z=(L=(I=t.custom[0])==null?void 0:I.visualization[0])==null?void 0:L.location[0])==null?void 0:Z.$)==null?void 0:H.xLoc,y:(lt=(Tt=(Ot=(bt=t.custom[0])==null?void 0:bt.visualization[0])==null?void 0:Ot.location[0])==null?void 0:Tt.$)==null?void 0:lt.yLoc,width:(Pt=(Lt=(Bt=(vt=t.custom[0])==null?void 0:vt.visualization[0])==null?void 0:Bt.size[0])==null?void 0:Lt.$)==null?void 0:Pt.width,height:(Gt=(Ut=(It=(ee=t.custom[0])==null?void 0:ee.visualization[0])==null?void 0:It.size[0])==null?void 0:Ut.$)==null?void 0:Gt.height}}}),t.event))for(let fe of t.event)mh(fe,e,n,r["dcr:subProcess"][r["dcr:subProcess"].length-1],a)}function u5(t,e,n){var r,a,s,u,l,f,h,p,g,m,_,b,A,R,T,E;for(let v of Object.values(t.specification[0].resources[0].subProcesses[0].subProcess)){e["dcr:definitions"]["dcr:dcrGraph"]["dcr:subProcess"].push({$:{id:v.$.id,description:v.$.name,"multi-instance":!0,included:!0},"dcr:event":[],"dcr:nesting":[],"dcr:subProcess":[],"dcr:relation":[]}),e["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:dcrShape"].push({$:{id:`${v.$.id}_di`,boardElement:v.$.id},"dc:Bounds":{$:{x:(u=(s=(a=(r=v.custom[0])==null?void 0:r.visualization[0])==null?void 0:a.location[0])==null?void 0:s.$)==null?void 0:u.xLoc,y:(p=(h=(f=(l=v.custom[0])==null?void 0:l.visualization[0])==null?void 0:f.location[0])==null?void 0:h.$)==null?void 0:p.yLoc,width:(b=(_=(m=(g=v.custom[0])==null?void 0:g.visualization[0])==null?void 0:m.size[0])==null?void 0:_.$)==null?void 0:b.width,height:(E=(T=(R=(A=v.custom[0])==null?void 0:A.visualization[0])==null?void 0:R.size[0])==null?void 0:T.$)==null?void 0:E.height}}});for(let w of v.dcrgraph[0].specification[0].resources[0].events[0].event)mh(w,v.dcrgraph[0],e,e["dcr:definitions"]["dcr:dcrGraph"]["dcr:subProcess"][e["dcr:definitions"]["dcr:dcrGraph"]["dcr:subProcess"].length-1],n);K2(v.dcrgraph[0],e,n)}}function K2(t,e,n){var r,a,s,u,l,f,h,p,g,m;for(let _ of Object.values(t.specification[0].constraints[0])){if(_[0]==="")continue;let b=Object.keys(_[0])[0];for(let A of Object.values(_[0])[0])n.get(A.$.sourceId)["dcr:relation"].push({$:{id:(s=(a=(r=A.custom[0])==null?void 0:r.id)==null?void 0:a[0])==null?void 0:s.$.id,type:b,sourceRef:A.$.sourceId,targetRef:A.$.targetId}}),e["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:relation"].push({$:{id:`${(f=(l=(u=A.custom[0])==null?void 0:u.id)==null?void 0:l[0])==null?void 0:f.$.id}_di`,boardElement:(g=(p=(h=A.custom[0])==null?void 0:h.id)==null?void 0:p[0])==null?void 0:g.$.id},"dcrDi:waypoint":(m=A.custom[0])==null?void 0:m.waypoints[0].waypoint})}}async function c5(t){try{const e=await r0.parseStringPromise(t),n=s5(),r=new Map;for(let u of e.dcrgraph.specification[0].resources[0].events[0].event)mh(u,e.dcrgraph,n,n["dcr:definitions"]["dcr:dcrGraph"],r);return e.dcrgraph.specification[0].resources[0].subProcesses[0]!==""&&u5(e.dcrgraph,n,r),K2(e.dcrgraph,n,r),new i0.Builder().buildObject(n)}catch(e){console.error("Failed to parse custom XML",e)}}function l5(){return{"dcr:definitions":{$:{"xmlns:dcr":"http://tk/schema/dcr","xmlns:dcrDi":"http://tk/schema/dcrDi","xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC"},"dcr:dcrGraph":{$:{id:"dcrGraph"},"dcr:event":[],"dcr:nesting":[],"dcr:subProcess":[],"dcr:relation":[]},"dcrDi:dcrRootBoard":{$:{id:"dcrRootBoard"},"dcrDi:dcrPlane":{$:{id:"dcrPlane",boardElement:"dcrGraph"},"dcrDi:dcrShape":[],"dcrDi:relation":[]}}}}}function Hc(t,e){var n,r,a,s,u,l,f,h,p,g;if(e){const m=(l=(u=(s=(a=(r=(n=e==null?void 0:e.specification)==null?void 0:n[0])==null?void 0:r.resources)==null?void 0:a[0])==null?void 0:s.events)==null?void 0:u[0])==null?void 0:l.event;if(m)for(let _ of m){const b=Hc(t,(h=(f=_.template)==null?void 0:f[0])==null?void 0:h.dcrgraph[0]);if(b)return b}return(g=(p=e.specification[0].resources[0].labelMappings[0].labelMapping)==null?void 0:p.find(_=>_.$.eventId===t))==null?void 0:g.$.labelId}}function Kd(t,e){var n,r,a,s,u,l,f,h,p,g,m,_,b,A,R;if(e){const T=(l=(u=(s=(a=(r=(n=e==null?void 0:e.specification)==null?void 0:n[0])==null?void 0:r.resources)==null?void 0:a[0])==null?void 0:s.events)==null?void 0:u[0])==null?void 0:l.event;if(T){for(let E of T)if(Kd(t,(h=(f=E.template)==null?void 0:f[0])==null?void 0:h.dcrgraph[0]))return!0}return((R=(A=(b=(_=(m=(g=(p=e==null?void 0:e.runtime)==null?void 0:p[0])==null?void 0:g.marking)==null?void 0:m[0])==null?void 0:_.included)==null?void 0:b[0])==null?void 0:A.event)==null?void 0:R.find(E=>E.$.id===t))!==void 0}return!1}function Yy(t,e){var n,r;return((r=(n=e.runtime[0].marking[0].executed[0])==null?void 0:n.event)==null?void 0:r.find(a=>a.$.id===t))!==void 0}function Ky(t,e){var n,r;return((r=(n=e.runtime[0].marking[0].pendingResponses[0])==null?void 0:n.event)==null?void 0:r.find(a=>a.$.id===t))!==void 0}const Z2=130,W2=150;function Q2(t){var e,n,r,a,s,u,l,f,h,p;return t.event||((p=(h=(f=(l=(u=(s=(a=(r=(n=(e=t.template)==null?void 0:e[0])==null?void 0:n.dcrgraph)==null?void 0:r[0])==null?void 0:a.specification)==null?void 0:s[0])==null?void 0:u.resources)==null?void 0:l[0])==null?void 0:f.events)==null?void 0:h[0])==null?void 0:p.event)}function J2(t){var f,h,p,g,m,_,b,A,R,T,E,v,w,M,C,P,B,S;const e=parseInt((g=(p=(h=(f=t.custom[0])==null?void 0:f.visualization[0])==null?void 0:h.location[0])==null?void 0:p.$)==null?void 0:g.xLoc),n=parseInt((A=(b=(_=(m=t.custom[0])==null?void 0:m.visualization[0])==null?void 0:_.location[0])==null?void 0:b.$)==null?void 0:A.yLoc),r=(w=(v=(E=(T=(R=t.custom[0])==null?void 0:R.visualization[0])==null?void 0:T.size)==null?void 0:E[0])==null?void 0:v.$)==null?void 0:w.width,a=(S=(B=(P=(C=(M=t.custom[0])==null?void 0:M.visualization[0])==null?void 0:C.size)==null?void 0:P[0])==null?void 0:B.$)==null?void 0:S.height;if(r&&a)return{x:e+r,y:n+a};const s=e+Z2,u=n+W2,l=Q2(t);if(l){let[z,F]=l.reduce(function([G,q],dt){let At=J2(dt);return[Math.max(G,At.x+30),Math.max(q,At.y+30)]},[s,u]);return{x:z,y:F}}return{x:s,y:u}}function Gc(t,e,n,r,a){var p,g,m,_,b,A,R,T,E,v,w,M,C,P;const s=parseInt((_=(m=(g=(p=t.custom[0])==null?void 0:p.visualization[0])==null?void 0:g.location[0])==null?void 0:m.$)==null?void 0:_.xLoc),u=parseInt((T=(R=(A=(b=t.custom[0])==null?void 0:b.visualization[0])==null?void 0:A.location[0])==null?void 0:R.$)==null?void 0:T.yLoc),l=J2(t),f=l.x-s,h=l.y-u;if(a.set(t.$.id,r),!t.$.type)r["dcr:event"].push({$:{id:t.$.id,role:(w=(v=(E=t.custom[0])==null?void 0:E.roles)==null?void 0:v[0])==null?void 0:w.role.join(", "),description:Hc(t.$.id,e),included:Kd(t.$.id,e),executed:Yy(t.$.id,e),pending:Ky(t.$.id,e)}}),n["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:dcrShape"].push({$:{id:`${t.$.id}_id`,boardElement:t.$.id},"dc:Bounds":{$:{x:s,y:u,width:Z2,height:W2}}});else if(t.$.type==="nesting"){if(r["dcr:nesting"].push({$:{id:t.$.id,role:(P=(C=(M=t.custom[0])==null?void 0:M.roles)==null?void 0:C[0])==null?void 0:P.role[0],description:Hc(t.$.id,e)},"dcr:event":[],"dcr:nesting":[],"dcr:subProcess":[],"dcr:relation":[]}),n["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:dcrShape"].push({$:{id:`${t.$.id}_di`,boardElement:t.$.id},"dc:Bounds":{$:{x:s,y:u,width:f,height:h}}}),t.event)for(let B of t.event)Gc(B,e,n,r["dcr:nesting"][r["dcr:nesting"].length-1],a)}else if(t.$.type==="subprocess"){if(r["dcr:subProcess"].push({$:{id:t.$.id,description:Hc(t.$.id,e),included:Kd(t.$.id,e),executed:Yy(t.$.id,e),pending:Ky(t.$.id,e)},"dcr:event":[],"dcr:nesting":[],"dcr:subProcess":[],"dcr:relation":[]}),n["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:dcrShape"].push({$:{id:`${t.$.id}_id`,boardElement:t.$.id},"dc:Bounds":{$:{x:s,y:u,width:f,height:h}}}),t.event)for(let B of t.event)Gc(B,e,n,r["dcr:subProcess"][r["dcr:subProcess"].length-1],a)}else if(t.$.type==="template"){r["dcr:subProcess"].push({$:{id:t.$.id,description:Hc(t.$.id,e),included:Kd(t.$.id,e),executed:Yy(t.$.id,e),pending:Ky(t.$.id,e),"multi-instance":!0},"dcr:event":[],"dcr:nesting":[],"dcr:subProcess":[],"dcr:relation":[]}),n["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:dcrShape"].push({$:{id:`${t.$.id}_id`,boardElement:t.$.id},"dc:Bounds":{$:{x:s,y:u,width:f,height:h}}});let B=Q2(t);if(B)for(let S of B)Gc(S,e,n,r["dcr:subProcess"][r["dcr:subProcess"].length-1],a)}}function f5(t,e,n){var r,a,s,u,l,f,h,p,g,m,_,b,A,R,T,E;for(let v of Object.values(t.specification[0].resources[0].subProcesses[0].subProcess)){e["dcr:definitions"]["dcr:dcrGraph"]["dcr:subProcess"].push({$:{id:v.$.id,description:v.$.name,"multi-instance":!0,included:!0},"dcr:event":[],"dcr:nesting":[],"dcr:subProcess":[],"dcr:relation":[]}),e["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:dcrShape"].push({$:{id:`${v.$.id}_id`,boardElement:v.$.id},"dc:Bounds":{$:{x:(u=(s=(a=(r=v.custom[0])==null?void 0:r.visualization[0])==null?void 0:a.location[0])==null?void 0:s.$)==null?void 0:u.xLoc,y:(p=(h=(f=(l=v.custom[0])==null?void 0:l.visualization[0])==null?void 0:f.location[0])==null?void 0:h.$)==null?void 0:p.yLoc,width:(b=(_=(m=(g=v.custom[0])==null?void 0:g.visualization[0])==null?void 0:m.size[0])==null?void 0:_.$)==null?void 0:b.width,height:(E=(T=(R=(A=v.custom[0])==null?void 0:A.visualization[0])==null?void 0:R.size[0])==null?void 0:T.$)==null?void 0:E.height}}});for(let w of v.dcrgraph[0].specification[0].resources[0].events[0].event)Gc(w,v.dcrgraph[0],e,e["dcr:definitions"]["dcr:dcrGraph"]["dcr:subProcess"][e["dcr:definitions"]["dcr:dcrGraph"]["dcr:subProcess"].length-1],n);tC(v.dcrgraph[0],e,n)}}function d5(t){let e=Object.keys(t[0])[0];return e==="templateSpawn"?"spawn":e}function tC(t,e,n){for(let r of Object.values(t.specification[0].constraints[0])){if(r[0]==="")continue;let a=d5(r);for(let s of Object.values(r[0])[0]){const u=s.$.sourceId+s.$.targetId;n.get(s.$.sourceId)["dcr:relation"].push({$:{id:u,type:a,sourceRef:s.$.sourceId,targetRef:s.$.targetId}});const l=e["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:dcrShape"],f=l.find(z=>z.$.id==s.$.sourceId+"_id"),h=parseInt(f["dc:Bounds"].$.x),p=parseInt(f["dc:Bounds"].$.y),g=parseInt(f["dc:Bounds"].$.width),m=parseInt(f["dc:Bounds"].$.height),_=l.find(z=>z.$.id==s.$.targetId+"_id"),b=parseInt(_["dc:Bounds"].$.x),A=parseInt(_["dc:Bounds"].$.y),R=parseInt(_["dc:Bounds"].$.width),T=parseInt(_["dc:Bounds"].$.height);let E,v,w,M,C=h+g/2,P=p+m/2,B=b+R/2,S=A+T/2;C<B&&P<S?(E=C,v=p+m,w=b,M=S):C<B&&P>=S?(E=h+g,v=P,w=B,M=A+T):C>=B&&P>=S?(E=C,v=p,w=b+R,M=S):(E=h,v=P,w=B,M=A),e["dcr:definitions"]["dcrDi:dcrRootBoard"]["dcrDi:dcrPlane"]["dcrDi:relation"].push({$:{id:`${u}id`,boardElement:u},"dcrDi:waypoint":[{$:{x:E,y:v}},{$:{x:w,y:M}}]})}}}function Yi(t){return typeof t=="object"}function h5(t){var e;for(let n of t.specification.filter(Yi)){for(let r of n.constraints.filter(Yi))for(let a of r.conditions.filter(Yi))for(let s of a.condition.filter(Yi))if((e=s.$)!=null&&e.time)return'"time" attribute is not supported.';for(let r of n.resources.filter(Yi))for(let a of r.events.filter(Yi))for(let s of a.event.filter(Yi))for(let u of s.custom.filter(Yi))for(let l of u.eventData.filter(Yi))if(l.dataType[0])return'"dataType" attribute is not supported.'}}async function p5(t){try{const e=await r0.parseStringPromise(t),n=l5(),r=new Map,a=h5(e.dcrgraph);if(a)throw alert(a),new Error(a);for(let l of e.dcrgraph.specification[0].resources[0].events[0].event)Gc(l,e.dcrgraph,n,n["dcr:definitions"]["dcr:dcrGraph"],r);return e.dcrgraph.specification[0].resources[0].subProcesses[0]!==""&&f5(e.dcrgraph,n,r),tC(e.dcrgraph,n,r),new i0.Builder().buildObject(n)}catch(e){console.error("Failed to parse custom XML",e)}}function Be(t,e){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=e,this._eventBus=t,this._uid=1,t.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}Be.$inject=["eventBus","injector"];Be.prototype.execute=function(t,e){if(!t)throw new Error("command required");this._currentExecution.trigger="execute";const n={command:t,context:e};this._pushAction(n),this._internalExecute(n),this._popAction()};Be.prototype.canExecute=function(t,e){const n={command:t,context:e},r=this._getHandler(t);let a=this._fire(t,"canExecute",n);if(a===void 0){if(!r)return!1;r.canExecute&&(a=r.canExecute(e))}return a};Be.prototype.clear=function(t){this._stack.length=0,this._stackIdx=-1,t!==!1&&this._fire("changed",{trigger:"clear"})};Be.prototype.undo=function(){let t=this._getUndoAction(),e;if(t){for(this._currentExecution.trigger="undo",this._pushAction(t);t&&(this._internalUndo(t),e=this._getUndoAction(),!(!e||e.id!==t.id));)t=e;this._popAction()}};Be.prototype.redo=function(){let t=this._getRedoAction(),e;if(t){for(this._currentExecution.trigger="redo",this._pushAction(t);t&&(this._internalExecute(t,!0),e=this._getRedoAction(),!(!e||e.id!==t.id));)t=e;this._popAction()}};Be.prototype.register=function(t,e){this._setHandler(t,e)};Be.prototype.registerHandler=function(t,e){if(!t||!e)throw new Error("command and handlerCls must be defined");const n=this._injector.instantiate(e);this.register(t,n)};Be.prototype.canUndo=function(){return!!this._getUndoAction()};Be.prototype.canRedo=function(){return!!this._getRedoAction()};Be.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]};Be.prototype._getUndoAction=function(){return this._stack[this._stackIdx]};Be.prototype._internalUndo=function(t){const e=t.command,n=t.context,r=this._getHandler(e);this._atomicDo(()=>{this._fire(e,"revert",t),r.revert&&this._markDirty(r.revert(n)),this._revertedAction(t),this._fire(e,"reverted",t)})};Be.prototype._fire=function(t,e,n){arguments.length<3&&(n=e,e=null);const r=e?[t+"."+e,e]:[t];let a;n=this._eventBus.createEvent(n);for(const s of r)if(a=this._eventBus.fire("commandStack."+s,n),n.cancelBubble)break;return a};Be.prototype._createId=function(){return this._uid++};Be.prototype._atomicDo=function(t){const e=this._currentExecution;e.atomic=!0;try{t()}finally{e.atomic=!1}};Be.prototype._internalExecute=function(t,e){const n=t.command,r=t.context,a=this._getHandler(n);if(!a)throw new Error("no command handler registered for <"+n+">");this._pushAction(t),e||(this._fire(n,"preExecute",t),a.preExecute&&a.preExecute(r),this._fire(n,"preExecuted",t)),this._atomicDo(()=>{this._fire(n,"execute",t),a.execute&&this._markDirty(a.execute(r)),this._executedAction(t,e),this._fire(n,"executed",t)}),e||(this._fire(n,"postExecute",t),a.postExecute&&a.postExecute(r),this._fire(n,"postExecuted",t)),this._popAction()};Be.prototype._pushAction=function(t){const e=this._currentExecution,n=e.actions,r=n[0];if(e.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+t.command+")");t.id||(t.id=r&&r.id||this._createId()),n.push(t)};Be.prototype._popAction=function(){const t=this._currentExecution,e=t.trigger,n=t.actions,r=t.dirty;n.pop(),n.length||(this._eventBus.fire("elements.changed",{elements:ZT("id",r.reverse())}),r.length=0,this._fire("changed",{trigger:e}),t.trigger=null)};Be.prototype._markDirty=function(t){const e=this._currentExecution;t&&(t=re(t)?t:[t],e.dirty=e.dirty.concat(t))};Be.prototype._executedAction=function(t,e){const n=++this._stackIdx;e||this._stack.splice(n,this._stack.length,t)};Be.prototype._revertedAction=function(t){this._stackIdx--};Be.prototype._getHandler=function(t){return this._handlerMap[t]};Be.prototype._setHandler=function(t,e){if(!t||!e)throw new Error("command and handler required");if(this._handlerMap[t])throw new Error("overriding handler for command <"+t+">");this._handlerMap[t]=e};function te(t,e){var n=pr(t);return n&&typeof n.$instanceOf=="function"&&n.$instanceOf(e)}function pr(t){return t&&t.businessObject||t}const _i={markerNotation:"defaultMarkers",blackRelations:!1};let eC;const g5=(t,e)=>{eC.execute("settings.update",{settings:{},key:t,value:e})};function nC(t,e){eC=t,t.registerHandler("settings.update",Zh)}nC.$inject=["commandStack","eventBus"];function Zh(t){this._elementRegistry=t}Zh.$inject=["elementRegistry"];Zh.prototype.execute=function(t){return t.oldValue=_i[t.key],_i[t.key]=t.value,this._elementRegistry.filter(function(e){return te(e,"dcr:Relation")})};Zh.prototype.revert=function(t){return _i[t.key]=t.oldValue,this._elementRegistry.filter(function(e){return te(e,"dcr:Relation")})};var y5=["c","C"],v5=["v","V"],m5=["y","Y"],rC=["z","Z"];function _5(t){return t.ctrlKey||t.metaKey||t.shiftKey||t.altKey}function gr(t){return t.altKey?!1:t.ctrlKey||t.metaKey}function Pr(t,e){return t=re(t)?t:[t],t.indexOf(e.key)!==-1||t.indexOf(e.code)!==-1}function a0(t){return t.shiftKey}function x5(t){return gr(t)&&Pr(y5,t)}function E5(t){return gr(t)&&Pr(v5,t)}function b5(t){return gr(t)&&!a0(t)&&Pr(rC,t)}function w5(t){return gr(t)&&(Pr(m5,t)||Pr(rC,t)&&a0(t))}var S5=500;function Eu(t,e){var n=this;t.on("editorActions.init",S5,function(r){var a=r.editorActions;n.registerBindings(e,a)})}Eu.$inject=["eventBus","keyboard"];Eu.prototype.registerBindings=function(t,e){function n(r,a){e.isRegistered(r)&&t.addListener(a)}n("undo",function(r){var a=r.keyEvent;if(b5(a))return e.trigger("undo"),!0}),n("redo",function(r){var a=r.keyEvent;if(w5(a))return e.trigger("redo"),!0}),n("copy",function(r){var a=r.keyEvent;if(x5(a))return e.trigger("copy"),!0}),n("paste",function(r){var a=r.keyEvent;if(E5(a))return e.trigger("paste"),!0}),n("stepZoom",function(r){var a=r.keyEvent;if(Pr(["+","Add","="],a)&&gr(a))return e.trigger("stepZoom",{value:1}),!0}),n("stepZoom",function(r){var a=r.keyEvent;if(Pr(["-","Subtract"],a)&&gr(a))return e.trigger("stepZoom",{value:-1}),!0}),n("zoom",function(r){var a=r.keyEvent;if(Pr("0",a)&&gr(a))return e.trigger("zoom",{value:1}),!0}),n("removeSelection",function(r){var a=r.keyEvent;if(Pr(["Backspace","Delete","Del"],a))return e.trigger("removeSelection"),!0})};function Wh(t){t.invoke(Eu,this)}we(Wh,Eu);Wh.$inject=["injector"];var eu=!1;const T5=function(t){eu=t};Wh.prototype.registerBindings=function(t,e){Eu.prototype.registerBindings.call(this,t,e);function n(r,a){e.isRegistered(r)&&t.addListener(a)}n("selectElements",function(r){if(!eu){var a=r.keyEvent;if(t.isKey(["a","A"],a)&&t.isCmd(a))return e.trigger("selectElements"),!0}}),n("find",function(r){var a=r.keyEvent;if(t.isKey(["f","F"],a)&&t.isCmd(a))return e.trigger("find"),!0}),n("spaceTool",function(r){if(!eu){var a=r.keyEvent;if(t.hasModifier(a))return;if(t.isKey(["s","S"],a))return e.trigger("spaceTool"),!0}}),n("lassoTool",function(r){if(!eu){var a=r.keyEvent;if(t.hasModifier(a))return;if(t.isKey(["l","L"],a))return e.trigger("lassoTool"),!0}}),n("handTool",function(r){if(!eu){var a=r.keyEvent;if(t.hasModifier(a))return;if(t.isKey(["h","H"],a))return e.trigger("handTool"),!0}}),n("directEditing",function(r){if(!eu){var a=r.keyEvent;if(t.hasModifier(a))return;if(t.isKey(["e","E"],a))return e.trigger("directEditing"),!0}})};const iC=()=>{Set.prototype.union=function(t){for(const e of t)this.add(e);return this},Set.prototype.intersect=function(t){for(const e of this)t.has(e)||this.delete(e);return this},Set.prototype.difference=function(t){for(const e of this)t.has(e)&&this.delete(e);return this}},oC=t=>t.parent!==void 0,qc=t=>new Set(t),su=t=>({executed:qc(t.executed),included:qc(t.included),pending:qc(t.pending)});iC();const C5=(t,e)=>{e.marking.pending.delete(t);for(const n of e.responseTo[t])e.marking.pending.add(n);for(const n of e.excludesTo[t])e.marking.included.delete(n);for(const n of e.includesTo[t])e.marking.included.add(n)},aC=t=>qc(t.marking.pending).intersect(t.marking.included).size===0,M5=(t,e)=>{if(!e.marking.included.has(t))return!1;for(const n of e.conditionsFor[t])if(e.marking.included.has(n)&&!e.marking.executed.has(n))return!1;for(const n of e.milestonesFor[t])if(e.marking.included.has(n)&&e.marking.pending.has(n))return!1;return!0},sC=(t,e,n)=>{e.marking.executed.add(t),e.marking.pending.delete(t);for(const r of e.responseTo[t])e.marking.pending.add(r);for(const r of e.excludesTo[t])e.marking.included.delete(r);for(const r of e.includesTo[t])e.marking.included.add(r);oC(n)&&A5(n,e)&&sC(n.id,e,n.parent)},A5=(t,e)=>qc(e.marking.pending).intersect(e.marking.included).intersect(t.events).size===0,Qf=t=>t===""?"Unnamed Event":t,s0=(t,e,n)=>{if(!e.marking.included.has(t))return{enabled:!1,msg:`${e.labelMap[t]} is not included...`};if(oC(n)){const r=s0(n.id,e,n.parent);if(!r.enabled)return r}for(const r of e.conditionsFor[t])if(e.marking.included.has(r)&&!e.marking.executed.has(r))return{enabled:!1,msg:`At minimum, ${Qf(e.labelMap[r])} is conditioning for ${Qf(e.labelMap[t])}...`};for(const r of e.milestonesFor[t])if(e.marking.included.has(r)&&e.marking.pending.has(r))return{enabled:!1,msg:`At minimum, ${Qf(e.labelMap[r])} is a milestone for ${Qf(e.labelMap[t])}...`};return{enabled:!0,msg:""}},u0=t=>{const e=O5();e.events.union||iC();const n=t.filter(l=>l.type==="dcr:Relation"),r=t.get("dcrGraph"),a=r.children.filter(l=>l.type==="dcr:Event"),s=r.children.filter(l=>l.type==="dcr:Nesting"),u=r.children.filter(l=>l.type==="dcr:SubProcess");return uu(e,e,a),uu(e,e,u),c0(e,e,u),l0(e,e,s),n.forEach(l=>{const f=l.businessObject.get("sourceRef").id,h=l.businessObject.get("targetRef").id;switch(l.businessObject.get("type")){case"condition":Ya(e.conditionsFor,s,h,f);break;case"milestone":Ya(e.milestonesFor,s,h,f);break;case"response":Ya(e.responseTo,s,f,h);break;case"include":Ya(e.includesTo,s,f,h);break;case"exclude":Ya(e.excludesTo,s,f,h);break}}),e},c0=(t,e,n)=>{n.forEach(r=>{const a={id:r.id,parent:e,events:new Set,subProcesses:new Set},s=r.children.filter(f=>f.type==="dcr:Event"),u=r.children.filter(f=>f.type==="dcr:SubProcess"),l=r.children.filter(f=>f.type==="dcr:Nesting");uu(t,a,s),uu(t,a,u),c0(t,a,u),l0(t,a,l),e.subProcesses.add(a)})},l0=(t,e,n)=>{n.forEach(r=>{const a=r.children.filter(l=>l.type==="dcr:Event"),s=r.children.filter(l=>l.type==="dcr:Nesting"),u=r.children.filter(l=>l.type==="dcr:SubProcess");uu(t,e,a),uu(t,e,u),l0(t,e,s),c0(t,e,u)})},uu=(t,e,n)=>{n.forEach(r=>{const a=r.businessObject.get("description");e.events.add(r.id),t.labels.add(a),t.labelMap[r.id]=a,t.labelMapInv[a]||(t.labelMapInv[a]=new Set),t.labelMapInv[a].add(r.id),r.businessObject.get("pending")&&t.marking.pending.add(r.id),r.businessObject.get("executed")&&t.marking.executed.add(r.id),r.businessObject.get("included")&&t.marking.included.add(r.id),t.conditionsFor[r.id]=new Set,t.milestonesFor[r.id]=new Set,t.responseTo[r.id]=new Set,t.includesTo[r.id]=new Set,t.excludesTo[r.id]=new Set})},Ya=(t,e,n,r)=>{n.includes("Nesting")?e.forEach(a=>{a.id===n&&a.children.forEach(s=>{(s.type==="dcr:SubProcess"||s.type==="dcr:Event"||s.type==="dcr:Nesting")&&Ya(t,e,s.id,r)})}):r.includes("Nesting")?e.forEach(a=>{a.id===r&&a.children.forEach(s=>{(s.type==="dcr:SubProcess"||s.type==="dcr:Event"||s.type==="dcr:Nesting")&&Ya(t,e,n,s.id)})}):t[n].add(r)},O5=()=>({events:new Set,labels:new Set,labelMap:{},labelMapInv:{},subProcesses:new Set,conditionsFor:{},milestonesFor:{},responseTo:{},includesTo:{},excludesTo:{},marking:{executed:new Set,included:new Set,pending:new Set}});var Zy={},Wy={},Qy={},uw;function no(){return uw||(uw=1,function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",r="["+e+"]["+n+"]*",a=new RegExp("^"+r+"$"),s=function(l,f){const h=[];let p=f.exec(l);for(;p;){const g=[];g.startIndex=f.lastIndex-p[0].length;const m=p.length;for(let _=0;_<m;_++)g.push(p[_]);h.push(g),p=f.exec(l)}return h},u=function(l){const f=a.exec(l);return!(f===null||typeof f>"u")};t.isExist=function(l){return typeof l<"u"},t.isEmptyObject=function(l){return Object.keys(l).length===0},t.merge=function(l,f,h){if(f){const p=Object.keys(f),g=p.length;for(let m=0;m<g;m++)h==="strict"?l[p[m]]=[f[p[m]]]:l[p[m]]=f[p[m]]}},t.getValue=function(l){return t.isExist(l)?l:""},t.buildOptions=function(l,f,h){let p={};if(!l)return f;for(let g=0;g<h.length;g++)l[h[g]]!==void 0?p[h[g]]=l[h[g]]:p[h[g]]=f[h[g]];return p},t.isTagNameInArrayMode=function(l,f,h){return f===!1?!1:f instanceof RegExp?f.test(l):typeof f=="function"?!!f(l,h):f==="strict"},t.isName=u,t.getAllMatches=s,t.nameRegexp=r}(Qy)),Qy}var cw;function R5(){if(cw)return Wy;cw=1;const t=no(),e=function(n,r,a){const s={};if(!r.alwaysCreateTextNode&&(!n.child||t.isEmptyObject(n.child))&&(!n.attrsMap||t.isEmptyObject(n.attrsMap)))return t.isExist(n.val)?n.val:"";if(t.isExist(n.val)&&!(typeof n.val=="string"&&(n.val===""||n.val===r.cdataPositionChar))){const l=t.isTagNameInArrayMode(n.tagname,r.arrayMode,a);s[r.textNodeName]=l?[n.val]:n.val}t.merge(s,n.attrsMap,r.arrayMode);const u=Object.keys(n.child);for(let l=0;l<u.length;l++){const f=u[l];if(n.child[f]&&n.child[f].length>1){s[f]=[];for(let h in n.child[f])n.child[f].hasOwnProperty(h)&&s[f].push(e(n.child[f][h],r,f))}else{const h=e(n.child[f][0],r,f),p=r.arrayMode===!0&&typeof h=="object"||t.isTagNameInArrayMode(f,r.arrayMode,a);s[f]=p?[h]:h}}return s};return Wy.convertToJson=e,Wy}var Lc={},Jy,lw;function N5(){return lw||(lw=1,Jy=function(t,e,n){this.tagname=t,this.parent=e,this.child={},this.attrsMap={},this.val=n,this.addChild=function(r){Array.isArray(this.child[r.tagname])?this.child[r.tagname].push(r):this.child[r.tagname]=[r]}}),Jy}var tv,fw;function D5(){if(fw)return tv;fw=1;const t=/^[-+]?0x[a-fA-F0-9]+$/,e=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,n={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function r(u,l={}){if(l=Object.assign({},n,l),!u||typeof u!="string")return u;let f=u.trim();if(l.skipLike!==void 0&&l.skipLike.test(f))return u;if(u==="0")return 0;if(l.hex&&t.test(f))return s(f,16);if(f.search(/[eE]/)!==-1){const h=f.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(h){if(l.leadingZeros)f=(h[1]||"")+h[3];else if(!(h[2]==="0"&&h[3][0]==="."))return u;return l.eNotation?Number(f):u}else return u}else{const h=e.exec(f);if(h){const p=h[1],g=h[2];let m=a(h[3]);if(!l.leadingZeros&&g.length>0&&p&&f[2]!==".")return u;if(!l.leadingZeros&&g.length>0&&!p&&f[1]!==".")return u;if(l.leadingZeros&&g===u)return 0;{const _=Number(f),b=""+_;return b.search(/[eE]/)!==-1?l.eNotation?_:u:f.indexOf(".")!==-1?b==="0"&&m===""||b===m||p&&b==="-"+m?_:u:g?m===b||p+m===b?_:u:f===b||f===p+b?_:u}}else return u}}function a(u){return u&&u.indexOf(".")!==-1&&(u=u.replace(/0+$/,""),u==="."?u="0":u[0]==="."?u="0"+u:u[u.length-1]==="."&&(u=u.substr(0,u.length-1))),u}function s(u,l){if(parseInt)return parseInt(u,l);if(Number.parseInt)return Number.parseInt(u,l);if(window&&window.parseInt)return window.parseInt(u,l);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}return tv=r,tv}var dw;function _h(){if(dw)return Lc;dw=1;const t=no(),e=no().buildOptions,n=N5(),r=D5();"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,t.nameRegexp),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const a={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",numParseOptions:{hex:!0,leadingZeros:!0},tagValueProcessor:function(b,A){return b},attrValueProcessor:function(b,A){return b},stopNodes:[],alwaysCreateTextNode:!1};Lc.defaultOptions=a;const s=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","numParseOptions","stopNodes","alwaysCreateTextNode"];Lc.props=s;function u(b,A,R){return A&&(R.trimValues&&(A=A.trim()),A=R.tagValueProcessor(A,b),A=f(A,R.parseNodeValue,R.numParseOptions)),A}function l(b,A){if(A.ignoreNameSpace){const R=b.split(":"),T=b.charAt(0)==="/"?"/":"";if(R[0]==="xmlns")return"";R.length===2&&(b=T+R[1])}return b}function f(b,A,R){if(A&&typeof b=="string"){const T=b.trim();return T==="true"?!0:T==="false"?!1:r(b,R)}else return t.isExist(b)?b:""}const h=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])(.*?)\\3)?`,"g");function p(b,A){if(!A.ignoreAttributes&&typeof b=="string"){b=b.replace(/\r?\n/g," ");const R=t.getAllMatches(b,h),T=R.length,E={};for(let v=0;v<T;v++){const w=l(R[v][1],A);w.length&&(R[v][4]!==void 0?(A.trimValues&&(R[v][4]=R[v][4].trim()),R[v][4]=A.attrValueProcessor(R[v][4],w),E[A.attributeNamePrefix+w]=f(R[v][4],A.parseAttributeValue,A.numParseOptions)):A.allowBooleanAttributes&&(E[A.attributeNamePrefix+w]=!0))}if(!Object.keys(E).length)return;if(A.attrNodeName){const v={};return v[A.attrNodeName]=E,v}return E}}const g=function(b,A){b=b.replace(/\r\n?/g,`
`),A=e(A,a,s);const R=new n("!xml");let T=R,E="";for(let v=0;v<b.length;v++)if(b[v]==="<")if(b[v+1]==="/"){const M=_(b,">",v,"Closing Tag is not closed.");let C=b.substring(v+2,M).trim();if(A.ignoreNameSpace){const P=C.indexOf(":");P!==-1&&(C=C.substr(P+1))}T&&(T.val?T.val=t.getValue(T.val)+""+u(C,E,A):T.val=u(C,E,A)),A.stopNodes.length&&A.stopNodes.includes(T.tagname)&&(T.child=[],T.attrsMap==null&&(T.attrsMap={}),T.val=b.substr(T.startIndex+1,v-T.startIndex-1)),T=T.parent,E="",v=M}else if(b[v+1]==="?")v=_(b,"?>",v,"Pi Tag is not closed.");else if(b.substr(v+1,3)==="!--")v=_(b,"-->",v,"Comment is not closed.");else if(b.substr(v+1,2)==="!D"){const M=_(b,">",v,"DOCTYPE is not closed.");b.substring(v,M).indexOf("[")>=0?v=b.indexOf("]>",v)+1:v=M}else if(b.substr(v+1,2)==="!["){const M=_(b,"]]>",v,"CDATA is not closed.")-2,C=b.substring(v+9,M);if(E&&(T.val=t.getValue(T.val)+""+u(T.tagname,E,A),E=""),A.cdataTagName){const P=new n(A.cdataTagName,T,C);T.addChild(P),T.val=t.getValue(T.val)+A.cdataPositionChar,C&&(P.val=C)}else T.val=(T.val||"")+(C||"");v=M+2}else{const M=m(b,v+1);let C=M.data;const P=M.index,B=C.indexOf(" ");let S=C,z=!0;if(B!==-1&&(S=C.substr(0,B).replace(/\s\s*$/,""),C=C.substr(B+1)),A.ignoreNameSpace){const F=S.indexOf(":");F!==-1&&(S=S.substr(F+1),z=S!==M.data.substr(F+1))}if(T&&E&&T.tagname!=="!xml"&&(T.val=t.getValue(T.val)+""+u(T.tagname,E,A)),C.length>0&&C.lastIndexOf("/")===C.length-1){S[S.length-1]==="/"?(S=S.substr(0,S.length-1),C=S):C=C.substr(0,C.length-1);const F=new n(S,T,"");S!==C&&(F.attrsMap=p(C,A)),T.addChild(F)}else{const F=new n(S,T);A.stopNodes.length&&A.stopNodes.includes(F.tagname)&&(F.startIndex=P),S!==C&&z&&(F.attrsMap=p(C,A)),T.addChild(F),T=F}E="",v=P}else E+=b[v];return R};function m(b,A){let R,T="";for(let E=A;E<b.length;E++){let v=b[E];if(R)v===R&&(R="");else if(v==='"'||v==="'")R=v;else{if(v===">")return{data:T,index:E};v==="	"&&(v=" ")}T+=v}}function _(b,A,R,T){const E=b.indexOf(A,R);if(E===-1)throw new Error(T);return E+A.length-1}return Lc.getTraversalObj=g,Lc}var ev={},hw;function L5(){if(hw)return ev;hw=1;const t=no(),e={allowBooleanAttributes:!1},n=["allowBooleanAttributes"];ev.validate=function(T,E){E=t.buildOptions(E,e,n);const v=[];let w=!1,M=!1;T[0]==="\uFEFF"&&(T=T.substr(1));for(let C=0;C<T.length;C++)if(T[C]==="<"&&T[C+1]==="?"){if(C+=2,C=r(T,C),C.err)return C}else if(T[C]==="<"){let P=C;if(C++,T[C]==="!"){C=a(T,C);continue}else{let B=!1;T[C]==="/"&&(B=!0,C++);let S="";for(;C<T.length&&T[C]!==">"&&T[C]!==" "&&T[C]!=="	"&&T[C]!==`
`&&T[C]!=="\r";C++)S+=T[C];if(S=S.trim(),S[S.length-1]==="/"&&(S=S.substring(0,S.length-1),C--),!b(S)){let G;return S.trim().length===0?G="Invalid space after '<'.":G="Tag '"+S+"' is an invalid name.",m("InvalidTag",G,A(T,C))}const z=l(T,C);if(z===!1)return m("InvalidAttr","Attributes for '"+S+"' have open quote.",A(T,C));let F=z.value;if(C=z.index,F[F.length-1]==="/"){const G=C-F.length;F=F.substring(0,F.length-1);const q=h(F,E);if(q===!0)w=!0;else return m(q.err.code,q.err.msg,A(T,G+q.err.line))}else if(B)if(z.tagClosed){if(F.trim().length>0)return m("InvalidTag","Closing tag '"+S+"' can't have attributes or invalid starting.",A(T,P));{const G=v.pop();if(S!==G.tagName){let q=A(T,G.tagStartPos);return m("InvalidTag","Expected closing tag '"+G.tagName+"' (opened in line "+q.line+", col "+q.col+") instead of closing tag '"+S+"'.",A(T,P))}v.length==0&&(M=!0)}}else return m("InvalidTag","Closing tag '"+S+"' doesn't have proper closing.",A(T,C));else{const G=h(F,E);if(G!==!0)return m(G.err.code,G.err.msg,A(T,C-F.length+G.err.line));if(M===!0)return m("InvalidXml","Multiple possible root nodes found.",A(T,C));v.push({tagName:S,tagStartPos:P}),w=!0}for(C++;C<T.length;C++)if(T[C]==="<")if(T[C+1]==="!"){C++,C=a(T,C);continue}else if(T[C+1]==="?"){if(C=r(T,++C),C.err)return C}else break;else if(T[C]==="&"){const G=g(T,C);if(G==-1)return m("InvalidChar","char '&' is not expected.",A(T,C));C=G}T[C]==="<"&&C--}}else{if(T[C]===" "||T[C]==="	"||T[C]===`
`||T[C]==="\r")continue;return m("InvalidChar","char '"+T[C]+"' is not expected.",A(T,C))}if(w){if(v.length==1)return m("InvalidTag","Unclosed tag '"+v[0].tagName+"'.",A(T,v[0].tagStartPos));if(v.length>0)return m("InvalidXml","Invalid '"+JSON.stringify(v.map(C=>C.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return m("InvalidXml","Start tag expected.",1);return!0};function r(T,E){const v=E;for(;E<T.length;E++)if(T[E]=="?"||T[E]==" "){const w=T.substr(v,E-v);if(E>5&&w==="xml")return m("InvalidXml","XML declaration allowed only at the start of the document.",A(T,E));if(T[E]=="?"&&T[E+1]==">"){E++;break}else continue}return E}function a(T,E){if(T.length>E+5&&T[E+1]==="-"&&T[E+2]==="-"){for(E+=3;E<T.length;E++)if(T[E]==="-"&&T[E+1]==="-"&&T[E+2]===">"){E+=2;break}}else if(T.length>E+8&&T[E+1]==="D"&&T[E+2]==="O"&&T[E+3]==="C"&&T[E+4]==="T"&&T[E+5]==="Y"&&T[E+6]==="P"&&T[E+7]==="E"){let v=1;for(E+=8;E<T.length;E++)if(T[E]==="<")v++;else if(T[E]===">"&&(v--,v===0))break}else if(T.length>E+9&&T[E+1]==="["&&T[E+2]==="C"&&T[E+3]==="D"&&T[E+4]==="A"&&T[E+5]==="T"&&T[E+6]==="A"&&T[E+7]==="["){for(E+=8;E<T.length;E++)if(T[E]==="]"&&T[E+1]==="]"&&T[E+2]===">"){E+=2;break}}return E}const s='"',u="'";function l(T,E){let v="",w="",M=!1;for(;E<T.length;E++){if(T[E]===s||T[E]===u)w===""?w=T[E]:w!==T[E]||(w="");else if(T[E]===">"&&w===""){M=!0;break}v+=T[E]}return w!==""?!1:{value:v,index:E,tagClosed:M}}const f=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function h(T,E){const v=t.getAllMatches(T,f),w={};for(let M=0;M<v.length;M++){if(v[M][1].length===0)return m("InvalidAttr","Attribute '"+v[M][2]+"' has no space in starting.",R(v[M]));if(v[M][3]===void 0&&!E.allowBooleanAttributes)return m("InvalidAttr","boolean attribute '"+v[M][2]+"' is not allowed.",R(v[M]));const C=v[M][2];if(!_(C))return m("InvalidAttr","Attribute '"+C+"' is an invalid name.",R(v[M]));if(!w.hasOwnProperty(C))w[C]=1;else return m("InvalidAttr","Attribute '"+C+"' is repeated.",R(v[M]))}return!0}function p(T,E){let v=/\d/;for(T[E]==="x"&&(E++,v=/[\da-fA-F]/);E<T.length;E++){if(T[E]===";")return E;if(!T[E].match(v))break}return-1}function g(T,E){if(E++,T[E]===";")return-1;if(T[E]==="#")return E++,p(T,E);let v=0;for(;E<T.length;E++,v++)if(!(T[E].match(/\w/)&&v<20)){if(T[E]===";")break;return-1}return E}function m(T,E,v){return{err:{code:T,msg:E,line:v.line||v,col:v.col}}}function _(T){return t.isName(T)}function b(T){return t.isName(T)}function A(T,E){const v=T.substring(0,E).split(/\r?\n/);return{line:v.length,col:v[v.length-1].length+1}}function R(T){return T.startIndex+T[1].length}return ev}var nv={},pw;function P5(){if(pw)return nv;pw=1;const t=function(g){return String.fromCharCode(g)},e={nilChar:t(176),missingChar:t(201),nilPremitive:t(175),missingPremitive:t(200),emptyChar:t(178),emptyValue:t(177),boundryChar:t(179),objStart:t(198),arrStart:t(204),arrayEnd:t(185)},n=[e.nilChar,e.nilPremitive,e.missingChar,e.missingPremitive,e.boundryChar,e.emptyChar,e.emptyValue,e.arrayEnd,e.objStart,e.arrStart],r=function(g,m,_){if(typeof m=="string")return g&&g[0]&&g[0].val!==void 0?a(g[0].val):a(g);{const b=l(g);if(b===!0){let A="";if(Array.isArray(m)){A+=e.arrStart;const R=m[0],T=g.length;if(typeof R=="string")for(let E=0;E<T;E++){const v=a(g[E].val);A=s(A,v)}else for(let E=0;E<T;E++){const v=r(g[E],R,_);A=s(A,v)}A+=e.arrayEnd}else{A+=e.objStart;const R=Object.keys(m);Array.isArray(g)&&(g=g[0]);for(let T in R){const E=R[T];let v;!_.ignoreAttributes&&g.attrsMap&&g.attrsMap[E]?v=r(g.attrsMap[E],m[E],_):E===_.textNodeName?v=r(g.val,m[E],_):v=r(g.child[E],m[E],_),A=s(A,v)}}return A}else return b}},a=function(g){switch(g){case void 0:return e.missingPremitive;case null:return e.nilPremitive;case"":return e.emptyValue;default:return g}},s=function(g,m){return!u(m[0])&&!u(g[g.length-1])&&(g+=e.boundryChar),g+m},u=function(g){return n.indexOf(g)!==-1};function l(g){return g===void 0?e.missingChar:g===null?e.nilChar:g.child&&Object.keys(g.child).length===0&&(!g.attrsMap||Object.keys(g.attrsMap).length===0)?e.emptyChar:!0}const f=_h(),h=no().buildOptions,p=function(g,m,_){return _=h(_,f.defaultOptions,f.props),r(g,m,_)};return nv.convert2nimn=p,nv}var rv={},gw;function B5(){if(gw)return rv;gw=1;const t=no(),e=no().buildOptions,n=_h(),r=function(u,l){return l=e(l,n.defaultOptions,n.props),l.indentBy=l.indentBy||"",a(u,l)},a=function(u,l,f){let h="{";const p=Object.keys(u.child);for(let g=0;g<p.length;g++){const m=p[g];if(u.child[m]&&u.child[m].length>1){h+='"'+m+'" : [ ';for(let _ in u.child[m])h+=a(u.child[m][_],l)+" , ";h=h.substr(0,h.length-1)+" ] "}else h+='"'+m+'" : '+a(u.child[m][0],l)+" ,"}return t.merge(h,u.attrsMap),t.isEmptyObject(h)?t.isExist(u.val)?u.val:"":(t.isExist(u.val)&&(typeof u.val=="string"&&(u.val===""||u.val===l.cdataPositionChar)||(h+='"'+l.textNodeName+'" : '+s(u.val))),h[h.length-1]===","&&(h=h.substr(0,h.length-2)),h+"}")};function s(u){return u===!0||u===!1||!isNaN(u)?u:'"'+u+'"'}return rv.convertToJsonString=r,rv}var iv,yw;function I5(){if(yw)return iv;yw=1;const t=no().buildOptions,e={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(b){return b},attrValueProcessor:function(b){return b}},n=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor","rootNodeName"];function r(b){this.options=t(b,e,n),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=m),this.options.cdataTagName?this.isCDATA=_:this.isCDATA=function(){return!1},this.replaceCDATAstr=s,this.replaceCDATAarr=u,this.processTextOrObjNode=a,this.options.format?(this.indentate=g,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=p,this.buildObjNode=f):(this.buildTextNode=h,this.buildObjNode=l),this.buildTextValNode=h,this.buildObjectNode=l}r.prototype.parse=function(b){return Array.isArray(b)&&this.options.rootNodeName&&this.options.rootNodeName.length>1&&(b={[this.options.rootNodeName]:b}),this.j2x(b,0).val},r.prototype.j2x=function(b,A){let R="",T="";for(let E in b)if(!(typeof b[E]>"u"))if(b[E]===null)T+=this.indentate(A)+"<"+E+"/"+this.tagEndChar;else if(b[E]instanceof Date)T+=this.buildTextNode(b[E],E,"",A);else if(typeof b[E]!="object"){const v=this.isAttribute(E);v?R+=" "+v+'="'+this.options.attrValueProcessor(""+b[E])+'"':this.isCDATA(E)?b[this.options.textNodeName]?T+=this.replaceCDATAstr(b[this.options.textNodeName],b[E]):T+=this.replaceCDATAstr("",b[E]):E===this.options.textNodeName?b[this.options.cdataTagName]||(T+=this.options.tagValueProcessor(""+b[E])):T+=this.buildTextNode(b[E],E,"",A)}else if(Array.isArray(b[E]))if(this.isCDATA(E))T+=this.indentate(A),b[this.options.textNodeName]?T+=this.replaceCDATAarr(b[this.options.textNodeName],b[E]):T+=this.replaceCDATAarr("",b[E]);else{const v=b[E].length;for(let w=0;w<v;w++){const M=b[E][w];typeof M>"u"||(M===null?T+=this.indentate(A)+"<"+E+"/"+this.tagEndChar:typeof M=="object"?T+=this.processTextOrObjNode(M,E,A):T+=this.buildTextNode(M,E,"",A))}}else if(this.options.attrNodeName&&E===this.options.attrNodeName){const v=Object.keys(b[E]),w=v.length;for(let M=0;M<w;M++)R+=" "+v[M]+'="'+this.options.attrValueProcessor(""+b[E][v[M]])+'"'}else T+=this.processTextOrObjNode(b[E],E,A);return{attrStr:R,val:T}};function a(b,A,R){const T=this.j2x(b,R+1);return b[this.options.textNodeName]!==void 0&&Object.keys(b).length===1?this.buildTextNode(T.val,A,T.attrStr,R):this.buildObjNode(T.val,A,T.attrStr,R)}function s(b,A){return b=this.options.tagValueProcessor(""+b),this.options.cdataPositionChar===""||b===""?b+"<![CDATA["+A+"]]"+this.tagEndChar:b.replace(this.options.cdataPositionChar,"<![CDATA["+A+"]]"+this.tagEndChar)}function u(b,A){if(b=this.options.tagValueProcessor(""+b),this.options.cdataPositionChar===""||b==="")return b+"<![CDATA["+A.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let R in A)b=b.replace(this.options.cdataPositionChar,"<![CDATA["+A[R]+"]]>");return b+this.newLine}function l(b,A,R,T){return R&&b.indexOf("<")===-1?this.indentate(T)+"<"+A+R+">"+b+"</"+A+this.tagEndChar:this.indentate(T)+"<"+A+R+this.tagEndChar+b+this.indentate(T)+"</"+A+this.tagEndChar}function f(b,A,R,T){return b!==""?this.buildObjectNode(b,A,R,T):this.indentate(T)+"<"+A+R+"/"+this.tagEndChar}function h(b,A,R,T){return this.indentate(T)+"<"+A+R+">"+this.options.tagValueProcessor(b)+"</"+A+this.tagEndChar}function p(b,A,R,T){return b!==""?this.buildTextValNode(b,A,R,T):this.indentate(T)+"<"+A+R+"/"+this.tagEndChar}function g(b){return this.options.indentBy.repeat(b)}function m(b){return b.startsWith(this.options.attributeNamePrefix)?b.substr(this.attrPrefixLen):!1}function _(b){return b===this.options.cdataTagName}return iv=r,iv}var vw;function j5(){return vw||(vw=1,function(t){const e=R5(),n=_h(),r=_h(),a=no().buildOptions,s=L5();t.parse=function(u,l={},f){if(f){f===!0&&(f={});const g=s.validate(u,f);if(g!==!0)throw Error(g.err.msg)}l.parseTrueNumberOnly&&l.parseNodeValue!==!1&&!l.numParseOptions&&(l.numParseOptions={leadingZeros:!1});let h=a(l,r.defaultOptions,r.props);const p=n.getTraversalObj(u,h);return e.convertToJson(p,h)},t.convertTonimn=P5().convert2nimn,t.getTraversalObj=n.getTraversalObj,t.convertToJson=e.convertToJson,t.convertToJsonString=B5().convertToJsonString,t.validate=s.validate,t.j2xParser=I5(),t.parseToNimn=function(u,l,f){return t.convertTonimn(t.getTraversalObj(u,f),l,f)}}(Zy)),Zy}var uC=j5();const k5=aa(uC),z5={attributeNamePrefix:"",attrNodeName:"attr",textNodeName:"#text",ignoreAttributes:!1,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!0,trimValues:!0,parseTrueNumberOnly:!1,arrayMode:!0,stopNodes:["parse-me-as-string"]},$5={attributeNamePrefix:"@",ignoreAttributes:!1,format:!0,arrayMode:!1,indentBy:"  ",supressEmptyNode:!0},H5=(t,e="Event Name")=>{const n=k5.parse(t.toString(),z5),r={events:new Set,traces:{}};let a="";for(const l in n.log[0].classifier)n.log[0].classifier[l].attr.name===e&&(a=n.log[0].classifier[l].attr.keys);a===""&&(a="concept:name");const s=(a+" ").split("'").map(l=>l.startsWith(" ")||l.endsWith(" ")?l.split(" "):l).flat().filter(l=>l!=="").sort();let u=0;for(const l in n.log[0].trace){const f=[];let h="";const p=n.log[0].trace[l];try{for(const m of p.string)m.attr.key==="concept:name"&&(h=m.attr.value)}catch{throw new Error("No trace id found!")}h===""&&(h=(u++).toString());const g=p.event?p.event:[];for(const m of g){let _=[];for(const A of s)try{const R=m.string.find(T=>T.attr.key===A);_.push(R.attr.value)}catch{throw new Error("Couldn't discern Events with classifiers: "+s)}const b=_.join(":");f.push(b),r.events.add(b)}r.traces[h]=f}return r},U5=t=>{const e={log:{"@xes.version":"1.0","@xes.features":"nested-attributes","@openxes.version":"1.0RC7",global:{"@scope":"event",string:{"@key":"concept:name","@value":"__INVALID__"}},classifier:{"@name":"Event Name","@keys":"concept:name"},trace:[]}};for(const a in t.traces){const s=t.traces[a],u={string:{"@key":"concept:name","@value":a},event:[]};for(const l of s){const f={string:{"@key":"concept:name","@value":l}};u.event.push(f)}e.log.trace.push(u)}return new uC.j2xParser($5).parse(e)},xh=(t,e)=>{let n=!1;if(e.length===0)return aC(t);const[r,...a]=e;if(!t.labels.has(r))return xh(t,a);const s=su(t.marking);for(const u of t.labelMapInv[r])M5(u,t)&&(C5(u,t),n=n||xh(t,a),t.marking=su(s));return n};function xe(t){t=ct({},X5,t),this._moddle=this._createModdle(t),this._container=this._createContainer(t),this._init(this._container,this._moddle,t),this.importCustomXML=this.importCustomXML.bind(this),this.importXML=this.importXML.bind(this),this.importDCRPortalXML=this.importCustomXML.bind(this),this.getSelection=this.getSelection.bind(this)}we(xe,_u);xe.prototype.importXML=function(t,e){var n=this;return new Promise(function(r,a){t=n._emit("import.parse.start",{xml:t})||t,n._moddle.fromXML(t,"dcr:Definitions").then(function(s){var u=s.rootElement,l=s.references,f=s.warnings,h=s.elementsById,p={references:l,elementsById:h,warnings:f};u=n._emit("import.parse.complete",{definitions:u,context:p})||u,n.importDefinitions(u,e).then(function(g){var m=[].concat(f,g.warnings||[]);return n._emit("import.done",{error:null,warnings:m}),r({warnings:m})}).catch(function(g){var m=[].concat(f,g.warnings||[]);return n._emit("import.done",{error:g,warnings:m}),a(Zd(g,m))})}).catch(function(s){return n._emit("import.parse.complete",{error:s}),s=F5(s),n._emit("import.done",{error:s,warnings:s.warnings}),a(s)})})};xe.prototype.importCustomXML=async function(t,e){return this.importXML(await c5(t),e)};xe.prototype.importDCRPortalXML=async function(t,e){return this.importXML(await p5(t),e)};xe.prototype.importDefinitions=function(t,e){var n=this;return new Promise(function(r,a){n._setDefinitions(t),n.open(e).then(function(s){var u=s.warnings;return r({warnings:u})}).catch(function(s){return a(s)})})};xe.prototype.open=function(t){var e=this._definitions,n=t,r=this;return new Promise(function(a,s){if(!e){var u=new Error("no XML imported");return s(Zd(u,[]))}if(typeof t=="string"&&(n=G5(e,t),!n)){var l=new Error("DcrRootBoard <"+t+"> not found");return s(Zd(l,[]))}try{r.clear()}catch(f){return s(Zd(f,[]))}tL(r,e,n).then(function(f){var h=f.warnings;return a({warnings:h})}).catch(function(f){return s(f)})})};xe.prototype.saveXML=function(t){t=t||{};var e=this,n=this._definitions;return new Promise(function(r,a){if(!n){var s=new Error("no definitions loaded");return a(s)}n=e._emit("saveXML.start",{definitions:n})||n,e._moddle.toXML(n,t).then(function(u){var l=u.xml;try{l=e._emit("saveXML.serialized",{error:null,xml:l})||l,e._emit("saveXML.done",{error:null,xml:l})}catch(f){console.error("error in saveXML life-cycle listener",f)}return r({xml:l})}).catch(function(u){return a(u)})})};xe.prototype.saveDCRXML=function(t){return a5(t,this._definitions)};xe.prototype.saveSVG=function(t){const e=this;return new Promise(function(n,r){e._emit("saveSVG.start");let a,s;try{const u=e.get("canvas"),l=u.getActiveLayer(),f=on("defs",u._svg),h=ZE(l),p=f?"<defs>"+ZE(f)+"</defs>":"",g=l.getBBox();a=`<?xml version="1.0" encoding="utf-8"?>
<!-- created with diagram-js -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="`+g.width+'" height="'+g.height+'" viewBox="'+g.x+" "+g.y+" "+g.width+" "+g.height+'" version="1.1">'+p+h+"</svg>"}catch(u){s=u}return e._emit("saveSVG.done",{error:s,svg:a}),s?r(s):n({svg:a})})};xe.prototype._setDefinitions=function(t){this._definitions=t};xe.prototype.getModules=function(){return this._modules};xe.prototype.clear=function(){this.getDefinitions()&&(this.get("elementRegistry").forEach(function(t){var e=t.businessObject;e&&e.di&&delete e.di}),_u.prototype.clear.call(this))};xe.prototype.destroy=function(){_u.prototype.destroy.call(this),Si(this._container)};const cC=(t,e,n,r)=>{r.events.forEach(a=>{let s=n.get(a);e.updateProperties(s,{executed:t.marking.executed.has(a)}),e.updateProperties(s,{included:t.marking.included.has(a)}),e.updateProperties(s,{pending:t.marking.pending.has(a)}),a.includes("Event")&&e.updateProperties(s,{enabled:s0(a,t,r).enabled})}),r.subProcesses.forEach(a=>{cC(t,e,n,a)})};xe.prototype.setSimulating=function(t){T5(t)};xe.prototype.getSelection=function(){return this.get("selection")};xe.prototype.getElementRegistry=function(){return this.get("elementRegistry")};xe.prototype.updateRendering=function(t){const e=this.get("modeling");cC(t,e,this.get("elementRegistry"),t)};xe.prototype.on=function(t,e,n,r){return this.get("eventBus").on(t,e,n,r)};xe.prototype.off=function(t,e){this.get("eventBus").off(t,e)};xe.prototype.setSetting=function(t,e){g5(t,e)};xe.prototype.attachTo=function(t){if(!t)throw new Error("parentNode required");this.detach(),t.get&&t.constructor.prototype.jquery&&(t=t.get(0)),typeof t=="string"&&(t=on(t)),t.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()};xe.prototype.getDefinitions=function(){return this._definitions};xe.prototype.detach=function(){var t=this._container,e=t.parentNode;e&&(this._emit("detach",{}),e.removeChild(t))};xe.prototype._init=function(t,e,n){var r=n.modules||this.getModules(),a=n.additionalModules||[],s=[{odm:["value",this],moddle:["value",e]}],u=[].concat(s,r,a),l=ct(ro(n,["additionalModules"]),{canvas:ct({},n.canvas,{container:t}),modules:u});_u.call(this,l),n&&n.container&&this.attachTo(n.container)};xe.prototype._emit=function(t,e){return this.get("eventBus").fire(t,e)};xe.prototype._createContainer=function(t){var e=fn('<div class="pjs-container"></div>');return ct(e.style,{width:mw(t.width),height:mw(t.height),position:t.position}),e};xe.prototype._createModdle=function(t){var e=ct({},this._moddleExtensions,t.moddleExtensions);return new Z3(e)};xe.prototype._modules=[];xe.prototype._moddleExtensions={};function Zd(t,e){return t.warnings=e,t}function F5(t){var e=/unparsable content <([^>]+)> detected([\s\S]*)$/,n=e.exec(t.message);return n&&(t.message="unparsable content <"+n[1]+"> detected; this may indicate an invalid Dcr board file"+n[2]),t}var X5={width:"100%",height:"100%",position:"relative"};function mw(t){return t+(Vt(t)?"px":"")}function G5(t,e){return e&&Ie(t.rootBoards,function(n){return n.id===e})||null}function hl(t){xe.call(this,t),this.on("import.parse.complete",function(e){e.error||this._collectIds(e.definitions,e.context)},this),this.on("diagram.destroy",function(){this.get("moddle").ids.clear()},this)}we(hl,xe);hl.prototype._createModdle=function(t){var e=xe.prototype._createModdle.call(this,t);return e.ids=new wi([32,36,1]),e};hl.prototype._collectIds=function(t,e){var n=t.$model,r=n.ids,a;r.clear();for(a in e.elementsById)r.claim(a,e.elementsById[a])};var q5="#FEA00F",V5="#2192FF",Y5="#2CA81A",K5="#FB1818",Z5="#A932D0",Ws="#000000";function W5(t,e){t.appendChild(e)}function In(t){var e=Rt("g");return t.forEach(function(n){W5(e,n)}),e}function Jr(t){var e=t==="left-to-right"?"":t==="right-to-left"?"rotate(180, 10, 10)":t==="top-to-bottom"?"rotate(270, 10, 10)":t==="bottom-to-top"?"rotate(90, 10, 10)":"";return e}function dn(t,e){return zh(e,function(n){return te(t,n)})}function lC(t){if(t.labelAttribute)return t.labelAttribute;if(dn(t,["dcr:TextBox","dcr:Relation"]))return"name";if(te(t,"dcr:Event"))return"role"}function cu(t){var e=t.businessObject,n=lC(e);if(n)return e[n]||""}function Q5(t,e){var n=t.businessObject,r=lC(n);return r&&(n[r]=e),t}function f0(t){return t.businessObject.di}function ov(t){return t.businessObject}function Pc(t,e){return fC(t)||f0(t).get("bioc:fill")||e||"white"}function Qs(t,e){return fC(t)||f0(t).get("bioc:stroke")||e||"black"}function J5(t){var e=t.x,n=t.y,r=t.width,a=t.height,s=[["M",e,n],["l",r,0],["l",0,a],["l",-r,0],["z"]];return Hh(s)}function fC(t){var e=pr(t);return e.color||t.color}function t4(t,e,n){yt(e,{markerEnd:t("default-condition-flow-end",n,n),stroke:n})}function e4(t,e,n){yt(e,{markerStart:t("default-response-flow-start",n,n),markerEnd:t("default-response-flow-end",n,n),stroke:n})}function n4(t,e,n){yt(e,{markerEnd:t("default-include-flow-end",n,n),stroke:n})}function r4(t,e,n,r,a,s){yt(e,{markerEnd:t("default-exclude-flow-end",n,n,a,s),stroke:n})}function i4(t,e,n){yt(e,{markerEnd:t("default-milestone-flow-end",n,n),stroke:n})}function o4(t,e,n){yt(e,{markerEnd:t("default-spawn-flow-end","#4D6180","#4D6180"),stroke:n})}function a4(t,e,n,r,a,s,u){if(n==="default-response-flow-end"){var l=Rt("rect");yt(l,{x:18,y:9.15,width:2,height:1.7,fill:"white"});var f=Rt("path");yt(f,{d:"M10 14.5L10 5.5L20 10L10 14.5Z"});var h=In([l,f]);t(e,{element:h,scale:.8,attrs:{fill:r},ref:{x:20.65,y:10}})}if(n==="default-response-flow-start"){var p=Rt("circle");yt(p,{cx:4,cy:10,r:4}),t(e,{element:p,scale:.8,attrs:{fill:r},ref:{x:-.65,y:10}})}if(n==="default-exclude-flow-end"){var g;u==="right-to-left"?g="translate(12.1, 0)":u==="left-to-right"?g="":u==="top-to-bottom"?g="translate(6,6.5)":g="translate(6, -6)";var l=Rt("rect");yt(l,{x:8,y:9.15,width:12,height:1.7,fill:"white"});var f=Rt("path");yt(f,{d:"M2 14.5L2 5.5L12 10L2 14.5Z"});var m=Rt("path");yt(m,{d:"M13.8 9.6C14.7941 9.6 15.6 8.79411 15.6 7.8C15.6 6.80589 14.7941 6 13.8 6C12.8059 6 12 6.80589 12 7.8C12 8.79411 12.8059 9.6 13.8 9.6ZM13.8 8.4C14.1314 8.4 14.4 8.13137 14.4 7.8C14.4 7.46863 14.1314 7.2 13.8 7.2C13.4686 7.2 13.2 7.46863 13.2 7.8C13.2 8.13137 13.4686 8.4 13.8 8.4ZM12.9485 13.9647L12.1 13.1162L19.1162 6.1L19.9647 6.94852L12.9485 13.9647ZM20 12.2C20 13.1941 19.1941 14 18.2 14C17.2059 14 16.4 13.1941 16.4 12.2C16.4 11.2059 17.2059 10.4 18.2 10.4C19.1941 10.4 20 11.2059 20 12.2ZM18.8 12.2C18.8 12.5314 18.5314 12.8 18.2 12.8C17.8686 12.8 17.6 12.5314 17.6 12.2C17.6 11.8686 17.8686 11.6 18.2 11.6C18.5314 11.6 18.8 11.8686 18.8 12.2Z",fillRule:"evenodd",clipRule:"evenodd"}),yt(m,{transform:g+" "+Jr(u)});var _=In([l,f,m]);t(e,{element:_,scale:.8,attrs:{fill:r},ref:{x:20.65,y:10}})}if(n==="default-include-flow-end"){var l=Rt("rect");yt(l,{x:8,y:9.15,width:12,height:1.7,fill:"white"});var b=Rt("path");yt(b,{d:"M20 10.7H16.7V14H15.3V10.7H12L12 9.3H15.3V6L16.7 6V9.3H20V10.7Z"});var f=Rt("path");yt(f,{d:"M2 14.5L2 5.5L12 10L2 14.5Z"});var A=In([l,f,b]);t(e,{element:A,scale:.8,attrs:{fill:r},ref:{x:20.65,y:10}})}if(n==="default-condition-flow-end"){var l=Rt("rect");yt(l,{x:9,y:9.15,width:4,height:1.7,fill:"white"});var p=Rt("circle");yt(p,{cx:16,cy:10,r:4});var f=Rt("path");yt(f,{d:"M2 14.5L2 5.5L12 10L2 14.5Z"});var R=In([l,p,f]);t(e,{element:R,scale:.8,attrs:{fill:r},ref:{x:20.65,y:10}})}if(n==="default-milestone-flow-end"){var l=Rt("rect");yt(l,{x:8,y:9.15,width:12,height:1.7,fill:"white"});var T=Rt("path");yt(T,{d:"M10 9.99925L14.9992 5L19.9985 9.99925L14.9992 14.9985L10 9.99925Z"});var E=Rt("path");yt(E,{d:"M11.98 9.99919L14.9993 6.97985L18.0187 9.99919L14.9993 13.0185L11.98 9.99919Z",fill:"white"});var f=Rt("path");yt(f,{d:"M-4.801e-07 14.5L-8.66976e-08 5.5L10 10L-4.801e-07 14.5Z"});var v=In([l,f,T,E]);t(e,{element:v,scale:.8,attrs:{fill:r},ref:{x:20.65,y:10}})}if(n==="default-spawn-flow-end"){var w=Rt("path");yt(w,{d:"M 13.85,5.21 C 14.23,5.49 14.60,5.34 14.67,4.87 14.67,4.87 14.98,2.83 14.98,2.83 15.06,2.35 15.17,2.35 15.24,2.83 15.24,2.83 15.55,4.87 15.55,4.87 15.63,5.34 16.00,5.49 16.38,5.21 16.38,5.21 18.13,3.92 18.13,3.92 18.51,3.64 18.60,3.73 18.32,4.11 18.32,4.11 17.04,5.89 17.04,5.89 16.77,6.27 16.92,6.65 17.39,6.72 17.39,6.72 19.40,7.03 19.40,7.03 19.87,7.11 19.87,7.22 19.40,7.30 19.40,7.30 17.39,7.61 17.39,7.61 16.92,7.68 16.77,8.06 17.04,8.44 17.04,8.44 18.32,10.22 18.32,10.22 18.60,10.60 18.51,10.69 18.13,10.41 18.13,10.41 16.38,9.12 16.38,9.12 16.00,8.84 15.63,8.99 15.55,9.46 15.55,9.46 15.24,11.50 15.24,11.50 15.17,11.98 15.06,11.98 14.98,11.50 14.98,11.50 14.67,9.46 14.67,9.46 14.60,8.99 14.23,8.84 13.85,9.12 13.85,9.12 12.10,10.41 12.10,10.41 11.72,10.69 11.65,10.61 11.94,10.24 11.94,10.24 13.39,8.42 13.39,8.42 13.69,8.05 13.55,7.69 13.08,7.62 13.08,7.62 10.78,7.30 10.78,7.30 10.32,7.24 10.32,7.12 10.78,7.05 10.78,7.05 12.84,6.72 12.84,6.72 13.31,6.65 13.46,6.27 13.19,5.89 13.19,5.89 11.91,4.11 11.91,4.11 11.63,3.73 11.72,3.64 12.10,3.92 12.10,3.92 13.85,5.21 13.85,5.21 Z M 10.60,7.18 C 10.60,7.18 5.30,9.56 5.30,9.56 5.30,9.56 -0.00,11.94 -0.00,11.94 -0.00,11.94 0.01,7.16 0.01,7.16 0.01,7.16 0.03,2.37 0.03,2.37 0.03,2.37 5.31,4.77 5.31,4.77 5.31,4.77 10.60,7.18 10.60,7.18 Z"}),t(e,{element:w,attrs:{fill:r,stroke:a,strokeLinecap:"butt"},ref:{x:21.2,y:7.2},scale:.6})}}const s4=Object.freeze(Object.defineProperty({__proto__:null,conditionMarker:t4,createMarker:a4,excludeMarker:r4,includeMarker:n4,milestoneMarker:i4,responseMarker:e4,spawnMarker:o4},Symbol.toStringTag,{value:"Module"}));function u4(t,e,n,r,a,s){yt(e,{markerEnd:t("proposed-condition-flow-end",r,n,a,s),markerStart:t("proposed-condition-flow-start",n,n),stroke:n})}function c4(t,e,n,r,a,s){yt(e,{markerStart:t("proposed-response-flow-start",n,n),markerEnd:t("proposed-response-flow-end",r,n,a,s),stroke:n})}function l4(t,e,n,r,a,s){yt(e,{markerStart:t("proposed-include-flow-start",n,n),markerEnd:t("proposed-include-flow-end",r,n,a,s),stroke:n})}function f4(t,e,n,r,a,s){yt(e,{markerStart:t("proposed-exclude-flow-start",n,n),markerEnd:t("proposed-exclude-flow-end",r,n,a,s),stroke:n})}function d4(t,e,n,r,a,s){yt(e,{markerEnd:t("proposed-milestone-flow-end",r,n,a,s),markerStart:t("proposed-milestone-flow-start",r,n,a,s),stroke:n})}function h4(t,e,n,r){yt(e,{markerEnd:t("proposed-spawn-flow-end","#4D6180","#4D6180"),markerStart:t("proposed-spawn-flow-start","#4D6180","#4D6180"),stroke:n})}function p4(t,e,n,r,a,s,u){if(n==="proposed-response-flow-end"){var l=Rt("circle");yt(l,{cx:10,cy:10,r:9});var f=Rt("path");yt(f,{d:"M12 0.8V5","stroke-width":2.3,"stroke-linecap":"round",transform:"translate(-2, 5)"});var h=Rt("circle");yt(h,{cx:10,cy:14,r:.21});var p=In([l,f,h]);t(e,{element:p,attrs:{stroke:a,"stroke-width":"2",fill:"white",transform:Jr(u)},ref:{x:21,y:10},scale:.5})}if(n==="proposed-response-flow-start"){var g=Rt("path");yt(g,{d:"M0 24V0L24 12L0 24Z",transform:"scale(0.6)"}),t(e,{element:g,attrs:{fill:r,stroke:a,"stroke-linecap":"round"},ref:{x:0,y:7.22},scale:.5})}if(n==="proposed-exclude-flow-end"){var m=Rt("circle");yt(m,{cx:10,cy:10,r:9});var _=Rt("path");yt(_,{d:"M16 12H10",fill:a,"stroke-width":2,"stroke-linecap":"round",transform:"translate(-3, -2)"});var b=In([m,_]);t(e,{element:b,attrs:{stroke:a,"stroke-width":"2",fill:"white",transform:Jr(u)},ref:{x:21,y:10},scale:.5})}if(n==="proposed-exclude-flow-start"){var A=Rt("path");yt(A,{d:"M0 24V0L24 12L0 24Z",transform:"scale(0.6)"}),t(e,{element:A,attrs:{fill:r,stroke:a,"stroke-linecap":"round"},ref:{x:0,y:7.22},scale:.5})}if(n==="proposed-include-flow-end"){var R=Rt("circle");yt(R,{cx:10,cy:10,r:9});var T=Rt("path");yt(T,{d:"M16 12L8 12M12 16L12 8",fill:a,"stroke-width":2,"stroke-linecap":"round",transform:"translate(-2, -2)"});var b=In([R,T]);t(e,{element:b,attrs:{stroke:a,"stroke-width":"2",fill:"white",transform:Jr(u)},ref:{x:21,y:10},scale:.5})}if(n==="proposed-include-flow-start"){var E=Rt("path");yt(E,{d:"M0 24V0L24 12L0 24Z",transform:"scale(0.6)"}),t(e,{element:E,attrs:{fill:r,stroke:a,"stroke-linecap":"round"},ref:{x:0,y:7.22},scale:.5})}if(n==="proposed-condition-flow-end"){var v=Rt("circle");yt(v,{cx:10,cy:10,r:9,fill:"white",stroke:a,strokeWidth:2});var w=Rt("circle");yt(w,{cx:6.5,cy:10,r:2.1,stroke:a,strokeWidth:2});var M=Rt("path");yt(M,{d:"M9.5 10H12.5M15.5 12.5V10H12.5M12.5 10V12.5",stroke:a,strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"});var C=In([v,w,M]);t(e,{element:C,scale:.5,attrs:{fill:r,transform:Jr(u)},ref:{x:20.65,y:10}})}if(n==="proposed-condition-flow-start"){var P=Rt("path");yt(P,{d:"M0 24V0L24 12L0 24Z",transform:"scale(0.6)"}),t(e,{element:P,attrs:{fill:r,stroke:a,"stroke-linecap":"round"},ref:{x:0,y:7.22},scale:.5})}if(n==="proposed-milestone-flow-end"){var v=Rt("circle");yt(v,{cx:10,cy:10,r:9,fill:"white",stroke:a,strokeWidth:2});var w=Rt("circle");yt(w,{cx:6.5,cy:10,r:2.1,stroke:a,strokeWidth:2});var M=Rt("path");yt(M,{d:"M9.5 10H12.5M15.5 12.5V10H12.5M12.5 10V12.5",stroke:a,strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"});var C=In([v,w,M]);t(e,{element:C,scale:.5,attrs:{fill:r,transform:Jr(u)},ref:{x:20.65,y:10}})}if(n==="proposed-milestone-flow-start"){let q=Rt("path");yt(q,{d:"M3,1 l17,8.5 l-17,8.5 z","stroke-width":"2",transform:"scale(0.5)"});var B;s==="right-to-left"?B="translate(-14, -10.5)":s==="left-to-right"?B="":s==="top-to-bottom"?B="translate(0.15,-12.2)":B="translate(-10.5, 1.8)";var f=Rt("path");yt(f,{d:"M3 2.7V4.8","stroke-width":1,"stroke-linecap":"round"});var h=Rt("circle");yt(h,{cx:3,cy:6.5,r:.1});var S=In([f,h]);yt(S,{transform:B+" "+Jr(s)});var z=In([q,S]);t(e,{element:z,attrs:{fill:r,stroke:a,"stroke-linecap":"round"},ref:{x:1.5,y:4.7}})}if(n==="proposed-spawn-flow-end"){var F=Rt("path");yt(F,{d:"M 13.85,5.21 C 14.23,5.49 14.60,5.34 14.67,4.87 14.67,4.87 14.98,2.83 14.98,2.83 15.06,2.35 15.17,2.35 15.24,2.83 15.24,2.83 15.55,4.87 15.55,4.87 15.63,5.34 16.00,5.49 16.38,5.21 16.38,5.21 18.13,3.92 18.13,3.92 18.51,3.64 18.60,3.73 18.32,4.11 18.32,4.11 17.04,5.89 17.04,5.89 16.77,6.27 16.92,6.65 17.39,6.72 17.39,6.72 19.40,7.03 19.40,7.03 19.87,7.11 19.87,7.22 19.40,7.30 19.40,7.30 17.39,7.61 17.39,7.61 16.92,7.68 16.77,8.06 17.04,8.44 17.04,8.44 18.32,10.22 18.32,10.22 18.60,10.60 18.51,10.69 18.13,10.41 18.13,10.41 16.38,9.12 16.38,9.12 16.00,8.84 15.63,8.99 15.55,9.46 15.55,9.46 15.24,11.50 15.24,11.50 15.17,11.98 15.06,11.98 14.98,11.50 14.98,11.50 14.67,9.46 14.67,9.46 14.60,8.99 14.23,8.84 13.85,9.12 13.85,9.12 12.10,10.41 12.10,10.41 11.72,10.69 11.65,10.61 11.94,10.24 11.94,10.24 13.39,8.42 13.39,8.42 13.69,8.05 13.55,7.69 13.08,7.62 13.08,7.62 10.78,7.30 10.78,7.30 10.32,7.24 10.32,7.12 10.78,7.05 10.78,7.05 12.84,6.72 12.84,6.72 13.31,6.65 13.46,6.27 13.19,5.89 13.19,5.89 11.91,4.11 11.91,4.11 11.63,3.73 11.72,3.64 12.10,3.92 12.10,3.92 13.85,5.21 13.85,5.21 Z M 10.60,7.18 C 10.60,7.18 5.30,9.56 5.30,9.56 5.30,9.56 -0.00,11.94 -0.00,11.94 -0.00,11.94 0.01,7.16 0.01,7.16 0.01,7.16 0.03,2.37 0.03,2.37 0.03,2.37 5.31,4.77 5.31,4.77 5.31,4.77 10.60,7.18 10.60,7.18 Z"}),t(e,{element:F,attrs:{fill:r,stroke:a},ref:{x:21.2,y:7.2},scale:.6})}if(n==="proposed-spawn-flow-start"){var G=Rt("path");yt(G,{d:"M0 24V0L24 12L0 24Z",transform:"scale(0.6)"}),t(e,{element:G,attrs:{fill:r,stroke:a,"stroke-linecap":"round"},ref:{x:0,y:7.22},scale:.5})}}const g4=Object.freeze(Object.defineProperty({__proto__:null,conditionMarker:u4,createMarker:p4,excludeMarker:f4,includeMarker:l4,milestoneMarker:d4,responseMarker:c4,spawnMarker:h4},Symbol.toStringTag,{value:"Module"}));function y4(t,e,n,r,a,s){yt(e,{markerEnd:t("new-condition-flow-end",r,n,a,s),stroke:n})}function v4(t,e,n,r,a,s){yt(e,{markerStart:t("new-response-flow-start",n,n,a,s),stroke:n})}function m4(t,e,n,r,a,s){yt(e,{markerStart:t("new-include-flow-start",n,n,a,s),stroke:n})}function _4(t,e,n,r,a,s){yt(e,{markerStart:t("new-exclude-flow-start",n,n,a,s),stroke:n})}function x4(t,e,n,r,a,s){yt(e,{markerEnd:t("new-milestone-flow-end",r,n,a,s),stroke:n})}function E4(t,e,n,r,a,s,u){if(n==="new-response-flow-start"){var l=Rt("rect");yt(l,{x:1,y:1,width:18,height:18,rx:1,ry:1,fill:a});var f=Rt("path");yt(f,{d:"M12 0.8V5","stroke-width":2.3,"stroke-linecap":"round",transform:"translate(-2, 5)",stroke:"white"});var h=Rt("circle");yt(h,{cx:10,cy:14,r:.21,fill:"white",stroke:"white"});var p=In([l,f,h]);t(e,{element:p,attrs:{stroke:a,"stroke-width":"2",transform:Jr(s)},ref:{x:-.6,y:10},scale:.5})}if(n==="new-exclude-flow-start"){var g=Rt("rect");yt(g,{x:1,y:1,width:18,height:18,rx:1,ry:1,fill:a});var m=Rt("path");yt(m,{d:"M16 12H10","stroke-width":2,"stroke-linecap":"round",transform:"translate(-3, -2)",stroke:"white"});var _=In([g,m]);t(e,{element:_,attrs:{stroke:a,"stroke-width":"2",transform:Jr(s)},ref:{x:-.6,y:10},scale:.5})}if(n==="new-include-flow-start"){var b=Rt("rect");yt(b,{x:1,y:1,width:18,height:18,rx:1,ry:1,fill:a});var A=Rt("path");yt(A,{d:"M16 12L8 12M12 16L12 8","stroke-width":2,"stroke-linecap":"round",transform:"translate(-2, -2)",stroke:"white"});var _=In([b,A]);t(e,{element:_,attrs:{stroke:a,"stroke-width":"2",transform:Jr(s)},ref:{x:-.6,y:10},scale:.5})}if(n==="new-condition-flow-end"){var R=Rt("circle");yt(R,{cx:10,cy:10,r:9}),t(e,{element:R,attrs:{stroke:a,fill:"white","stroke-width":"2"},ref:{x:21,y:10},scale:.5})}if(n==="new-milestone-flow-end"){var T=Rt("circle");yt(T,{cx:10,cy:10,r:9,fill:a});var f=Rt("path");yt(f,{d:"M12 0.8V5","stroke-width":2.3,"stroke-linecap":"round",transform:"translate(-2, 5)",stroke:"white"});var h=Rt("circle");yt(h,{cx:10,cy:14,r:.21,fill:"white",stroke:"white"});var E=In([T,f,h]);t(e,{element:E,attrs:{stroke:a,"stroke-width":"2",transform:Jr(u)},ref:{x:21,y:10},scale:.5})}}const b4=Object.freeze(Object.defineProperty({__proto__:null,conditionMarker:y4,createMarker:E4,excludeMarker:_4,includeMarker:m4,milestoneMarker:x4,responseMarker:v4},Symbol.toStringTag,{value:"Module"}));var w4=new wi,av=.35,_w={};function os(t,e,n,r,a,s,u,l){ao.call(this,e,l);var f=t&&t.defaultFillColor,h=t&&t.defaultStrokeColor,p=w4.next(),g=n.computeStyle;function m(G,q,dt,At,it,gt){An(it)&&(gt=it,it=0),it=it||0,gt=g(gt,{fill:"white"});var Nt=Rt("rect");return yt(Nt,{x:it,y:it,width:q-it*2,height:dt-it*2,rx:At,ry:At}),yt(Nt,gt),Zt(G,Nt),Nt}function _(G,q,dt){dt=g(dt,["no-fill"],{strokeWidth:2});var At=Rt("path");return yt(At,{d:q}),yt(At,dt),Zt(G,At),At}function b(G,q,dt,At){return _(q,dt,ct({"data-marker":G},At))}function A(G){return F[G]}function R(G,q,dt){dt=ct({size:{width:100}},dt);var At=s.createText(q||"",dt);return le(At).add("djs-label"),Zt(G,At),At}function T(G,q){var dt={width:90,height:30,x:q.width/2+q.x,y:q.height/2+q.y};return R(G,cu(q),{box:dt,fitBox:!0,style:ct({},s.getExternalStyle(),{fill:"black"})})}function E(G,q){let At=ov(q).role||"";R(G,At,{box:{height:30,width:q.width},padding:5,align:"center-middle",style:{fill:h}})}function v(G,q,dt,At){var it=ov(q);it.description&&R(G,it.description,{box:{height:q.height+At,width:q.width},padding:{top:5+At,bottom:5,left:5,right:5},align:dt,style:{fill:h}})}function w(){switch(_i.markerNotation){case"newMarkers":return b4;case"proposedMarkers":return g4;default:return s4}}function M(G,q,dt=!1){C(G,[{x:0,y:30},{x:q.width,y:30}],{stroke:Qs(q,h),"stroke-dasharray":dt?"12, 5":void 0})}function C(G,q,dt){dt=g(dt,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"});var At=Uh(q,dt);return Zt(G,At),At}function P(G){for(var q=G.waypoints,dt="m  "+q[0].x+","+q[0].y,At=1;At<q.length;At++)dt+="L"+q[At].x+","+q[At].y+" ";return dt}function B(G,q,dt,At,it){var gt=G+"-"+z(q)+"-"+z(dt)+"-"+p+"-"+At+"-"+it;return _w[gt]||w().createMarker(S,gt,G,q,dt,At,it),"url(#"+gt+")"}function S(G,q){var dt=ct({fill:"black",strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},q.attrs),At=q.ref||{x:0,y:0},it=q.scale||1;dt.strokeDasharray==="none"&&(dt.strokeDasharray=[1e4,1]);var gt=Rt("marker");yt(q.element,dt),Zt(gt,q.element),yt(gt,{id:G,viewBox:"0 0 20 20",refX:At.x,refY:At.y,markerWidth:20*it,markerHeight:20*it,orient:"auto"});var Nt=on("defs",a._svg);Nt||(Nt=Rt("defs"),Zt(a._svg,Nt)),Zt(Nt,gt),_w[G]=gt}function z(G){return G.replace(/[^0-9a-zA-z]+/g,"_")}var F=this.handlers={"dcr:Event":function(G,q,dt){let At=q.businessObject.get("included"),it=q.businessObject.get("pending"),gt=q.businessObject.get("executed"),Nt=q.businessObject.get("enabled");var zt=m(G,q.width,q.height,7,ct({fill:Pc(q,f),fillOpacity:av,stroke:Nt?"green":Qs(q,h),strokeWidth:Nt?3:2,"stroke-dasharray":At?void 0:"12, 5"}),dt);return M(G,q,!At),E(G,q),v(G,q,"center-middle",30),it&&A("PendingMarker")(G,q),gt&&A("ExecutedMarker")(G,q),zt},"dcr:Nesting":function(G,q,dt){var At=m(G,q.width,q.height,7,ct({fill:Pc(q,f),fillOpacity:av,stroke:Qs(q,h),strokeWidth:2}),dt);return M(G,q),E(G,q),v(G,q,"center-top",30),A("NestingMarker")(G,q),At},"dcr:SubProcess":function(G,q,dt){let At=q.businessObject.get("included"),it=q.businessObject.get("pending"),gt=q.businessObject.get("executed"),Nt=q.businessObject.get("multi-instance");var zt=m(G,q.width,q.height,7,ct({fill:Pc(q,f),fillOpacity:av,stroke:Qs(q,h),strokeWidth:2,"stroke-dasharray":At?void 0:"12, 5"}),dt);return v(G,q,"center-top",0),Nt?A("MultiInstanceMarker")(G,q):A("SubProcessMarker")(G,q),it&&A("PendingMarker")(G,q),gt&&A("ExecutedMarker")(G,q),zt},"dcr:Relation":function(G,q){let dt=q.businessObject.get("type");var At=P(q),it=Pc(q,f),gt=Qs(q,h);ov(q);var Nt=_(G,At,{strokeLinejoin:"round",stroke:gt});let zt=q.waypoints,K=zt[0],X=zt[1],Q,at;K.y==X.y?Q=K.x>X.x?"right-to-left":"left-to-right":Q=K.y>X.y?"bottom-to-top":"top-to-bottom";let rt=zt[zt.length-1],wt=zt[zt.length-2];rt.y==wt.y?at=rt.x>wt.x?"left-to-right":"right-to-left":at=rt.y>wt.y?"top-to-bottom":"bottom-to-top";let Et=w();return dt==="condition"?Et.conditionMarker(B,Nt,_i.blackRelations?Ws:q5,it,Q,at):dt==="response"?Et.responseMarker(B,Nt,_i.blackRelations?Ws:V5,it,Q,at):dt==="include"?Et.includeMarker(B,Nt,_i.blackRelations?Ws:Y5,it,Q,at):dt==="exclude"?Et.excludeMarker(B,Nt,_i.blackRelations?Ws:K5,it,Q,at):dt==="milestone"?Et.milestoneMarker(B,Nt,_i.blackRelations?Ws:Z5,it,Q,at):dt==="spawn"&&Et.spawnMarker(B,Nt,_i.blackRelations?Ws:"#4D6180",it,Q,at),Nt},label:function(G,q){return T(G,q)},PendingMarker:function(G,q){var dt=r.getScaledPath("MARKER_PENDING",{xScaleFactor:1,yScaleFactor:1,containerWidth:q.width,containerHeight:q.height,position:{mx:6/q.width,my:60/q.height}});b("pending",G,dt,{fill:"#039BE5",stroke:"#039BE5"})},ExecutedMarker:function(G,q){var dt=r.getScaledPath("MARKER_EXECUTED",{xScaleFactor:1,yScaleFactor:1,containerWidth:q.width,containerHeight:q.height,position:{mx:15/q.width,my:50/q.height}});b("executed",G,dt,{strokeWidth:1,fill:"#4CAF50",stroke:"#4CAF50"})},NestingMarker:function(G,q){var dt=r.getScaledPath("MARKER_NESTING",{xScaleFactor:1,yScaleFactor:1,containerWidth:q.width,containerHeight:q.height,position:{mx:(q.width-15)/q.width,my:(q.height-5)/q.height}});b("nesting",G,dt,{strokeWidth:1,fill:"grey",stroke:"grey"})},SubProcessMarker:function(G,q){var dt=r.getScaledPath("MARKER_SUBPROCESS",{xScaleFactor:1,yScaleFactor:1,containerWidth:q.width,containerHeight:q.height,position:{mx:(q.width-15)/q.width,my:(q.height-5)/q.height}});b("subprocess",G,dt,{strokeWidth:1,fill:"grey",stroke:"grey"})},MultiInstanceMarker:function(G,q){var dt=r.getScaledPath("MARKER_MULTI_INSTANCE",{xScaleFactor:1,yScaleFactor:1,containerWidth:q.width,containerHeight:q.height,position:{mx:q.width/2/q.width,my:(q.height-20)/q.height}});b("multi-instance",G,dt,{strokeWidth:2,fill:Pc(q,f),stroke:Qs(q,h)})}}}we(os,ao);os.$inject=["config.odm","eventBus","styles","pathMap","canvas","textRenderer","dcrSettings"];os.prototype.canRender=function(t){return te(t,"dcr:BoardElement")};os.prototype.drawShape=function(t,e){var n=e.type,r=this.handlers[n];return r(t,e)};os.prototype.drawConnection=function(t,e){var n=e.type,r=this.handlers[n];return r(t,e)};os.prototype.getShapePath=function(t){return J5(t)};var S4=0,T4={width:150,height:50};function C4(t){var e=t.split("-");return{horizontal:e[0]||"center",vertical:e[1]||"top"}}function M4(t){return An(t)?ct({top:0,left:0,right:0,bottom:0},t):{top:t,left:t,right:t,bottom:t}}function A4(t,e){e.textContent=t;var n;try{var r,a=t==="";return e.textContent=a?"dummy":t,n=e.getBBox(),r={width:n.width+n.x*2,height:n.height},a&&(r.width=0),r}catch{return{width:0,height:0}}}function O4(t,e,n){for(var r=t.shift(),a=r,s;;){if(s=A4(a,n),s.width=a?s.width:0,a===" "||a===""||s.width<Math.round(e)||a.length<2)return R4(t,a,r,s);a=D4(a,s.width,e)}}function R4(t,e,n,r){if(e.length<n.length){var a=n.slice(e.length).trim();t.unshift(a)}return{width:r.width,height:r.height,text:e}}var xw="­";function N4(t,e){var n=t.split(/(\s|-|\u00AD)/g),r,a=[],s=0;if(n.length>1)for(;r=n.shift();)if(r.length+s<e)a.push(r),s+=r.length;else{(r==="-"||r===xw)&&a.pop();break}var u=a[a.length-1];return u&&u===xw&&(a[a.length-1]="-"),a.join("")}function D4(t,e,n){var r=Math.max(t.length*(n/e),1),a=N4(t,r);return a||(a=t.slice(0,Math.max(Math.round(r-1),1))),a}function L4(){var t=document.getElementById("helper-svg");return t||(t=Rt("svg"),yt(t,{id:"helper-svg"}),io(t,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(t)),t}function Qh(t){this._config=ct({},{size:T4,padding:S4,style:{},align:"center-top"},t||{})}Qh.prototype.createText=function(t,e){return this.layoutText(t,e).element};Qh.prototype.getDimensions=function(t,e){return this.layoutText(t,e).dimensions};Qh.prototype.layoutText=function(t,e){var n=ct({},this._config.size,e.box),r=ct({},this._config.style,e.style),a=C4(e.align||this._config.align),s=M4(e.padding!==void 0?e.padding:this._config.padding),u=e.fitBox||!1,l=P4(r),f=t.split(/\u00AD?\r?\n/),h=[],p=n.width-s.left-s.right,g=Rt("text");yt(g,{x:0,y:0}),yt(g,r);var m=L4();for(Zt(m,g);f.length;)h.push(O4(f,p,g));a.vertical==="middle"&&(s.top=s.bottom=0);var _=kr(h,function(E,v,w){return E+(l||v.height)},0)+s.top+s.bottom,b=kr(h,function(E,v,w){return v.width>E?v.width:E},0),A=s.top;a.vertical==="middle"&&(A+=(n.height-_)/2),A-=(l||h[0].height)/4;var R=Rt("text");yt(R,r),nt(h,function(E){var v;switch(A+=l||E.height,a.horizontal){case"left":v=s.left;break;case"right":v=(u?b:p)-s.right-E.width;break;default:v=Math.max(((u?b:p)-E.width)/2+s.left,0)}var w=Rt("tspan");yt(w,{x:v,y:A}),w.textContent=E.text,Zt(R,w)}),We(g);var T={width:b,height:_};return{dimensions:T,element:R}};function P4(t){if("fontSize"in t&&"lineHeight"in t)return t.lineHeight*parseInt(t.fontSize,10)}var B4=16,I4=1.2;function dC(t){var e=ct({fontFamily:"IBM Plex, sans-serif",fontSize:B4,fontWeight:"normal",lineHeight:I4},t&&t.defaultStyle||{}),n=parseInt(e.fontSize,10)-1,r=ct({},e,{fontSize:n},t&&t.externalStyle||{}),a=new Qh({style:e});this.getExternalLabelBounds=function(s,u){var l=a.getDimensions(u,{box:{width:90,height:30,x:s.width/2+s.x,y:s.height/2+s.y},style:r});return{x:Math.round(s.x+s.width/2-l.width/2),y:Math.round(s.y),width:Math.ceil(l.width),height:Math.ceil(l.height)}},this.createText=function(s,u){return a.createText(s,u||{})},this.getDefaultStyle=function(){return e},this.getExternalStyle=function(){return r}}dC.$inject=["config.textRenderer"];function j4(){this.pathMap={MARKER_PENDING:{d:"m {mx},{my} c0,0,0,0,0,0c0,-1.79,1.34,-3.25,3,-3.25c1.66,0,3,1.46,3,3.25c0,0,0,0,0,0c0,1.8,-1.34,3.25,-3,3.25c-1.66,0,-3,-1.45,-3,-3.25c0,0,0,0,0,0zm0.29,-19.5c-0.01,-0.1,-0.01,-0.21,-0.01,-0.31c0,-1.62,1.21,-2.94,2.71,-2.94c1.5,0,2.72,1.32,2.72,2.94c0,0.1,-0.01,0.21,-0.02,0.31c0,0,-1.05,11.39,-1.05,11.39c-0.08,0.9,-0.79,1.61,-1.65,1.61c-0.85,0,-1.56,-0.71,-1.65,-1.61c0,0,-1.05,-11.39,-1.05,-11.39z",height:10,width:10,heightElements:[],widthElements:[]},MARKER_EXECUTED:{d:"m {mx},{my} c3.45,3.86,6.8,7.34,10.02,11.74c3.49,-7.2,7.07,-14.42,12.98,-22.25c0,0,-1.59,-0.75,-1.59,-0.75c-4.99,5.47,-8.86,10.65,-12.23,16.81c-2.34,-2.18,-6.13,-5.27,-8.44,-6.86c0,0,-0.74,1.31,-0.74,1.31z",height:4,width:15,heightElements:[],widthElements:[]},MARKER_NESTING:{d:"m {mx},{my} l -2.25 0 l 0 -13 l 2.175 0 l 0 2.175 q 0.7 -0.95, 1.788 -1.762 a 4.329 4.329 0 0 1 1.776 -0.656 a 5.657 5.657 0 0 1 0.811, -0.056 a 5.806 5.806 0 0 1 1.266 0.13 q 0.836 0.186 1.445 0.643 a 3.315, 3.315 0 0 1 0.576 0.552 a 4.601 4.601 0 0 1 0.902 1.845 q 0.163 0.66 0.183, 1.432 a 8.441 8.441 0 0 1 0.003 0.223 l 0 8.475 l -2.25 0 l 0 -8.225 q 0, -1.148 -0.445 -1.926 a 2.741 2.741 0 0 0 -0.217 -0.324 a 2.145 2.145 0 0 0, -1.57 -0.838 a 3.015 3.015 0 0 0 -0.268 -0.012 a 3.28 3.28 0 0 0 -1.712 0.491, a 4.338 4.338 0 0 0 -0.463 0.322 q -1.025 0.812 -1.75 1.912 l 0 8.6 Z",height:4,width:15,heightElements:[],widthElements:[]},MARKER_SUBPROCESS:{d:"m {mx},{my} l0.95,-1.875a4.639,4.639,0,0,0,0.786,0.531q0.389,0.212,0.852, 0.382a6.018,6.018,0,0,0,1.902,0.359a6.866,6.866,0,0,0,0.21,0.003a6.778,6.778, 0,0,0,0.771,-0.041q0.796,-0.091,1.288,-0.388a1.934,1.934,0,0,0,0.054, -0.033a1.862,1.862,0,0,0,0.383,-0.324a1.263,1.263,0,0,0,0.329,-0.864a1.781, 1.781,0,0,0,-0.079,-0.537a1.553,1.553,0,0,0,-0.183,-0.388q-0.263,-0.4,-0.963, -0.787a7.116,7.116,0,0,0,-0.499,-0.249q-0.529,-0.24,-1.276,-0.503a25.896, 25.896,0,0,0,-0.25,-0.086a11.654,11.654,0,0,1,-1.099,-0.436q-1.025,-0.472, -1.638,-1.051a2.831,2.831,0,0,1,-0.824,-1.5a4.198,4.198,0,0,1,-0.089,-0.888a3.03, 3.03,0,0,1,0.987,-2.254a4.366,4.366,0,0,1,0.326,-0.283a4.441,4.441,0,0,1,1.509, -0.762q0.929,-0.276,2.128,-0.276q1.25,0,2.225,0.263a9.692,9.692,0,0,1,1.034, 0.338a7.778,7.778,0,0,1,0.716,0.324l-0.625,1.85a6.132,6.132,0,0,0,-0.917, -0.441a7.548,7.548,0,0,0,-0.62,-0.209q-0.863,-0.25,-1.913,-0.25a5.158,5.158,0, 0,0,-0.734,0.049q-0.772,0.111,-1.241,0.476a2.33,2.33,0,0,0,-0.339,0.318q-0.176, 0.205,-0.26,0.423a1.132,1.132,0,0,0,-0.076,0.409a1.23,1.23,0,0,0,0.374,0.888a1.771, 1.771,0,0,0,0.151,0.137q0.516,0.418,2,0.908a21.155,21.155,0,0,0,0.05,0.017a16.938, 16.938,0,0,1,1.266,0.475q1.203,0.511,1.892,1.082a3.737,3.737,0,0,1,0.292,0.268q0.975, 1,0.975,2.5a3.468,3.468,0,0,1,-0.266,1.379q-0.346,0.81,-1.146,1.384q-1.185,0.849, -3.048,0.986a10.106,10.106,0,0,1,-0.74,0.026a9.997,9.997,0,0,1,-1.465,-0.103a7.737, 7.737,0,0,1,-1.197,-0.272a7.721,7.721,0,0,1,-0.961,-0.371q-0.566,-0.266,-1.002,-0.604z",height:4,width:15,heightElements:[],widthElements:[]},MARKER_MULTI_INSTANCE:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]}},this.getRawPath=function(e){return this.pathMap[e].d},this.getScaledPath=function(e,n){var r=this.pathMap[e],a,s;n.abspos?(a=n.abspos.x,s=n.abspos.y):(a=n.containerWidth*n.position.mx,s=n.containerHeight*n.position.my);var u={};if(n.position){for(var l=n.containerHeight/r.height*n.yScaleFactor,f=n.containerWidth/r.width*n.xScaleFactor,h=0;h<r.heightElements.length;h++)u["y"+h]=r.heightElements[h]*l;for(var p=0;p<r.widthElements.length;p++)u["x"+p]=r.widthElements[p]*f}var g=H4(r.d,{mx:a,my:s,e:u});return g}}var k4=/\{([^{}]+)\}/g,z4=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;function $4(t,e,n){var r=n;return e.replace(z4,function(a,s,u,l,f){s=s||l,r&&(s in r&&(r=r[s]),typeof r=="function"&&f&&(r=r()))}),r=(r==null||r==n?t:r)+"",r}function H4(t,e){return String(t).replace(k4,function(n,r){return $4(n,r,e)})}const U4={__init__:["odRenderer"],odRenderer:["type",os],textRenderer:["type",dC],pathMap:["type",j4]};function F4(t,e){return e=e||{},t.replace(/{([^}]+)}/g,function(n,r){return e[r]||"{"+r+"}"})}const Jh={translate:["value",F4]};var Eh={width:90,height:20},Ew=15;function X4(t){return!1}function hC(t){return Ir(t.label)}function G4(t){var e=t.length/2-1,n=t[Math.floor(e)],r=t[Math.ceil(e+.01)],a=q4(t),s=Math.atan((r.y-n.y)/(r.x-n.x)),u=a.x,l=a.y;return Math.abs(s)<Math.PI/2?l-=Ew:u+=Ew,{x:u,y:l}}function q4(t){var e=t.length/2-1,n=t[Math.floor(e)],r=t[Math.ceil(e+.01)];return{x:n.x+(r.x-n.x)/2,y:n.y+(r.y-n.y)/2}}function V4(t){return t.waypoints?G4(t.waypoints):{x:t.x+t.width/2,y:t.y+t.height+Eh.height/2}}function Y4(t,e){var n,r,a,s=t.di,u=s.label;return u&&u.bounds?(a=u.bounds,r={width:Math.max(Eh.width,a.width),height:a.height},n={x:a.x+a.width/2,y:a.y+a.height/2}):(n=V4(e),r=Eh),ct({x:n.x-r.width/2,y:n.y-r.height/2},r)}function Ir(t){return t&&!!t.labelTarget}function Wd(t,e){return ct({id:t.id,type:t.$type,businessObject:t},e)}function pC(t,e,n,r){return new Error(t("element {element} referenced by {referenced}#{property} not yet drawn",{element:fr(n),referenced:fr(e),property:r}))}function co(t,e,n,r,a,s){this._eventBus=t,this._canvas=e,this._elementFactory=n,this._elementRegistry=r,this._translate=a,this._textRenderer=s}co.$inject=["eventBus","canvas","elementFactory","elementRegistry","translate","textRenderer"];co.prototype.add=function(t,e){var n=t.di,r,a=this._translate,s,u;if(te(n,"dcrDi:DcrPlane"))r=this._elementFactory.createRoot(Wd(t)),this._canvas.setRootElement(r);else if(te(n,"dcrDi:DcrShape")){var l=Z4(t);s=e&&(e.hidden||e.collapsed);var f=t.di.bounds;r=this._elementFactory.createShape(Wd(t,{hidden:s,x:Math.round(f.x),y:Math.round(f.y),width:Math.round(f.width),height:Math.round(f.height),isFrame:l})),this._canvas.addShape(r,e,u)}else if(te(n,"dcrDi:Relation")){var h=this._getSource(t),p=this._getTarget(t);s=e&&(e.hidden||e.collapsed),r=this._elementFactory.createConnection(Wd(t,{hidden:s,source:h,target:p,waypoints:K4(t,h,p)})),this._canvas.addConnection(r,e,0)}else throw new Error(a("unknown di {di} for element {semantic}",{di:fr(n),semantic:fr(t)}));return this._eventBus.fire("boardElement.added",{element:r}),r};function K4(t,e,n){var r=t.di.waypoint;return!r||r.length<2?[ye(e),ye(n)]:r.map(function(a){return{x:a.x,y:a.y}})}co.prototype._attachBoundary=function(t,e){var n=this._translate,r=t.attachedToRef;if(!r)throw new Error(n("missing {semantic}#attachedToRef",{semantic:fr(t)}));var a=this._elementRegistry.get(r.id),s=a&&a.attachers;if(!a)throw pC(n,t,r,"attachedToRef");e.host=a,s||(a.attachers=s=[]),s.indexOf(e)===-1&&s.push(e)};co.prototype.addLabel=function(t,e){var n,r,a;return n=Y4(t,e),r=cu(e),r&&(n=this._textRenderer.getExternalLabelBounds(n,r)),a=this._elementFactory.createLabel(Wd(t,{id:t.id+"_label",labelTarget:e,type:"label",hidden:e.hidden||!cu(e),x:Math.round(n.x),y:Math.round(n.y),width:Math.round(n.width),height:Math.round(n.height)})),this._canvas.addShape(a,e.parent)};co.prototype._getEnd=function(t,e){var n,r,a=this._translate;if(r=t[e+"Ref"],n=r&&this._getElement(r),n)return n;throw r?pC(a,t,r,e+"Ref"):new Error(a("{semantic}#{side} Ref not specified",{semantic:fr(t),side:e}))};co.prototype._getSource=function(t){return this._getEnd(t,"source")};co.prototype._getTarget=function(t){return this._getEnd(t,"target")};co.prototype._getElement=function(t){return this._elementRegistry.get(t.id)};function Z4(t){return te(t,"dcr:Group")}const W4={__depends__:[Jh],DCRImporter:["type",co]},Q4={__depends__:[U4,W4]};function bw(t){!t||typeof t.stopPropagation!="function"||t.stopPropagation()}function bu(t){return t.originalEvent||t.srcEvent}function sv(t){bw(t),bw(bu(t))}function oa(t){return t.pointers&&t.pointers.length&&(t=t.pointers[0]),t.touches&&t.touches.length&&(t=t.touches[0]),t?{x:t.clientX,y:t.clientY}:null}function gC(){return/mac/i.test(navigator.platform)}function yC(t,e){return(bu(t)||t).button===e}function ca(t){return yC(t,0)}function J4(t){return yC(t,1)}function Wc(t){var e=bu(t)||t;return ca(t)?gC()?e.metaKey:e.ctrlKey:!1}function d0(t){var e=bu(t)||t;return ca(t)&&e.shiftKey}function t8(t){return!0}function Jf(t){return ca(t)||J4(t)}var ww=500;function vC(t,e,n){var r=this;function a(B,S,z){if(!l(B,S)){var F,G,q;z?G=e.getGraphics(z):(F=S.delegateTarget||S.target,F&&(G=F,z=e.get(G))),!(!G||!z)&&(q=t.fire(B,{element:z,gfx:G,originalEvent:S}),q===!1&&(S.stopPropagation(),S.preventDefault()))}}var s={};function u(B){return s[B]}function l(B,S){var z=h[B]||ca;return!z(S)}var f={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},h={"element.contextmenu":t8,"element.mousedown":Jf,"element.mouseup":Jf,"element.click":Jf,"element.dblclick":Jf};function p(B,S,z){var F=f[B];if(!F)throw new Error("unmapped DOM event name <"+B+">");return a(F,S,z)}var g="svg, .djs-element";function m(B,S,z,F){var G=s[z]=function(q){a(z,q)};F&&(h[z]=F),G.$delegate=ti.bind(B,g,S,G)}function _(B,S,z){var F=u(z);F&&ti.unbind(B,S,F.$delegate)}function b(B){nt(f,function(S,z){m(B,z,S)})}function A(B){nt(f,function(S,z){_(B,z,S)})}t.on("canvas.destroy",function(B){A(B.svg)}),t.on("canvas.init",function(B){b(B.svg)}),t.on(["shape.added","connection.added"],function(B){var S=B.element,z=B.gfx;t.fire("interactionEvents.createHit",{element:S,gfx:z})}),t.on(["shape.changed","connection.changed"],ww,function(B){var S=B.element,z=B.gfx;t.fire("interactionEvents.updateHit",{element:S,gfx:z})}),t.on("interactionEvents.createHit",ww,function(B){var S=B.element,z=B.gfx;r.createDefaultHit(S,z)}),t.on("interactionEvents.updateHit",function(B){var S=B.element,z=B.gfx;r.updateDefaultHit(S,z)});var R=M("djs-hit djs-hit-stroke"),T=M("djs-hit djs-hit-click-stroke"),E=M("djs-hit djs-hit-all"),v=M("djs-hit djs-hit-no-move"),w={all:E,"click-stroke":T,stroke:R,"no-move":v};function M(B,S){return S=ct({stroke:"white",strokeWidth:15},S||{}),n.cls(B,["no-fill","no-border"],S)}function C(B,S){var z=w[S];if(!z)throw new Error("invalid hit type <"+S+">");return yt(B,z),B}function P(B,S){Zt(B,S)}this.removeHits=function(B){var S=$v(".djs-hit",B);nt(S,We)},this.createDefaultHit=function(B,S){var z=B.waypoints,F=B.isFrame,G;return z?this.createWaypointsHit(S,z):(G=F?"stroke":"all",this.createBoxHit(S,G,{width:B.width,height:B.height}))},this.createWaypointsHit=function(B,S){var z=Uh(S);return C(z,"stroke"),P(B,z),z},this.createBoxHit=function(B,S,z){z=ct({x:0,y:0},z);var F=Rt("rect");return C(F,S),yt(F,z),P(B,F),F},this.updateDefaultHit=function(B,S){var z=on(".djs-hit",S);if(z)return B.waypoints?s2(z,B.waypoints):yt(z,{width:B.width,height:B.height}),z},this.fire=a,this.triggerMouseEvent=p,this.mouseHandler=u,this.registerEvent=m,this.unregisterEvent=_}vC.$inject=["eventBus","elementRegistry","styles"];const pl={__init__:["interactionEvents"],interactionEvents:["type",vC]};var e8=500,n8=1e3;function as(t,e){this._eventBus=t,this.offset=5;var n=e.cls("djs-outline",["no-fill"]),r=this;function a(s){var u=Rt("rect");return yt(u,ct({x:0,y:0,rx:4,width:100,height:100},n)),u}t.on(["shape.added","shape.changed"],e8,function(s){var u=s.element,l=s.gfx,f=on(".djs-outline",l);f||(f=r.getOutline(u)||a(),Zt(l,f)),r.updateShapeOutline(f,u)}),t.on(["connection.added","connection.changed"],function(s){var u=s.element,l=s.gfx,f=on(".djs-outline",l);f||(f=a(),Zt(l,f)),r.updateConnectionOutline(f,u)})}as.prototype.updateShapeOutline=function(t,e){var n=!1,r=this._getProviders();r.length&&nt(r,function(a){n=n||a.updateOutline(e,t)}),n||yt(t,{x:-this.offset,y:-this.offset,width:e.width+this.offset*2,height:e.height+this.offset*2})};as.prototype.updateConnectionOutline=function(t,e){var n=xn(e);yt(t,{x:n.x-this.offset,y:n.y-this.offset,width:n.width+this.offset*2,height:n.height+this.offset*2})};as.prototype.registerProvider=function(t,e){e||(e=t,t=n8),this._eventBus.on("outline.getProviders",t,function(n){n.providers.push(e)})};as.prototype._getProviders=function(){var t=this._eventBus.createEvent({type:"outline.getProviders",providers:[]});return this._eventBus.fire(t),t.providers};as.prototype.getOutline=function(t){var e,n=this._getProviders();return nt(n,function(r){En(r.getOutline)&&(e=e||r.getOutline(t))}),e};as.$inject=["eventBus","styles","elementRegistry"];const mC={__init__:["outline"],outline:["type",as]};function wu(t,e){this._eventBus=t,this._canvas=e,this._selectedElements=[];var n=this;t.on(["shape.remove","connection.remove"],function(r){var a=r.element;n.deselect(a)}),t.on(["diagram.clear","root.set"],function(r){n.select(null)})}wu.$inject=["eventBus","canvas"];wu.prototype.deselect=function(t){var e=this._selectedElements,n=e.indexOf(t);if(n!==-1){var r=e.slice();e.splice(n,1),this._eventBus.fire("selection.changed",{oldSelection:r,newSelection:e})}};wu.prototype.get=function(){return this._selectedElements};wu.prototype.isSelected=function(t){return this._selectedElements.indexOf(t)!==-1};wu.prototype.select=function(t,e){var n=this._selectedElements,r=n.slice();re(t)||(t=t?[t]:[]);var a=this._canvas,s=a.getRootElement();t=t.filter(function(u){var l=a.findRoot(u);return s===l}),e?nt(t,function(u){n.indexOf(u)===-1&&n.push(u)}):this._selectedElements=n=t.slice(),this._eventBus.fire("selection.changed",{oldSelection:r,newSelection:n})};var Sw="hover",Tw="selected",td=6;function h0(t,e,n){this._canvas=t;var r=this;this._multiSelectionBox=null;function a(u,l){t.addMarker(u,l)}function s(u,l){t.removeMarker(u,l)}e.on("element.hover",function(u){a(u.element,Sw)}),e.on("element.out",function(u){s(u.element,Sw)}),e.on("selection.changed",function(u){function l(g){s(g,Tw)}function f(g){a(g,Tw)}var h=u.oldSelection,p=u.newSelection;nt(h,function(g){p.indexOf(g)===-1&&l(g)}),nt(p,function(g){h.indexOf(g)===-1&&f(g)}),r._updateSelectionOutline(p)}),e.on("element.changed",function(u){n.isSelected(u.element)&&r._updateSelectionOutline(n.get())})}h0.$inject=["canvas","eventBus","selection"];h0.prototype._updateSelectionOutline=function(t){var e=this._canvas.getLayer("selectionOutline");Mm(e);var n=t.length>1,r=this._canvas.getContainer();if(le(r)[n?"add":"remove"]("djs-multi-select"),!!n){var a=r8(xn(t)),s=Rt("rect");yt(s,ct({rx:3},a)),le(s).add("djs-selection-outline"),Zt(e,s)}};function r8(t){return{x:t.x-td,y:t.y-td,width:t.width+td*2,height:t.height+td*2}}function _C(t,e,n,r){t.on("create.end",500,function(a){var s=a.context,u=s.canExecute,l=s.elements,f=s.hints||{},h=f.autoSelect;if(u){if(h===!1)return;re(h)?e.select(h):e.select(l.filter(i8))}}),t.on("connect.end",500,function(a){var s=a.context,u=s.connection;u&&e.select(u)}),t.on("shape.move.end",500,function(a){var s=a.previousSelection||[],u=r.get(a.context.shape.id),l=Ie(s,function(f){return u.id===f.id});l||e.select(u)}),t.on("element.click",function(a){if(ca(a)){var s=a.element;s===n.getRootElement()&&(s=null);var u=e.isSelected(s),l=e.get().length>1,f=Wc(a)||d0(a);if(u&&l)return f?e.deselect(s):e.select(s);u?e.deselect(s):e.select(s,f)}})}_C.$inject=["eventBus","selection","canvas","elementRegistry"];function i8(t){return!t.hidden}const lo={__init__:["selectionVisuals","selectionBehavior"],__depends__:[pl,mC],selection:["type",wu],selectionVisuals:["type",h0],selectionBehavior:["type",_C]};function p0(t){this._counter=0,this._prefix=(t?t+"-":"")+Math.floor(Math.random()*1e9)+"-"}p0.prototype.next=function(){return this._prefix+ ++this._counter};var o8=new p0("ov"),a8=500;function hn(t,e,n,r){this._eventBus=e,this._canvas=n,this._elementRegistry=r,this._ids=o8,this._overlayDefaults=ct({show:null,scale:!0},t&&t.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=s8(n.getContainer()),this._init()}hn.$inject=["config.overlays","eventBus","canvas","elementRegistry"];hn.prototype.get=function(t){if(jr(t)&&(t={id:t}),jr(t.element)&&(t.element=this._elementRegistry.get(t.element)),t.element){var e=this._getOverlayContainer(t.element,!0);return e?t.type?an(e.overlays,Zo({type:t.type})):e.overlays.slice():[]}else return t.type?an(this._overlays,Zo({type:t.type})):t.id?this._overlays[t.id]:null};hn.prototype.add=function(t,e,n){if(An(e)&&(n=e,e=null),t.id||(t=this._elementRegistry.get(t)),!n.position)throw new Error("must specifiy overlay position");if(!n.html)throw new Error("must specifiy overlay html");if(!t)throw new Error("invalid element specified");var r=this._ids.next();return n=ct({},this._overlayDefaults,n,{id:r,type:e,element:t,html:n.html}),this._addOverlay(n),r};hn.prototype.remove=function(t){var e=this.get(t)||[];re(e)||(e=[e]);var n=this;nt(e,function(r){var a=n._getOverlayContainer(r.element,!0);if(r&&(Si(r.html),Si(r.htmlContainer),delete r.htmlContainer,delete r.element,delete n._overlays[r.id]),a){var s=a.overlays.indexOf(r);s!==-1&&a.overlays.splice(s,1)}})};hn.prototype.isShown=function(){return this._overlayRoot.style.display!=="none"};hn.prototype.show=function(){tp(this._overlayRoot)};hn.prototype.hide=function(){tp(this._overlayRoot,!1)};hn.prototype.clear=function(){this._overlays={},this._overlayContainers=[],Sm(this._overlayRoot)};hn.prototype._updateOverlayContainer=function(t){var e=t.element,n=t.html,r=e.x,a=e.y;if(e.waypoints){var s=xn(e);r=s.x,a=s.y}xC(n,r,a),hr(t.html,"data-container-id",e.id)};hn.prototype._updateOverlay=function(t){var e=t.position,n=t.htmlContainer,r=t.element,a=e.left,s=e.top;if(e.right!==void 0){var u;r.waypoints?u=xn(r).width:u=r.width,a=e.right*-1+u}if(e.bottom!==void 0){var l;r.waypoints?l=xn(r).height:l=r.height,s=e.bottom*-1+l}xC(n,a||0,s||0),this._updateOverlayVisibilty(t,this._canvas.viewbox())};hn.prototype._createOverlayContainer=function(t){var e=fn('<div class="djs-overlays" />');io(e,{position:"absolute"}),this._overlayRoot.appendChild(e);var n={html:e,element:t,overlays:[]};return this._updateOverlayContainer(n),this._overlayContainers.push(n),n};hn.prototype._updateRoot=function(t){var e=t.scale||1,n="matrix("+[e,0,0,e,-1*t.x*e,-1*t.y*e].join(",")+")";EC(this._overlayRoot,n)};hn.prototype._getOverlayContainer=function(t,e){var n=Ie(this._overlayContainers,function(r){return r.element===t});return!n&&!e?this._createOverlayContainer(t):n};hn.prototype._addOverlay=function(t){var e=t.id,n=t.element,r=t.html,a,s;r.get&&r.constructor.prototype.jquery&&(r=r.get(0)),jr(r)&&(r=fn(r)),s=this._getOverlayContainer(n),a=fn('<div class="djs-overlay" data-overlay-id="'+e+'">'),io(a,{position:"absolute"}),a.appendChild(r),t.type&&yr(a).add("djs-overlay-"+t.type);var u=this._canvas.findRoot(n),l=this._canvas.getRootElement();tp(a,u===l),t.htmlContainer=a,s.overlays.push(t),s.html.appendChild(a),this._overlays[e]=t,this._updateOverlay(t),this._updateOverlayVisibilty(t,this._canvas.viewbox())};hn.prototype._updateOverlayVisibilty=function(t,e){var n=t.show,r=this._canvas.findRoot(t.element),a=n&&n.minZoom,s=n&&n.maxZoom,u=t.htmlContainer,l=this._canvas.getRootElement(),f=!0;(r!==l||n&&(_n(a)&&a>e.scale||_n(s)&&s<e.scale))&&(f=!1),tp(u,f),this._updateOverlayScale(t,e)};hn.prototype._updateOverlayScale=function(t,e){var n=t.scale,r,a,s=t.htmlContainer,u,l="";n!==!0&&(n===!1?(r=1,a=1):(r=n.min,a=n.max),_n(r)&&e.scale<r&&(u=(1/e.scale||1)*r),_n(a)&&e.scale>a&&(u=(1/e.scale||1)*a)),_n(u)&&(l="scale("+u+","+u+")"),EC(s,l)};hn.prototype._updateOverlaysVisibilty=function(t){var e=this;nt(this._overlays,function(n){e._updateOverlayVisibilty(n,t)})};hn.prototype._init=function(){var t=this._eventBus,e=this;function n(r){e._updateRoot(r),e._updateOverlaysVisibilty(r),e.show()}t.on("canvas.viewbox.changing",function(r){e.hide()}),t.on("canvas.viewbox.changed",function(r){n(r.viewbox)}),t.on(["shape.remove","connection.remove"],function(r){var a=r.element,s=e.get({element:a});nt(s,function(f){e.remove(f.id)});var u=e._getOverlayContainer(a);if(u){Si(u.html);var l=e._overlayContainers.indexOf(u);l!==-1&&e._overlayContainers.splice(l,1)}}),t.on("element.changed",a8,function(r){var a=r.element,s=e._getOverlayContainer(a,!0);s&&(nt(s.overlays,function(u){e._updateOverlay(u)}),e._updateOverlayContainer(s))}),t.on("element.marker.update",function(r){var a=e._getOverlayContainer(r.element,!0);a&&yr(a.html)[r.add?"add":"remove"](r.marker)}),t.on("root.set",function(){e._updateOverlaysVisibilty(e._canvas.viewbox())}),t.on("diagram.clear",this.clear,this)};function s8(t){var e=fn('<div class="djs-overlay-container" />');return io(e,{position:"absolute",width:0,height:0}),t.insertBefore(e,t.firstChild),e}function xC(t,e,n){io(t,{left:e+"px",top:n+"px"})}function tp(t,e){t.style.display=e===!1?"none":""}function EC(t,e){t.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(n){t.style[n+"transform"]=e})}const bC={__init__:["overlays"],overlays:["type",hn]};function la(t){xe.call(this,t)}we(la,xe);la.prototype._modules=[Q4,Jh,lo,bC];la.prototype._moddleExtensions={};var ep="keyboard.keydown",u8="keyboard.keyup",Cw="input-handle-modified-keys",c8=1e3;function bn(t,e){var n=this;this._config=t||{},this._eventBus=e,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),e.on("diagram.destroy",function(){n._fire("destroy"),n.unbind()}),e.on("diagram.init",function(){n._fire("init")}),e.on("attach",function(){t&&t.bindTo&&n.bind(t.bindTo)}),e.on("detach",function(){n.unbind()})}bn.$inject=["config.keyboard","eventBus"];bn.prototype._keydownHandler=function(t){this._keyHandler(t,ep)};bn.prototype._keyupHandler=function(t){this._keyHandler(t,u8)};bn.prototype._keyHandler=function(t,e){var n;if(!this._isEventIgnored(t)){var r={keyEvent:t};n=this._eventBus.fire(e||ep,r),n&&t.preventDefault()}};bn.prototype._isEventIgnored=function(t){return t.defaultPrevented?!0:l8(t.target)&&this._isModifiedKeyIgnored(t)};bn.prototype._isModifiedKeyIgnored=function(t){if(!gr(t))return!0;var e=this._getAllowedModifiers(t.target);return e.indexOf(t.key)===-1};bn.prototype._getAllowedModifiers=function(t){var e=oo(t,"["+Cw+"]",!0);return!e||this._node&&!this._node.contains(e)?[]:e.getAttribute(Cw).split(",")};bn.prototype.bind=function(t){this.unbind(),this._node=t,qt.bind(t,"keydown",this._keydownHandler),qt.bind(t,"keyup",this._keyupHandler),this._fire("bind")};bn.prototype.getBinding=function(){return this._node};bn.prototype.unbind=function(){var t=this._node;t&&(this._fire("unbind"),qt.unbind(t,"keydown",this._keydownHandler),qt.unbind(t,"keyup",this._keyupHandler)),this._node=null};bn.prototype._fire=function(t){this._eventBus.fire("keyboard."+t,{node:this._node})};bn.prototype.addListener=function(t,e,n){En(t)&&(n=e,e=t,t=c8),this._eventBus.on(n||ep,t,e)};bn.prototype.removeListener=function(t,e){this._eventBus.off(e||ep,t)};bn.prototype.hasModifier=_5;bn.prototype.isCmd=gr;bn.prototype.isShift=a0;bn.prototype.isKey=Pr;function l8(t){return t&&(Cm(t,"input, textarea")||t.contentEditable==="true")}const g0={__init__:["keyboard","keyboardBindings"],keyboard:["type",bn],keyboardBindings:["type",Eu]};var f8={moveSpeed:50,moveSpeedAccelerated:200};function wC(t,e,n){var r=this;this._config=ct({},f8,t||{}),e.addListener(a);function a(s){var u=s.keyEvent,l=r._config;if(e.isCmd(u)&&e.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],u)){var f=e.isShift(u)?l.moveSpeedAccelerated:l.moveSpeed,h;switch(u.key){case"ArrowLeft":case"Left":h="left";break;case"ArrowUp":case"Up":h="up";break;case"ArrowRight":case"Right":h="right";break;case"ArrowDown":case"Down":h="down";break}return r.moveCanvas({speed:f,direction:h}),!0}}this.moveCanvas=function(s){var u=0,l=0,f=s.speed,h=f/Math.min(Math.sqrt(n.viewbox().scale),1);switch(s.direction){case"left":u=h;break;case"up":l=h;break;case"right":u=-h;break;case"down":l=-h;break}n.scroll({dx:u,dy:l})}}wC.$inject=["config.keyboardMove","keyboard","canvas"];const SC={__depends__:[g0],__init__:["keyboardMove"],keyboardMove:["type",wC]};var d8=/^djs-cursor-.*$/;function np(t){var e=yr(document.body);e.removeMatching(d8),t&&e.add("djs-cursor-"+t)}function TC(){np(null)}var h8=5e3;function CC(t,e){e=e||"element.click";function n(){return!1}return t.once(e,h8,n),function(){t.off(e,n)}}function Vc(t){return{x:t.x+t.width/2,y:t.y+t.height/2}}function Ei(t,e){return{x:t.x-e.x,y:t.y-e.y}}var p8=15;function MC(t,e){var n;t.on("element.mousedown",500,function(u){return s(u.originalEvent)});function r(u){var l=n.start,f=n.button,h=oa(u),p=Ei(h,l);if(!n.dragging&&g8(p)>p8&&(n.dragging=!0,f===0&&CC(t),np("grab")),n.dragging){var g=n.last||n.start;p=Ei(h,g),e.scroll({dx:p.x,dy:p.y}),n.last=h}u.preventDefault()}function a(u){qt.unbind(document,"mousemove",r),qt.unbind(document,"mouseup",a),n=null,TC()}function s(u){if(!oo(u.target,".djs-draggable")){var l=u.button;if(!(l>=2||u.ctrlKey||u.shiftKey||u.altKey))return n={button:l,start:oa(u)},qt.bind(document,"mousemove",r),qt.bind(document,"mouseup",a),!0}}this.isActive=function(){return!!n}}MC.$inject=["eventBus","canvas"];function g8(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}const AC={__init__:["moveCanvas"],moveCanvas:["type",MC]};function Kv(t){return Math.log(t)/Math.log(10)}function OC(t,e){var n=Kv(t.min),r=Kv(t.max),a=Math.abs(n)+Math.abs(r);return a/e}function y8(t,e){return Math.max(t.min,Math.min(t.max,e))}var v8=Math.sign||function(t){return t>=0?1:-1},y0={min:.2,max:4},RC=10,m8=.1,_8=.75;function Ti(t,e,n){t=t||{},this._enabled=!1,this._canvas=n,this._container=n._container,this._handleWheel=Gn(this._handleWheel,this),this._totalDelta=0,this._scale=t.scale||_8;var r=this;e.on("canvas.init",function(a){r._init(t.enabled!==!1)})}Ti.$inject=["config.zoomScroll","eventBus","canvas"];Ti.prototype.scroll=function(e){this._canvas.scroll(e)};Ti.prototype.reset=function(){this._canvas.zoom("fit-viewport")};Ti.prototype.zoom=function(e,n){var r=OC(y0,RC*2);this._totalDelta+=e,Math.abs(this._totalDelta)>m8&&(this._zoom(e,n,r),this._totalDelta=0)};Ti.prototype._handleWheel=function(e){if(!oo(e.target,".djs-scrollable",!0)){var n=this._container;e.preventDefault();var r=e.ctrlKey||gC()&&e.metaKey,a=e.shiftKey,s=-1*this._scale,u;if(r?s*=e.deltaMode===0?.02:.32:s*=e.deltaMode===0?1:16,r){var l=n.getBoundingClientRect(),f={x:e.clientX-l.left,y:e.clientY-l.top};u=Math.sqrt(Math.pow(e.deltaY,2)+Math.pow(e.deltaX,2))*v8(e.deltaY)*s,this.zoom(u,f)}else a?u={dx:s*e.deltaY,dy:0}:u={dx:s*e.deltaX,dy:s*e.deltaY},this.scroll(u)}};Ti.prototype.stepZoom=function(e,n){var r=OC(y0,RC);this._zoom(e,n,r)};Ti.prototype._zoom=function(t,e,n){var r=this._canvas,a=t>0?1:-1,s=Kv(r.zoom()),u=Math.round(s/n)*n;u+=n*a;var l=Math.pow(10,u);r.zoom(y8(y0,l),e)};Ti.prototype.toggle=function(e){var n=this._container,r=this._handleWheel,a=this._enabled;return typeof e>"u"&&(e=!a),a!==e&&qt[e?"bind":"unbind"](n,"wheel",r,!1),this._enabled=e,e};Ti.prototype._init=function(t){this.toggle(t)};const NC={__init__:["zoomScroll"],zoomScroll:["type",Ti]};function Qc(t){la.call(this,t)}we(Qc,la);Qc.prototype._navigationModules=[SC,AC,NC];Qc.prototype._modules=[].concat(la.prototype._modules,Qc.prototype._navigationModules);var uv={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */var Mw;function x8(){return Mw||(Mw=1,function(t){(function(e,n,r,a){var s=["","webkit","Moz","MS","ms","o"],u=n.createElement("div"),l="function",f=Math.round,h=Math.abs,p=Date.now;function g(j,U,W){return setTimeout(v(j,W),U)}function m(j,U,W){return Array.isArray(j)?(_(j,W[U],W),!0):!1}function _(j,U,W){var pt;if(j)if(j.forEach)j.forEach(U,W);else if(j.length!==a)for(pt=0;pt<j.length;)U.call(W,j[pt],pt,j),pt++;else for(pt in j)j.hasOwnProperty(pt)&&U.call(W,j[pt],pt,j)}function b(j,U,W){var pt="DEPRECATED METHOD: "+U+`
`+W+` AT 
`;return function(){var Mt=new Error("get-stack-trace"),kt=Mt&&Mt.stack?Mt.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",ae=e.console&&(e.console.warn||e.console.log);return ae&&ae.call(e.console,pt,kt),j.apply(this,arguments)}}var A;typeof Object.assign!="function"?A=function(U){if(U===a||U===null)throw new TypeError("Cannot convert undefined or null to object");for(var W=Object(U),pt=1;pt<arguments.length;pt++){var Mt=arguments[pt];if(Mt!==a&&Mt!==null)for(var kt in Mt)Mt.hasOwnProperty(kt)&&(W[kt]=Mt[kt])}return W}:A=Object.assign;var R=b(function(U,W,pt){for(var Mt=Object.keys(W),kt=0;kt<Mt.length;)(!pt||pt&&U[Mt[kt]]===a)&&(U[Mt[kt]]=W[Mt[kt]]),kt++;return U},"extend","Use `assign`."),T=b(function(U,W){return R(U,W,!0)},"merge","Use `assign`.");function E(j,U,W){var pt=U.prototype,Mt;Mt=j.prototype=Object.create(pt),Mt.constructor=j,Mt._super=pt,W&&A(Mt,W)}function v(j,U){return function(){return j.apply(U,arguments)}}function w(j,U){return typeof j==l?j.apply(U&&U[0]||a,U):j}function M(j,U){return j===a?U:j}function C(j,U,W){_(z(U),function(pt){j.addEventListener(pt,W,!1)})}function P(j,U,W){_(z(U),function(pt){j.removeEventListener(pt,W,!1)})}function B(j,U){for(;j;){if(j==U)return!0;j=j.parentNode}return!1}function S(j,U){return j.indexOf(U)>-1}function z(j){return j.trim().split(/\s+/g)}function F(j,U,W){if(j.indexOf&&!W)return j.indexOf(U);for(var pt=0;pt<j.length;){if(W&&j[pt][W]==U||!W&&j[pt]===U)return pt;pt++}return-1}function G(j){return Array.prototype.slice.call(j,0)}function q(j,U,W){for(var pt=[],Mt=[],kt=0;kt<j.length;){var ae=j[kt][U];F(Mt,ae)<0&&pt.push(j[kt]),Mt[kt]=ae,kt++}return pt=pt.sort(function(un,Je){return un[U]>Je[U]}),pt}function dt(j,U){for(var W,pt,Mt=U[0].toUpperCase()+U.slice(1),kt=0;kt<s.length;){if(W=s[kt],pt=W?W+Mt:U,pt in j)return pt;kt++}return a}var At=1;function it(){return At++}function gt(j){var U=j.ownerDocument||j;return U.defaultView||U.parentWindow||e}var Nt=/mobile|tablet|ip(ad|hone|od)|android/i,zt="ontouchstart"in e,K=dt(e,"PointerEvent")!==a,X=zt&&Nt.test(navigator.userAgent),Q="touch",at="pen",rt="mouse",wt="kinect",Et=25,I=1,L=2,Z=4,H=8,bt=1,Ot=2,Tt=4,lt=8,vt=16,Bt=Ot|Tt,Lt=lt|vt,Pt=Bt|Lt,ee=["x","y"],It=["clientX","clientY"];function Ut(j,U){var W=this;this.manager=j,this.callback=U,this.element=j.element,this.target=j.options.inputTarget,this.domHandler=function(pt){w(j.options.enable,[j])&&W.handler(pt)},this.init()}Ut.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(gt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&P(this.element,this.evEl,this.domHandler),this.evTarget&&P(this.target,this.evTarget,this.domHandler),this.evWin&&P(gt(this.element),this.evWin,this.domHandler)}};function Gt(j){var U,W=j.options.inputClass;return W?U=W:K?U=rr:X?U=vs:zt?U=ms:U=oe,new U(j,fe)}function fe(j,U,W){var pt=W.pointers.length,Mt=W.changedPointers.length,kt=U&I&&pt-Mt===0,ae=U&(Z|H)&&pt-Mt===0;W.isFirst=!!kt,W.isFinal=!!ae,kt&&(j.session={}),W.eventType=U,Dt(j,W),j.emit("hammer.input",W),j.recognize(W),j.session.prevInput=W}function Dt(j,U){var W=j.session,pt=U.pointers,Mt=pt.length;W.firstInput||(W.firstInput=k(U)),Mt>1&&!W.firstMultiple?W.firstMultiple=k(U):Mt===1&&(W.firstMultiple=!1);var kt=W.firstInput,ae=W.firstMultiple,Qe=ae?ae.center:kt.center,un=U.center=O(pt);U.timeStamp=p(),U.deltaTime=U.timeStamp-kt.timeStamp,U.angle=ft(Qe,un),U.distance=J(Qe,un),jt(W,U),U.offsetDirection=V(U.deltaX,U.deltaY);var Je=N(U.deltaTime,U.deltaX,U.deltaY);U.overallVelocityX=Je.x,U.overallVelocityY=Je.y,U.overallVelocity=h(Je.x)>h(Je.y)?Je.x:Je.y,U.scale=ae?Ft(ae.pointers,pt):1,U.rotation=ae?_t(ae.pointers,pt):0,U.maxPointers=W.prevInput?U.pointers.length>W.prevInput.maxPointers?U.pointers.length:W.prevInput.maxPointers:U.pointers.length,Kn(W,U);var Wn=j.element;B(U.srcEvent.target,Wn)&&(Wn=U.srcEvent.target),U.target=Wn}function jt(j,U){var W=U.center,pt=j.offsetDelta||{},Mt=j.prevDelta||{},kt=j.prevInput||{};(U.eventType===I||kt.eventType===Z)&&(Mt=j.prevDelta={x:kt.deltaX||0,y:kt.deltaY||0},pt=j.offsetDelta={x:W.x,y:W.y}),U.deltaX=Mt.x+(W.x-pt.x),U.deltaY=Mt.y+(W.y-pt.y)}function Kn(j,U){var W=j.lastInterval||U,pt=U.timeStamp-W.timeStamp,Mt,kt,ae,Qe;if(U.eventType!=H&&(pt>Et||W.velocity===a)){var un=U.deltaX-W.deltaX,Je=U.deltaY-W.deltaY,Wn=N(pt,un,Je);kt=Wn.x,ae=Wn.y,Mt=h(Wn.x)>h(Wn.y)?Wn.x:Wn.y,Qe=V(un,Je),j.lastInterval=U}else Mt=W.velocity,kt=W.velocityX,ae=W.velocityY,Qe=W.direction;U.velocity=Mt,U.velocityX=kt,U.velocityY=ae,U.direction=Qe}function k(j){for(var U=[],W=0;W<j.pointers.length;)U[W]={clientX:f(j.pointers[W].clientX),clientY:f(j.pointers[W].clientY)},W++;return{timeStamp:p(),pointers:U,center:O(U),deltaX:j.deltaX,deltaY:j.deltaY}}function O(j){var U=j.length;if(U===1)return{x:f(j[0].clientX),y:f(j[0].clientY)};for(var W=0,pt=0,Mt=0;Mt<U;)W+=j[Mt].clientX,pt+=j[Mt].clientY,Mt++;return{x:f(W/U),y:f(pt/U)}}function N(j,U,W){return{x:U/j||0,y:W/j||0}}function V(j,U){return j===U?bt:h(j)>=h(U)?j<0?Ot:Tt:U<0?lt:vt}function J(j,U,W){W||(W=ee);var pt=U[W[0]]-j[W[0]],Mt=U[W[1]]-j[W[1]];return Math.sqrt(pt*pt+Mt*Mt)}function ft(j,U,W){W||(W=ee);var pt=U[W[0]]-j[W[0]],Mt=U[W[1]]-j[W[1]];return Math.atan2(Mt,pt)*180/Math.PI}function _t(j,U){return ft(U[1],U[0],It)+ft(j[1],j[0],It)}function Ft(j,U){return J(U[0],U[1],It)/J(j[0],j[1],It)}var Ce={mousedown:I,mousemove:L,mouseup:Z},he="mousedown",ie="mousemove mouseup";function oe(){this.evEl=he,this.evWin=ie,this.pressed=!1,Ut.apply(this,arguments)}E(oe,Ut,{handler:function(U){var W=Ce[U.type];W&I&&U.button===0&&(this.pressed=!0),W&L&&U.which!==1&&(W=Z),this.pressed&&(W&Z&&(this.pressed=!1),this.callback(this.manager,W,{pointers:[U],changedPointers:[U],pointerType:rt,srcEvent:U}))}});var ps={pointerdown:I,pointermove:L,pointerup:Z,pointercancel:H,pointerout:H},gs={2:Q,3:at,4:rt,5:wt},ai="pointerdown",On="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(ai="MSPointerDown",On="MSPointerMove MSPointerUp MSPointerCancel");function rr(){this.evEl=ai,this.evWin=On,Ut.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}E(rr,Ut,{handler:function(U){var W=this.store,pt=!1,Mt=U.type.toLowerCase().replace("ms",""),kt=ps[Mt],ae=gs[U.pointerType]||U.pointerType,Qe=ae==Q,un=F(W,U.pointerId,"pointerId");kt&I&&(U.button===0||Qe)?un<0&&(W.push(U),un=W.length-1):kt&(Z|H)&&(pt=!0),!(un<0)&&(W[un]=U,this.callback(this.manager,kt,{pointers:W,changedPointers:[U],pointerType:ae,srcEvent:U}),pt&&W.splice(un,1))}});var Ai={touchstart:I,touchmove:L,touchend:Z,touchcancel:H},si="touchstart",mo="touchstart touchmove touchend touchcancel";function _a(){this.evTarget=si,this.evWin=mo,this.started=!1,Ut.apply(this,arguments)}E(_a,Ut,{handler:function(U){var W=Ai[U.type];if(W===I&&(this.started=!0),!!this.started){var pt=ys.call(this,U,W);W&(Z|H)&&pt[0].length-pt[1].length===0&&(this.started=!1),this.callback(this.manager,W,{pointers:pt[0],changedPointers:pt[1],pointerType:Q,srcEvent:U})}}});function ys(j,U){var W=G(j.touches),pt=G(j.changedTouches);return U&(Z|H)&&(W=q(W.concat(pt),"identifier")),[W,pt]}var Nu={touchstart:I,touchmove:L,touchend:Z,touchcancel:H},xa="touchstart touchmove touchend touchcancel";function vs(){this.evTarget=xa,this.targetIds={},Ut.apply(this,arguments)}E(vs,Ut,{handler:function(U){var W=Nu[U.type],pt=Ll.call(this,U,W);pt&&this.callback(this.manager,W,{pointers:pt[0],changedPointers:pt[1],pointerType:Q,srcEvent:U})}});function Ll(j,U){var W=G(j.touches),pt=this.targetIds;if(U&(I|L)&&W.length===1)return pt[W[0].identifier]=!0,[W,W];var Mt,kt,ae=G(j.changedTouches),Qe=[],un=this.target;if(kt=W.filter(function(Je){return B(Je.target,un)}),U===I)for(Mt=0;Mt<kt.length;)pt[kt[Mt].identifier]=!0,Mt++;for(Mt=0;Mt<ae.length;)pt[ae[Mt].identifier]&&Qe.push(ae[Mt]),U&(Z|H)&&delete pt[ae[Mt].identifier],Mt++;if(Qe.length)return[q(kt.concat(Qe),"identifier"),Qe]}var Pl=2500,Du=25;function ms(){Ut.apply(this,arguments);var j=v(this.handler,this);this.touch=new vs(this.manager,j),this.mouse=new oe(this.manager,j),this.primaryTouch=null,this.lastTouches=[]}E(ms,Ut,{handler:function(U,W,pt){var Mt=pt.pointerType==Q,kt=pt.pointerType==rt;if(!(kt&&pt.sourceCapabilities&&pt.sourceCapabilities.firesTouchEvents)){if(Mt)Rp.call(this,W,pt);else if(kt&&pn.call(this,pt))return;this.callback(U,W,pt)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Rp(j,U){j&I?(this.primaryTouch=U.changedPointers[0].identifier,Vr.call(this,U)):j&(Z|H)&&Vr.call(this,U)}function Vr(j){var U=j.changedPointers[0];if(U.identifier===this.primaryTouch){var W={x:U.clientX,y:U.clientY};this.lastTouches.push(W);var pt=this.lastTouches,Mt=function(){var kt=pt.indexOf(W);kt>-1&&pt.splice(kt,1)};setTimeout(Mt,Pl)}}function pn(j){for(var U=j.srcEvent.clientX,W=j.srcEvent.clientY,pt=0;pt<this.lastTouches.length;pt++){var Mt=this.lastTouches[pt],kt=Math.abs(U-Mt.x),ae=Math.abs(W-Mt.y);if(kt<=Du&&ae<=Du)return!0}return!1}var wn=dt(u.style,"touchAction"),Oi=wn!==a,_s="compute",Bl="auto",Lu="manipulation",ui="none",Yr="pan-x",Ri="pan-y",Er=_o();function ci(j,U){this.manager=j,this.set(U)}ci.prototype={set:function(j){j==_s&&(j=this.compute()),Oi&&this.manager.element.style&&Er[j]&&(this.manager.element.style[wn]=j),this.actions=j.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var j=[];return _(this.manager.recognizers,function(U){w(U.options.enable,[U])&&(j=j.concat(U.getTouchAction()))}),Ea(j.join(" "))},preventDefaults:function(j){var U=j.srcEvent,W=j.offsetDirection;if(this.manager.session.prevented){U.preventDefault();return}var pt=this.actions,Mt=S(pt,ui)&&!Er[ui],kt=S(pt,Ri)&&!Er[Ri],ae=S(pt,Yr)&&!Er[Yr];if(Mt){var Qe=j.pointers.length===1,un=j.distance<2,Je=j.deltaTime<250;if(Qe&&un&&Je)return}if(!(ae&&kt)&&(Mt||kt&&W&Bt||ae&&W&Lt))return this.preventSrc(U)},preventSrc:function(j){this.manager.session.prevented=!0,j.preventDefault()}};function Ea(j){if(S(j,ui))return ui;var U=S(j,Yr),W=S(j,Ri);return U&&W?ui:U||W?U?Yr:Ri:S(j,Lu)?Lu:Bl}function _o(){if(!Oi)return!1;var j={},U=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(W){j[W]=U?e.CSS.supports("touch-action",W):!0}),j}var je=1,zn=2,Ni=4,Rn=8,Nn=Rn,$n=16,br=32;function wr(j){this.options=A({},this.defaults,j||{}),this.id=it(),this.manager=null,this.options.enable=M(this.options.enable,!0),this.state=je,this.simultaneous={},this.requireFail=[]}wr.prototype={defaults:{},set:function(j){return A(this.options,j),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(j){if(m(j,"recognizeWith",this))return this;var U=this.simultaneous;return j=Di(j,this),U[j.id]||(U[j.id]=j,j.recognizeWith(this)),this},dropRecognizeWith:function(j){return m(j,"dropRecognizeWith",this)?this:(j=Di(j,this),delete this.simultaneous[j.id],this)},requireFailure:function(j){if(m(j,"requireFailure",this))return this;var U=this.requireFail;return j=Di(j,this),F(U,j)===-1&&(U.push(j),j.requireFailure(this)),this},dropRequireFailure:function(j){if(m(j,"dropRequireFailure",this))return this;j=Di(j,this);var U=F(this.requireFail,j);return U>-1&&this.requireFail.splice(U,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(j){return!!this.simultaneous[j.id]},emit:function(j){var U=this,W=this.state;function pt(Mt){U.manager.emit(Mt,j)}W<Rn&&pt(U.options.event+Pu(W)),pt(U.options.event),j.additionalEvent&&pt(j.additionalEvent),W>=Rn&&pt(U.options.event+Pu(W))},tryEmit:function(j){if(this.canEmit())return this.emit(j);this.state=br},canEmit:function(){for(var j=0;j<this.requireFail.length;){if(!(this.requireFail[j].state&(br|je)))return!1;j++}return!0},recognize:function(j){var U=A({},j);if(!w(this.options.enable,[this,U])){this.reset(),this.state=br;return}this.state&(Nn|$n|br)&&(this.state=je),this.state=this.process(U),this.state&(zn|Ni|Rn|$n)&&this.tryEmit(U)},process:function(j){},getTouchAction:function(){},reset:function(){}};function Pu(j){return j&$n?"cancel":j&Rn?"end":j&Ni?"move":j&zn?"start":""}function Il(j){return j==vt?"down":j==lt?"up":j==Ot?"left":j==Tt?"right":""}function Di(j,U){var W=U.manager;return W?W.get(j):j}function Dn(){wr.apply(this,arguments)}E(Dn,wr,{defaults:{pointers:1},attrTest:function(j){var U=this.options.pointers;return U===0||j.pointers.length===U},process:function(j){var U=this.state,W=j.eventType,pt=U&(zn|Ni),Mt=this.attrTest(j);return pt&&(W&H||!Mt)?U|$n:pt||Mt?W&Z?U|Rn:U&zn?U|Ni:zn:br}});function Zn(){Dn.apply(this,arguments),this.pX=null,this.pY=null}E(Zn,Dn,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pt},getTouchAction:function(){var j=this.options.direction,U=[];return j&Bt&&U.push(Ri),j&Lt&&U.push(Yr),U},directionTest:function(j){var U=this.options,W=!0,pt=j.distance,Mt=j.direction,kt=j.deltaX,ae=j.deltaY;return Mt&U.direction||(U.direction&Bt?(Mt=kt===0?bt:kt<0?Ot:Tt,W=kt!=this.pX,pt=Math.abs(j.deltaX)):(Mt=ae===0?bt:ae<0?lt:vt,W=ae!=this.pY,pt=Math.abs(j.deltaY))),j.direction=Mt,W&&pt>U.threshold&&Mt&U.direction},attrTest:function(j){return Dn.prototype.attrTest.call(this,j)&&(this.state&zn||!(this.state&zn)&&this.directionTest(j))},emit:function(j){this.pX=j.deltaX,this.pY=j.deltaY;var U=Il(j.direction);U&&(j.additionalEvent=this.options.event+U),this._super.emit.call(this,j)}});function Ln(){Dn.apply(this,arguments)}E(Ln,Dn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ui]},attrTest:function(j){return this._super.attrTest.call(this,j)&&(Math.abs(j.scale-1)>this.options.threshold||this.state&zn)},emit:function(j){if(j.scale!==1){var U=j.scale<1?"in":"out";j.additionalEvent=this.options.event+U}this._super.emit.call(this,j)}});function xs(){wr.apply(this,arguments),this._timer=null,this._input=null}E(xs,wr,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Bl]},process:function(j){var U=this.options,W=j.pointers.length===U.pointers,pt=j.distance<U.threshold,Mt=j.deltaTime>U.time;if(this._input=j,!pt||!W||j.eventType&(Z|H)&&!Mt)this.reset();else if(j.eventType&I)this.reset(),this._timer=g(function(){this.state=Nn,this.tryEmit()},U.time,this);else if(j.eventType&Z)return Nn;return br},reset:function(){clearTimeout(this._timer)},emit:function(j){this.state===Nn&&(j&&j.eventType&Z?this.manager.emit(this.options.event+"up",j):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}});function Bu(){Dn.apply(this,arguments)}E(Bu,Dn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ui]},attrTest:function(j){return this._super.attrTest.call(this,j)&&(Math.abs(j.rotation)>this.options.threshold||this.state&zn)}});function xo(){Dn.apply(this,arguments)}E(xo,Dn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Bt|Lt,pointers:1},getTouchAction:function(){return Zn.prototype.getTouchAction.call(this)},attrTest:function(j){var U=this.options.direction,W;return U&(Bt|Lt)?W=j.overallVelocity:U&Bt?W=j.overallVelocityX:U&Lt&&(W=j.overallVelocityY),this._super.attrTest.call(this,j)&&U&j.offsetDirection&&j.distance>this.options.threshold&&j.maxPointers==this.options.pointers&&h(W)>this.options.velocity&&j.eventType&Z},emit:function(j){var U=Il(j.offsetDirection);U&&this.manager.emit(this.options.event+U,j),this.manager.emit(this.options.event,j)}});function ba(){wr.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}E(ba,wr,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Lu]},process:function(j){var U=this.options,W=j.pointers.length===U.pointers,pt=j.distance<U.threshold,Mt=j.deltaTime<U.time;if(this.reset(),j.eventType&I&&this.count===0)return this.failTimeout();if(pt&&Mt&&W){if(j.eventType!=Z)return this.failTimeout();var kt=this.pTime?j.timeStamp-this.pTime<U.interval:!0,ae=!this.pCenter||J(this.pCenter,j.center)<U.posThreshold;this.pTime=j.timeStamp,this.pCenter=j.center,!ae||!kt?this.count=1:this.count+=1,this._input=j;var Qe=this.count%U.taps;if(Qe===0)return this.hasRequireFailures()?(this._timer=g(function(){this.state=Nn,this.tryEmit()},U.interval,this),zn):Nn}return br},failTimeout:function(){return this._timer=g(function(){this.state=br},this.options.interval,this),br},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Nn&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function ir(j,U){return U=U||{},U.recognizers=M(U.recognizers,ir.defaults.preset),new wa(j,U)}ir.VERSION="2.0.7",ir.defaults={domEvents:!1,touchAction:_s,enable:!0,inputTarget:null,inputClass:null,preset:[[Bu,{enable:!1}],[Ln,{enable:!1},["rotate"]],[xo,{direction:Bt}],[Zn,{direction:Bt},["swipe"]],[ba],[ba,{event:"doubletap",taps:2},["tap"]],[xs]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Np=1,Hn=2;function wa(j,U){this.options=A({},ir.defaults,U||{}),this.options.inputTarget=this.options.inputTarget||j,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=j,this.input=Gt(this),this.touchAction=new ci(this,this.options.touchAction),Iu(this,!0),_(this.options.recognizers,function(W){var pt=this.add(new W[0](W[1]));W[2]&&pt.recognizeWith(W[2]),W[3]&&pt.requireFailure(W[3])},this)}wa.prototype={set:function(j){return A(this.options,j),j.touchAction&&this.touchAction.update(),j.inputTarget&&(this.input.destroy(),this.input.target=j.inputTarget,this.input.init()),this},stop:function(j){this.session.stopped=j?Hn:Np},recognize:function(j){var U=this.session;if(!U.stopped){this.touchAction.preventDefaults(j);var W,pt=this.recognizers,Mt=U.curRecognizer;(!Mt||Mt&&Mt.state&Nn)&&(Mt=U.curRecognizer=null);for(var kt=0;kt<pt.length;)W=pt[kt],U.stopped!==Hn&&(!Mt||W==Mt||W.canRecognizeWith(Mt))?W.recognize(j):W.reset(),!Mt&&W.state&(zn|Ni|Rn)&&(Mt=U.curRecognizer=W),kt++}},get:function(j){if(j instanceof wr)return j;for(var U=this.recognizers,W=0;W<U.length;W++)if(U[W].options.event==j)return U[W];return null},add:function(j){if(m(j,"add",this))return this;var U=this.get(j.options.event);return U&&this.remove(U),this.recognizers.push(j),j.manager=this,this.touchAction.update(),j},remove:function(j){if(m(j,"remove",this))return this;if(j=this.get(j),j){var U=this.recognizers,W=F(U,j);W!==-1&&(U.splice(W,1),this.touchAction.update())}return this},on:function(j,U){if(j!==a&&U!==a){var W=this.handlers;return _(z(j),function(pt){W[pt]=W[pt]||[],W[pt].push(U)}),this}},off:function(j,U){if(j!==a){var W=this.handlers;return _(z(j),function(pt){U?W[pt]&&W[pt].splice(F(W[pt],U),1):delete W[pt]}),this}},emit:function(j,U){this.options.domEvents&&ju(j,U);var W=this.handlers[j]&&this.handlers[j].slice();if(!(!W||!W.length)){U.type=j,U.preventDefault=function(){U.srcEvent.preventDefault()};for(var pt=0;pt<W.length;)W[pt](U),pt++}},destroy:function(){this.element&&Iu(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Iu(j,U){var W=j.element;if(W.style){var pt;_(j.options.cssProps,function(Mt,kt){pt=dt(W.style,kt),U?(j.oldCssProps[pt]=W.style[pt],W.style[pt]=Mt):W.style[pt]=j.oldCssProps[pt]||""}),U||(j.oldCssProps={})}}function ju(j,U){var W=n.createEvent("Event");W.initEvent(j,!0,!0),W.gesture=U,U.target.dispatchEvent(W)}A(ir,{INPUT_START:I,INPUT_MOVE:L,INPUT_END:Z,INPUT_CANCEL:H,STATE_POSSIBLE:je,STATE_BEGAN:zn,STATE_CHANGED:Ni,STATE_ENDED:Rn,STATE_RECOGNIZED:Nn,STATE_CANCELLED:$n,STATE_FAILED:br,DIRECTION_NONE:bt,DIRECTION_LEFT:Ot,DIRECTION_RIGHT:Tt,DIRECTION_UP:lt,DIRECTION_DOWN:vt,DIRECTION_HORIZONTAL:Bt,DIRECTION_VERTICAL:Lt,DIRECTION_ALL:Pt,Manager:wa,Input:Ut,TouchAction:ci,TouchInput:vs,MouseInput:oe,PointerEventInput:rr,TouchMouseInput:ms,SingleTouchInput:_a,Recognizer:wr,AttrRecognizer:Dn,Tap:ba,Pan:Zn,Swipe:xo,Pinch:Ln,Rotate:Bu,Press:xs,on:C,off:P,each:_,merge:T,extend:R,assign:A,inherit:E,bindFn:v,prefixed:dt});var Eo=typeof e<"u"?e:typeof self<"u"?self:{};Eo.Hammer=ir,t.exports?t.exports=ir:e[r]=ir})(window,document,"Hammer")}(uv)),uv.exports}var E8=x8();const Xa=aa(E8);var b8=.2,w8=4,Aw=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function ed(t,e){return e.get(t,!1)}function Zv(t){t.preventDefault(),typeof t.stopPropagation=="function"?t.stopPropagation():t.srcEvent&&typeof t.srcEvent.stopPropagation=="function"&&t.srcEvent.stopPropagation(),typeof t.stopImmediatePropagation=="function"&&t.stopImmediatePropagation()}function cv(t){function e(h){nt(Aw,function(p){qt.bind(t,p,Zv,!0)})}function n(h){setTimeout(function(){nt(Aw,function(p){qt.unbind(t,p,Zv,!0)})},500)}qt.bind(t,"touchstart",e,!0),qt.bind(t,"touchend",n,!0),qt.bind(t,"touchcancel",n,!0);var r=new Xa.Manager(t,{inputClass:Xa.TouchInput,recognizers:[],domEvents:!0}),a=new Xa.Tap,s=new Xa.Pan({threshold:10}),u=new Xa.Press,l=new Xa.Pinch,f=new Xa.Tap({event:"doubletap",taps:2});return l.requireFailure(s),l.requireFailure(u),r.add([s,u,l,f,a]),r.reset=function(h){var p=this.recognizers,g=this.session;g.stopped||(r.stop(h),setTimeout(function(){var m,_;for(m=0;_=p[m];m++)_.reset(),_.state=8;g.curRecognizer=null},0))},r.on("hammer.input",function(h){h.srcEvent.defaultPrevented&&r.reset(!0)}),r}function DC(t,e,n,r,a){var s=ed("dragging",t),u=ed("move",t),l=ed("contextPad",t),f=ed("palette",t),h;function p(_,b){return function(A){var R=g(A.target),T=R&&r.get(R);return b&&(A.srcEvent.button=b),a.fire(_,A,T)}}function g(_){var b=oo(_,"svg, .djs-element",!0);return b}function m(_){h=cv(_);function b(T){var E=0,v=0;function w(C){var P=C.deltaX-E,B=C.deltaY-v;e.scroll({dx:P,dy:B}),E=C.deltaX,v=C.deltaY}function M(C){h.off("panmove",w),h.off("panend",M),h.off("pancancel",M)}h.on("panmove",w),h.on("panend",M),h.on("pancancel",M)}function A(T){var E=g(T.target),v=E&&r.get(E);if(u&&e.getRootElement()!==v)return u.start(T,v,!0);b()}function R(T){var E=e.zoom(),v=T.center;function w(C){var P=1-(1-C.scale)/1.5,B=Math.max(b8,Math.min(w8,P*E));e.zoom(B,v),Zv(C)}function M(C){h.off("pinchmove",w),h.off("pinchend",M),h.off("pinchcancel",M),h.reset(!0)}h.on("pinchmove",w),h.on("pinchend",M),h.on("pinchcancel",M)}h.on("tap",p("element.click")),h.on("doubletap",p("element.dblclick",1)),h.on("panstart",A),h.on("press",A),h.on("pinchstart",R)}s&&n.on("drag.move",function(_){var b=_.originalEvent;if(!(!b||b instanceof MouseEvent)){var A=oa(b),R=document.elementFromPoint(A.x,A.y),T=g(R),E=T&&r.get(T);E!==_.hover&&(_.hover&&s.out(_),E&&(s.hover({element:E,gfx:T}),_.hover=E,_.hoverGfx=T))}}),l&&n.on("contextPad.create",function(_){var b=_.pad.html,A=cv(b);A.on("panstart",function(R){l.trigger("dragstart",R,!0)}),A.on("press",function(R){l.trigger("dragstart",R,!0)}),A.on("tap",function(R){l.trigger("click",R)})}),f&&n.on("palette.create",function(_){var b=_.container,A=cv(b);A.on("panstart",function(R){f.trigger("dragstart",R,!0)}),A.on("press",function(R){f.trigger("dragstart",R,!0)}),A.on("tap",function(R){f.trigger("click",R)})}),n.on("canvas.init",function(_){m(_.svg)})}DC.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"];function v0(t){var e=this;t.on("canvas.init",function(n){e.addBBoxMarker(n.svg)})}v0.$inject=["eventBus"];v0.prototype.addBBoxMarker=function(t){var e={fill:"none",class:"outer-bound-marker"},n=Rt("rect");yt(n,{x:-1e4,y:1e4,width:10,height:10}),yt(n,e),Zt(t,n);var r=Rt("rect");yt(r,{x:1e4,y:1e4,width:10,height:10}),yt(r,e),Zt(t,r)};const S8={__depends__:[pl],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",DC],touchFix:["type",v0]},T8={__depends__:[S8]};function lv(t){return t&&t[t.length-1]}function Ow(t){return t.y}function Rw(t){return t.x}var C8={left:Rw,center:Rw,right:function(t){return t.x+t.width},top:Ow,middle:Ow,bottom:function(t){return t.y+t.height}};function Su(t,e){this._modeling=t,this._rules=e}Su.$inject=["modeling","rules"];Su.prototype._getOrientationDetails=function(t){var e=["top","bottom","middle"],n="x",r="width";return e.indexOf(t)!==-1&&(n="y",r="height"),{axis:n,dimension:r}};Su.prototype._isType=function(t,e){return e.indexOf(t)!==-1};Su.prototype._alignmentPosition=function(t,e){var n=this._getOrientationDetails(t),r=n.axis,a=n.dimension,s={},u={},l=!1,f,h,p;function g(m,_){return Math.round((m[r]+_[r]+_[a])/2)}if(this._isType(t,["left","top"]))s[t]=e[0][r];else if(this._isType(t,["right","bottom"]))p=lv(e),s[t]=p[r]+p[a];else if(this._isType(t,["center","middle"])){if(nt(e,function(m){var _=m[r]+Math.round(m[a]/2);u[_]?u[_].elements.push(m):u[_]={elements:[m],center:_}}),f=to(u,function(m){return m.elements.length>1&&(l=!0),m.elements.length}),l)return s[t]=lv(f).center,s;h=e[0],e=to(e,function(m){return m[r]+m[a]}),p=lv(e),s[t]=g(h,p)}return s};Su.prototype.trigger=function(t,e){var n=this._modeling,r,a=an(t,function(f){return!(f.waypoints||f.host||f.labelTarget)});if(r=this._rules.allowed("elements.align",{elements:a}),re(r)&&(a=r),!(a.length<2||!r)){var s=C8[e],u=to(a,s),l=this._alignmentPosition(e,u);n.alignElements(u,l)}};const M8={__init__:["alignElements"],alignElements:["type",Su]};var Nw=1500;function LC(t,e,n){var r=this,a=n.get("dragging",!1);function s(u){if(!u.hover){var l=u.originalEvent,f=r._findTargetGfx(l),h=f&&t.get(f);f&&h&&(u.stopPropagation(),a.hover({element:h,gfx:f}),a.move(l))}}a&&e.on("drag.start",function(u){e.once("drag.move",Nw,function(l){s(l)})}),function(){var u,l;e.on("element.hover",function(f){u=f.gfx,l=f.element}),e.on("element.hover",Nw,function(f){l&&e.fire("element.out",{element:l,gfx:u})}),e.on("element.out",function(){u=null,l=null})}(),this._findTargetGfx=function(u){var l,f;if(u instanceof MouseEvent)return l=oa(u),f=document.elementFromPoint(l.x,l.y),A8(f)}}LC.$inject=["elementRegistry","eventBus","injector"];function A8(t){return oo(t,"svg, .djs-element",!0)}const O8={__init__:["hoverFix"],hoverFix:["type",LC]};var Js=Math.round,Dw="djs-drag-active";function Ga(t){t.preventDefault()}function R8(t){return typeof TouchEvent<"u"&&t instanceof TouchEvent}function N8(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}function PC(t,e,n,r){var a={threshold:5,trapClick:!0},s;function u(v){var w=e.viewbox(),M=e._container.getBoundingClientRect();return{x:w.x+(v.x-M.left)/w.scale,y:w.y+(v.y-M.top)/w.scale}}function l(v,w){w=w||s;var M=t.createEvent(ct({},w.payload,w.data,{isTouch:w.isTouch}));return t.fire("drag."+v,M)===!1?!1:t.fire(w.prefix+"."+v,M)}function f(v){var w=v.filter(function(M){return r.get(M.id)});w.length&&n.select(w)}function h(v,w){var M=s.payload,C=s.displacement,P=s.globalStart,B=oa(v),S=Ei(B,P),z=s.localStart,F=u(B),G=Ei(F,z);if(!s.active&&(w||N8(S)>s.threshold)){if(ct(M,{x:Js(z.x+C.x),y:Js(z.y+C.y),dx:0,dy:0},{originalEvent:v}),l("start")===!1)return R();s.active=!0,s.keepSelection||(M.previousSelection=n.get(),n.select(null)),s.cursor&&np(s.cursor),e.addMarker(e.getRootElement(),Dw)}sv(v),s.active&&(ct(M,{x:Js(F.x+C.x),y:Js(F.y+C.y),dx:Js(G.x),dy:Js(G.y)},{originalEvent:v}),l("move"))}function p(v){var w,M=!0;s.active&&(v&&(s.payload.originalEvent=v,sv(v)),M=l("end")),M===!1&&l("rejected"),w=T(M!==!0),l("ended",w)}function g(v){Pr("Escape",v)&&(Ga(v),R())}function m(v){var w;s.active&&(w=CC(t),setTimeout(w,400),Ga(v)),p(v)}function _(v){h(v)}function b(v){var w=s.payload;w.hoverGfx=v.gfx,w.hover=v.element,l("hover")}function A(v){l("out");var w=s.payload;w.hoverGfx=null,w.hover=null}function R(v){var w;if(s){var M=s.active;M&&l("cancel"),w=T(v),M&&l("canceled",w)}}function T(v){var w,M;l("cleanup"),TC(),s.trapClick?M=m:M=p,qt.unbind(document,"mousemove",h),qt.unbind(document,"dragstart",Ga),qt.unbind(document,"selectstart",Ga),qt.unbind(document,"mousedown",M,!0),qt.unbind(document,"mouseup",M,!0),qt.unbind(document,"keyup",g),qt.unbind(document,"touchstart",_,!0),qt.unbind(document,"touchcancel",R,!0),qt.unbind(document,"touchmove",h,!0),qt.unbind(document,"touchend",p,!0),t.off("element.hover",b),t.off("element.out",A),e.removeMarker(e.getRootElement(),Dw);var C=s.payload.previousSelection;return v!==!1&&C&&!n.get().length&&f(C),w=s,s=null,w}function E(v,w,M,C){s&&R(!1),typeof w=="string"&&(C=M,M=w,w=null),C=ct({},a,C||{});var P=C.data||{},B,S,z,F,G;C.trapClick?F=m:F=p,v?(B=bu(v)||v,S=oa(v),sv(v),B.type==="dragstart"&&Ga(B)):(B=null,S={x:0,y:0}),z=u(S),w||(w=z),G=R8(B),s=ct({prefix:M,data:P,payload:{},globalStart:S,displacement:Ei(w,z),localStart:z,isTouch:G},C),C.manual||(G?(qt.bind(document,"touchstart",_,!0),qt.bind(document,"touchcancel",R,!0),qt.bind(document,"touchmove",h,!0),qt.bind(document,"touchend",p,!0)):(qt.bind(document,"mousemove",h),qt.bind(document,"dragstart",Ga),qt.bind(document,"selectstart",Ga),qt.bind(document,"mousedown",F,!0),qt.bind(document,"mouseup",F,!0)),qt.bind(document,"keyup",g),t.on("element.hover",b),t.on("element.out",A)),l("init"),C.autoActivate&&h(v,!0)}t.on("diagram.destroy",R),this.init=E,this.move=h,this.hover=b,this.out=A,this.end=p,this.cancel=R,this.context=function(){return s},this.setOptions=function(v){ct(a,v)}}PC.$inject=["eventBus","canvas","selection","elementRegistry"];const fo={__depends__:[O8,lo],dragging:["type",PC]};function Tu(t,e,n){this._canvas=n,this._opts=ct({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},t);var r=this;e.on("drag.move",function(a){var s=r._toBorderPoint(a);r.startScroll(s)}),e.on(["drag.cleanup"],function(){r.stopScroll()})}Tu.$inject=["config.autoScroll","eventBus","canvas"];Tu.prototype.startScroll=function(t){var e=this._canvas,n=this._opts,r=this,a=e.getContainer().getBoundingClientRect(),s=[t.x,t.y,a.width-t.x,a.height-t.y];this.stopScroll();for(var u=0,l=0,f=0;f<4;f++)D8(s[f],n.scrollThresholdOut[f],n.scrollThresholdIn[f])&&(f===0?u=n.scrollStep:f==1?l=n.scrollStep:f==2?u=-n.scrollStep:f==3&&(l=-n.scrollStep));(u!==0||l!==0)&&(e.scroll({dx:u,dy:l}),this._scrolling=setTimeout(function(){r.startScroll(t)},n.scrollRepeatTimeout))};function D8(t,e,n){return e<t&&t<n}Tu.prototype.stopScroll=function(){clearTimeout(this._scrolling)};Tu.prototype.setOptions=function(t){this._opts=ct({},this._opts,t)};Tu.prototype._toBorderPoint=function(t){var e=this._canvas._container.getBoundingClientRect(),n=oa(t.originalEvent);return{x:n.x-e.left,y:n.y-e.top}};const L8={__depends__:[fo],__init__:["autoScroll"],autoScroll:["type",Tu]};function m0(t){this._commandStack=t.get("commandStack",!1)}m0.$inject=["injector"];m0.prototype.allowed=function(t,e){var n=!0,r=this._commandStack;return r&&(n=r.canExecute(t,e)),n===void 0?!0:n};const Ci={__init__:["rules"],rules:["type",m0]};var nd=Math.round,P8=Math.max;function B8(t,e){var n=t.x,r=t.y;return[["M",n,r],["m",0,-10],["a",e,e,0,1,1,0,2*e],["a",e,e,0,1,1,0,-2*e],["z"]]}function I8(t){var e=[];return t.forEach(function(n,r){e.push([r===0?"M":"L",n.x,n.y])}),e}var BC=10;function j8(t,e){var n,r;for(n=0;r=t[n];n++)if(ul(r,e)<=BC)return{point:t[n],bendpoint:!0,index:n};return null}function k8(t,e){var n=d2(B8(e,BC),I8(t)),r=n[0],a=n[n.length-1],s;return r?r!==a?r.segment2!==a.segment2?(s=P8(r.segment2,a.segment2)-1,{point:t[s],bendpoint:!0,index:s}):{point:{x:nd(r.x+a.x)/2,y:nd(r.y+a.y)/2},index:r.segment2}:{point:{x:nd(r.x),y:nd(r.y)},index:r.segment2}:null}function z8(t,e){return j8(t,e)||k8(t,e)}function $8(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}function H8(t,e,n){var r=[{n:t[0]-n[0],lambda:e[0]},{n:t[1]-n[1],lambda:e[1]}],a=r[0].n*e[0]+r[1].n*e[1],s=r[0].lambda*e[0]+r[1].lambda*e[1];return-a/s}function IC(t,e){var n=e[0],r=e[1],a={x:r.x-n.x,y:r.y-n.y},s=H8([n.x,n.y],[a.x,a.y],[t.x,t.y]);return{x:n.x+s*a.x,y:n.y+s*a.y}}function U8(t,e){var n=IC(t,e),r={x:n.x-t.x,y:n.y-t.y};return $8(r)}var jC="djs-bendpoint",kC="djs-segment-dragger";function F8(t,e){var n=oa(e),r=t._container.getBoundingClientRect(),a;a={x:r.left,y:r.top};var s=t.viewbox();return{x:s.x+(n.x-a.x)/s.scale,y:s.y+(n.y-a.y)/s.scale}}function Wv(t,e,n){var r=F8(t,n),a=z8(e,r);return a}function Qv(t,e){var n=Rt("g");le(n).add(jC),Zt(t,n);var r=Rt("circle");yt(r,{cx:0,cy:0,r:4}),le(r).add("djs-visual"),Zt(n,r);var a=Rt("circle");return yt(a,{cx:0,cy:0,r:10}),le(a).add("djs-hit"),Zt(n,a),e&&le(n).add(e),n}function X8(t,e,n,r){var a=Rt("g");Zt(t,a);var s=18,u=6,l=11,f=q8(e,n,r),h=u+l,p=Rt("rect");yt(p,{x:-18/2,y:-6/2,width:s,height:u}),le(p).add("djs-visual"),Zt(a,p);var g=Rt("rect");return yt(g,{x:-f/2,y:-17/2,width:f,height:h}),le(g).add("djs-hit"),Zt(a,g),XD(a,r==="v"?90:0),a}function zC(t,e,n){var r=Rt("g"),a=Fv(e,n),s=Wi(e,n);return Zt(t,r),X8(r,e,n,s),le(r).add(kC),le(r).add(s==="h"?"horizontal":"vertical"),Br(r,a.x,a.y),r}function Jv(t){return Math.abs(Math.round(t*2/3))}function G8(t,e){var n=V8(t,e);return IC(t,n)}function q8(t,e,n){var r=e.x-t.x,a=e.y-t.y;return Jv(n==="h"?r:a)}function V8(t,e){for(var n=e.waypoints,r=1/0,a,s=0;s<n.length-1;s++){var u=n[s],l=n[s+1],f=U8(t,[u,l]);f<r&&(r=f,a=s)}return[n[a],n[a+1]]}function _0(t){return CSS.escape(t)}function $C(t,e,n,r,a){function s(v,w,M){var C=v.index,P=v.point,B,S,z,F,G,q;return C<=0||v.bendpoint?!1:(B=w[C-1],S=w[C],z=Fv(B,S),F=Wi(B,S),G=Math.abs(P.x-z.x),q=Math.abs(P.y-z.y),F&&G<=M&&q<=M)}function u(v,w){var M=v.waypoints,C,P,B,S;return w.index<=0||w.bendpoint||(C={start:M[w.index-1],end:M[w.index]},P=Wi(C.start,C.end),!P)?null:(P==="h"?B=C.end.x-C.start.x:B=C.end.y-C.start.y,S=Jv(B)/2,S)}function l(v,w){var M=w.waypoints,C=Wv(e,M,v),P;if(C)return P=u(w,C),s(C,M,P)?a.start(v,w,C.index):r.start(v,w,C.index,!C.bendpoint),!0}function f(v,w,M){qt.bind(v,w,function(C){n.triggerMouseEvent(w,C,M),C.stopPropagation()})}function h(v,w){var M=e.getLayer("overlays"),C=on('.djs-bendpoints[data-element-id="'+_0(v.id)+'"]',M);return!C&&w&&(C=Rt("g"),yt(C,{"data-element-id":v.id}),le(C).add("djs-bendpoints"),Zt(M,C),f(C,"mousedown",v),f(C,"click",v),f(C,"dblclick",v)),C}function p(v,w){return on('.djs-segment-dragger[data-segment-idx="'+v+'"]',w)}function g(v,w){w.waypoints.forEach(function(M,C){var P=Qv(v);Zt(v,P),Br(P,M.x,M.y)}),Qv(v,"floating")}function m(v,w){for(var M=w.waypoints,C,P,B,S=1;S<M.length;S++)C=M[S-1],P=M[S],Wi(C,P)&&(B=zC(v,C,P),yt(B,{"data-segment-idx":S}),f(B,"mousemove",w))}function _(v){nt($v("."+jC,v),function(w){We(w)})}function b(v){nt($v("."+kC,v),function(w){We(w)})}function A(v){var w=h(v);return w||(w=h(v,!0),g(w,v),m(w,v)),w}function R(v){var w=h(v);w&&(b(w),_(w),m(w,v),g(w,v))}function T(v,w){var M=on(".floating",v),C=w.point;M&&Br(M,C.x,C.y)}function E(v,w,M){var C=p(w.index,v),P=M[w.index-1],B=M[w.index],S=w.point,z=Fv(P,B),F=Wi(P,B),G,q;C&&(G=Y8(C),q={x:S.x-z.x,y:S.y-z.y},F==="v"&&(q={x:q.y,y:q.x}),Br(G,q.x,q.y))}t.on("connection.changed",function(v){R(v.element)}),t.on("connection.remove",function(v){var w=h(v.element);w&&We(w)}),t.on("element.marker.update",function(v){var w=v.element,M;w.waypoints&&(M=A(w),v.add?le(M).add(v.marker):le(M).remove(v.marker))}),t.on("element.mousemove",function(v){var w=v.element,M=w.waypoints,C,P;if(M){if(C=h(w,!0),P=Wv(e,M,v.originalEvent),!P)return;T(C,P),P.bendpoint||E(C,P,M)}}),t.on("element.mousedown",function(v){if(ca(v)){var w=v.originalEvent,M=v.element;if(M.waypoints)return l(w,M)}}),t.on("selection.changed",function(v){var w=v.newSelection,M=w[0];M&&M.waypoints&&A(M)}),t.on("element.hover",function(v){var w=v.element;w.waypoints&&(A(w),n.registerEvent(v.gfx,"mousemove","element.mousemove"))}),t.on("element.out",function(v){n.unregisterEvent(v.gfx,"mousemove","element.mousemove")}),t.on("element.updateId",function(v){var w=v.element,M=v.newId;if(w.waypoints){var C=h(w);C&&yt(C,{"data-element-id":M})}}),this.addHandles=A,this.updateHandles=R,this.getBendpointsContainer=h,this.getSegmentDragger=p}$C.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];function Y8(t){return on(".djs-visual",t)}var Lw=Math.round,qa="reconnectStart",Va="reconnectEnd",Bc="updateWaypoints";function x0(t,e,n,r,a,s){this._injector=t,this.start=function(u,l,f,h){var p=n.getGraphics(l),g=l.source,m=l.target,_=l.waypoints,b;!h&&f===0?b=qa:!h&&f===_.length-1?b=Va:b=Bc;var A=b===Bc?"connection.updateWaypoints":"connection.reconnect",R=a.allowed(A,{connection:l,source:g,target:m});R===!1&&(R=a.allowed(A,{connection:l,source:m,target:g})),R!==!1&&r.init(u,"bendpoint.move",{data:{connection:l,connectionGfx:p,context:{allowed:R,bendpointIndex:f,connection:l,source:g,target:m,insert:h,type:b}}})},e.on("bendpoint.move.hover",function(u){var l=u.context,f=l.connection,h=f.source,p=f.target,g=u.hover,m=l.type;l.hover=g;var _;if(g){var b=m===Bc?"connection.updateWaypoints":"connection.reconnect";if(_=l.allowed=a.allowed(b,{connection:f,source:m===qa?g:h,target:m===Va?g:p}),_){l.source=m===qa?g:h,l.target=m===Va?g:p;return}_===!1&&(_=l.allowed=a.allowed(b,{connection:f,source:m===Va?g:p,target:m===qa?g:h})),_&&(l.source=m===Va?g:p,l.target=m===qa?g:h)}}),e.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(u){var l=u.context,f=l.type;l.hover=null,l.source=null,l.target=null,f!==Bc&&(l.allowed=!1)}),e.on("bendpoint.move.end",function(u){var l=u.context,f=l.allowed,h=l.bendpointIndex,p=l.connection,g=l.insert,m=p.waypoints.slice(),_=l.source,b=l.target,A=l.type,R=l.hints||{},T={x:Lw(u.x),y:Lw(u.y)};if(!f)return!1;A===Bc?(g?m.splice(h,0,T):m[h]=T,R.bendpointMove={insert:g,bendpointIndex:h},m=this.cropWaypoints(p,m),s.updateWaypoints(p,MD(m),R)):(A===qa?(R.docking="source",bh(l)&&(R.docking="target",R.newWaypoints=m.reverse())):A===Va&&(R.docking="target",bh(l)&&(R.docking="source",R.newWaypoints=m.reverse())),s.reconnect(p,_,b,T,R))},this)}x0.$inject=["injector","eventBus","canvas","dragging","rules","modeling"];x0.prototype.cropWaypoints=function(t,e){var n=this._injector.get("connectionDocking",!1);if(!n)return e;var r=t.waypoints;return t.waypoints=e,t.waypoints=n.getCroppedWaypoints(t),e=t.waypoints,t.waypoints=r,e};function bh(t){var e=t.hover,n=t.source,r=t.target,a=t.type;if(a===qa)return e&&r&&e===r&&n!==r;if(a===Va)return e&&n&&e===n&&n!==r}var K8="reconnectStart",Z8="reconnectEnd",Pw="updateWaypoints",Ic="connect-ok",rd="connect-not-ok",Bw="connect-hover",Iw="djs-updating",jw="djs-dragging",kw=1100;function HC(t,e,n,r){this._injector=e;var a=e.get("connectionPreview",!1);n.on("bendpoint.move.start",function(s){var u=s.context,l=u.bendpointIndex,f=u.connection,h=u.insert,p=f.waypoints,g=p.slice();u.waypoints=p,h&&g.splice(l,0,{x:s.x,y:s.y}),f.waypoints=g;var m=u.draggerGfx=Qv(r.getLayer("overlays"));le(m).add("djs-dragging"),r.addMarker(f,jw),r.addMarker(f,Iw)}),n.on("bendpoint.move.hover",function(s){var u=s.context,l=u.allowed,f=u.hover,h=u.type;if(f){if(r.addMarker(f,Bw),h===Pw)return;l?(r.removeMarker(f,rd),r.addMarker(f,Ic)):l===!1&&(r.removeMarker(f,Ic),r.addMarker(f,rd))}}),n.on(["bendpoint.move.out","bendpoint.move.cleanup"],kw,function(s){var u=s.context,l=u.hover,f=u.target;l&&(r.removeMarker(l,Bw),r.removeMarker(l,f?Ic:rd))}),n.on("bendpoint.move.move",function(s){var u=s.context,l=u.allowed,f=u.bendpointIndex,h=u.draggerGfx,p=u.hover,g=u.type,m=u.connection,_=m.source,b=m.target,A=m.waypoints.slice(),R={x:s.x,y:s.y},T=u.hints||{},E={};a&&(T.connectionStart&&(E.connectionStart=T.connectionStart),T.connectionEnd&&(E.connectionEnd=T.connectionEnd),g===K8?bh(u)?(E.connectionEnd=E.connectionEnd||R,E.source=b,E.target=p||_,A=A.reverse()):(E.connectionStart=E.connectionStart||R,E.source=p||_,E.target=b):g===Z8?bh(u)?(E.connectionStart=E.connectionStart||R,E.source=p||b,E.target=_,A=A.reverse()):(E.connectionEnd=E.connectionEnd||R,E.source=_,E.target=p||b):(E.noCropping=!0,E.noLayout=!0,A[f]=R),g===Pw&&(A=t.cropWaypoints(m,A)),E.waypoints=A,a.drawPreview(u,l,E)),Br(h,s.x,s.y)},this),n.on(["bendpoint.move.end","bendpoint.move.cancel"],kw,function(s){var u=s.context,l=u.connection,f=u.draggerGfx,h=u.hover,p=u.target,g=u.waypoints;l.waypoints=g,We(f),r.removeMarker(l,Iw),r.removeMarker(l,jw),h&&(r.removeMarker(h,Ic),r.removeMarker(h,p?Ic:rd)),a&&a.cleanUp(u)})}HC.$inject=["bendpointMove","injector","eventBus","canvas"];var zw="connect-hover",$w="djs-updating";function Hw(t,e,n){return E0(t,e,t[e]+n)}function E0(t,e,n){return{x:e==="x"?n:t.x,y:e==="y"?n:t.y}}function W8(t,e,n,r){var a=Math.max(e[r],n[r]),s=Math.min(e[r],n[r]),u=20,l=Math.min(Math.max(s+u,t[r]),a-u);return E0(e,r,l)}function UC(t){return t==="x"?"y":"x"}function Uw(t,e,n){var r,a;return t.original?t.original:(r=ye(e),a=UC(n),E0(t,a,r[a]))}function FC(t,e,n,r,a,s){var u=t.get("connectionDocking",!1);this.start=function(g,m,_){var b,A=n.getGraphics(m),R=_-1,T=_,E=m.waypoints,v=E[R],w=E[T],M=Wv(n,E,g),C,P,B;C=Wi(v,w),C&&(P=C==="v"?"x":"y",R===0&&(v=Uw(v,m.source,P)),T===E.length-1&&(w=Uw(w,m.target,P)),M?B=M.point:B={x:(v.x+w.x)/2,y:(v.y+w.y)/2},b={connection:m,segmentStartIndex:R,segmentEndIndex:T,segmentStart:v,segmentEnd:w,axis:P,dragPosition:B},r.init(g,B,"connectionSegment.move",{cursor:P==="x"?"resize-ew":"resize-ns",data:{connection:m,connectionGfx:A,context:b}}))};function l(g,m){if(!u)return m;var _=g.waypoints,b;return g.waypoints=m,b=u.getCroppedWaypoints(g),g.waypoints=_,b}function f(g){a.update("connection",g.connection,g.connectionGfx)}function h(g,m,_){var b=g.newWaypoints,A=g.segmentStartIndex+m,R=b[A],T=g.segmentEndIndex+m,E=b[T],v=UC(g.axis),w=W8(_,R,E,v);Br(g.draggerGfx,w.x,w.y)}function p(g,m){var _=0,b=g.filter(function(A,R){return Dm(g[R-1],g[R+1],A)?(_=R<=m?_-1:_,!1):!0});return{waypoints:b,segmentOffset:_}}e.on("connectionSegment.move.start",function(g){var m=g.context,_=g.connection,b=n.getLayer("overlays");m.originalWaypoints=_.waypoints.slice(),m.draggerGfx=zC(b,m.segmentStart,m.segmentEnd),le(m.draggerGfx).add("djs-dragging"),n.addMarker(_,$w)}),e.on("connectionSegment.move.move",function(g){var m=g.context,_=m.connection,b=m.segmentStartIndex,A=m.segmentEndIndex,R=m.segmentStart,T=m.segmentEnd,E=m.axis,v=m.originalWaypoints.slice(),w=Hw(R,E,g["d"+E]),M=Hw(T,E,g["d"+E]),C=v.length,P=0;v[b]=w,v[A]=M;var B,S;b<2&&(B=zr(_.source,w),b===1?B==="intersect"&&(v.shift(),v[0]=w,P--):B!=="intersect"&&(v.unshift(R),P++)),A>C-3&&(S=zr(_.target,M),A===C-2?S==="intersect"&&(v.pop(),v[v.length-1]=M):S!=="intersect"&&v.push(T)),m.newWaypoints=_.waypoints=l(_,v),h(m,P,g),m.newSegmentStartIndex=b+P,f(g)}),e.on("connectionSegment.move.hover",function(g){g.context.hover=g.hover,n.addMarker(g.hover,zw)}),e.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(g){var m=g.context.hover;m&&n.removeMarker(m,zw)}),e.on("connectionSegment.move.cleanup",function(g){var m=g.context,_=m.connection;m.draggerGfx&&We(m.draggerGfx),n.removeMarker(_,$w)}),e.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(g){var m=g.context,_=m.connection;_.waypoints=m.originalWaypoints,f(g)}),e.on("connectionSegment.move.end",function(g){var m=g.context,_=m.connection,b=m.newWaypoints,A=m.newSegmentStartIndex;b=b.map(function(M){return{original:M.original,x:Math.round(M.x),y:Math.round(M.y)}});var R=p(b,A),T=R.waypoints,E=l(_,T),v=R.segmentOffset,w={segmentMove:{segmentStartIndex:m.segmentStartIndex,newSegmentStartIndex:A+v}};s.updateWaypoints(_,E,w)})}FC.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var Q8=Math.abs,Fw=Math.round;function J8(t,e,n){n=n===void 0?10:n;var r,a;for(r=0;r<e.length;r++)if(a=e[r],Q8(a-t)<=n)return a}function t6(t){return{x:t.x,y:t.y}}function e6(t){return{x:t.x+t.width,y:t.y+t.height}}function Qo(t,e){return!t||isNaN(t.x)||isNaN(t.y)?e:{x:Fw(t.x+t.width/2),y:Fw(t.y+t.height/2)}}function Jc(t,e){var n=t.snapped;return n?typeof e=="string"?n[e]:n.x&&n.y:!1}function dr(t,e,n){if(typeof e!="string")throw new Error("axis must be in [x, y]");if(typeof n!="number"&&n!==!1)throw new Error("value must be Number or false");var r,a=t[e],s=t.snapped=t.snapped||{};return n===!1?s[e]=!1:(s[e]=!0,r=n-a,t[e]+=r,t["d"+e]+=r),a}function XC(t){return t.children||[]}var n6=Math.abs,Xw=Math.round,fv=10;function GC(t){function e(s,u){if(re(s)){for(var l=s.length;l--;)if(n6(s[l]-u)<=fv)return s[l]}else{s=+s;var f=u%s;if(f<fv)return u-f;if(f>s-fv)return u-f+s}return u}function n(s,u){if(s.waypoints)return G8(u,s);if(s.width)return{x:Xw(s.width/2+s.x),y:Xw(s.height/2+s.y)}}function r(s){var u=s.context,l=u.snapPoints,f=u.connection,h=f.waypoints,p=u.segmentStart,g=u.segmentStartIndex,m=u.segmentEnd,_=u.segmentEndIndex,b=u.axis;if(l)return l;var A=[h[g-1],p,m,h[_+1]];return g<2&&A.unshift(n(f.source,s)),_>h.length-3&&A.unshift(n(f.target,s)),u.snapPoints=l={horizontal:[],vertical:[]},nt(A,function(R){R&&(R=R.original||R,b==="y"&&l.horizontal.push(R.y),b==="x"&&l.vertical.push(R.x))}),l}t.on("connectionSegment.move.move",1500,function(s){var u=r(s),l=s.x,f=s.y,h,p;if(u){h=e(u.vertical,l),p=e(u.horizontal,f);var g=l-h,m=f-p;ct(s,{dx:s.dx-g,dy:s.dy-m,x:h,y:p}),(g||u.vertical.indexOf(l)!==-1)&&dr(s,"x",h),(m||u.horizontal.indexOf(f)!==-1)&&dr(s,"y",p)}});function a(s){var u=s.snapPoints,l=s.connection.waypoints,f=s.bendpointIndex;if(u)return u;var h=[l[f-1],l[f+1]];return s.snapPoints=u={horizontal:[],vertical:[]},nt(h,function(p){p&&(p=p.original||p,u.horizontal.push(p.y),u.vertical.push(p.x))}),u}t.on(["connect.hover","connect.move","connect.end"],1500,function(s){var u=s.context,l=u.hover,f=l&&n(l,s);!$e(l)||!f||!f.x||!f.y||(dr(s,"x",f.x),dr(s,"y",f.y))}),t.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(s){var u=s.context,l=a(u),f=u.hover,h=f&&n(f,s),p=s.x,g=s.y,m,_;if(l){m=e(h?l.vertical.concat([h.x]):l.vertical,p),_=e(h?l.horizontal.concat([h.y]):l.horizontal,g);var b=p-m,A=g-_;ct(s,{dx:s.dx-b,dy:s.dy-A,x:s.x-b,y:s.y-A}),(b||l.vertical.indexOf(p)!==-1)&&dr(s,"x",m),(A||l.horizontal.indexOf(g)!==-1)&&dr(s,"y",_)}})}GC.$inject=["eventBus"];const r6={__depends__:[fo,Ci],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",$C],bendpointMove:["type",x0],bendpointMovePreview:["type",HC],connectionSegmentMove:["type",FC],bendpointSnapping:["type",GC]};function qC(t,e,n,r){function a(u,l){return r.allowed("connection.create",{source:u,target:l})}function s(u,l){return a(l,u)}t.on("connect.hover",function(u){var l=u.context,f=l.start,h=u.hover,p;if(l.hover=h,p=l.canExecute=a(f,h),!fh(p)){if(p!==!1){l.source=f,l.target=h;return}p=l.canExecute=s(f,h),!fh(p)&&p!==!1&&(l.source=h,l.target=f)}}),t.on(["connect.out","connect.cleanup"],function(u){var l=u.context;l.hover=null,l.source=null,l.target=null,l.canExecute=!1}),t.on("connect.end",function(u){var l=u.context,f=l.canExecute,h=l.connectionStart,p={x:u.x,y:u.y},g=l.source,m=l.target;if(!f)return!1;var _=null,b={connectionStart:tm(l)?p:h,connectionEnd:tm(l)?h:p};An(f)&&(_=f),l.connection=n.connect(g,m,_,b)}),this.start=function(u,l,f,h){An(f)||(h=f,f=ye(l)),e.init(u,"connect",{autoActivate:h,data:{shape:l,context:{start:l,connectionStart:f}}})}}qC.$inject=["eventBus","dragging","modeling","rules"];function tm(t){var e=t.hover,n=t.source,r=t.target;return e&&n&&e===n&&n!==r}var i6=1100,o6=900,Gw="connect-ok",qw="connect-not-ok";function VC(t,e,n){var r=t.get("connectionPreview",!1);r&&e.on("connect.move",function(a){var s=a.context,u=s.canExecute,l=s.hover,f=s.source,h=s.start,p=s.startPosition,g=s.target,m=s.connectionStart||p,_=s.connectionEnd||{x:a.x,y:a.y},b=m,A=_;tm(s)&&(b=_,A=m),r.drawPreview(s,u,{source:f||h,target:g||l,connectionStart:b,connectionEnd:A})}),e.on("connect.hover",o6,function(a){var s=a.context,u=a.hover,l=s.canExecute;l!==null&&n.addMarker(u,l?Gw:qw)}),e.on(["connect.out","connect.cleanup"],i6,function(a){var s=a.hover;s&&(n.removeMarker(s,Gw),n.removeMarker(s,qw))}),r&&e.on("connect.cleanup",function(a){r.cleanUp(a.context)})}VC.$inject=["injector","eventBus","canvas"];const b0={__depends__:[lo,Ci,fo],__init__:["connectPreview"],connect:["type",qC],connectPreview:["type",VC]};var a6="djs-dragger";function ho(t,e,n,r){this._canvas=e,this._graphicsFactory=n,this._elementFactory=r,this._connectionDocking=t.get("connectionDocking",!1),this._layouter=t.get("layouter",!1)}ho.$inject=["injector","canvas","graphicsFactory","elementFactory"];ho.prototype.drawPreview=function(t,e,n){n=n||{};var r=t.connectionPreviewGfx,a=t.getConnection,s=n.source,u=n.target,l=n.waypoints,f=n.connectionStart,h=n.connectionEnd,p=n.noLayout,g=n.noCropping,m=n.noNoop,_,b=this;if(r||(r=t.connectionPreviewGfx=this.createConnectionPreviewGfx()),Mm(r),a||(a=t.getConnection=s6(function(A,R,T){return b.getConnection(A,R,T)})),e&&(_=a(e,s,u)),!_){!m&&this.drawNoopPreview(r,n);return}_.waypoints=l||[],this._layouter&&!p&&(_.waypoints=this._layouter.layoutConnection(_,{source:s,target:u,connectionStart:f,connectionEnd:h,waypoints:n.waypoints||_.waypoints})),(!_.waypoints||!_.waypoints.length)&&(_.waypoints=[s?ye(s):f,u?ye(u):h]),this._connectionDocking&&(s||u)&&!g&&(_.waypoints=this._connectionDocking.getCroppedWaypoints(_,s,u)),this._graphicsFactory.drawConnection(r,_,{stroke:"var(--element-dragger-color)"})};ho.prototype.drawNoopPreview=function(t,e){var n=e.source,r=e.target,a=e.connectionStart||ye(n),s=e.connectionEnd||ye(r),u=this.cropWaypoints(a,s,n,r),l=this.createNoopConnection(u[0],u[1]);Zt(t,l)};ho.prototype.cropWaypoints=function(t,e,n,r){var a=this._graphicsFactory,s=n&&a.getShapePath(n),u=r&&a.getShapePath(r),l=a.getConnectionPath({waypoints:[t,e]});return t=n&&Xv(s,l,!0)||t,e=r&&Xv(u,l,!1)||e,[t,e]};ho.prototype.cleanUp=function(t){t&&t.connectionPreviewGfx&&We(t.connectionPreviewGfx)};ho.prototype.getConnection=function(t){var e=u6(t);return this._elementFactory.createConnection(e)};ho.prototype.createConnectionPreviewGfx=function(){var t=Rt("g");return yt(t,{pointerEvents:"none"}),le(t).add(a6),Zt(this._canvas.getActiveLayer(),t),t};ho.prototype.createNoopConnection=function(t,e){return Uh([t,e],{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"})};function s6(t){var e={};return function(n){var r=JSON.stringify(n),a=e[r];return a||(a=e[r]=t.apply(null,arguments)),a}}function u6(t){return An(t)?t:{}}const c6={__init__:["connectionPreview"],connectionPreview:["type",ho]};var Vw=Math.min,Yw=Math.max;function dv(t){t.preventDefault()}function Yc(t){t.stopPropagation()}function l6(t){return t.nodeType===Node.TEXT_NODE}function f6(t){return[].slice.call(t)}function ii(t){this.container=t.container,this.parent=fn('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=on("[contenteditable]",this.parent),this.keyHandler=t.keyHandler||function(){},this.resizeHandler=t.resizeHandler||function(){},this.autoResize=Gn(this.autoResize,this),this.handlePaste=Gn(this.handlePaste,this)}ii.prototype.create=function(t,e,n,r){var a=this,s=this.parent,u=this.content,l=this.container;r=this.options=r||{},e=this.style=e||{};var f=eo(e,["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);ct(s.style,{width:t.width+"px",height:t.height+"px",maxWidth:t.maxWidth+"px",maxHeight:t.maxHeight+"px",minWidth:t.minWidth+"px",minHeight:t.minHeight+"px",left:t.x+"px",top:t.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},f);var h=eo(e,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return ct(u.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},h),r.centerVertically&&ct(u.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},h),u.innerText=n,qt.bind(u,"keydown",this.keyHandler),qt.bind(u,"mousedown",Yc),qt.bind(u,"paste",a.handlePaste),r.autoResize&&qt.bind(u,"input",this.autoResize),r.resizable&&this.resizable(e),l.appendChild(s),this.setSelection(u.lastChild,u.lastChild&&u.lastChild.length),s};ii.prototype.handlePaste=function(t){var e=this.options,n=this.style;t.preventDefault();var r;if(t.clipboardData?r=t.clipboardData.getData("text/plain"):r=window.clipboardData.getData("Text"),this.insertText(r),e.autoResize){var a=this.autoResize(n);a&&this.resizeHandler(a)}};ii.prototype.insertText=function(t){t=d6(t);var e=document.execCommand("insertText",!1,t);e||this._insertTextIE(t)};ii.prototype._insertTextIE=function(t){var e=this.getSelection(),n=e.startContainer,r=e.endContainer,a=e.startOffset,s=e.endOffset,u=e.commonAncestorContainer,l=f6(u.childNodes),f,h;if(l6(u)){var p=n.textContent;n.textContent=p.substring(0,a)+t+p.substring(s),f=n,h=a+t.length}else if(n===this.content&&r===this.content){var g=document.createTextNode(t);this.content.insertBefore(g,l[a]),f=g,h=g.textContent.length}else{var m=l.indexOf(n),_=l.indexOf(r);l.forEach(function(b,A){A===m?b.textContent=n.textContent.substring(0,a)+t+r.textContent.substring(s):A>m&&A<=_&&Si(b)}),f=n,h=a+t.length}f&&h!==void 0&&setTimeout(function(){self.setSelection(f,h)})};ii.prototype.autoResize=function(){var t=this.parent,e=this.content,n=parseInt(this.style.fontSize)||12;if(e.scrollHeight>t.offsetHeight||e.scrollHeight<t.offsetHeight-n){var r=t.getBoundingClientRect(),a=e.scrollHeight;t.style.height=a+"px",this.resizeHandler({width:r.width,height:r.height,dx:0,dy:a-r.height})}};ii.prototype.resizable=function(){var t=this,e=this.parent,n=this.resizeHandle,r=parseInt(this.style.minWidth)||0,a=parseInt(this.style.minHeight)||0,s=parseInt(this.style.maxWidth)||1/0,u=parseInt(this.style.maxHeight)||1/0;if(!n){n=this.resizeHandle=fn('<div class="djs-direct-editing-resize-handle"></div>');var l,f,h,p,g=function(b){dv(b),Yc(b),l=b.clientX,f=b.clientY;var A=e.getBoundingClientRect();h=A.width,p=A.height,qt.bind(document,"mousemove",m),qt.bind(document,"mouseup",_)},m=function(b){dv(b),Yc(b);var A=Vw(Yw(h+b.clientX-l,r),s),R=Vw(Yw(p+b.clientY-f,a),u);e.style.width=A+"px",e.style.height=R+"px",t.resizeHandler({width:h,height:p,dx:b.clientX-l,dy:b.clientY-f})},_=function(b){dv(b),Yc(b),qt.unbind(document,"mousemove",m,!1),qt.unbind(document,"mouseup",_,!1)};qt.bind(n,"mousedown",g)}ct(n.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),e.appendChild(n)};ii.prototype.destroy=function(){var t=this.parent,e=this.content,n=this.resizeHandle;e.innerText="",t.removeAttribute("style"),e.removeAttribute("style"),qt.unbind(e,"keydown",this.keyHandler),qt.unbind(e,"mousedown",Yc),qt.unbind(e,"input",this.autoResize),qt.unbind(e,"paste",this.handlePaste),n&&(n.removeAttribute("style"),Si(n)),Si(t)};ii.prototype.getValue=function(){return this.content.innerText.trim()};ii.prototype.getSelection=function(){var t=window.getSelection(),e=t.getRangeAt(0);return e};ii.prototype.setSelection=function(t,e){var n=document.createRange();t===null?n.selectNodeContents(this.content):(n.setStart(t,e),n.setEnd(t,e));var r=window.getSelection();r.removeAllRanges(),r.addRange(n)};function d6(t){return t.replace(/\r\n|\r|\n/g,`
`)}function Fr(t,e){this._eventBus=t,this._providers=[],this._textbox=new ii({container:e.getContainer(),keyHandler:Gn(this._handleKey,this),resizeHandler:Gn(this._handleResize,this)})}Fr.$inject=["eventBus","canvas"];Fr.prototype.registerProvider=function(t){this._providers.push(t)};Fr.prototype.isActive=function(t){return!!(this._active&&(!t||this._active.element===t))};Fr.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())};Fr.prototype._fire=function(t,e){this._eventBus.fire("directEditing."+t,e||{active:this._active})};Fr.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0};Fr.prototype.complete=function(){var t=this._active;if(t){var e,n=t.context.bounds,r=this.$textbox.getBoundingClientRect(),a=this.getValue(),s=t.context.text;(a!==s||r.height!==n.height||r.width!==n.width)&&(e=this._textbox.container.getBoundingClientRect(),t.provider.update(t.element,a,t.context.text,{x:r.left-e.left,y:r.top-e.top,width:r.width,height:r.height})),this._fire("complete"),this.close()}};Fr.prototype.getValue=function(){return this._textbox.getValue()};Fr.prototype._handleKey=function(t){t.stopPropagation();var e=t.keyCode||t.charCode;if(e===27)return t.preventDefault(),this.cancel();if(e===13&&!t.shiftKey)return t.preventDefault(),this.complete()};Fr.prototype._handleResize=function(t){this._fire("resize",t)};Fr.prototype.activate=function(t){this.isActive()&&this.cancel();var e,n=Ie(this._providers,function(r){return(e=r.activate(t))?r:null});return e&&(this.$textbox=this._textbox.create(e.bounds,e.style,e.text,e.options),this._active={element:t,context:e,provider:n},e.options&&e.options.resizable&&(this.resizable=!0),this._fire("activate")),!!e};const YC={__depends__:[pl],__init__:["directEditing"],directEditing:["type",Fr]};var id=".entry",h6=1e3,Kw=12,p6=300;function qn(t,e,n,r){this._canvas=t,this._eventBus=n,this._overlays=r;var a=_n(e&&e.scale)?e.scale:{min:1,max:1.5};this._overlaysConfig={scale:a},this._current=null,this._init()}qn.$inject=["canvas","config.contextPad","eventBus","overlays"];qn.prototype._init=function(){var t=this;this._eventBus.on("selection.changed",function(e){var n=e.newSelection,r=n.length?n.length===1?n[0]:n:null;r?t.open(r,!0):t.close()}),this._eventBus.on("elements.changed",function(e){var n=e.elements,r=t._current;if(r){var a=r.target,s=zh(re(a)?a:[a],function(u){return KC(n,u)});s&&t.open(a,!0)}})};qn.prototype.registerProvider=function(t,e){e||(e=t,t=h6),this._eventBus.on("contextPad.getProviders",t,function(n){n.providers.push(e)})};qn.prototype.getEntries=function(t){var e=this._getProviders(),n=re(t)?"getMultiElementContextPadEntries":"getContextPadEntries",r={};return nt(e,function(a){if(En(a[n])){var s=a[n](t);En(s)?r=s(r):nt(s,function(u,l){r[l]=u})}}),r};qn.prototype.trigger=function(t,e,n){var r,a,s=e.delegateTarget||e.target;return s?(r=hr(s,"data-action"),a=e.originalEvent||e,t==="mouseover"?this._timeout=setTimeout(()=>{this._mouseout=this.triggerEntry(r,"hover",a,n)},p6):t==="mouseout"&&(clearTimeout(this._timeout),this._mouseout&&(this._mouseout(),this._mouseout=null)),this.triggerEntry(r,t,a,n)):e.preventDefault()};qn.prototype.triggerEntry=function(t,e,n,r){if(this.isShown()){var a=this._current.target,s=this._current.entries,u=s[t];if(u){var l=u.action;if(this._eventBus.fire("contextPad.trigger",{entry:u,event:n})!==!1){if(En(l)){if(e==="click")return l(n,a,r)}else if(l[e])return l[e](n,a,r);n.preventDefault()}}}};qn.prototype.open=function(t,e){!e&&this.isOpen(t)||(this.close(),this._updateAndOpen(t))};qn.prototype._getProviders=function(){var t=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(t),t.providers};qn.prototype._updateAndOpen=function(t){var e=this.getEntries(t),n=this.getPad(t),r=n.html,a;nt(e,function(s,u){var l=s.group||"default",f=fn(s.html||'<div class="entry" draggable="true"></div>'),h;hr(f,"data-action",u),h=on("[data-group="+_0(l)+"]",r),h||(h=fn('<div class="group"></div>'),hr(h,"data-group",l),r.appendChild(h)),h.appendChild(f),s.className&&g6(f,s.className),s.title&&hr(f,"title",s.title),s.imageUrl&&(a=fn("<img>"),hr(a,"src",s.imageUrl),a.style.width="100%",a.style.height="100%",f.appendChild(a))}),yr(r).add("open"),this._current={target:t,entries:e,pad:n},this._eventBus.fire("contextPad.open",{current:this._current})};qn.prototype.getPad=function(t){if(this.isOpen())return this._current.pad;var e=this,n=this._overlays,r=fn('<div class="djs-context-pad"></div>'),a=this._getPosition(t),s=ct({html:r},this._overlaysConfig,a);ti.bind(r,id,"click",function(f){e.trigger("click",f)}),ti.bind(r,id,"dragstart",function(f){e.trigger("dragstart",f)}),ti.bind(r,id,"mouseover",function(f){e.trigger("mouseover",f)}),ti.bind(r,id,"mouseout",function(f){e.trigger("mouseout",f)}),qt.bind(r,"mousedown",function(f){f.stopPropagation()});var u=this._canvas.getRootElement();this._overlayId=n.add(u,"context-pad",s);var l=n.get(this._overlayId);return this._eventBus.fire("contextPad.create",{target:t,pad:l}),l};qn.prototype.close=function(){this.isOpen()&&(clearTimeout(this._timeout),this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)};qn.prototype.isOpen=function(t){var e=this._current;if(!e)return!1;if(!t)return!0;var n=e.target;return re(t)!==re(n)?!1:re(t)?t.length===n.length&&al(t,function(r){return KC(n,r)}):n===t};qn.prototype.isShown=function(){return this.isOpen()&&this._overlays.isShown()};qn.prototype._getPosition=function(t){t=$e(t)?y6(t):t;var e=re(t)?t:[t],n=xn(e);return{position:{left:n.x+n.width+Kw,top:n.y-Kw/2}}};function g6(t,e){var n=yr(t);e=re(e)?e:e.split(/\s+/g),e.forEach(function(r){n.add(r)})}function KC(t,e){return t.indexOf(e)!==-1}function y6(t){return t.waypoints[t.waypoints.length-1]}const v6={__depends__:[pl,bC],contextPad:["type",qn]};var m6=["marker-start","marker-mid","marker-end"],_6=["circle","ellipse","line","path","polygon","polyline","path","rect"];function fa(t,e,n,r){this._elementRegistry=t,this._canvas=n,this._styles=r,this._clonedMarkers={};var a=this;e.on("drag.cleanup",function(){a.cleanUp()})}fa.$inject=["elementRegistry","eventBus","canvas","styles"];fa.prototype.cleanUp=function(){var t=this;nt(t._clonedMarkers,function(e){We(e)}),t._clonedMarkers={}};fa.prototype.getGfx=function(t){return this._elementRegistry.getGraphics(t)};fa.prototype.addDragger=function(t,e,n,r="djs-dragger"){n=n||this.getGfx(t);var a=r2(n),s=n.getBoundingClientRect();return this._cloneMarkers(gh(a),r),yt(a,this._styles.cls(r,[],{x:s.top,y:s.left})),Zt(e,a),yt(a,"data-preview-support-element-id",t.id),a};fa.prototype.addFrame=function(t,e){var n=Rt("rect",{class:"djs-resize-overlay",width:t.width,height:t.height,x:t.x,y:t.y});return Zt(e,n),yt(n,"data-preview-support-element-id",t.id),n};fa.prototype._cloneMarkers=function(t,e="djs-dragger"){var n=this;if(t.childNodes)for(var r=0;r<t.childNodes.length;r++)n._cloneMarkers(t.childNodes[r],e);w6(t)&&m6.forEach(function(a){if(yt(t,a)){var s=x6(t,a,n._canvas.getContainer());n._cloneMarker(t,s,a,e)}})};fa.prototype._cloneMarker=function(t,e,n,r="djs-dragger"){var a=e.id+"-"+r,s=this._clonedMarkers[a];if(!s){s=r2(e);var u=a+"-clone";s.id=u,le(s).add(r),this._clonedMarkers[a]=s;var l=on("defs",this._canvas._svg);l||(l=Rt("defs"),Zt(this._canvas._svg,l)),Zt(l,s)}var f=b6(this._clonedMarkers[a].id);yt(t,n,f)};function x6(t,e,n){var r=E6(yt(t,e));return on("marker#"+r,n||document)}function E6(t){return t.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]}function b6(t){return"url(#"+t+")"}function w6(t){return _6.indexOf(t.nodeName)!==-1}const gl={__init__:["previewSupport"],previewSupport:["type",fa]};var S6="drop-ok",Zw="drop-not-ok",Ww="attach-ok",Qw="new-parent",Jw="create",T6=2e3;function ZC(t,e,n,r,a){function s(f,h,p,g,m){if(!h)return!1;f=an(f,function(E){var v=E.labelTarget;return!E.parent&&!(vr(E)&&f.indexOf(v)!==-1)});var _=Ie(f,function(E){return!$e(E)}),b=!1,A=!1,R=!1;eS(f)&&(b=a.allowed("shape.attach",{position:p,shape:_,target:h})),b||(eS(f)?R=a.allowed("shape.create",{position:p,shape:_,source:g,target:h}):R=a.allowed("elements.create",{elements:f,position:p,target:h}));var T=m.connectionTarget;return R||b?(_&&g&&(A=a.allowed("connection.create",{source:T===g?_:g,target:T===g?g:_,hints:{targetParent:h,targetAttach:b}})),{attach:b,connect:A}):R===null||b===null?null:!1}function u(f,h){[Ww,S6,Zw,Qw].forEach(function(p){p===h?t.addMarker(f,p):t.removeMarker(f,p)})}n.on(["create.move","create.hover"],function(f){var h=f.context,p=h.elements,g=f.hover,m=h.source,_=h.hints||{};if(!g){h.canExecute=!1,h.target=null;return}tS(f);var b={x:f.x,y:f.y},A=h.canExecute=g&&s(p,g,b,m,_);g&&A!==null&&(h.target=g,A&&A.attach?u(g,Ww):u(g,A?Qw:Zw))}),n.on(["create.end","create.out","create.cleanup"],function(f){var h=f.hover;h&&u(h,null)}),n.on("create.end",function(f){var h=f.context,p=h.source,g=h.shape,m=h.elements,_=h.target,b=h.canExecute,A=b&&b.attach,R=b&&b.connect,T=h.hints||{};if(b===!1||!_)return!1;tS(f);var E={x:f.x,y:f.y};R?g=r.appendShape(p,g,E,_,{attach:A,connection:R===!0?{}:R,connectionTarget:T.connectionTarget}):(m=r.createElements(m,E,_,ct({},T,{attach:A})),g=Ie(m,function(v){return!$e(v)})),ct(h,{elements:m,shape:g}),ct(f,{elements:m,shape:g})});function l(){var f=e.context();f&&f.prefix===Jw&&e.cancel()}n.on("create.init",function(){n.on("elements.changed",l),n.once(["create.cancel","create.end"],T6,function(){n.off("elements.changed",l)})}),this.start=function(f,h,p){re(h)||(h=[h]);var g=Ie(h,function(b){return!$e(b)});if(g){p=ct({elements:h,hints:{},shape:g},p||{}),nt(h,function(b){Vt(b.x)||(b.x=0),Vt(b.y)||(b.y=0)});var m=an(h,function(b){return!b.hidden}),_=xn(m);nt(h,function(b){$e(b)&&(b.waypoints=Mn(b.waypoints,function(A){return{x:A.x-_.x-_.width/2,y:A.y-_.y-_.height/2}})),ct(b,{x:b.x-_.x-_.width/2,y:b.y-_.y-_.height/2})}),e.init(f,Jw,{cursor:"grabbing",autoActivate:!0,data:{shape:g,elements:h,context:p}})}}}ZC.$inject=["canvas","dragging","eventBus","modeling","rules"];function tS(t){var e=t.context,n=e.createConstraints;n&&(n.left&&(t.x=Math.max(t.x,n.left)),n.right&&(t.x=Math.min(t.x,n.right)),n.top&&(t.y=Math.max(t.y,n.top)),n.bottom&&(t.y=Math.min(t.y,n.bottom)))}function eS(t){return t&&t.length===1&&!$e(t[0])}var C6=750;function WC(t,e,n,r,a){function s(u){var l=Rt("g");yt(l,a.cls("djs-drag-group",["no-events"]));var f=Rt("g");return u.forEach(function(h){var p;h.hidden||(h.waypoints?(p=n._createContainer("connection",f),n.drawConnection(gh(p),h)):(p=n._createContainer("shape",f),n.drawShape(gh(p),h),Br(p,h.x,h.y)),r.addDragger(h,l,p))}),l}e.on("create.move",C6,function(u){var l=u.hover,f=u.context,h=f.elements,p=f.dragGroup;p||(p=f.dragGroup=s(h));var g;l?(p.parentNode||(g=t.getActiveLayer(),Zt(g,p)),Br(p,u.x,u.y)):We(p)}),e.on("create.cleanup",function(u){var l=u.context,f=l.dragGroup;f&&We(f)})}WC.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];const rp={__depends__:[fo,gl,Ci,lo],__init__:["create","createPreview"],create:["type",ZC],createPreview:["type",WC]};function w0(t,e,n,r,a,s,u,l,f,h,p){t=t||{},u.registerProvider(this),this._connect=r,this._create=a,this._elementFactory=s,this._contextPad=u,this._modeling=l,this._rules=f,this._translate=h,this._popupMenu=p,t.autoPlace!==!1&&(this._autoPlace=e.get("autoPlace",!1)),n.on("create.end",250,function(g){let m=g.context,_=m.shape;if(!Wc(g)||!u.isOpen(_))return;let b=u.getEntries(_);b.replace&&b.replace.action.click(g,_)})}w0.$inject=["config.contextPad","injector","eventBus","connect","create","elementFactory","contextPad","modeling","rules","translate","popupMenu"];w0.prototype.getContextPadEntries=function(t){const{_rules:e,_modeling:n,_translate:r,_connect:a,_elementFactory:s,_contextPad:u,_autoPlace:l,_create:f,_popupMenu:h}=this;let p={};if(t.type==="label")return p;return m(p),t.type==="dcr:Event"?(E(p),v(p),b(p)):t.type==="dcr:Relation"?R(p):t.type==="dcr:Nesting"?(E(p),A(p)):t.type==="dcr:SubProcess"&&(E(p),b(p)),p;function g(){n.removeElements([t])}function m(M){let C=e.allowed("elements.delete",{elements:[t]});re(C)&&(C=C[0]===t),C&&ct(M,{delete:{group:"edit",className:"bpmn-icon-trash",title:r("Remove"),action:{click:g}}})}function _(M){var C=5,P=u.getPad(M).html,B=P.getBoundingClientRect(),S={x:B.left,y:B.bottom+C};return S}function b(M){ct(M,{"dcr-replace":{group:"edit",className:"bpmn-icon-screw-wrench",title:"Change type",action:{click:function(C,P){var B=ct(_(P),{cursor:{x:C.x,y:C.y}});const S=te(P,"dcr:SubProcess")&&P.businessObject["multi-instance"];h.open(P,"dcr-object-popup",B,{title:S?void 0:"Marking:"})}}}})}function A(M){ct(M,{"dcr-replace":{group:"edit",className:"bpmn-icon-screw-wrench",title:"Change type of children",action:{click:function(C,P){var B=ct(_(P),{cursor:{x:C.x,y:C.y}});h.open(P,"dcr-nesting-popup",B,{title:"Marking:"})}}}})}function R(M){ct(M,{"dcr-replace":{group:"edit",className:"bpmn-icon-screw-wrench",title:"Change DCR Relation type",action:{click:function(C,P){var B=ct(_(P),{cursor:{x:C.x,y:C.y}});h.open(P,"dcr-link-popup",B,{title:"DCR Relation Types"})}}}})}function T(M,C){a.start(M,C)}function E(M){ct(M,{connect:{group:"connect",className:"bpmn-icon-connection",title:"Connect using DCR Relations",action:{click:T,dragstart:T}}})}function v(M){ct(M,{"append.append-task":w("dcr:Event","od-no-font-icon-object",r("Append new DCR Event"),{attrs:{included:!0,pending:!1,executed:!1,enabled:!1}})})}function w(M,C,P,B){typeof P!="string"&&(B=P,P=r("Append {type}",{type:M.replace(/^bpmn:/,"")}));function S(F,G){var q=s.createShape(ct({type:M},B));f.start(F,q,{source:G})}var z=l?function(F,G){var q=s.createShape(ct({type:M},B));l.append(G,q)}:S;return{group:"model",className:C,title:P,action:{dragstart:S,click:z}}}};const M6={__depends__:[YC,v6,lo,b0,rp],__init__:["contextPadProvider"],contextPadProvider:["type",w0]};function yl(){}yl.prototype.get=function(){return this._data};yl.prototype.set=function(t){this._data=t};yl.prototype.clear=function(){var t=this._data;return delete this._data,t};yl.prototype.isEmpty=function(){return!this._data};const A6={clipboard:["type",yl]};function S0(t){var e=this;this._lastMoveEvent=null;function n(r){e._lastMoveEvent=r}t.on("canvas.init",function(r){var a=e._svg=r.svg;a.addEventListener("mousemove",n)}),t.on("canvas.destroy",function(){e._lastMouseEvent=null,e._svg.removeEventListener("mousemove",n)})}S0.$inject=["eventBus"];S0.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||O6(0,0)};function O6(t,e){var n=document.createEvent("MouseEvent"),r=t,a=e,s=t,u=e;return n.initMouseEvent&&n.initMouseEvent("mousemove",!0,!0,window,0,r,a,s,u,!1,!1,!1,!1,0,null),n}const vl={__init__:["mouse"],mouse:["type",S0]};function oi(t,e,n,r,a,s,u,l){this._canvas=t,this._create=e,this._clipboard=n,this._elementFactory=r,this._eventBus=a,this._modeling=s,this._mouse=u,this._rules=l,a.on("copyPaste.copyElement",function(f){var h=f.descriptor,p=f.element,g=f.elements;h.priority=1,h.id=p.id;var m=Ie(g,function(_){return _===p.parent});m&&(h.parent=p.parent.id),R6(p)&&(h.priority=2,h.host=p.host.id),$e(p)&&(h.priority=3,h.source=p.source.id,h.target=p.target.id,h.waypoints=N6(p)),vr(p)&&(h.priority=4,h.labelTarget=p.labelTarget.id),nt(["x","y","width","height"],function(_){Vt(p[_])&&(h[_]=p[_])}),h.hidden=p.hidden,h.collapsed=p.collapsed}),a.on("copyPaste.pasteElements",function(f){var h=f.hints;ct(h,{createElementsBehavior:!1})})}oi.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"];oi.prototype.copy=function(t){var e,n;return re(t)||(t=t?[t]:[]),e=this._eventBus.fire("copyPaste.canCopyElements",{elements:t}),e===!1?n={}:n=this.createTree(re(e)?e:t),this._clipboard.set(n),this._eventBus.fire("copyPaste.elementsCopied",{elements:t,tree:n}),n};oi.prototype.paste=function(t){var e=this._clipboard.get();if(!this._clipboard.isEmpty()){var n=t&&t.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:n});var r=this._createElements(e);if(t&&t.element&&t.point)return this._paste(r,t.element,t.point,n);this._create.start(this._mouse.getLastMoveEvent(),r,{hints:n||{}})}};oi.prototype._paste=function(t,e,n,r){nt(t,function(s){Vt(s.x)||(s.x=0),Vt(s.y)||(s.y=0)});var a=xn(t);return nt(t,function(s){$e(s)&&(s.waypoints=Mn(s.waypoints,function(u){return{x:u.x-a.x-a.width/2,y:u.y-a.y-a.height/2}})),ct(s,{x:s.x-a.x-a.width/2,y:s.y-a.y-a.height/2})}),this._modeling.createElements(t,n,e,ct({},r))};oi.prototype._createElements=function(t){var e=this,n=this._eventBus,r={},a=[];return nt(t,function(s,u){s=to(s,"priority"),nt(s,function(l){var f=ct({},ro(l,["priority"]));r[l.parent]?f.parent=r[l.parent]:delete f.parent,n.fire("copyPaste.pasteElement",{cache:r,descriptor:f});var h;if($e(f)){f.source=r[l.source],f.target=r[l.target],h=r[l.id]=e.createConnection(f),a.push(h);return}if(vr(f)){f.labelTarget=r[f.labelTarget],h=r[l.id]=e.createLabel(f),a.push(h);return}f.host&&(f.host=r[f.host]),h=r[l.id]=e.createShape(f),a.push(h)})}),a};oi.prototype.createConnection=function(t){var e=this._elementFactory.createConnection(ro(t,["id"]));return e};oi.prototype.createLabel=function(t){var e=this._elementFactory.createLabel(ro(t,["id"]));return e};oi.prototype.createShape=function(t){var e=this._elementFactory.createShape(ro(t,["id"]));return e};oi.prototype.hasRelations=function(t,e){var n,r,a;return!($e(t)&&(r=Ie(e,Zo({id:t.source.id})),a=Ie(e,Zo({id:t.target.id})),!r||!a)||vr(t)&&(n=Ie(e,Zo({id:t.labelTarget.id})),!n))};oi.prototype.createTree=function(t){var e=this._rules,n=this,r={},a=[],s=u2(t);function u(h,p){return e.allowed("element.copy",{element:h,elements:p})}function l(h,p){var g=Ie(a,function(m){return h===m.element});if(!g){a.push({element:h,depth:p});return}g.depth<p&&(a=f(g,a),a.push({element:g.element,depth:p}))}function f(h,p){var g=p.indexOf(h);return g!==-1&&p.splice(g,1),p}return Fh(s,function(h,p,g){if(vr(h))return;nt(h.labels,function(b){l(b,g)});function m(b){b&&b.length&&nt(b,function(A){nt(A.labels,function(R){l(R,g)}),l(A,g)})}nt([h.attachers,h.incoming,h.outgoing],m),l(h,g);var _=[];return h.children&&(_=h.children.slice()),n._eventBus.fire("copyPaste.createTree",{element:h,children:_}),_}),t=Mn(a,function(h){return h.element}),a=Mn(a,function(h){return h.descriptor={},n._eventBus.fire("copyPaste.copyElement",{descriptor:h.descriptor,element:h.element,elements:t}),h}),a=to(a,function(h){return h.descriptor.priority}),t=Mn(a,function(h){return h.element}),nt(a,function(h){var p=h.depth;if(!n.hasRelations(h.element,t)){rS(h.element,t);return}if(!u(h.element,t)){rS(h.element,t);return}r[p]||(r[p]=[]),r[p].push(h.descriptor)}),r};function R6(t){return!!t.host}function N6(t){return Mn(t.waypoints,function(e){return e=nS(e),e.original&&(e.original=nS(e.original)),e})}function nS(t){return ct({},t)}function rS(t,e){var n=e.indexOf(t);return n===-1?e:e.splice(n,1)}const D6={__depends__:[A6,rp,vl,Ci],__init__:["copyPaste"],copyPaste:["type",oi]};function hv(t,e,n){re(n)||(n=[n]),nt(n,function(r){ns(t[r])||(e[r]=t[r])})}function L6(t,e){re(e)||(e=[e]),nt(e,function(n){t[n]&&delete t[n]})}var P6=750;function QC(t,e,n){e.on("copyPaste.copyElement",P6,function(s){var u=s.descriptor,l=s.element,f=u.oldBusinessObject=pr(l);if(u.type=l.type,hv(f,u,"name"),u.di={},hv(f.di,u.di,["fill","stroke"]),iS(u))return u});var r;function a(s,u){var l=pr(s);s.default&&(r[s.default]={element:l,property:"default"}),r=ro(r,kr(r,function(f,h,p){var g=h.element,m=h.property;return p===s.id&&(g[m]=l,f.push(s.id)),f},[]))}e.on("copyPaste.pasteElements",function(){r={}}),e.on("copyPaste.pasteElement",function(s){var u=s.cache,l=s.descriptor,f=l.oldBusinessObject,h;if(iS(l)){l.businessObject=pr(u[l.labelTarget]);return}h=t.create(f.$type),l.businessObject=n.copyElement(f,h),a(l),hv(l,h,["color","name"]),L6(l,"oldBusinessObject")})}QC.$inject=["dcrFactory","eventBus","moddleCopy"];function iS(t){return!!t.labelTarget}var B6=["boardElements"];function ip(t,e,n){this._dcrFactory=e,this._eventBus=t,this._moddle=n,t.on("moddleCopy.canCopyProperties",function(r){var a=r.propertyNames;if(!(!a||!a.length))return to(a,function(s){return s==="extensionElements"})}),t.on("moddleCopy.canCopyProperty",function(r){var a=r.parent,s=An(a)&&a.$descriptor,u=r.propertyName;if(u&&B6.indexOf(u)!==-1||u&&s&&!Ie(s.properties,Zo({name:u})))return!1})}ip.$inject=["eventBus","dcrFactory","moddle"];ip.prototype.copyElement=function(t,e,n){var r=this;n&&!re(n)&&(n=[n]),n=n||em(t.$descriptor);var a=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:n,sourceElement:t,targetElement:e});return a===!1||(re(a)&&(n=a),nt(n,function(s){var u;ol(t,s)&&(u=t.get(s));var l=r.copyProperty(u,e,s),f=r._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:e,property:l,propertyName:s});f!==!1&&_n(l)&&e.set(s,l)})),e};ip.prototype.copyProperty=function(t,e,n){var r=this,a=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:e,property:t,propertyName:n});if(a!==!1){if(a)return An(a)&&a.$type&&!a.$parent&&(a.$parent=e),a;var s=this._moddle.getPropertyDescriptor(e,n);if(!(s.isId||s.isReference))return re(t)?kr(t,function(u,l){return a=r.copyProperty(l,e,n),a?(a.$parent=e,u.concat(a)):u},[]):An(t)&&t.$type?this._moddle.getElementDescriptor(t).isGeneric?void 0:(a=r._dcrFactory.create(t.$type),a.$parent=e,a=r.copyElement(t,a),a):t}};function em(t,e){return kr(t.properties,function(n,r){return e&&r.default?n:n.concat(r.name)},[])}const JC={__depends__:[D6],__init__:["odCopyPaste","moddleCopy"],odCopyPaste:["type",QC],moddleCopy:["type",ip]};var tM="is not a registered action",I6="is already registered";function Xr(t,e){this._actions={};var n=this;t.on("diagram.init",function(){n._registerDefaultActions(e),t.fire("editorActions.init",{editorActions:n})})}Xr.$inject=["eventBus","injector"];Xr.prototype._registerDefaultActions=function(t){var e=t.get("commandStack",!1),n=t.get("modeling",!1),r=t.get("selection",!1),a=t.get("zoomScroll",!1),s=t.get("copyPaste",!1),u=t.get("canvas",!1),l=t.get("rules",!1),f=t.get("keyboardMove",!1),h=t.get("keyboardMoveSelection",!1);e&&(this.register("undo",function(){e.undo()}),this.register("redo",function(){e.redo()})),s&&r&&this.register("copy",function(){var p=r.get();if(p.length)return s.copy(p)}),s&&this.register("paste",function(){s.paste()}),a&&this.register("stepZoom",function(p){a.stepZoom(p.value)}),u&&this.register("zoom",function(p){u.zoom(p.value)}),n&&r&&l&&this.register("removeSelection",function(){var p=r.get();if(p.length){var g=l.allowed("elements.delete",{elements:p}),m;g!==!1&&(re(g)?m=g:m=p,m.length&&n.removeElements(m.slice()))}}),f&&this.register("moveCanvas",function(p){f.moveCanvas(p)}),h&&this.register("moveSelection",function(p){h.moveSelection(p.direction,p.accelerated)})};Xr.prototype.trigger=function(t,e){if(!this._actions[t])throw T0(t,tM);return this._actions[t](e)};Xr.prototype.register=function(t,e){var n=this;if(typeof t=="string")return this._registerAction(t,e);nt(t,function(r,a){n._registerAction(a,r)})};Xr.prototype._registerAction=function(t,e){if(this.isRegistered(t))throw T0(t,I6);this._actions[t]=e};Xr.prototype.unregister=function(t){if(!this.isRegistered(t))throw T0(t,tM);this._actions[t]=void 0};Xr.prototype.getActions=function(){return Object.keys(this._actions)};Xr.prototype.isRegistered=function(t){return!!this._actions[t]};function T0(t,e){return new Error(t+" "+e)}const j6={__init__:["editorActions"],editorActions:["type",Xr]};function op(t){t.invoke(Xr,this)}we(op,Xr);op.$inject=["injector"];op.prototype._registerDefaultActions=function(t){Xr.prototype._registerDefaultActions.call(this,t);var e=t.get("canvas",!1),n=t.get("elementRegistry",!1),r=t.get("selection",!1),a=t.get("spaceTool",!1),s=t.get("lassoTool",!1),u=t.get("handTool",!1),l=t.get("globalConnect",!1),f=t.get("distributeElements",!1),h=t.get("alignElements",!1),p=t.get("directEditing",!1),g=t.get("searchPad",!1),m=t.get("modeling",!1);e&&n&&r&&this._registerAction("selectElements",function(){var _=e.getRootElement(),b=n.filter(function(A){return A!==_});return r.select(b),b}),a&&this._registerAction("spaceTool",function(){a.toggle()}),s&&this._registerAction("lassoTool",function(){s.toggle()}),u&&this._registerAction("handTool",function(){u.toggle()}),l&&this._registerAction("globalConnectTool",function(){l.toggle()}),r&&f&&this._registerAction("distributeElements",function(_){var b=r.get(),A=_.type;b.length&&f.trigger(b,A)}),r&&h&&this._registerAction("alignElements",function(_){var b=r.get(),A=_.type;b.length&&h.trigger(b,A)}),r&&p&&this._registerAction("directEditing",function(){var _=r.get();_.length&&p.activate(_[0])}),g&&this._registerAction("find",function(){g.toggle()}),e&&m&&this._registerAction("moveToOrigin",function(){var _=e.getRootElement(),b,A=n.filter(function(R){return R!==_});b=xn(A),m.moveElements(A,{x:-b.x,y:-b.y},_)})};const k6={__depends__:[j6],editorActions:["type",op]};function eM(t){t.on(["create.init","shape.move.init"],function(e){var n=e.context;n.gridSnappingContext||(n.gridSnappingContext={}),n.gridSnappingContext.snapLocation="top-left"})}eM.$inject=["eventBus"];var Qd=10;function pv(t,e,n){return n||(n="round"),Math[n](t/e)*e}var z6=1200,$6=800;function da(t,e,n){var r=!n||n.active!==!1;this._eventBus=e;var a=this;e.on("diagram.init",$6,function(){a.setActive(r)}),e.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],z6,function(s){var u=s.originalEvent;if(!(!a.active||u&&gr(u))){var l=s.context,f=l.gridSnappingContext;f||(f=l.gridSnappingContext={}),["x","y"].forEach(function(h){var p={},g=U6(s,h,t);g&&(p.offset=g);var m=H6(s,h);m&&ct(p,m),Jc(s,h)||a.snapEvent(s,h,p)})}})}da.prototype.snapEvent=function(t,e,n){var r=this.snapValue(t[e],n);dr(t,e,r)};da.prototype.getGridSpacing=function(){return Qd};da.prototype.snapValue=function(t,e){var n=0;e&&e.offset&&(n=e.offset),t+=n,t=pv(t,Qd);var r,a;return e&&e.min&&(r=e.min,Vt(r)&&(r=pv(r+n,Qd,"ceil"),t=Math.max(t,r))),e&&e.max&&(a=e.max,Vt(a)&&(a=pv(a+n,Qd,"floor"),t=Math.min(t,a))),t-=n,t};da.prototype.isActive=function(){return this.active};da.prototype.setActive=function(t){this.active=t,this._eventBus.fire("gridSnapping.toggle",{active:t})};da.prototype.toggleActive=function(){this.setActive(!this.active)};da.$inject=["elementRegistry","eventBus","config.gridSnapping"];function H6(t,e){var n=t.context,r=n.createConstraints,a=n.resizeConstraints||{},s=n.gridSnappingContext,u=s.snapConstraints;if(u&&u[e])return u[e];u||(u=s.snapConstraints={}),u[e]||(u[e]={});var l=n.direction;r&&(Jd(e)?(u.x.min=r.left,u.x.max=r.right):(u.y.min=r.top,u.y.max=r.bottom));var f=a.min,h=a.max;return f&&(Jd(e)?aS(l)?u.x.max=f.left:u.x.min=f.right:oS(l)?u.y.max=f.top:u.y.min=f.bottom),h&&(Jd(e)?aS(l)?u.x.min=h.left:u.x.max=h.right:oS(l)?u.y.min=h.top:u.y.max=h.bottom),u[e]}function U6(t,e,n){var r=t.context,a=t.shape,s=r.gridSnappingContext,u=s.snapLocation,l=s.snapOffset;return l&&Vt(l[e])||(l||(l=s.snapOffset={}),Vt(l[e])||(l[e]=0),!a)||(n.get(a.id)||(Jd(e)?l[e]+=a[e]+a.width/2:l[e]+=a[e]+a.height/2),!u)||(e==="x"?/left/.test(u)?l[e]-=a.width/2:/right/.test(u)&&(l[e]+=a.width/2):/top/.test(u)?l[e]-=a.height/2:/bottom/.test(u)&&(l[e]+=a.height/2)),l[e]}function Jd(t){return t==="x"}function oS(t){return t.indexOf("n")!==-1}function aS(t){return t.indexOf("w")!==-1}var F6=1e3;function ve(t){this._eventBus=t}ve.$inject=["eventBus"];function X6(t,e){return function(n){return t.call(e||null,n.context,n.command,n)}}ve.prototype.on=function(t,e,n,r,a,s){if((En(e)||Vt(e))&&(s=a,a=r,r=n,n=e,e=null),En(n)&&(s=a,a=r,r=n,n=F6),An(a)&&(s=a,a=!1),!En(r))throw new Error("handlerFn must be a function");re(t)||(t=[t]);var u=this._eventBus;nt(t,function(l){var f=["commandStack",l,e].filter(function(h){return h}).join(".");u.on(f,n,a?X6(r,s):r,s)})};ve.prototype.canExecute=po("canExecute");ve.prototype.preExecute=po("preExecute");ve.prototype.preExecuted=po("preExecuted");ve.prototype.execute=po("execute");ve.prototype.executed=po("executed");ve.prototype.postExecute=po("postExecute");ve.prototype.postExecuted=po("postExecuted");ve.prototype.revert=po("revert");ve.prototype.reverted=po("reverted");function po(t){return function(n,r,a,s,u){(En(n)||Vt(n))&&(u=s,s=a,a=r,r=n,n=null),this.on(n,t,r,a,s,u)}}function ss(t,e){ve.call(this,t),this._gridSnapping=e;var n=this;this.preExecute("shape.resize",function(r){var a=r.context,s=a.hints||{},u=s.autoResize;if(u){var l=a.shape,f=a.newBounds;jr(u)?a.newBounds=n.snapComplex(f,u):a.newBounds=n.snapSimple(l,f)}})}ss.$inject=["eventBus","gridSnapping","modeling"];we(ss,ve);ss.prototype.snapSimple=function(t,e){var n=this._gridSnapping;return e.width=n.snapValue(e.width,{min:e.width}),e.height=n.snapValue(e.height,{min:e.height}),e.x=t.x+t.width/2-e.width/2,e.y=t.y+t.height/2-e.height/2,e};ss.prototype.snapComplex=function(t,e){return/w|e/.test(e)&&(t=this.snapHorizontally(t,e)),/n|s/.test(e)&&(t=this.snapVertically(t,e)),t};ss.prototype.snapHorizontally=function(t,e){var n=this._gridSnapping,r=/w/.test(e),a=/e/.test(e),s={};return s.width=n.snapValue(t.width,{min:t.width}),a&&(r?(s.x=n.snapValue(t.x,{max:t.x}),s.width+=n.snapValue(t.x-s.x,{min:t.x-s.x})):t.x=t.x+t.width-s.width),ct(t,s),t};ss.prototype.snapVertically=function(t,e){var n=this._gridSnapping,r=/n/.test(e),a=/s/.test(e),s={};return s.height=n.snapValue(t.height,{min:t.height}),r&&(a?(s.y=n.snapValue(t.y,{max:t.y}),s.height+=n.snapValue(t.y-s.y,{min:t.y-s.y})):t.y=t.y+t.height-s.height),ct(t,s),t};var G6=2e3;function nM(t,e){t.on(["spaceTool.move","spaceTool.end"],G6,function(n){var r=n.context;if(r.initialized){var a=r.axis,s;a==="x"?(s=e.snapValue(n.dx),n.x=n.x+s-n.dx,n.dx=s):(s=e.snapValue(n.dy),n.y=n.y+s-n.dy,n.dy=s)}})}nM.$inject=["eventBus","gridSnapping"];const q6={__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",ss],gridSnappingSpaceToolBehavior:["type",nM]},V6={__depends__:[q6],__init__:["gridSnapping"],gridSnapping:["type",da]};var Y6=10,rM=50,K6=250;function Z6(t,e,n,r){for(var a;a=Q6(t,n,e);)n=r(e,n,a);return n}function W6(t){return function(e,n,r){var a={x:n.x,y:n.y};return["x","y"].forEach(function(s){var u=t[s];if(u){var l=s==="x"?"width":"height",f=u.margin,h=u.minDistance;f<0?a[s]=Math.min(r[s]+f-e[l]/2,n[s]-h+f):a[s]=Math.max(r[s]+r[l]+f+e[l]/2,n[s]+h+f)}}),a}}function Q6(t,e,n){var r={x:e.x-n.width/2,y:e.y-n.height/2,width:n.width,height:n.height},a=tP(t);return Ie(a,function(s){if(s===n)return!1;var u=zr(s,r,Y6);return u==="intersect"})}function J6(t,e){e||(e={});function n(b){return b.source===t?1:-1}var r=e.defaultDistance||rM,a=e.direction||"e",s=e.filter,u=e.getWeight||n,l=e.maxDistance||K6,f=e.reference||"start";s||(s=rP);function h(b,A){return a==="n"?f==="start"?ce(b).top-ce(A).bottom:f==="center"?ce(b).top-ye(A).y:ce(b).top-ce(A).top:a==="w"?f==="start"?ce(b).left-ce(A).right:f==="center"?ce(b).left-ye(A).x:ce(b).left-ce(A).left:a==="s"?f==="start"?ce(A).top-ce(b).bottom:f==="center"?ye(A).y-ce(b).bottom:ce(A).bottom-ce(b).bottom:f==="start"?ce(A).left-ce(b).right:f==="center"?ye(A).x-ce(b).right:ce(A).right-ce(b).right}var p=t.incoming.filter(s).map(function(b){var A=u(b),R=A<0?h(b.source,t):h(t,b.source);return{id:b.source.id,distance:R,weight:A}}),g=t.outgoing.filter(s).map(function(b){var A=u(b),R=A>0?h(t,b.target):h(b.target,t);return{id:b.target.id,distance:R,weight:A}}),m=p.concat(g).reduce(function(b,A){return b[A.id+"__weight_"+A.weight]=A,b},{}),_=kr(m,function(b,A){var R=A.distance,T=A.weight;return R<0||R>l||(b[String(R)]||(b[String(R)]=0),b[String(R)]+=1*T,(!b.distance||b[b.distance]<b[String(R)])&&(b.distance=R)),b},{});return _.distance||r}function tP(t){var e=gv(t);return t.host&&(e=e.concat(gv(t.host))),t.attachers&&(e=e.concat(t.attachers.reduce(function(n,r){return n.concat(gv(r))},[]))),e}function gv(t){return nP(t).concat(eP(t))}function eP(t){return t.incoming.map(function(e){return e.source})}function nP(t){return t.outgoing.map(function(e){return e.target})}function rP(){return!0}function iM(t,e){if(te(e,"dcr:Event"))return iP(t,e)}function iP(t,e){var n=ce(t),r=ye(t),a=J6(t,{filter:function(p){return te(p,"dcr:Relation")}}),s=30,u=80,l="left",f={x:n.right+a+e.width/2,y:r.y+oP(l,u)},h={y:{margin:s,minDistance:u}};return Z6(t,e,f,W6(h))}function oP(t,e){return t.indexOf("top")!=-1?-1*e:t.indexOf("bottom")!=-1?e:0}var aP=2e3;function oM(t,e){t.on("autoPlace",aP,function(n){var r=n.source,a=ye(r),s=n.shape,u=iM(r,s);return["x","y"].forEach(function(l){var f={};u[l]!==a[l]&&(u[l]>a[l]?f.min=u[l]:f.max=u[l],u[l]=e.snapValue(u[l],f))}),u})}oM.$inject=["eventBus","gridSnapping"];var sP=3e3;function ap(t,e,n){ve.call(this,t),this._gridSnapping=e;var r=this;this.postExecuted(["connection.create","connection.layout"],sP,function(a){var s=a.context,u=s.connection,l=s.hints||{},f=u.waypoints;l.connectionStart||l.connectionEnd||l.createElementsBehavior===!1||uP(f)&&n.updateWaypoints(u,r.snapMiddleSegments(f))})}ap.$inject=["eventBus","gridSnapping","modeling"];we(ap,ve);ap.prototype.snapMiddleSegments=function(t){var e=this._gridSnapping,n;t=t.slice();for(var r=1;r<t.length-2;r++)n=fP(e,t[r],t[r+1]),t[r]=n[0],t[r+1]=n[1];return t};function uP(t){return t.length>3}function cP(t){return t==="h"}function lP(t){return t==="v"}function fP(t,e,n){var r=Wi(e,n),a={};return cP(r)&&(a.y=t.snapValue(e.y)),lP(r)&&(a.x=t.snapValue(e.x)),("x"in a||"y"in a)&&(e=ct({},e,a),n=ct({},n,a)),[e,n]}const dP={__init__:["gridSnappingAutoPlaceBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",oM],gridSnappingLayoutConnectionBehavior:["type",ap]},hP={__depends__:[V6,dP],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",eM]},pP={__depends__:[g0],__init__:["keyboardBindings"],keyboardBindings:["type",Wh]};var gP=100;function aM(t,e,n){t.on("autoPlace",gP,function(r){var a=r.shape,s=r.source;return yP(s,a)}),t.on("autoPlace.end",function(r){n.scrollToElement(r.shape)}),this.append=function(r,a,s){t.fire("autoPlace.start",{source:r,shape:a});var u=t.fire("autoPlace",{source:r,shape:a}),l=e.appendShape(r,a,u,r.parent,s);return t.fire("autoPlace.end",{source:r,shape:l}),l}}aM.$inject=["eventBus","modeling","canvas"];function yP(t,e,n){n||(n={});var r=n.defaultDistance||rM,a=ye(t),s=ce(t);return{x:s.right+r+e.width/2,y:a.y}}function sM(t,e){t.on("autoPlace.end",500,function(n){e.select(n.shape)})}sM.$inject=["eventBus","selection"];const vP={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",aM],autoPlaceSelectionBehavior:["type",sM]};function uM(t){t.on("autoPlace",function(e){var n=e.shape,r=e.source;return iM(r,n)})}uM.$inject=["eventBus"];const mP={__depends__:[vP],__init__:["odAutoPlace"],odAutoPlace:["type",uM]};var _P={moveSpeed:1,moveSpeedAccelerated:10},xP=1500,sS="left",uS="up",cS="right",lS="down",EP={ArrowLeft:sS,Left:sS,ArrowUp:uS,Up:uS,ArrowRight:cS,Right:cS,ArrowDown:lS,Down:lS},bP={left:function(t){return{x:-t,y:0}},up:function(t){return{x:0,y:-t}},right:function(t){return{x:t,y:0}},down:function(t){return{x:0,y:t}}};function cM(t,e,n,r,a){var s=this;this._config=ct({},_P,t||{}),e.addListener(xP,function(u){var l=u.keyEvent,f=EP[l.key];if(f&&!e.isCmd(l)){var h=e.isShift(l);return s.moveSelection(f,h),!0}}),this.moveSelection=function(u,l){var f=a.get();if(f.length){var h=this._config[l?"moveSpeedAccelerated":"moveSpeed"],p=bP[u](h),g=r.allowed("elements.move",{shapes:f});g&&n.moveElements(f,p)}}}cM.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];const wP={__depends__:[g0,lo],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",cM]};function lM(t,e,n,r){t.on("element.changed",function(a){var s=a.element;(s.parent||s===e.getRootElement())&&(a.gfx=n.getGraphics(s)),a.gfx&&t.fire(l2(s)+".changed",a)}),t.on("elements.changed",function(a){var s=a.elements;s.forEach(function(u){t.fire("element.changed",{element:u})}),r.updateContainments(s)}),t.on("shape.changed",function(a){r.update("shape",a.element,a.gfx)}),t.on("connection.changed",function(a){r.update("connection",a.element,a.gfx)})}lM.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];const fM={__init__:["changeSupport"],changeSupport:["type",lM]};var wh=Math.max,Sh=Math.min,SP=20;function TP(t,e,n){var r=n.x,a=n.y,s={x:t.x,y:t.y,width:t.width,height:t.height};return e.indexOf("n")!==-1?(s.y=t.y+a,s.height=t.height-a):e.indexOf("s")!==-1&&(s.height=t.height+a),e.indexOf("e")!==-1?s.width=t.width+r:e.indexOf("w")!==-1&&(s.x=t.x+r,s.width=t.width-r),s}function od(t,e,n){var r=e[t],a=n.min&&n.min[t],s=n.max&&n.max[t];return Vt(a)&&(r=(/top|left/.test(t)?Sh:wh)(r,a)),Vt(s)&&(r=(/top|left/.test(t)?wh:Sh)(r,s)),r}function CP(t,e){if(!e)return t;var n=ce(t);return h2({top:od("top",n,e),right:od("right",n,e),bottom:od("bottom",n,e),left:od("left",n,e)})}function MP(t,e,n,r){var a=ce(e),s={top:/n/.test(t)?a.bottom-n.height:a.top,left:/w/.test(t)?a.right-n.width:a.left,bottom:/s/.test(t)?a.top+n.height:a.bottom,right:/e/.test(t)?a.left+n.width:a.right},u=r?ce(r):s,l={top:Sh(s.top,u.top),left:Sh(s.left,u.left),bottom:wh(s.bottom,u.bottom),right:wh(s.right,u.right)};return h2(l)}function jc(t,e){return typeof t<"u"?t:SP}function AP(t,e){var n,r,a,s;return typeof e=="object"?(n=jc(e.left),r=jc(e.right),a=jc(e.top),s=jc(e.bottom)):n=r=a=s=jc(e),{x:t.x-n,y:t.y-a,width:t.width+n+r,height:t.height+a+s}}function OP(t){return!(t.waypoints||t.type==="label")}function RP(t,e){var n;if(t.length===void 0?n=an(t.children,OP):n=t,n.length)return AP(xn(n),e)}var fS=10;function ml(t,e,n,r){this._dragging=r,this._rules=e;var a=this;function s(f,h){var p=f.shape,g=f.direction,m=f.resizeConstraints,_;f.delta=h,_=TP(p,g,h),f.newBounds=CP(_,m),f.canExecute=a.canResize(f)}function u(f){var h=f.resizeConstraints,p=f.minBounds;h===void 0&&(p===void 0&&(p=a.computeMinResizeBox(f)),f.resizeConstraints={min:ce(p)})}function l(f){var h=f.shape,p=f.canExecute,g=f.newBounds;if(p){if(g=wD(g),!NP(h,g))return;n.resizeShape(h,g)}}t.on("resize.start",function(f){u(f.context)}),t.on("resize.move",function(f){var h={x:f.dx,y:f.dy};s(f.context,h)}),t.on("resize.end",function(f){l(f.context)})}ml.prototype.canResize=function(t){var e=this._rules,n=eo(t,["newBounds","shape","delta","direction"]);return e.allowed("shape.resize",n)};ml.prototype.activate=function(t,e,n){var r=this._dragging,a,s;if(typeof n=="string"&&(n={direction:n}),a=ct({shape:e},n),s=a.direction,!s)throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");r.init(t,dM(e,s),"resize",{autoActivate:!0,cursor:DP(s),data:{shape:e,context:a}})};ml.prototype.computeMinResizeBox=function(t){var e=t.shape,n=t.direction,r,a;return r=t.minDimensions||{width:fS,height:fS},a=RP(e,t.childrenBoxPadding),MP(n,e,r,a)};ml.$inject=["eventBus","rules","modeling","dragging"];function NP(t,e){return t.x!==e.x||t.y!==e.y||t.width!==e.width||t.height!==e.height}function dM(t,e){var n=ye(t),r=ce(t),a={x:n.x,y:n.y};return e.indexOf("n")!==-1?a.y=r.top:e.indexOf("s")!==-1&&(a.y=r.bottom),e.indexOf("e")!==-1?a.x=r.right:e.indexOf("w")!==-1&&(a.x=r.left),a}function DP(t){var e="resize-";return t==="n"||t==="s"?e+"ns":t==="e"||t==="w"?e+"ew":t==="nw"||t==="se"?e+"nwse":e+"nesw"}var dS="djs-resizing",hS="resize-not-ok",LP=500;function hM(t,e,n){function r(s){var u=s.shape,l=s.newBounds,f=s.frame;f||(f=s.frame=n.addFrame(u,e.getActiveLayer()),e.addMarker(u,dS)),l.width>5&&yt(f,{x:l.x,width:l.width}),l.height>5&&yt(f,{y:l.y,height:l.height}),s.canExecute?le(f).remove(hS):le(f).add(hS)}function a(s){var u=s.shape,l=s.frame;l&&We(s.frame),e.removeMarker(u,dS)}t.on("resize.move",LP,function(s){r(s.context)}),t.on("resize.cleanup",function(s){a(s.context)})}hM.$inject=["eventBus","canvas","previewSupport"];var pS=-6,gS=8,yS=20,kc="djs-resizer",PP=["n","w","s","e","nw","ne","se","sw"];function ha(t,e,n,r){this._resize=r,this._canvas=e;var a=this;t.on("selection.changed",function(s){var u=s.newSelection;a.removeResizers(),u.length===1&&nt(u,Gn(a.addResizer,a))}),t.on("shape.changed",function(s){var u=s.element;n.isSelected(u)&&(a.removeResizers(),a.addResizer(u))})}ha.prototype.makeDraggable=function(t,e,n){var r=this._resize;function a(s){ca(s)&&r.activate(s,t,n)}qt.bind(e,"mousedown",a),qt.bind(e,"touchstart",a)};ha.prototype._createResizer=function(t,e,n,r){var a=this._getResizersParent(),s=BP(r),u=Rt("g");le(u).add(kc),le(u).add(kc+"-"+t.id),le(u).add(kc+"-"+r),Zt(a,u);var l=Rt("rect");yt(l,{x:-8/2+s.x,y:-8/2+s.y,width:gS,height:gS}),le(l).add(kc+"-visual"),Zt(u,l);var f=Rt("rect");return yt(f,{x:-20/2+s.x,y:-20/2+s.y,width:yS,height:yS}),le(f).add(kc+"-hit"),Zt(u,f),FD(u,e,n),u};ha.prototype.createResizer=function(t,e){var n=dM(t,e),r=this._createResizer(t,n.x,n.y,e);this.makeDraggable(t,r,e)};ha.prototype.addResizer=function(t){var e=this;$e(t)||!this._resize.canResize({shape:t})||nt(PP,function(n){e.createResizer(t,n)})};ha.prototype.removeResizers=function(){var t=this._getResizersParent();Mm(t)};ha.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")};ha.$inject=["eventBus","canvas","selection","resize"];function BP(t){var e={x:0,y:0};return t.indexOf("e")!==-1?e.x=6:t.indexOf("w")!==-1&&(e.x=pS),t.indexOf("s")!==-1?e.y=6:t.indexOf("n")!==-1&&(e.y=pS),e}const pM={__depends__:[Ci,fo,gl],__init__:["resize","resizePreview","resizeHandles"],resize:["type",ml],resizePreview:["type",hM],resizeHandles:["type",ha]};function _l(t,e,n,r,a,s,u,l){this._dcrFactory=e,this._canvas=n,this._modeling=a,this._textRenderer=u,r.registerProvider(this);function f(p){var g=n.zoom(),m=(p.element.y+30-n._cachedViewbox.y)*g,_=p.originalEvent.offsetY;_>=m?p.element.businessObject.labelAttribute="description":p.element.businessObject.labelAttribute="role"}t.on("element.dblclick",function(p){dn(p.element,["dcr:SubProcess"])?p.element.businessObject.labelAttribute="description":f(p),h(p.element,!0)}),t.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open"],function(p){r.isActive()&&r.complete()}),t.on(["commandStack.changed"],function(p){r.isActive()&&r.cancel()}),t.on("directEditing.activate",function(p){s.removeResizers()}),t.on("create.end",500,function(p){var g=p.context,m=g.shape,_=p.context.canExecute,b=p.isTouch;b||_&&(g.hints&&g.hints.createElementsBehavior===!1||h(m,!1))}),t.on("autoPlace.end",500,function(p){h(p.shape,!1)});function h(p,g){l.canHaveLabel(p)&&(g||dn(p,["dcr:TextBox","dcr:Event"]))&&r.activate(p)}}_l.$inject=["eventBus","dcrFactory","canvas","directEditing","modeling","resizeHandles","textRenderer","dcrRules"];_l.prototype.activate=function(t){var e=cu(t);if(e!==void 0){var n={text:e},r=this.getEditingBBox(t);ct(n,r);var a={};return dn(t,["dcr:TextBox"])&&ct(a,{centerVertically:!0}),ct(n,{options:a}),n}};_l.prototype.getEditingBBox=function(t){var e=this._canvas,n=t.label||t,r=e.getAbsoluteBBox(n),a={x:r.x+r.width/2,y:r.y+r.height/2},s={x:r.x,y:r.y},u=e.zoom(),l=this._textRenderer.getDefaultStyle(),f=this._textRenderer.getExternalStyle(),h=f.fontSize*u,p=f.lineHeight,g=l.fontSize*u,m=l.lineHeight,_={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};dn(t,["dcr:Nesting","dcr:Event","dcr:SubProcess"])&&(ct(s,{width:r.width,height:r.height}),ct(_,{fontSize:g+"px",lineHeight:m,paddingTop:5*u+"px",paddingBottom:5*u+"px",paddingLeft:5*u+"px",paddingRight:5*u+"px"}),dn(t,["dcr:Event","dcr:Nesting"])&&(t.businessObject.labelAttribute==="description"?ct(s,{y:r.y+30*u,height:r.height-30*u}):ct(s,{height:30*u})));var b=90*u,A=7*u,R=4*u;return n.labelTarget&&(ct(s,{width:b,height:r.height+A+R,x:a.x-b/2,y:r.y-A}),ct(_,{fontSize:h+"px",lineHeight:p,paddingTop:A+"px",paddingBottom:R+"px"})),{bounds:s,style:_}};_l.prototype.update=function(t,e){IP(e)&&(e=null),this._modeling.updateLabel(t,e)};function IP(t){return!t||!t.trim()}var vS="djs-element-hidden";function gM(t,e){var n;t.on("directEditing.activate",function(r){var a=r.active;n=a.element.label||a.element,n.labelTarget&&e.addMarker(n,vS)}),t.on(["directEditing.complete","directEditing.cancel"],function(r){var a=r.active;a&&e.removeMarker(a.element.label||a.element,vS),n=void 0})}gM.$inject=["eventBus","canvas"];const jP={__depends__:[fM,pM,YC],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",_l],labelEditingPreview:["type",gM]};var C0=["top","bottom","left","right"],ad=10;function M0(t,e){ve.call(this,t),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],function(a){var s=a.context,u=s.connection,l=u.source,f=u.target,h=s.hints||{};h.createElementsBehavior!==!1&&(n(l),n(f))}),this.postExecuted(["label.create"],function(a){var s=a.context,u=s.shape,l=s.hints||{};l.createElementsBehavior!==!1&&n(u.labelTarget)}),this.postExecuted(["elements.create"],function(a){var s=a.context,u=s.elements,l=s.hints||{};l.createElementsBehavior!==!1&&u.forEach(function(f){n(f)})});function n(a){if(hC(a)){var s=$P(a);s&&r(a,s)}}function r(a,s){var u=ye(a),l=a.label,f=ye(l);if(l.parent){var h=ce(a),p;switch(s){case"top":p={x:u.x,y:h.top-ad-l.height/2};break;case"left":p={x:h.left-ad-l.width/2,y:u.y};break;case"bottom":p={x:u.x,y:h.bottom+ad+l.height/2};break;case"right":p={x:h.right+ad+l.width/2,y:u.y};break}var g=Ei(p,f);e.moveShape(l,g)}}}we(M0,ve);M0.$inject=["eventBus","modeling"];function kP(t){var e=t.host,n=ye(t),r=zr(n,e),a;r.indexOf("-")>=0?a=r.split("-"):a=[r];var s=C0.filter(function(u){return a.indexOf(u)===-1});return s}function zP(t){var e=ye(t),n=[].concat(t.incoming.map(function(r){return r.waypoints[r.waypoints.length-2]}),t.outgoing.map(function(r){return r.waypoints[1]})).map(function(r){return yM(e,r)});return n}function $P(t){var e=ye(t.label),n=ye(t),r=yM(n,e);if(HP(r)){var a=zP(t);if(t.host){var s=kP(t);a=a.concat(s)}var u=C0.filter(function(l){return a.indexOf(l)===-1});if(u.indexOf(r)===-1)return u[0]}}function yM(t,e){return zr(e,t,5)}function HP(t){return C0.indexOf(t)!==-1}function A0(t){ve.call(this,t),this.preExecute("shape.append",function(e){var n=e.source,r=e.shape;e.position||(e.position={x:n.x+n.width+80+r.width/2,y:n.y+n.height/2})},!0)}we(A0,ve);A0.$inject=["eventBus"];var UP=1500;function vM(t,e,n){e.on(["create.hover","create.move","create.end","shape.move.hover","shape.move.move","shape.move.end"],UP,function(r){var a=r.context,s=a.shape||r.shape,u=r.hover,l=n.getRootElement();u!==l&&s.labelTarget&&(r.hover=l,r.hoverGfx=t.getGraphics(r.hover))})}vM.$inject=["elementRegistry","eventBus","canvas"];function mS(t,e,n,r){var a,s,u,l,f;return a=(r.y-n.y)*(e.x-t.x)-(r.x-n.x)*(e.y-t.y),a==0?null:(s=t.y-n.y,u=t.x-n.x,f=(r.x-n.x)*s-(r.y-n.y)*u,l=f/a,{x:Math.round(t.x+l*(e.x-t.x)),y:Math.round(t.y+l*(e.y-t.y))})}function mM(t){function e(r,a,s){var u={x:s.x,y:s.y-50},l={x:s.x-50,y:s.y},f=mS(r,a,s,u),h=mS(r,a,s,l),p;f&&h?_S(f,s)>_S(h,s)?p=h:p=f:p=f||h,r.original=p}function n(r){var a=r.waypoints;e(a[0],a[1],ye(r.source)),e(a[a.length-1],a[a.length-2],ye(r.target))}t.on("boardElement.added",function(r){var a=r.element;a.waypoints&&n(a)})}mM.$inject=["eventBus"];function _S(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function _M(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}function xS(t){return Math.atan((t[1].y-t[0].y)/(t[1].x-t[0].x))}function FP(t,e){return e?{x:Math.cos(e)*t.x-Math.sin(e)*t.y,y:Math.sin(e)*t.x+Math.cos(e)*t.y}:t}function XP(t,e,n){var r=[{n:t[0]-n[0],lambda:e[0]},{n:t[1]-n[1],lambda:e[1]}],a=r[0].n*e[0]+r[1].n*e[1],s=r[0].lambda*e[0]+r[1].lambda*e[1];return-a/s}function xM(t,e){var n=e[0],r=e[1],a={x:r.x-n.x,y:r.y-n.y},s=XP([n.x,n.y],[a.x,a.y],[t.x,t.y]);return{x:n.x+s*a.x,y:n.y+s*a.y}}function GP(t,e){var n=xM(t,e),r={x:n.x-t.x,y:n.y-t.y};return _M(r)}function Th(t,e){return _M({x:t.x-e.x,y:t.y-e.y})}var EM=Math.sqrt,bM=Math.min,qP=Math.max,ES=Math.abs;function bS(t){return Math.pow(t,2)}function zc(t,e){return EM(bS(t.x-e.x)+bS(t.y-e.y))}function VP(t,e){var n=0,r,a,s,u,l,f,h,p,g,m,_;for(n=0;n<e.length-1;n++){if(r=e[n],a=e[n+1],SS(r,a)?h=[r]:(s=zc(t,r),u=zc(t,a),f=bM(s,u),h=YP(r,a,t,f)),h.length<1)throw new Error("expected between [1, 2] circle -> line intersections");h.length===1&&(p={type:"bendpoint",position:h[0],segmentIndex:n,bendpointIndex:SS(r,h[0])?n:n+1}),h.length===2&&(l=ZP(h[0],h[1]),p={type:"segment",position:l,segmentIndex:n,relativeLocation:zc(r,l)/zc(r,a)}),g=zc(p.position,t),(!_||m>g)&&(_=p,m=g)}return _}function YP(t,e,n,r){var a=e.x-t.x,s=e.y-t.y,u=n.x-t.x,l=n.y-t.y,f=a*a+s*s,h=a*u+s*l,p=u*u+l*l-r*r,g=h/f,m=p/f,_=g*g-m;if(_<0&&_>-1e-6&&(_=0),_<0)return[];var b=EM(_),A=-g+b,R=-g-b,T={x:t.x-a*A,y:t.y-s*A};if(_===0)return[T];var E={x:t.x-a*R,y:t.y-s*R};return[T,E].filter(function(v){return KP(v,t,e)})}function KP(t,e,n){return wS(t.x,e.x,n.x)&&wS(t.y,e.y,n.y)}function wS(t,e,n){return t>=bM(e,n)-Ch&&t<=qP(e,n)+Ch}function ZP(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}var Ch=.1;function SS(t,e){return ES(t.x-e.x)<=Ch&&ES(t.y-e.y)<=Ch}function WP(t,e,n,r){var a=n.segmentIndex,s=e.length-t.length;if(r.segmentMove){var u=r.segmentMove.segmentStartIndex,l=r.segmentMove.newSegmentStartIndex;return a===u?l:a>=l?a+s<l?l:a+s:a}if(r.bendpointMove){var f=r.bendpointMove.insert,h=r.bendpointMove.bendpointIndex,p;if(s===0)return a;if(a>=h&&(p=f?a+1:a-1),a<h&&(p=a,f&&n.type!=="bendpoint"&&h-1===a)){var g=wM(e,h);g<n.relativeLocation&&p++}return p}return s===0?a:r.connectionStart?a===0?0:null:r.connectionEnd&&a===t.length-2?e.length-2:null}function QP(t,e,n,r){var a=0,s=0,u=JP(t),l=VP(u,n),f=l.segmentIndex,h=WP(n,e,l,r);if(h===null)return{x:a,y:s};if(h<0||h>e.length-2)return{x:a,y:s};var p=TS(n,f),g=TS(e,h),m=l.position,_=eB(p,m),b=tB(p,g);if(l.type==="bendpoint"){var A=e.length-n.length,R=l.bendpointIndex,T=n[R];if(e.indexOf(T)!==-1)return{x:a,y:s};if(A===0){var E=e[R];return{x:E.x-l.position.x,y:E.y-l.position.y}}A<0&&R!==0&&R<n.length-1&&(_=wM(n,R))}var v={x:(g[1].x-g[0].x)*_+g[0].x,y:(g[1].y-g[0].y)*_+g[0].y},w=FP({x:u.x-m.x,y:u.y-m.y},b);return a=v.x+w.x-u.x,s=v.y+w.y-u.y,Wo({x:a,y:s})}function wM(t,e){var n=Th(t[e-1],t[e]),r=Th(t[e],t[e+1]),a=n/(n+r);return a}function JP(t){return{x:t.x+t.width/2,y:t.y+t.height/2}}function tB(t,e){var n=xS(t),r=xS(e);return r-n}function TS(t,e){return[t[e],t[e+1]]}function eB(t,e){var n=Th(t[0],t[1]),r=Th(t[0],e);return n===0?0:r/n}function xl(t,e,n){var r=Vc(e),a=Vc(n),s=Ei(t,r),u={x:s.x*(n.width/e.width),y:s.y*(n.height/e.height)};return Wo({x:a.x+u.x,y:a.y+u.y})}function CS(t,e,n){var r=Vc(t),a=Vc(e),s=Vc(n),u=Ei(t,r),l=Ei(r,a),f=nB(r,e,n);if(f)return f;var h={x:l.x*(n.width/e.width),y:l.y*(n.height/e.height)},p={x:s.x+h.x,y:s.y+h.y};return Wo({x:p.x+u.x-t.x,y:p.y+u.y-t.y})}function nB(t,e,n){var r=ce(e),a=ce(n);if(rB(r,a))return null;var s=zr(e,t),u,l,f;if(s==="top")u={x:0,y:a.bottom-r.bottom};else if(s==="bottom")u={x:0,y:a.top-r.top};else if(s==="right")u={x:a.left-r.left,y:0};else if(s==="left")u={x:a.right-r.right,y:0};else return null;return l={x:t.x+u.x,y:t.y+u.y},f=zr(n,l),f!==s?null:u}function rB(t,e){return iB(t,e)||oB(t,e)}function iB(t,e){return t.right!==e.right&&t.left!==e.left}function oB(t,e){return t.top!==e.top&&t.bottom!==e.bottom}var MS="name";function O0(t,e,n,r){ve.call(this,t),this.postExecute("element.updateProperties",function(s){var u=s.context,l=u.element,f=u.properties;MS in f&&e.updateLabel(l,f[MS])}),this.postExecute(["shape.create","connection.create"],function(s){var u=s.context,l=u.hints||{};if(l.createElementsBehavior!==!1){var f=u.shape||u.connection;f.businessObject,Ir(f)}}),this.postExecute("shape.delete",function(s){var u=s.context,l=u.labelTarget,f=u.hints||{};l&&f.unsetLabel!==!1&&e.updateLabel(l,null,null,{removeShape:!1})}),this.postExecute(["label.create"],function(s){var u=s.context,l=u.shape,f,h;l.labelTarget&&te(l.labelTarget||l,"dcr:BoardElement")&&(f=l.businessObject,h=f.di,h.label||(h.label=n.create("dcrDi:OdLabel",{bounds:n.create("dc:Bounds")})),ct(h.label.bounds,{x:l.x,y:l.y,width:l.width,height:l.height}))});function a(s){var u=s.context,l=u.connection,f=l.label,h=ct({},u.hints),p=u.newWaypoints||l.waypoints,g=u.oldWaypoints;return typeof h.startChanged>"u"&&(h.startChanged=!!h.connectionStart),typeof h.endChanged>"u"&&(h.endChanged=!!h.connectionEnd),QP(f,p,g,h)}this.postExecute(["connection.layout","connection.updateWaypoints"],function(s){var u=s.context,l=u.hints||{};if(l.labelBehavior!==!1){var f=u.connection,h=f.label,p;!h||!h.parent||(p=a(s),e.moveShape(h,p))}}),this.postExecute(["shape.replace"],function(s){var u=s.context,l=u.newShape;u.oldShape,pr(l)}),this.postExecute("shape.resize",function(s){var u=s.context,l=u.shape,f=u.newBounds,h=u.oldBounds;if(hC(l)){var p=l.label,g=ye(p),m=uB(h),_=sB(g,m),b=aB(_,h,f);e.moveShape(p,b)}})}we(O0,ve);O0.$inject=["eventBus","modeling","dcrFactory","textRenderer"];function aB(t,e,n){var r=xl(t,e,n);return Wo(Ei(r,t))}function sB(t,e){if(e.length){var n=cB(t,e);return xM(t,n)}}function uB(t){return[[{x:t.x,y:t.y},{x:t.x+(t.width||0),y:t.y}],[{x:t.x+(t.width||0),y:t.y},{x:t.x+(t.width||0),y:t.y+(t.height||0)}],[{x:t.x,y:t.y+(t.height||0)},{x:t.x+(t.width||0),y:t.y+(t.height||0)}],[{x:t.x,y:t.y},{x:t.x,y:t.y+(t.height||0)}]]}function cB(t,e){var n=e.map(function(a){return{line:a,distance:GP(t,a)}}),r=to(n,"distance");return r[0].line}function R0(t,e,n,r){e.invoke(ve,this),this.preExecute("shape.delete",function(a){var s=a.context,u=s.shape,l=u.businessObject;Ir(u)||r.unclaimId(l.id,l)}),this.preExecute("canvas.updateRoot",function(){var a=t.getRootElement(),s=a.businessObject;n.ids.unclaim(s.id)})}we(R0,ve);R0.$inject=["canvas","injector","moddle","modeling"];function N0(t,e,n){ve.call(this,t),this.postExecute("element.updateLabel",function(r){var a=r.element,s=r.newLabel;te(a,"dcr:TextBox")&&AS(s)&&e.removeElements([a])},!0),t.on("directEditing.cancel",1001,function(r){var a=r.active,s=a.element;te(s,"dcr:TextBox")&&AS(pr(s).name)&&(n._active=!1,e.removeElements([s]))})}we(N0,ve);N0.$inject=["eventBus","modeling","directEditing"];function AS(t){return!t||t===""}const lB={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","fixHoverBehavior","importDockingFix","labelBehavior","unclaimIdBehavior","emptyTextBoxBehavior"],adaptiveLabelPositioningBehavior:["type",M0],appendBehavior:["type",A0],fixHoverBehavior:["type",vM],importDockingFix:["type",mM],labelBehavior:["type",O0],unclaimIdBehavior:["type",R0],emptyTextBoxBehavior:["type",N0]};function Cu(t){ve.call(this,t),this.init()}Cu.$inject=["eventBus"];we(Cu,ve);Cu.prototype.addRule=function(t,e,n){var r=this;typeof t=="string"&&(t=[t]),t.forEach(function(a){r.canExecute(a,e,function(s,u,l){return n(s)},!0)})};Cu.prototype.init=function(){};function nr(t){Cu.call(this,t)}we(nr,Cu);nr.$inject=["eventBus"];nr.prototype.init=function(){this.addRule("connection.start",function(t){var e=t.source;return dB(e)}),this.addRule("connection.create",function(t){var e=t.source,n=t.target,r=t.hints||{},a=r.targetParent;a&&(n.parent=a);try{return im(e,n)}finally{a&&(n.parent=null)}}),this.addRule("connection.reconnect",function(t){t.connection;var e=t.source,n=t.target;return im(e,n)}),this.addRule("connection.updateWaypoints",function(t){return{type:t.connection.type}}),this.addRule("shape.resize",function(t){var e=t.shape,n=t.newBounds;return MM(e,n)}),this.addRule("elements.create",function(t){var e=t.elements;t.position;var n=t.target;return al(e,function(r){return r.host?th(r,r.host):om(r,n,null)})}),this.addRule("elements.move",function(t){var e=t.target,n=t.shapes;return t.position,th(n,e)||CM(n,e)}),this.addRule("shape.create",function(t){return om(t.shape,t.target,t.source,t.position)}),this.addRule("shape.attach",function(t){return th(t.shape,t.target,null,t.position)}),this.addRule("element.copy",function(t){return t.element,t.elements,AM()})};nr.prototype.canConnect=im;nr.prototype.canMove=CM;nr.prototype.canAttach=th;nr.prototype.canDrop=D0;nr.prototype.canCreate=om;nr.prototype.canReplace=pB;nr.prototype.canResize=MM;nr.prototype.canCopy=AM;nr.prototype.isLinkAllowed=gB;nr.prototype.canHaveLabel=yB;function nm(t,e){return t===e}function fB(t){for(var e=[];t;)t=t.parent,t&&e.push(t);return e}function SM(t,e){var n=fB(e);return n.indexOf(t)!==-1}function TM(t){return te(t,"dcr:Group")&&!t.labelTarget}function dB(t){return rm(t)?null:te(t,"dcr:Event")}function rm(t){return!t||Ir(t)}function im(t,e){return rm(t)||rm(e)?null:hB(t,e)?t===e&&te(t,"dcr:SubProcess")||te(e,"dcr:SubProcess")&&e.businessObject["multi-instance"]&&!dn(t,["dcr:Event","dcr:Nesting"])?!1:te(e,"dcr:SubProcess")&&e.businessObject["multi-instance"]?{type:"dcr:Relation",attrs:{type:"spawn"}}:t===e?{type:"dcr:Relation",attrs:{type:"exclude"}}:{type:"dcr:Relation",attrs:{type:"condition"}}:!1}function hB(t,e){return dn(t,["dcr:Event","dcr:Nesting","dcr:SubProcess"])&&dn(e,["dcr:Event","dcr:Nesting","dcr:SubProcess"])&&!SM(t,e)&&!(te(t,"dcr:SubProcess")&&t.businessObject["multi-instance"])}function D0(t,e){return Ir(t)||TM(t)||(dn(t,["dcr:Event","dcr:Nesting","dcr:Relation"])||te(t,"dcr:SubProcess")&&!t.businessObject["multi-instance"])&&dn(e,["dcr:Nesting","dcr:SubProcess"])&&!(te(t,"dcr:Nesting")&&te(e,"dcr:SubProcess")&&!e.businessObject["multi-instance"])?!0:te(t,"dcr:BoardElement")&&te(e,"dcr:DcrGraph")}function pB(t,e){return e}function th(t,e){if(Array.isArray(t)||(t=[t]),t.length!==1)return!1;var n=t[0];return Ir(n)||te(e,"dcr:BoardElement")?!1:"attach"}function CM(t,e){return e?t.every(function(n){return D0(n,e)}):!0}function om(t,e,n,r){return e?Ir(t)||TM(t)?!0:nm(n,e)||n&&SM(n,e)?!1:D0(t,e):!1}function MM(t,e){return dn(t,["dcr:Nesting","dcr:SubProcess"])?!e||e.width>=50&&e.height>=50:!1}function AM(t,e){return!0}function gB(t,e){return!(e==="exclude"&&nm(t.source,t.target)&&!te(t.target,"dcr:Event")||e==="spawn"&&(!te(t.target,"dcr:SubProcess")||!t.target.businessObject["multi-instance"]||!dn(t.source,["dcr:Event","dcr:Nesting"]))||te(t.target,"dcr:SubProcess")&&t.target.businessObject["multi-instance"]&&e!=="spawn"||nm(t.source,t.target)&&e!=="exclude")}function yB(t){return!dn(t,["dcr:Relation"])}const vB={__depends__:[Ci],__init__:["dcrRules"],dcrRules:["type",nr]};var mB=2e3;function OM(t,e){t.on("saveXML.start",mB,n);function n(){var r=e.getRootElement(),a=pr(r).di,s,u;s=Rm([r],!1),s=an(s,function(l){return l!==r&&!l.labelTarget}),u=Mn(s,f0),a.set("planeElement",u)}}OM.$inject=["eventBus","canvas"];const _B={__init__:["dcrDiOrdering"],dcrDiOrdering:["type",OM]};function sp(t){ve.call(this,t);var e=this;this.preExecute(["shape.create","connection.create"],function(n){var r=n.context,a=r.shape||r.connection,s=r.parent,u=e.getOrdering(a,s);u&&(u.parent!==void 0&&(r.parent=u.parent),r.parentIndex=u.index)}),this.preExecute(["shape.move","connection.move"],function(n){var r=n.context,a=r.shape||r.connection,s=r.newParent||a.parent,u=e.getOrdering(a,s);u&&(u.parent!==void 0&&(r.newParent=u.parent),r.newParentIndex=u.index)})}sp.prototype.getOrdering=function(t,e){return null};we(sp,ve);function L0(t,e,n){sp.call(this,t);var r=[{type:"dcr:Event",order:{level:5}},{type:"dcr:Relation",order:{level:3}}];function a(l){if(l.labelTarget)return{level:10};var f=Ie(r,function(h){return dn(l,[h.type])});return f&&f.order||{level:1}}function s(l){var f=l.order;if(f||(l.order=f=a(l)),!f)throw new Error("no order for <"+l.id+">");return f}function u(l,f,h){for(var p=f;p&&!dn(p,h);)p=p.parent;if(!p)throw new Error(n("no parent for {element} in {parent}",{element:l.id,parent:f.id}));return p}this.getOrdering=function(l,f){if(l.labelTarget)return{parent:e.getRootElement(),index:-1};var h=s(l);h.containers&&(f=u(l,f,h.containers));var p=f.children.indexOf(l),g=YT(f.children,function(m){return!l.labelTarget&&m.labelTarget?!1:h.level<s(m).level});return g!==-1&&p!==-1&&p<g&&(g-=1),{index:g,parent:f}}}L0.$inject=["eventBus","canvas","translate"];we(L0,sp);const xB={__depends__:[Jh],__init__:["odOrderingProvider"],odOrderingProvider:["type",L0]};var OS=Math.round;function P0(t,e){this._modeling=t,this._eventBus=e}P0.$inject=["modeling","eventBus"];P0.prototype.replaceElement=function(t,e,n){if(t.waypoints)return null;var r=this._modeling,a=this._eventBus;a.fire("replace.start",{element:t,attrs:e,hints:n});var s=e.width||t.width,u=e.height||t.height,l=e.x||t.x,f=e.y||t.y,h=OS(l+s/2),p=OS(f+u/2),g=r.replaceShape(t,ct({},e,{x:h,y:p,width:s,height:u}),n);return a.fire("replace.end",{element:t,newElement:g,hints:n}),g};function RM(t,e){e.on("replace.end",500,function(n){const{newElement:r,hints:a={}}=n;a.select!==!1&&t.select(r)})}RM.$inject=["selection","eventBus"];const EB={__init__:["replace","replaceSelectionBehavior"],replaceSelectionBehavior:["type",RM],replace:["type",P0]};function bB(t,e,n){re(n)||(n=[n]),nt(n,function(r){ns(t[r])||(e[r]=t[r])})}var wB=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function NM(t,e,n,r,a,s){function u(l,f,h){h=h||{};var p=f.type,g=l.businessObject,m=t.create(p),_={type:p,businessObject:m};_.di={},bB(l.di,_.di,["fill","stroke","background-color","border-color","color"]);var b=em(g.$descriptor),A=em(m.$descriptor,!0),R=SB(b,A);ct(m,eo(f,wB));var T=R;return m=n.copyElement(g,m,T),m.name=g.name,_=a.replaceElement(l,_,h),h.select!==!1&&s.select(_),_}this.replaceElement=u}NM.$inject=["dcrFactory","elementFactory","moddleCopy","modeling","replace","rules","selection"];function SB(t,e){return t.filter(function(n){return e.indexOf(n)!==-1})}const DM={__depends__:[JC,EB,lo],dcrReplace:["type",NM]},TB={commandStack:["type",Be]};var CB=new p0("tt");function MB(t){var e=fn('<div class="djs-tooltip-container" />');return io(e,{position:"absolute",width:"0",height:"0"}),t.insertBefore(e,t.firstChild),e}function AB(t,e,n){io(t,{left:e+"px",top:n+"px"})}function B0(t,e){t.style.display=e===!1?"none":""}var LM="djs-tooltip",yv="."+LM;function Vn(t,e){this._eventBus=t,this._canvas=e,this._ids=CB,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=MB(e.getContainer());var n=this;ti.bind(this._tooltipRoot,yv,"mousedown",function(r){r.stopPropagation()}),ti.bind(this._tooltipRoot,yv,"mouseover",function(r){n.trigger("mouseover",r)}),ti.bind(this._tooltipRoot,yv,"mouseout",function(r){n.trigger("mouseout",r)}),this._init()}Vn.$inject=["eventBus","canvas"];Vn.prototype.add=function(t){if(!t.position)throw new Error("must specifiy tooltip position");if(!t.html)throw new Error("must specifiy tooltip html");var e=this._ids.next();return t=ct({},this._tooltipDefaults,t,{id:e}),this._addTooltip(t),t.timeout&&this.setTimeout(t),e};Vn.prototype.trigger=function(t,e){var n=e.delegateTarget||e.target,r=this.get(hr(n,"data-tooltip-id"));r&&(t==="mouseover"&&r.timeout&&this.clearTimeout(r),t==="mouseout"&&r.timeout&&(r.timeout=1e3,this.setTimeout(r)))};Vn.prototype.get=function(t){return typeof t!="string"&&(t=t.id),this._tooltips[t]};Vn.prototype.clearTimeout=function(t){if(t=this.get(t),!!t){var e=t.removeTimer;e&&(clearTimeout(e),t.removeTimer=null)}};Vn.prototype.setTimeout=function(t){if(t=this.get(t),!!t){this.clearTimeout(t);var e=this;t.removeTimer=setTimeout(function(){e.remove(t)},t.timeout)}};Vn.prototype.remove=function(t){var e=this.get(t);e&&(Si(e.html),Si(e.htmlContainer),delete e.htmlContainer,delete this._tooltips[e.id])};Vn.prototype.show=function(){B0(this._tooltipRoot)};Vn.prototype.hide=function(){B0(this._tooltipRoot,!1)};Vn.prototype._updateRoot=function(t){var e=t.scale||1,n=t.scale||1,r="matrix("+e+",0,0,"+n+","+-1*t.x*e+","+-1*t.y*n+")";this._tooltipRoot.style.transform=r,this._tooltipRoot.style["-ms-transform"]=r};Vn.prototype._addTooltip=function(t){var e=t.id,n=t.html,r,a=this._tooltipRoot;n.get&&n.constructor.prototype.jquery&&(n=n.get(0)),jr(n)&&(n=fn(n)),r=fn('<div data-tooltip-id="'+e+'" class="'+LM+'">'),io(r,{position:"absolute"}),r.appendChild(n),t.type&&yr(r).add("djs-tooltip-"+t.type),t.className&&yr(r).add(t.className),t.htmlContainer=r,a.appendChild(r),this._tooltips[e]=t,this._updateTooltip(t)};Vn.prototype._updateTooltip=function(t){var e=t.position,n=t.htmlContainer;AB(n,e.x,e.y)};Vn.prototype._updateTooltipVisibilty=function(t){nt(this._tooltips,function(e){var n=e.show,r=e.htmlContainer,a=!0;n&&((n.minZoom>t.scale||n.maxZoom<t.scale)&&(a=!1),B0(r,a))})};Vn.prototype._init=function(){var t=this;function e(n){t._updateRoot(n),t._updateTooltipVisibilty(n),t.show()}this._eventBus.on("canvas.viewbox.changing",function(n){t.hide()}),this._eventBus.on("canvas.viewbox.changed",function(n){e(n.viewbox)})};const OB={__init__:["tooltips"],tooltips:["type",Vn]};function Jo(t,e){if(typeof e!="function")throw new Error("removeFn iterator must be a function");if(t){for(var n;n=t[0];)e(n);return t}}var RB=250,RS=1400;function I0(t,e,n){ve.call(this,e);var r=t.get("movePreview",!1);e.on("shape.move.start",RS,function(a){var s=a.context,u=s.shapes,l=s.validatedShapes;s.shapes=NS(u),s.validatedShapes=NS(l)}),r&&e.on("shape.move.start",RB,function(a){var s=a.context,u=s.shapes,l=[];nt(u,function(f){nt(f.labels,function(h){!h.hidden&&s.shapes.indexOf(h)===-1&&l.push(h),f.labelTarget&&l.push(f)})}),nt(l,function(f){r.makeDraggable(s,f,!0)})}),this.preExecuted("elements.move",RS,function(a){var s=a.context,u=s.closure,l=u.enclosedElements,f=[];nt(l,function(h){nt(h.labels,function(p){l[p.id]||f.push(p)})}),u.addAll(f)}),this.preExecute(["connection.delete","shape.delete"],function(a){var s=a.context,u=s.connection||s.shape;Jo(u.labels,function(l){n.removeShape(l,{nested:!0})})}),this.execute("shape.delete",function(a){var s=a.context,u=s.shape,l=u.labelTarget;l&&(s.labelTargetIndex=Nm(l.labels,u),s.labelTarget=l,u.labelTarget=null)}),this.revert("shape.delete",function(a){var s=a.context,u=s.shape,l=s.labelTarget,f=s.labelTargetIndex;l&&(ri(l.labels,u,f),u.labelTarget=l)})}we(I0,ve);I0.$inject=["injector","eventBus","modeling"];function NS(t){return an(t,function(e){return t.indexOf(e.labelTarget)===-1})}const NB={__init__:["labelSupport"],labelSupport:["type",I0]};var DB=251,DS=1401,LS="attach-ok";function j0(t,e,n,r,a){ve.call(this,e);var s=t.get("movePreview",!1);e.on("shape.move.start",DS,function(u){var l=u.context,f=l.shapes,h=l.validatedShapes;l.shapes=LB(f),l.validatedShapes=PB(h)}),s&&e.on("shape.move.start",DB,function(u){var l=u.context,f=l.shapes,h=am(f);nt(h,function(p){s.makeDraggable(l,p,!0),nt(p.labels,function(g){s.makeDraggable(l,g,!0)})})}),s&&e.on("shape.move.start",function(u){var l=u.context,f=l.shapes;if(f.length===1){var h=f[0],p=h.host;p&&(n.addMarker(p,LS),e.once(["shape.move.out","shape.move.cleanup"],function(){n.removeMarker(p,LS)}))}}),this.preExecuted("elements.move",DS,function(u){var l=u.context,f=l.closure,h=l.shapes,p=am(h);nt(p,function(g){f.add(g,f.topLevel[g.host.id])})}),this.postExecuted("elements.move",function(u){var l=u.context,f=l.shapes,h=l.newHost,p;h&&f.length!==1||(h?p=f:p=an(f,function(g){var m=g.host;return BB(g)&&!IB(f,m)}),nt(p,function(g){a.updateAttachment(g,h)}))}),this.postExecuted("elements.move",function(u){var l=u.context.shapes;nt(l,function(f){nt(f.attachers,function(h){nt(h.outgoing.slice(),function(p){var g=r.allowed("connection.reconnect",{connection:p,source:p.source,target:p.target});g||a.removeConnection(p)}),nt(h.incoming.slice(),function(p){var g=r.allowed("connection.reconnect",{connection:p,source:p.source,target:p.target});g||a.removeConnection(p)})})})}),this.postExecute("shape.create",function(u){var l=u.context,f=l.shape,h=l.host;h&&a.updateAttachment(f,h)}),this.postExecute("shape.replace",function(u){var l=u.context,f=l.oldShape,h=l.newShape;Jo(f.attachers,function(p){var g=r.allowed("elements.move",{target:h,shapes:[p]});g==="attach"?a.updateAttachment(p,h):a.removeShape(p)}),h.attachers.length&&nt(h.attachers,function(p){var g=CS(p,f,h);a.moveShape(p,g,p.parent)})}),this.postExecute("shape.resize",function(u){var l=u.context,f=l.shape,h=l.oldBounds,p=l.newBounds,g=f.attachers,m=l.hints||{};m.attachSupport!==!1&&nt(g,function(_){var b=CS(_,h,p);a.moveShape(_,b,_.parent),nt(_.labels,function(A){a.moveShape(A,b,A.parent)})})}),this.preExecute("shape.delete",function(u){var l=u.context.shape;Jo(l.attachers,function(f){a.removeShape(f)}),l.host&&a.updateAttachment(l,null)})}we(j0,ve);j0.$inject=["injector","eventBus","canvas","rules","modeling"];function am(t){return jv(Mn(t,function(e){return e.attachers||[]}))}function LB(t){var e=am(t);return SN("id",t,e)}function PB(t){var e=sl(t,"id");return an(t,function(n){for(;n;){if(n.host&&e[n.host.id])return!1;n=n.parent}return!0})}function BB(t){return!!t.host}function IB(t,e){return t.indexOf(e)!==-1}const jB={__depends__:[Ci],__init__:["attachSupport"],attachSupport:["type",j0]};var kB=250;function us(t,e){this._eventBus=t,this._dragging=e,this._tools=[],this._active=null}us.$inject=["eventBus","dragging"];us.prototype.registerTool=function(t,e){var n=this._tools;if(!e)throw new Error(`A tool has to be registered with it's "events"`);n.push(t),this.bindEvents(t,e)};us.prototype.isActive=function(t){return t&&this._active===t};us.prototype.length=function(t){return this._tools.length};us.prototype.setActive=function(t){var e=this._eventBus;this._active!==t&&(this._active=t,e.fire("tool-manager.update",{tool:t}))};us.prototype.bindEvents=function(t,e){var n=this._eventBus,r=this._dragging,a=[];n.on(e.tool+".init",function(s){var u=s.context;if(!u.reactivate&&this.isActive(t)){this.setActive(null),r.cancel();return}this.setActive(t)},this),nt(e,function(s){a.push(s+".ended"),a.push(s+".canceled")}),n.on(a,kB,function(s){this._active&&(zB(s)||this.setActive(null))},this)};function zB(t){var e=t.originalEvent&&t.originalEvent.target;return e&&oo(e,'.group[data-group="tools"]')}const up={__depends__:[fo],__init__:["toolManager"],toolManager:["type",us]};function $B(t,e){if(t==="x"){if(e>0)return"e";if(e<0)return"w"}if(t==="y"){if(e>0)return"s";if(e<0)return"n"}return null}function HB(t,e){var n=[];return nt(t.concat(e),function(r){var a=r.incoming,s=r.outgoing;nt(a.concat(s),function(u){var l=u.source,f=u.target;($c(t,l)||$c(t,f)||$c(e,l)||$c(e,f))&&($c(n,u)||n.push(u))})}),n}function $c(t,e){return t.indexOf(e)!==-1}function UB(t,e,n){var r=t.x,a=t.y,s=t.width,u=t.height,l=n.x,f=n.y;switch(e){case"n":return{x:r,y:a+f,width:s,height:u-f};case"s":return{x:r,y:a,width:s,height:u+f};case"w":return{x:r+l,y:a,width:s-l,height:u};case"e":return{x:r,y:a,width:s+l,height:u};default:throw new Error("unknown direction: "+e)}}var vv=Math.abs,FB=Math.round,Ki={x:"width",y:"height"},PM="crosshair",Xo={n:"top",w:"left",s:"bottom",e:"right"},XB=1500,sd={n:"s",w:"e",s:"n",e:"w"},ud=20;function go(t,e,n,r,a,s,u){this._canvas=t,this._dragging=e,this._eventBus=n,this._modeling=r,this._rules=a,this._toolManager=s,this._mouse=u;var l=this;s.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),n.on("spaceTool.selection.end",function(f){n.once("spaceTool.selection.ended",function(){l.activateMakeSpace(f.originalEvent)})}),n.on("spaceTool.move",XB,function(f){var h=f.context,p=h.initialized;p||(p=h.initialized=l.init(f,h)),p&&BS(f)}),n.on("spaceTool.end",function(f){var h=f.context,p=h.axis,g=h.direction,m=h.movingShapes,_=h.resizingShapes,b=h.start;if(h.initialized){BS(f);var A={x:0,y:0};A[p]=FB(f["d"+p]),l.makeSpace(m,_,A,g,b),n.once("spaceTool.ended",function(R){l.activateSelection(R.originalEvent,!0,!0)})}})}go.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"];go.prototype.activateSelection=function(t,e,n){this._dragging.init(t,"spaceTool.selection",{autoActivate:e,cursor:PM,data:{context:{reactivate:n}},trapClick:!1})};go.prototype.activateMakeSpace=function(t){this._dragging.init(t,"spaceTool",{autoActivate:!0,cursor:PM,data:{context:{}}})};go.prototype.makeSpace=function(t,e,n,r,a){return this._modeling.createSpace(t,e,n,r,a)};go.prototype.init=function(t,e){var n=vv(t.dx)>vv(t.dy)?"x":"y",r=t["d"+n],a=t[n]-r;if(vv(r)<5)return!1;r<0&&(r*=-1),Wc(t)&&(r*=-1);var s=$B(n,r),u=this._canvas.getRootElement();!d0(t)&&t.hover&&(u=t.hover);var l=[...Rm(u,!0),...u.attachers||[]],f=this.calculateAdjustments(l,n,r,a),h=this._eventBus.fire("spaceTool.getMinDimensions",{axis:n,direction:s,shapes:f.resizingShapes,start:a}),p=GB(f,n,s,a,h);return ct(e,f,{axis:n,direction:s,spaceToolConstraints:p,start:a}),np("resize-"+(n==="x"?"ew":"ns")),!0};go.prototype.calculateAdjustments=function(t,e,n,r){var a=this._rules,s=[],u=[],l=[],f=[];function h(m){s.includes(m)||s.push(m);var _=m.label;_&&!s.includes(_)&&s.push(_)}function p(m){u.includes(m)||u.push(m)}nt(t,function(m){if(!(!m.parent||vr(m))){if($e(m)){f.push(m);return}var _=m[e],b=_+m[Ki[e]];if(qB(m)&&(n>0&&ye(m)[e]>r||n<0&&ye(m)[e]<r)){l.push(m);return}if(n>0&&_>r||n<0&&b<r){h(m);return}if(_<r&&b>r&&a.allowed("shape.resize",{shape:m})){p(m);return}}}),nt(s,function(m){var _=m.attachers;_&&nt(_,function(b){h(b)})});var g=s.concat(u);return nt(l,function(m){var _=m.host;Za(g,_)&&h(m)}),g=s.concat(u),nt(f,function(m){var _=m.source,b=m.target,A=m.label;Za(g,_)&&Za(g,b)&&A&&h(A)}),{movingShapes:s,resizingShapes:u}};go.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();this.activateSelection(t,!!t)};go.prototype.isActive=function(){var t=this._dragging.context();return t?/^spaceTool/.test(t.prefix):!1};function PS(t){return{top:t.top-ud,right:t.right+ud,bottom:t.bottom+ud,left:t.left-ud}}function BS(t){var e=t.context,n=e.spaceToolConstraints;if(n){var r,a;Vt(n.left)&&(r=Math.max(t.x,n.left),t.dx=t.dx+r-t.x,t.x=r),Vt(n.right)&&(r=Math.min(t.x,n.right),t.dx=t.dx+r-t.x,t.x=r),Vt(n.top)&&(a=Math.max(t.y,n.top),t.dy=t.dy+a-t.y,t.y=a),Vt(n.bottom)&&(a=Math.min(t.y,n.bottom),t.dy=t.dy+a-t.y,t.y=a)}}function GB(t,e,n,r,a){var s=t.movingShapes,u=t.resizingShapes;if(u.length){var l={},f,h;return nt(u,function(p){var g=p.attachers,m=p.children,_=ce(p),b=an(m,function(z){return!$e(z)&&!vr(z)&&!Za(s,z)&&!Za(u,z)}),A=an(m,function(z){return!$e(z)&&!vr(z)&&Za(s,z)}),R,T,E,v=[],w=[],M,C,P,B;b.length&&(T=PS(ce(xn(b))),R=r-_[Xo[n]]+T[Xo[n]],n==="n"?l.bottom=h=Vt(h)?Math.min(h,R):R:n==="w"?l.right=h=Vt(h)?Math.min(h,R):R:n==="s"?l.top=f=Vt(f)?Math.max(f,R):R:n==="e"&&(l.left=f=Vt(f)?Math.max(f,R):R)),A.length&&(E=PS(ce(xn(A))),R=r-E[Xo[sd[n]]]+_[Xo[sd[n]]],n==="n"?l.bottom=h=Vt(h)?Math.min(h,R):R:n==="w"?l.right=h=Vt(h)?Math.min(h,R):R:n==="s"?l.top=f=Vt(f)?Math.max(f,R):R:n==="e"&&(l.left=f=Vt(f)?Math.max(f,R):R)),g&&g.length&&(g.forEach(function(z){Za(s,z)?v.push(z):w.push(z)}),v.length&&(M=ce(xn(v.map(ye))),C=_[Xo[sd[n]]]-(M[Xo[sd[n]]]-r)),w.length&&(P=ce(xn(w.map(ye))),B=P[Xo[n]]-(_[Xo[n]]-r)),n==="n"?(R=Math.min(C||1/0,B||1/0),l.bottom=h=Vt(h)?Math.min(h,R):R):n==="w"?(R=Math.min(C||1/0,B||1/0),l.right=h=Vt(h)?Math.min(h,R):R):n==="s"?(R=Math.max(C||-1/0,B||-1/0),l.top=f=Vt(f)?Math.max(f,R):R):n==="e"&&(R=Math.max(C||-1/0,B||-1/0),l.left=f=Vt(f)?Math.max(f,R):R));var S=a&&a[p.id];S&&(n==="n"?(R=r+p[Ki[e]]-S[Ki[e]],l.bottom=h=Vt(h)?Math.min(h,R):R):n==="w"?(R=r+p[Ki[e]]-S[Ki[e]],l.right=h=Vt(h)?Math.min(h,R):R):n==="s"?(R=r-p[Ki[e]]+S[Ki[e]],l.top=f=Vt(f)?Math.max(f,R):R):n==="e"&&(R=r-p[Ki[e]]+S[Ki[e]],l.left=f=Vt(f)?Math.max(f,R):R))}),l}}function Za(t,e){return t.indexOf(e)!==-1}function qB(t){return!!t.host}var mv="djs-dragging",IS="djs-resizing",VB=250,cd=Math.max;function BM(t,e,n,r,a){function s(u,l){nt(u,function(f){a.addDragger(f,l),n.addMarker(f,mv)})}t.on("spaceTool.selection.start",function(u){var l=n.getLayer("space"),f=u.context,h={x:"M 0,-10000 L 0,10000",y:"M -10000,0 L 10000,0"},p=Rt("g");yt(p,r.cls("djs-crosshair-group",["no-events"])),Zt(l,p);var g=Rt("path");yt(g,"d",h.x),le(g).add("djs-crosshair"),Zt(p,g);var m=Rt("path");yt(m,"d",h.y),le(m).add("djs-crosshair"),Zt(p,m),f.crosshairGroup=p}),t.on("spaceTool.selection.move",function(u){var l=u.context.crosshairGroup;Br(l,u.x,u.y)}),t.on("spaceTool.selection.cleanup",function(u){var l=u.context,f=l.crosshairGroup;f&&We(f)}),t.on("spaceTool.move",VB,function(u){var l=u.context,f=l.line,h=l.axis,p=l.movingShapes,g=l.resizingShapes;if(l.initialized){if(!l.dragGroup){var m=n.getLayer("space");f=Rt("path"),yt(f,"d","M0,0 L0,0"),le(f).add("djs-crosshair"),Zt(m,f),l.line=f;var _=Rt("g");yt(_,r.cls("djs-drag-group",["no-events"])),Zt(n.getActiveLayer(),_),s(p,_);var b=l.movingConnections=e.filter(function(w){var M=!1;nt(p,function(S){nt(S.outgoing,function(z){w===z&&(M=!0)})});var C=!1;nt(p,function(S){nt(S.incoming,function(z){w===z&&(C=!0)})});var P=!1;nt(g,function(S){nt(S.outgoing,function(z){w===z&&(P=!0)})});var B=!1;return nt(g,function(S){nt(S.incoming,function(z){w===z&&(B=!0)})}),$e(w)&&(M||P)&&(C||B)});s(b,_),l.dragGroup=_}if(!l.frameGroup){var A=Rt("g");yt(A,r.cls("djs-frame-group",["no-events"])),Zt(n.getActiveLayer(),A);var R=[];nt(g,function(w){var M=a.addFrame(w,A),C=M.getBBox();R.push({element:M,initialBounds:C}),n.addMarker(w,IS)}),l.frameGroup=A,l.frames=R}var T={x:"M"+u.x+", -10000 L"+u.x+", 10000",y:"M -10000, "+u.y+" L 10000, "+u.y};yt(f,{d:T[h]});var E={x:"y",y:"x"},v={x:u.dx,y:u.dy};v[E[l.axis]]=0,Br(l.dragGroup,v.x,v.y),nt(l.frames,function(w){var M=w.element,C=w.initialBounds,P,B;l.direction==="e"?yt(M,{width:cd(C.width+v.x,5)}):(P=cd(C.width-v.x,5),yt(M,{width:P,x:C.x+C.width-P})),l.direction==="s"?yt(M,{height:cd(C.height+v.y,5)}):(B=cd(C.height-v.y,5),yt(M,{height:B,y:C.y+C.height-B}))})}}),t.on("spaceTool.cleanup",function(u){var l=u.context,f=l.movingShapes,h=l.movingConnections,p=l.resizingShapes,g=l.line,m=l.dragGroup,_=l.frameGroup;nt(f,function(b){n.removeMarker(b,mv)}),nt(h,function(b){n.removeMarker(b,mv)}),m&&(We(g),We(m)),nt(p,function(b){n.removeMarker(b,IS)}),_&&We(_)})}BM.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];const IM={__init__:["spaceToolPreview"],__depends__:[fo,Ci,up,gl,vl],spaceTool:["type",go],spaceToolPreview:["type",BM]};function Gr(t){this._model=t}Gr.$inject=["moddle"];Gr.prototype._needsId=function(t){return dn(t,["dcr:BoardElement"])};Gr.prototype._ensureId=function(t){var e;te(t,"dcr:Event")?e="Event":e=(t.$type||"").replace(/^[^:]*:/g,""),e+="_",!t.id&&this._needsId(t)&&(t.id=this._model.ids.nextPrefixed(e,t))};Gr.prototype.create=function(t,e){var n=this._model.create(t,e||{});return t==="dcr:Event"&&(n.description=""),this._ensureId(n),n};Gr.prototype.createDiLabel=function(){return this.create("dcrDi:OdLabel",{bounds:this.createDiBounds()})};Gr.prototype.createDiShape=function(t,e,n){return this.create("dcrDi:DcrShape",ct({boardElement:t,bounds:this.createDiBounds(e)},n))};Gr.prototype.createDiBounds=function(t){return this.create("dc:Bounds",t)};Gr.prototype.createDiEdge=function(t,e,n){return this.create("dcrDi:Relation",ct({boardElement:t},n))};Gr.prototype.createDiPlane=function(t){return this.create("dcrDi:DcrPlane",{boardElement:t})};Gr.prototype.createDiWaypoints=function(t){var e=this;return Mn(t,function(n){return e.createDiWaypoint(n)})};Gr.prototype.createDiWaypoint=function(t){return this.create("dc:Point",eo(t,["x","y"]))};function qr(t,e,n,r){ve.call(this,t),this._dcrFactory=e,this._translate=r;var a=this;function s(_){var b=_.context,A=b.hints||{},R;!b.cropped&&A.createElementsBehavior!==!1&&(R=b.connection,R.waypoints=n.getCroppedWaypoints(R),b.cropped=!0)}this.executed(["connection.layout","connection.create"],s),this.reverted(["connection.layout"],function(_){delete _.context.cropped});function u(_){var b=_.context;a.updateParent(b.shape||b.connection,b.oldParent)}function l(_){var b=_.context,A=b.shape||b.connection,R=b.parent||b.newParent;a.updateParent(A,R)}this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],mi(u)),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],mi(l));function f(_){var b=_.context,A=b.oldRoot,R=A.children;nt(R,function(T){te(T,"dcr:BoardElement")&&a.updateParent(T)})}this.executed(["canvas.updateRoot"],f),this.reverted(["canvas.updateRoot"],f);function h(_){var b=_.context.shape;te(b,"dcr:BoardElement")&&a.updateBounds(b)}this.executed(["shape.move","shape.create","shape.resize"],mi(function(_){_.context.shape.type!=="label"&&h(_)})),this.reverted(["shape.move","shape.create","shape.resize"],mi(function(_){_.context.shape.type!=="label"&&h(_)})),t.on("shape.changed",function(_){_.element.type==="label"&&h({context:{shape:_.element}})});function p(_){a.updateConnection(_.context)}this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],mi(p)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],mi(p));function g(_){a.updateConnectionWaypoints(_.context.connection)}this.executed(["connection.layout","connection.move","connection.updateWaypoints"],mi(g)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],mi(g));function m(_){a.updateAttachment(_.context)}this.executed(["element.updateAttachment"],mi(m)),this.reverted(["element.updateAttachment"],mi(m))}we(qr,ve);qr.$inject=["eventBus","dcrFactory","connectionDocking","translate"];qr.prototype.updateAttachment=function(t){var e=t.shape,n=e.businessObject,r=e.host;n.attachedToRef=r&&r.businessObject};qr.prototype.updateParent=function(t,e){if(!Ir(t)){var n=t.parent,r=t.businessObject,a=n&&n.businessObject,s=a&&a.di;this.updateSemanticParent(r,a),this.updateDiParent(r.di,s)}};qr.prototype.updateBounds=function(t){var e=t.businessObject.di,n=Ir(t)?this._getLabel(e):e,r=n.bounds;r||(r=this._dcrFactory.createDiBounds(),n.set("bounds",r)),ct(r,{x:t.x,y:t.y,width:t.width,height:t.height})};qr.prototype.updateDiParent=function(t,e){if(e&&!te(e,"dcrDi:DcrPlane")&&(e=e.$parent),t.$parent!==e){var n=(e||t.$parent).get("planeElement");e?(n.push(t),t.$parent=e):(ni(n,t),t.$parent=null)}};qr.prototype.updateSemanticParent=function(t,e,n){var r,a=this._translate;if(t.$parent!==e){if(te(t,"dcr:BoardElement")&&(r="boardElements"),!r)throw new Error(a("no parent for {element} in {parent}",{element:t.id,parent:e.id}));var s;if(t.$parent&&(s=t.$parent.get(r),ni(s,t)),e?(s=e.get(r),s.push(t),t.$parent=e):t.$parent=null,n){var u=n.get(r);ni(s,t),e&&(u||(u=[],e.set(r,u)),u.push(t))}}};qr.prototype.updateConnection=function(t){var e=t.connection,n=pr(e),r=pr(e.source),a=pr(e.target),s=te(n,"dcr:Relation");n.sourceRef!==r&&(s&&(ni(n.sourceRef&&n.sourceRef.get("links"),n),r&&r.get("links")&&r.get("links").push(n)),n.sourceRef=r),n.targetRef!==a&&(n.targetRef=a),this.updateConnectionWaypoints(e),this.updateDiConnection(n.di,r,a)};qr.prototype.updateConnectionWaypoints=function(t){t.businessObject.di.set("waypoint",this._dcrFactory.createDiWaypoints(t.waypoints))};qr.prototype.updateDiConnection=function(t,e,n){t.sourceElement&&t.sourceElement.boardElement!==e&&(t.sourceElement=e&&e.di),t.targetElement&&t.targetElement.boardElement!==n&&(t.targetElement=n&&n.di)};qr.prototype._getLabel=function(t){return t.label||(t.label=this._dcrFactory.createDiLabel()),t.label};function mi(t){return function(e){var n=e.context,r=n.shape||n.connection;te(r,"dcr:BoardElement")&&t(e)}}function cs(t,e,n){so.call(this),this._dcrFactory=t,this._moddle=e,this._translate=n}we(cs,so);cs.$inject=["dcrFactory","moddle","translate"];cs.prototype.baseCreate=so.prototype.create;cs.prototype.create=function(t,e){return t==="label"?(e.di||this._dcrFactory.createDiLabel(),this.baseCreate(t,ct({type:"label"},Eh,e))):this.createOdElement(t,e)};cs.prototype.createOdElement=function(t,e){var n,r=this._translate;e=e||{};var a=e.businessObject;if(!a){if(!e.type)throw new Error(r("no shape type specified"));a=this._dcrFactory.create(e.type)}if(a.di||(t==="root"?a.di=this._dcrFactory.createDiPlane(a,[],{id:a.id+"_di"}):t==="connection"?a.di=this._dcrFactory.createDiEdge(a,[],{id:a.id+"_di"}):a.di=this._dcrFactory.createDiShape(a,{},{id:a.id+"_di"})),e.di&&(ct(a.di,e.di),delete e.di),YB(a,e,["processRef","isInterrupting","associationDirection","isForCompensation"]),n=this._getDefaultSize(a),e=ct({businessObject:a,id:a.id},n,e),e.attrs)for(let s of Object.keys(e.attrs))a.set(s,e.attrs[s]);return this.baseCreate(t,e)};cs.prototype._getDefaultSize=function(t){return te(t,"dcr:Event")?{width:130,height:150}:te(t,"dcr:Nesting")?{width:400,height:280}:te(t,"dcr:SubProcess")?{width:400,height:280}:{width:100,height:80}};function YB(t,e,n){nt(n,function(r){e[r]!==void 0&&KB(t,e,r)})}function KB(t,e,n){t[n]=e[n],delete e[n]}function cp(t,e){this._modeling=t,this._canvas=e}cp.$inject=["modeling","canvas"];cp.prototype.preExecute=function(t){var e=this._modeling,n=t.elements,r=t.alignment;nt(n,function(a){var s={x:0,y:0};_n(r.left)?s.x=r.left-a.x:_n(r.right)?s.x=r.right-a.width-a.x:_n(r.center)?s.x=r.center-Math.round(a.width/2)-a.x:_n(r.top)?s.y=r.top-a.y:_n(r.bottom)?s.y=r.bottom-a.height-a.y:_n(r.middle)&&(s.y=r.middle-Math.round(a.height/2)-a.y),e.moveElements([a],s,a.parent)})};cp.prototype.postExecute=function(t){};function lp(t){this._modeling=t}lp.$inject=["modeling"];lp.prototype.preExecute=function(t){var e=t.source;if(!e)throw new Error("source required");var n=t.target||e.parent,r=t.shape,a=t.hints||{};r=t.shape=this._modeling.createShape(r,t.position,n,{attach:a.attach}),t.shape=r};lp.prototype.postExecute=function(t){var e=t.hints||{};ZB(t.source,t.shape)||(e.connectionTarget===t.source?this._modeling.connect(t.shape,t.source,t.connection):this._modeling.connect(t.source,t.shape,t.connection))};function ZB(t,e){return zh(t.outgoing,function(n){return n.target===e})}function fp(t,e){this._canvas=t,this._layouter=e}fp.$inject=["canvas","layouter"];fp.prototype.execute=function(t){var e=t.connection,n=t.source,r=t.target,a=t.parent,s=t.parentIndex,u=t.hints;if(!n||!r)throw new Error("source and target required");if(!a)throw new Error("parent required");return e.source=n,e.target=r,e.waypoints||(e.waypoints=this._layouter.layoutConnection(e,u)),this._canvas.addConnection(e,a,s),e};fp.prototype.revert=function(t){var e=t.connection;return this._canvas.removeConnection(e),e.source=null,e.target=null,e};var ld=Math.round;function k0(t){this._modeling=t}k0.$inject=["modeling"];k0.prototype.preExecute=function(t){var e=t.elements,n=t.parent,r=t.parentIndex,a=t.position,s=t.hints,u=this._modeling;nt(e,function(g){Vt(g.x)||(g.x=0),Vt(g.y)||(g.y=0)});var l=an(e,function(g){return!g.hidden}),f=xn(l);nt(e,function(g){$e(g)&&(g.waypoints=Mn(g.waypoints,function(m){return{x:ld(m.x-f.x-f.width/2+a.x),y:ld(m.y-f.y-f.height/2+a.y)}})),ct(g,{x:ld(g.x-f.x-f.width/2+a.x),y:ld(g.y-f.y-f.height/2+a.y)})});var h=u2(e),p={};nt(e,function(g){if($e(g)){p[g.id]=Vt(r)?u.createConnection(p[g.source.id],p[g.target.id],r,g,g.parent||n,s):u.createConnection(p[g.source.id],p[g.target.id],g,g.parent||n,s);return}var m=ct({},s);h.indexOf(g)===-1&&(m.autoResize=!1),vr(g)&&(m=ro(m,["attach"])),p[g.id]=Vt(r)?u.createShape(g,eo(g,["x","y","width","height"]),g.parent||n,r,m):u.createShape(g,eo(g,["x","y","width","height"]),g.parent||n,m)}),t.elements=KT(p)};var jS=Math.round;function pa(t){this._canvas=t}pa.$inject=["canvas"];pa.prototype.execute=function(t){var e=t.shape,n=t.position,r=t.parent,a=t.parentIndex;if(!r)throw new Error("parent required");if(!n)throw new Error("position required");return n.width!==void 0?ct(e,n):ct(e,{x:n.x-jS(e.width/2),y:n.y-jS(e.height/2)}),this._canvas.addShape(e,r,a),e};pa.prototype.revert=function(t){var e=t.shape;return this._canvas.removeShape(e),e};function El(t){pa.call(this,t)}we(El,pa);El.$inject=["canvas"];var WB=pa.prototype.execute;El.prototype.execute=function(t){var e=t.shape;return JB(e),e.labelTarget=t.labelTarget,WB.call(this,t)};var QB=pa.prototype.revert;El.prototype.revert=function(t){return t.shape.labelTarget=null,QB.call(this,t)};function JB(t){["width","height"].forEach(function(e){typeof t[e]>"u"&&(t[e]=0)})}function bl(t,e){this._canvas=t,this._modeling=e}bl.$inject=["canvas","modeling"];bl.prototype.preExecute=function(t){var e=this._modeling,n=t.connection;Jo(n.incoming,function(r){e.removeConnection(r,{nested:!0})}),Jo(n.outgoing,function(r){e.removeConnection(r,{nested:!0})})};bl.prototype.execute=function(t){var e=t.connection,n=e.parent;return t.parent=n,t.parentIndex=Nm(n.children,e),t.source=e.source,t.target=e.target,this._canvas.removeConnection(e),e.source=null,e.target=null,e};bl.prototype.revert=function(t){var e=t.connection,n=t.parent,r=t.parentIndex;return e.source=t.source,e.target=t.target,ri(n.children,e,r),this._canvas.addConnection(e,n),e};function z0(t,e){this._modeling=t,this._elementRegistry=e}z0.$inject=["modeling","elementRegistry"];z0.prototype.postExecute=function(t){var e=this._modeling,n=this._elementRegistry,r=t.elements;nt(r,function(a){n.get(a.id)&&(a.waypoints?e.removeConnection(a):e.removeShape(a))})};function wl(t,e){this._canvas=t,this._modeling=e}wl.$inject=["canvas","modeling"];wl.prototype.preExecute=function(t){var e=this._modeling,n=t.shape;Jo(n.incoming,function(r){e.removeConnection(r,{nested:!0})}),Jo(n.outgoing,function(r){e.removeConnection(r,{nested:!0})}),Jo(n.children,function(r){$e(r)?e.removeConnection(r,{nested:!0}):e.removeShape(r,{nested:!0})})};wl.prototype.execute=function(t){var e=this._canvas,n=t.shape,r=n.parent;return t.oldParent=r,t.oldParentIndex=Nm(r.children,n),e.removeShape(n),n};wl.prototype.revert=function(t){var e=this._canvas,n=t.shape,r=t.oldParent,a=t.oldParentIndex;return ri(r.children,n,a),e.addShape(n,r),n};function dp(t){this._modeling=t}dp.$inject=["modeling"];var kS={x:"y",y:"x"};dp.prototype.preExecute=function(t){var e=this._modeling,n=t.groups,r=t.axis,a=t.dimension;function s(R,T){R.range.min=Math.min(T[r],R.range.min),R.range.max=Math.max(T[r]+T[a],R.range.max)}function u(R){return R[r]+R[a]/2}function l(R){return R.length-1}function f(R){return R.max-R.min}function h(R,T){var E={y:0};E[r]=R-u(T),E[r]&&(E[kS[r]]=0,e.moveElements([T],E,T.parent))}var p=n[0],g=l(n),m=n[g],_,b,A=0;nt(n,function(R,T){var E,v,w;if(R.elements.length<2){T&&T!==n.length-1&&(s(R,R.elements[0]),A+=f(R.range));return}E=to(R.elements,r),v=E[0],T===g&&(v=E[l(E)]),w=u(v),R.range=null,nt(E,function(M){if(h(w,M),R.range===null){R.range={min:M[r],max:M[r]+M[a]};return}s(R,M)}),T&&T!==n.length-1&&(A+=f(R.range))}),b=Math.abs(m.range.min-p.range.max),_=Math.round((b-A)/(n.length-1)),!(_<n.length-1)&&nt(n,function(R,T){var E={},v;R===p||R===m||(v=n[T-1],R.range.max=0,nt(R.elements,function(w,M){E[kS[r]]=0,E[r]=v.range.max-w[r]+_,R.range.min!==w[r]&&(E[r]+=w[r]-R.range.min),E[r]&&e.moveElements([w],E,w.parent),R.range.max=Math.max(w[r]+w[a],M?R.range.max:0)}))})};dp.prototype.postExecute=function(t){};function hp(t,e){this._layouter=t,this._canvas=e}hp.$inject=["layouter","canvas"];hp.prototype.execute=function(t){var e=t.connection,n=e.waypoints;return ct(t,{oldWaypoints:n}),e.waypoints=this._layouter.layoutConnection(e,t.hints),e};hp.prototype.revert=function(t){var e=t.connection;return e.waypoints=t.oldWaypoints,e};function $0(){}$0.prototype.execute=function(t){var e=t.connection,n=t.delta,r=t.newParent||e.parent,a=t.newParentIndex,s=e.parent;return t.oldParent=s,t.oldParentIndex=ni(s.children,e),ri(r.children,e,a),e.parent=r,nt(e.waypoints,function(u){u.x+=n.x,u.y+=n.y,u.original&&(u.original.x+=n.x,u.original.y+=n.y)}),e};$0.prototype.revert=function(t){var e=t.connection,n=e.parent,r=t.oldParent,a=t.oldParentIndex,s=t.delta;return ni(n.children,e),ri(r.children,e,a),e.parent=r,nt(e.waypoints,function(u){u.x-=s.x,u.y-=s.y,u.original&&(u.original.x-=s.x,u.original.y-=s.y)}),e};function H0(t,e,n){var r=pp(t),a=kM(r,e),s=r[0];return a.length?a[a.length-1]:xl(s.original||s,n,e)}function U0(t,e,n){var r=pp(t),a=kM(r,e),s=r[r.length-1];return a.length?a[0]:xl(s.original||s,n,e)}function F0(t,e,n){var r=pp(t),a=jM(e,n),s=r[0];return xl(s.original||s,a,e)}function X0(t,e,n){var r=pp(t),a=jM(e,n),s=r[r.length-1];return xl(s.original||s,a,e)}function jM(t,e){return{x:t.x-e.x,y:t.y-e.y,width:t.width,height:t.height}}function pp(t){var e=t.waypoints;if(!e.length)throw new Error("connection#"+t.id+": no waypoints");return e}function kM(t,e){var n=Mn(t,e9);return an(n,function(r){return t9(r,e)})}function t9(t,e){return zr(e,t,1)==="intersect"}function e9(t){return t.original||t}function G0(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}G0.prototype.add=function(t,e){return this.addAll([t],e)};G0.prototype.addAll=function(t,e){var n=pD(t,!!e,this);return ct(this,n),this};function Sl(t){this._modeling=t}Sl.prototype.moveRecursive=function(t,e,n){return t?this.moveClosure(this.getClosure(t),e,n):[]};Sl.prototype.moveClosure=function(t,e,n,r,a){var s=this._modeling,u=t.allShapes,l=t.allConnections,f=t.enclosedConnections,h=t.topLevel,p=!1;a&&a.parent===n&&(p=!0),nt(u,function(g){s.moveShape(g,e,h[g.id]&&!p&&n,{recurse:!1,layout:!1})}),nt(l,function(g){var m=!!u[g.source.id],_=!!u[g.target.id];f[g.id]&&m&&_?s.moveConnection(g,e,h[g.id]&&!p&&n):s.layoutConnection(g,{connectionStart:m&&F0(g,g.source,e),connectionEnd:_&&X0(g,g.target,e)})})};Sl.prototype.getClosure=function(t){return new G0().addAll(t,!0)};function gp(t){this._helper=new Sl(t)}gp.$inject=["modeling"];gp.prototype.preExecute=function(t){t.closure=this._helper.getClosure(t.shapes)};gp.prototype.postExecute=function(t){var e=t.hints,n;e&&e.primaryShape&&(n=e.primaryShape,e.oldParent=n.parent),this._helper.moveClosure(t.closure,t.delta,t.newParent,t.newHost,n)};function ls(t){this._modeling=t,this._helper=new Sl(t)}ls.$inject=["modeling"];ls.prototype.execute=function(t){var e=t.shape,n=t.delta,r=t.newParent||e.parent,a=t.newParentIndex,s=e.parent;return t.oldBounds=eo(e,["x","y","width","height"]),t.oldParent=s,t.oldParentIndex=ni(s.children,e),ri(r.children,e,a),ct(e,{parent:r,x:e.x+n.x,y:e.y+n.y}),e};ls.prototype.postExecute=function(t){var e=t.shape,n=t.delta,r=t.hints,a=this._modeling;r.layout!==!1&&(nt(e.incoming,function(s){a.layoutConnection(s,{connectionEnd:X0(s,e,n)})}),nt(e.outgoing,function(s){a.layoutConnection(s,{connectionStart:F0(s,e,n)})})),r.recurse!==!1&&this.moveChildren(t)};ls.prototype.revert=function(t){var e=t.shape,n=t.oldParent,r=t.oldParentIndex,a=t.delta;return ri(n.children,e,r),ct(e,{parent:n,x:e.x-a.x,y:e.y-a.y}),e};ls.prototype.moveChildren=function(t){var e=t.delta,n=t.shape;this._helper.moveRecursive(n.children,e,null)};ls.prototype.getNewParent=function(t){return t.newParent||t.shape.parent};function Tl(t){this._modeling=t}Tl.$inject=["modeling"];Tl.prototype.execute=function(t){var e=t.newSource,n=t.newTarget,r=t.connection,a=t.dockingOrPoints;if(!e&&!n)throw new Error("newSource or newTarget required");return re(a)&&(t.oldWaypoints=r.waypoints,r.waypoints=a),e&&(t.oldSource=r.source,r.source=e),n&&(t.oldTarget=r.target,r.target=n),r};Tl.prototype.postExecute=function(t){var e=t.connection,n=t.newSource,r=t.newTarget,a=t.dockingOrPoints,s=t.hints||{},u={};s.connectionStart&&(u.connectionStart=s.connectionStart),s.connectionEnd&&(u.connectionEnd=s.connectionEnd),s.layoutConnection!==!1&&(n&&(!r||s.docking==="source")&&(u.connectionStart=u.connectionStart||zS(re(a)?a[0]:a)),r&&(!n||s.docking==="target")&&(u.connectionEnd=u.connectionEnd||zS(re(a)?a[a.length-1]:a)),s.newWaypoints&&(u.waypoints=s.newWaypoints),this._modeling.layoutConnection(e,u))};Tl.prototype.revert=function(t){var e=t.oldSource,n=t.oldTarget,r=t.oldWaypoints,a=t.connection;return e&&(a.source=e),n&&(a.target=n),r&&(a.waypoints=r),a};function zS(t){return t.original||t}function yo(t,e){this._modeling=t,this._rules=e}yo.$inject=["modeling","rules"];yo.prototype.preExecute=function(t){var e=this,n=this._modeling,r=this._rules,a=t.oldShape,s=t.newData,u=t.hints||{},l;function f(b,A,R){return r.allowed("connection.reconnect",{connection:R,source:b,target:A})}var h={x:s.x,y:s.y},p={x:a.x,y:a.y,width:a.width,height:a.height};l=t.newShape=t.newShape||e.createShape(s,h,a.parent,u),a.host&&n.updateAttachment(l,a.host);var g;u.moveChildren!==!1&&(g=a.children.slice(),n.moveElements(g,{x:0,y:0},l,u));var m=a.incoming.slice(),_=a.outgoing.slice();nt(m,function(b){var A=b.source,R=f(A,l,b);R&&e.reconnectEnd(b,l,U0(b,l,p),u)}),nt(_,function(b){var A=b.target,R=f(l,A,b);R&&e.reconnectStart(b,l,H0(b,l,p),u)})};yo.prototype.postExecute=function(t){var e=t.oldShape;this._modeling.removeShape(e)};yo.prototype.execute=function(t){};yo.prototype.revert=function(t){};yo.prototype.createShape=function(t,e,n,r){return this._modeling.createShape(t,e,n,r)};yo.prototype.reconnectStart=function(t,e,n,r){this._modeling.reconnectStart(t,e,n,r)};yo.prototype.reconnectEnd=function(t,e,n,r){this._modeling.reconnectEnd(t,e,n,r)};function Cl(t){this._modeling=t}Cl.$inject=["modeling"];Cl.prototype.execute=function(t){var e=t.shape,n=t.newBounds,r=t.minBounds;if(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)throw new Error("newBounds must have {x, y, width, height} properties");if(r&&(n.width<r.width||n.height<r.height))throw new Error("width and height cannot be less than minimum height and width");if(!r&&n.width<10||n.height<10)throw new Error("width and height cannot be less than 10px");return t.oldBounds={width:e.width,height:e.height,x:e.x,y:e.y},ct(e,{width:n.width,height:n.height,x:n.x,y:n.y}),e};Cl.prototype.postExecute=function(t){var e=this._modeling,n=t.shape,r=t.oldBounds,a=t.hints||{};a.layout!==!1&&(nt(n.incoming,function(s){e.layoutConnection(s,{connectionEnd:U0(s,n,r)})}),nt(n.outgoing,function(s){e.layoutConnection(s,{connectionStart:H0(s,n,r)})}))};Cl.prototype.revert=function(t){var e=t.shape,n=t.oldBounds;return ct(e,{width:n.width,height:n.height,x:n.x,y:n.y}),e};function ga(t){this._modeling=t}ga.$inject=["modeling"];ga.prototype.preExecute=function(t){var e=t.delta,n=t.direction,r=t.movingShapes,a=t.resizingShapes,s=t.start,u={};this.moveShapes(r,e),nt(a,function(l){u[l.id]=r9(l)}),this.resizeShapes(a,e,n),this.updateConnectionWaypoints(HB(r,a),e,n,s,r,a,u)};ga.prototype.execute=function(){};ga.prototype.revert=function(){};ga.prototype.moveShapes=function(t,e){var n=this;nt(t,function(r){n._modeling.moveShape(r,e,null,{autoResize:!1,layout:!1,recurse:!1})})};ga.prototype.resizeShapes=function(t,e,n){var r=this;nt(t,function(a){var s=UB(a,n,e);r._modeling.resizeShape(a,s,null,{attachSupport:!1,autoResize:!1,layout:!1})})};ga.prototype.updateConnectionWaypoints=function(t,e,n,r,a,s,u){var l=this,f=a.concat(s);nt(t,function(h){var p=h.source,g=h.target,m=n9(h),_=zM(n),b={};Go(f,p)&&Go(f,g)?(m=Mn(m,function(A){return HS(A,r,n)&&(A[_]=A[_]+e[_]),A.original&&HS(A.original,r,n)&&(A.original[_]=A.original[_]+e[_]),A}),l._modeling.updateWaypoints(h,m,{labelBehavior:!1})):(Go(f,p)||Go(f,g))&&(Go(a,p)?b.connectionStart=F0(h,p,e):Go(a,g)?b.connectionEnd=X0(h,g,e):Go(s,p)?b.connectionStart=H0(h,p,u[p.id]):Go(s,g)&&(b.connectionEnd=U0(h,g,u[g.id])),l._modeling.layoutConnection(h,b))})};function $S(t){return ct({},t)}function n9(t){return Mn(t.waypoints,function(e){return e=$S(e),e.original&&(e.original=$S(e.original)),e})}function zM(t){switch(t){case"n":return"y";case"w":return"x";case"s":return"y";case"e":return"x"}}function HS(t,e,n){var r=zM(n);if(/e|s/.test(n))return t[r]>e;if(/n|w/.test(n))return t[r]<e}function Go(t,e){return t.indexOf(e)!==-1}function r9(t){return{x:t.x,y:t.y,height:t.height,width:t.width}}function yp(t){this._modeling=t}yp.$inject=["modeling"];yp.prototype.execute=function(t){var e=t.shape,n=e.children;t.oldChildrenVisibility=$M(n),e.collapsed=!e.collapsed;var r=HM(n,e.collapsed);return[e].concat(r)};yp.prototype.revert=function(t){var e=t.shape,n=t.oldChildrenVisibility,r=e.children,a=UM(r,n);return e.collapsed=!e.collapsed,[e].concat(a)};function $M(t){var e={};return nt(t,function(n){e[n.id]=n.hidden,n.children&&(e=ct({},e,$M(n.children)))}),e}function HM(t,e){var n=[];return nt(t,function(r){r.hidden=e,n=n.concat(r),r.children&&(n=n.concat(HM(r.children,r.collapsed||e)))}),n}function UM(t,e){var n=[];return nt(t,function(r){r.hidden=e[r.id],n=n.concat(r),r.children&&(n=n.concat(UM(r.children,e)))}),n}function vp(t){this._modeling=t}vp.$inject=["modeling"];vp.prototype.execute=function(t){var e=t.shape,n=t.newHost,r=e.host;return t.oldHost=r,t.attacherIdx=FM(r,e),XM(n,e),e.host=n,e};vp.prototype.revert=function(t){var e=t.shape,n=t.newHost,r=t.oldHost,a=t.attacherIdx;return e.host=r,FM(n,e),XM(r,e,a),e};function FM(t,e){return ni(t&&t.attachers,e)}function XM(t,e,n){if(t){var r=t.attachers;r||(t.attachers=r=[]),ri(r,e,n)}}function q0(){}q0.prototype.execute=function(t){var e=t.connection,n=t.newWaypoints;return t.oldWaypoints=e.waypoints,e.waypoints=n,e};q0.prototype.revert=function(t){var e=t.connection,n=t.oldWaypoints;return e.waypoints=n,e};function Se(t,e,n){this._eventBus=t,this._elementFactory=e,this._commandStack=n;var r=this;t.on("diagram.init",function(){r.registerHandlers(n)})}Se.$inject=["eventBus","elementFactory","commandStack"];Se.prototype.getHandlers=function(){return{"shape.append":lp,"shape.create":pa,"shape.delete":wl,"shape.move":ls,"shape.resize":Cl,"shape.replace":yo,"shape.toggleCollapse":yp,spaceTool:ga,"label.create":El,"connection.create":fp,"connection.delete":bl,"connection.move":$0,"connection.layout":hp,"connection.updateWaypoints":q0,"connection.reconnect":Tl,"elements.create":k0,"elements.move":gp,"elements.delete":z0,"elements.distribute":dp,"elements.align":cp,"element.updateAttachment":vp}};Se.prototype.registerHandlers=function(t){nt(this.getHandlers(),function(e,n){t.registerHandler(n,e)})};Se.prototype.moveShape=function(t,e,n,r,a){typeof r=="object"&&(a=r,r=null);var s={shape:t,delta:e,newParent:n,newParentIndex:r,hints:a||{}};this._commandStack.execute("shape.move",s)};Se.prototype.updateAttachment=function(t,e){var n={shape:t,newHost:e};this._commandStack.execute("element.updateAttachment",n)};Se.prototype.moveElements=function(t,e,n,r){r=r||{};var a=r.attach,s=n,u;a===!0?(u=n,s=n.parent):a===!1&&(u=null);var l={shapes:t,delta:e,newParent:s,newHost:u,hints:r};this._commandStack.execute("elements.move",l)};Se.prototype.moveConnection=function(t,e,n,r,a){typeof r=="object"&&(a=r,r=void 0);var s={connection:t,delta:e,newParent:n,newParentIndex:r,hints:a||{}};this._commandStack.execute("connection.move",s)};Se.prototype.layoutConnection=function(t,e){var n={connection:t,hints:e||{}};this._commandStack.execute("connection.layout",n)};Se.prototype.createConnection=function(t,e,n,r,a,s){typeof n=="object"&&(s=a,a=r,r=n,n=void 0),r=this._create("connection",r);var u={source:t,target:e,parent:a,parentIndex:n,connection:r,hints:s};return this._commandStack.execute("connection.create",u),u.connection};Se.prototype.createShape=function(t,e,n,r,a){typeof r!="number"&&(a=r,r=void 0),a=a||{};var s=a.attach,u,l;t=this._create("shape",t),s?(u=n.parent,l=n):u=n;var f={position:e,shape:t,parent:u,parentIndex:r,host:l,hints:a};return this._commandStack.execute("shape.create",f),f.shape};Se.prototype.createElements=function(t,e,n,r,a){re(t)||(t=[t]),typeof r!="number"&&(a=r,r=void 0),a=a||{};var s={position:e,elements:t,parent:n,parentIndex:r,hints:a};return this._commandStack.execute("elements.create",s),s.elements};Se.prototype.createLabel=function(t,e,n,r){n=this._create("label",n);var a={labelTarget:t,position:e,parent:r||t.parent,shape:n};return this._commandStack.execute("label.create",a),a.shape};Se.prototype.appendShape=function(t,e,n,r,a){a=a||{},e=this._create("shape",e);var s={source:t,position:n,target:r,shape:e,connection:a.connection,connectionParent:a.connectionParent,hints:a};return this._commandStack.execute("shape.append",s),s.shape};Se.prototype.removeElements=function(t){var e={elements:t};this._commandStack.execute("elements.delete",e)};Se.prototype.distributeElements=function(t,e,n){var r={groups:t,axis:e,dimension:n};this._commandStack.execute("elements.distribute",r)};Se.prototype.removeShape=function(t,e){var n={shape:t,hints:e||{}};this._commandStack.execute("shape.delete",n)};Se.prototype.removeConnection=function(t,e){var n={connection:t,hints:e||{}};this._commandStack.execute("connection.delete",n)};Se.prototype.replaceShape=function(t,e,n){var r={oldShape:t,newData:e,hints:n||{}};return this._commandStack.execute("shape.replace",r),r.newShape};Se.prototype.alignElements=function(t,e){var n={elements:t,alignment:e};this._commandStack.execute("elements.align",n)};Se.prototype.resizeShape=function(t,e,n,r){var a={shape:t,newBounds:e,minBounds:n,hints:r};this._commandStack.execute("shape.resize",a)};Se.prototype.createSpace=function(t,e,n,r,a){var s={delta:n,direction:r,movingShapes:t,resizingShapes:e,start:a};this._commandStack.execute("spaceTool",s)};Se.prototype.updateWaypoints=function(t,e,n){var r={connection:t,newWaypoints:e,hints:n||{}};this._commandStack.execute("connection.updateWaypoints",r)};Se.prototype.reconnect=function(t,e,n,r,a){var s={connection:t,newSource:e,newTarget:n,dockingOrPoints:r,hints:a||{}};this._commandStack.execute("connection.reconnect",s)};Se.prototype.reconnectStart=function(t,e,n,r){r||(r={}),this.reconnect(t,e,t.target,n,ct(r,{docking:"source"}))};Se.prototype.reconnectEnd=function(t,e,n,r){r||(r={}),this.reconnect(t,t.source,e,n,ct(r,{docking:"target"}))};Se.prototype.connect=function(t,e,n,r){return this.createConnection(t,e,n||{},t.parent,r)};Se.prototype._create=function(t,e){return zD(e)?e:this._elementFactory.create(t,e)};Se.prototype.toggleCollapse=function(t,e){var n={shape:t,hints:e||{}};this._commandStack.execute("shape.toggleCollapse",n)};var Ji="id",GM="di",i9={width:0,height:0};function Ml(t,e,n,r,a,s){this._elementRegistry=t,this._moddle=e,this._translate=n,this._modeling=r,this._textRenderer=a,this._dcrRules=s}Ml.$inject=["elementRegistry","moddle","translate","modeling","textRenderer","dcrRules"];Ml.prototype.execute=function(t){var e=t.element,n=[e],r=this._translate;if(!e)throw new Error(r("element required"));var a=this._elementRegistry,s=this._moddle.ids,u=e.businessObject,l=c9(t.properties),f=t.oldProperties||o9(u,l);return qM(l,u)&&(s.unclaim(u[Ji]),a.updateId(e,l[Ji]),s.claim(l[Ji],u)),VM(u,l),t.oldProperties=f,t.changed=n,n};Ml.prototype.postExecute=function(t){var e=t.element,n=e.label,r=n&&pr(n).name;if(dn(e,["dcr:Event","dcr:Nesting","dcr:SubProcess"])&&(e.incoming.forEach(s=>{this._dcrRules.isLinkAllowed(s,s.businessObject.get("type"))||this._modeling.removeElements([s])}),e.outgoing.forEach(s=>{this._dcrRules.isLinkAllowed(s,s.businessObject.get("type"))||this._modeling.removeElements([s])})),!!r){var a=this._textRenderer.getExternalLabelBounds(n,r);this._modeling.resizeShape(n,a,i9)}};Ml.prototype.revert=function(t){var e=t.element,n=t.properties,r=t.oldProperties,a=e.businessObject,s=this._elementRegistry,u=this._moddle.ids;return VM(a,r),qM(n,a)&&(u.unclaim(n[Ji]),s.updateId(e,r[Ji]),u.claim(r[Ji],a)),t.changed};function qM(t,e){return Ji in t&&t[Ji]!==e[Ji]}function o9(t,e){var n=kv(e);return kr(n,function(r,a){return a!==GM?r[a]=t.get(a):r[a]=a9(t.di,kv(e.di)),r},{})}function a9(t,e){return kr(e,function(n,r){return n[r]=t.get(r),n},{})}function VM(t,e){nt(e,function(n,r){r!==GM?t.set(r,n):t.di&&s9(t.di,n)})}function s9(t,e){nt(e,function(n,r){t.set(r,n)})}var u9=["default"];function c9(t){var e=ct({},t);return u9.forEach(function(n){n in t&&(e[n]=pr(e[n]))}),e}function mp(t,e){this._canvas=t,this._modeling=e}mp.$inject=["canvas","modeling"];mp.prototype.execute=function(t){var e=this._canvas,n=t.newRoot,r=n.businessObject,a=e.getRootElement(),s=a.businessObject,u=s.$parent,l=s.di;e.setRootElement(n,!0),ri(u.rootElements,r),r.$parent=u,ni(u.rootElements,s),s.$parent=null,s.di=null,l.boardElement=r,r.di=l,t.oldRoot=a};mp.prototype.revert=function(t){var e=this._canvas,n=t.newRoot,r=n.businessObject,a=t.oldRoot,s=a.businessObject,u=r.$parent,l=r.di;e.setRootElement(a,!0),ni(u.rootElements,r),r.$parent=null,ri(u.rootElements,s),s.$parent=u,r.di=null,l.boardElement=s,s.di=l};function _p(t){this._moddle=t}_p.$inject=["moddle"];_p.prototype.execute=function(t){var e=this._moddle.ids,n=t.id,r=t.element,a=t.claiming;a?e.claim(n,r):e.unclaim(n)};_p.prototype.revert=function(t){var e=this._moddle.ids,n=t.id,r=t.element,a=t.claiming;a?e.unclaim(n):e.claim(n,r)};var l9={width:0,height:0};function YM(t,e){function n(l,f){var h=l.label||l,p=l.labelTarget||l;return Q5(h,f),[h,p]}function r(l){var f=l.element;f.businessObject,l.newLabel,!Ir(f)&&X4()}function a(l){return l.oldLabel=cu(l.element),n(l.element,l.newLabel)}function s(l){return n(l.element,l.oldLabel)}function u(l){var f=l.element,h=f.label||f,p=l.newLabel,g=l.newBounds,m=l.hints||{};if(Ir(h)){if(Ir(h)&&f9(p)){m.removeShape!==!1&&t.removeShape(h,{unsetLabel:!1});return}var _=cu(h);typeof g>"u"&&(g=e.getExternalLabelBounds(h,_)),g&&t.resizeShape(h,g,l9)}}this.preExecute=r,this.execute=a,this.revert=s,this.postExecute=u}YM.$inject=["modeling","textRenderer"];function f9(t){return!t||!t.trim()}function vo(t,e,n,r){Se.call(this,t,e,n),this._dcrRules=r}we(vo,Se);vo.$inject=["eventBus","elementFactory","commandStack","dcrRules"];vo.prototype.getHandlers=function(){var t=Se.prototype.getHandlers.call(this);return t["element.updateProperties"]=Ml,t["canvas.updateRoot"]=mp,t["id.updateClaim"]=_p,t["element.updateLabel"]=YM,t};vo.prototype.updateLabel=function(t,e,n,r){this._commandStack.execute("element.updateLabel",{element:t,newLabel:e,newBounds:n,hints:r||{}})};vo.prototype.updateProperties=function(t,e){this._commandStack.execute("element.updateProperties",{element:t,properties:e})};vo.prototype.claimId=function(t,e){this._commandStack.execute("id.updateClaim",{id:t,element:e,claiming:!0})};vo.prototype.unclaimId=function(t,e){this._commandStack.execute("id.updateClaim",{id:t,element:e})};vo.prototype.connect=function(t,e,n,r){var a=this._dcrRules;if(n||(n=a.canConnect(t,e)),!!n)return this.createConnection(t,e,n,t.parent,r)};function KM(){}KM.prototype.layoutConnection=function(t,e){return e=e||{},[e.connectionStart||ye(e.source||t.source),e.connectionEnd||ye(e.target||t.target)]};var fd=20,d9=5,Mh=Math.round,US=20,h9={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function p9(t,e){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[e].test(t)}function g9(t,e){return{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[t].test(e)}function ZM(t,e,n){var r=zr(e,t,d9),a=n.split(":")[0],s=Mh((e.x-t.x)/2+t.x),u=Mh((e.y-t.y)/2+t.y),l,f,h=g9(a,r),p=/h|r|l/.test(a),g=!1,m=!1;return h?(l=p?{x:s,y:t.y}:{x:t.x,y:u},f=p?"h:h":"v:v"):(g=p9(r,a),f=p?"h:v":"v:h",g?p?(m=u===t.y,l={x:t.x+fd*(/l/.test(a)?-1:1),y:m?u+fd:u}):(m=s===t.x,l={x:m?s+fd:s,y:t.y+fd*(/t/.test(a)?-1:1)}):l={x:s,y:u}),{waypoints:V0(t,l,f).concat(l),directions:f,turnNextDirections:m}}function y9(t,e,n){return ZM(t,e,n)}function v9(t,e,n){var r=ZM(e,t,FS(n));return{waypoints:r.waypoints.slice().reverse(),directions:FS(r.directions),turnNextDirections:r.turnNextDirections}}function m9(t,e){var n=t.directions.split(":")[1],r=e.directions.split(":")[0];t.turnNextDirections&&(n=n=="h"?"v":"h"),e.turnNextDirections&&(r=r=="h"?"v":"h");var a=n+":"+r,s=V0(t.waypoints[t.waypoints.length-1],e.waypoints[0],a);return{waypoints:s,directions:a}}function FS(t){return t.split(":").reverse().join(":")}function _9(t,e,n){var r=Mh((e.x-t.x)/2+t.x),a=Mh((e.y-t.y)/2+t.y);if(n==="h:v")return[{x:e.x,y:t.y}];if(n==="v:h")return[{x:t.x,y:e.y}];if(n==="h:h")return[{x:r,y:t.y},{x:r,y:e.y}];if(n==="v:v")return[{x:t.x,y:a},{x:e.x,y:a}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}function V0(t,e,n){if(n=n||"h:h",!A9(n))throw new Error("unknown directions: <"+n+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(WM(n)){var r=y9(t,e,n),a=v9(t,e,n),s=m9(r,a);return[].concat(r.waypoints,s.waypoints,a.waypoints)}return _9(t,e,n)}function x9(t,e,n){var r=V0(t,e,n);return r.unshift(t),r.push(e),QM(r)}function E9(t,e,n,r,a){var s=a&&a.preferredLayouts||[],u=bN(s,"straight")[0]||"h:h",l=h9[u]||0,f=zr(t,e,l),h=M9(f,u);n=n||ye(t),r=r||ye(e);var p=h.split(":"),g=GS(n,t,p[0],O9(f)),m=GS(r,e,p[1],f);return x9(g,m,h)}function b9(t,e,n,r,a,s){re(n)&&(a=n,s=r,n=ye(t),r=ye(e)),s=ct({preferredLayouts:[]},s),a=a||[];var u=s.preferredLayouts,l=u.indexOf("straight")!==-1,f;return f=l&&S9(t,e,n,r,s),f||(f=s.connectionEnd&&C9(e,t,r,a),f)||(f=s.connectionStart&&T9(t,e,n,a),f)?f:!s.connectionStart&&!s.connectionEnd&&a&&a.length?a:E9(t,e,n,r,s)}function w9(t,e,n){return t>=e&&t<=n}function XS(t,e,n){var r={x:"width",y:"height"};return w9(e[t],n[t],n[t]+n[r[t]])}function S9(t,e,n,r,a){var s={},u,l;return l=zr(t,e),/^(top|bottom|left|right)$/.test(l)?(/top|bottom/.test(l)&&(u="x"),/left|right/.test(l)&&(u="y"),a.preserveDocking==="target"?XS(u,r,t)?(s[u]=r[u],[{x:s.x!==void 0?s.x:n.x,y:s.y!==void 0?s.y:n.y,original:{x:s.x!==void 0?s.x:n.x,y:s.y!==void 0?s.y:n.y}},{x:r.x,y:r.y}]):null:XS(u,n,e)?(s[u]=n[u],[{x:n.x,y:n.y},{x:s.x!==void 0?s.x:r.x,y:s.y!==void 0?s.y:r.y,original:{x:s.x!==void 0?s.x:r.x,y:s.y!==void 0?s.y:r.y}}]):null):null}function T9(t,e,n,r){return Y0(t,e,n,r)}function C9(t,e,n,r){var a=r.slice().reverse();return a=Y0(t,e,n,a),a?a.reverse():null}function Y0(t,e,n,r){function a(p){return p.length<3?!0:p.length>4?!1:!!Ie(p,function(g,m){var _=p[m-1];return _&&ul(g,_)<3})}function s(p,g,m){var _=Wi(g,p);switch(_){case"v":return{x:m.x,y:p.y};case"h":return{x:p.x,y:m.y}}return{x:p.x,y:p.y}}function u(p,g,m){var _;for(_=p.length-2;_!==0;_--)if(QE(p[_],g,US)||QE(p[_],m,US))return p.slice(_);return p}if(a(r))return null;var l=r[0],f=r.slice(),h;return f[0]=n,f[1]=s(f[1],l,n),h=u(f,t,e),h!==f&&(f=Y0(t,e,n,h)),f&&Wi(f)?null:f}function M9(t,e){if(WM(e))return e;switch(t){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return e}}function A9(t){return t&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(t)}function WM(t){return t&&/t|r|b|l/.test(t)}function O9(t){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[t]}function GS(t,e,n,r){if(n==="h"&&(n=/left/.test(r)?"l":"r"),n==="v"&&(n=/top/.test(r)?"t":"b"),n==="t")return{original:t,x:t.x,y:e.y};if(n==="r")return{original:t,x:e.x+e.width,y:t.y};if(n==="b")return{original:t,x:t.x,y:e.y+e.height};if(n==="l")return{original:t,x:e.x,y:t.y};throw new Error("unexpected dockingDirection: <"+n+">")}function QM(t){return t.reduce(function(e,n,r){var a=e[e.length-1],s=t[r+1];return Dm(a,s,n,0)||e.push(n),e},[])}function K0(){}we(K0,KM);K0.prototype.layoutConnection=function(t,e){e||(e={});var n=e.source||t.source,r=e.target||t.target,a=e.waypoints||t.waypoints,s=e.connectionStart,u=e.connectionEnd,l,f;return s||(s=qS(a&&a[0],n)),u||(u=qS(a&&a[a.length-1],r)),te(t,"dcr:Relation")&&(n===r?l={preferredLayouts:R9(n,t)}:l={preferredLayouts:["h:h"]}),l&&(l=ct(l,e),f=QM(b9(n,r,s,u,a,l))),f||[s,u]};function qS(t,e){return t?t.original||t:ye(e)}function R9(t,e){var n=e.waypoints,r=n&&n.length&&zr(n[0],t);return r==="top"?["t:r"]:r==="right"?["r:b"]:r==="left"?["l:t"]:["b:l"]}function VS(t){return ct({original:t.point.original||t.point},t.actual)}function ya(t,e){this._elementRegistry=t,this._graphicsFactory=e}ya.$inject=["elementRegistry","graphicsFactory"];ya.prototype.getCroppedWaypoints=function(t,e,n){e=e||t.source,n=n||t.target;var r=this.getDockingPoint(t,e,!0),a=this.getDockingPoint(t,n),s=t.waypoints.slice(r.idx+1,a.idx);return s.unshift(VS(r)),s.push(VS(a)),s};ya.prototype.getDockingPoint=function(t,e,n){var r=t.waypoints,a,s,u;return a=n?0:r.length-1,s=r[a],u=this._getIntersection(e,t,n),{point:s,actual:u||s,idx:a}};ya.prototype._getIntersection=function(t,e,n){var r=this._getShapePath(t),a=this._getConnectionPath(e);return Xv(r,a,n)};ya.prototype._getConnectionPath=function(t){return this._graphicsFactory.getConnectionPath(t)};ya.prototype._getShapePath=function(t){return this._graphicsFactory.getShapePath(t)};ya.prototype._getGfx=function(t){return this._elementRegistry.getGraphics(t)};const N9={__init__:["modeling","dcrUpdater"],__depends__:[lB,vB,_B,xB,DM,TB,OB,NB,jB,lo,fM,IM],dcrFactory:["type",Gr],dcrUpdater:["type",qr],elementFactory:["type",cs],modeling:["type",vo],layouter:["type",K0],connectionDocking:["type",ya]};var D9=500,L9=1250,P9=1500,Ah=Math.round;function B9(t){return{x:t.x+Ah(t.width/2),y:t.y+Ah(t.height/2)}}function JM(t,e,n,r,a){function s(l,f,h,p){return a.allowed("elements.move",{shapes:l,delta:f,position:h,target:p})}t.on("shape.move.start",P9,function(l){var f=l.context,h=l.shape,p=r.get().slice();p.indexOf(h)===-1&&(p=[h]),p=I9(p),ct(f,{shapes:p,validatedShapes:p,shape:h})}),t.on("shape.move.start",L9,function(l){var f=l.context,h=f.validatedShapes,p;if(p=f.canExecute=s(h),!p)return!1}),t.on("shape.move.move",D9,function(l){var f=l.context,h=f.validatedShapes,p=l.hover,g={x:l.dx,y:l.dy},m={x:l.x,y:l.y},_;if(_=s(h,g,m,p),f.delta=g,f.canExecute=_,_===null){f.target=null;return}f.target=p}),t.on("shape.move.end",function(l){var f=l.context,h=f.delta,p=f.canExecute,g=p==="attach",m=f.shapes;if(p===!1)return!1;h.x=Ah(h.x),h.y=Ah(h.y),!(h.x===0&&h.y===0)&&n.moveElements(m,h,f.target,{primaryShape:f.shape,attach:g})}),t.on("element.mousedown",function(l){if(ca(l)){var f=bu(l);if(!f)throw new Error("must supply DOM mousedown event");return u(f,l.element)}});function u(l,f,h,p){if(An(h)&&(p=h,h=!1),!(f.waypoints||!f.parent)&&!le(l.target).has("djs-hit-no-move")){var g=B9(f);return e.init(l,g,"shape.move",{cursor:"grabbing",autoActivate:h,data:{shape:f,context:p||{}}}),!0}}this.start=u}JM.$inject=["eventBus","dragging","modeling","selection","rules"];function I9(t){var e=sl(t,"id");return an(t,function(n){for(;n=n.parent;)if(e[n.id])return!1;return!0})}var YS=499,_v="djs-dragging",KS="drop-ok",ZS="drop-not-ok",WS="new-parent",QS="attach-ok";function tA(t,e,n,r){function a(f){var h=s(f),p=j9(h);return p}function s(f){var h=Rm(f,!0),p=Mn(h,function(g){return(g.incoming||[]).concat(g.outgoing||[])});return jv(h.concat(p))}function u(f,h){[QS,KS,ZS,WS].forEach(function(p){p===h?e.addMarker(f,p):e.removeMarker(f,p)})}function l(f,h,p){r.addDragger(h,f.dragGroup),p&&e.addMarker(h,_v),f.allDraggedElements?f.allDraggedElements.push(h):f.allDraggedElements=[h]}t.on("shape.move.start",YS,function(f){var h=f.context,p=h.shapes,g=h.allDraggedElements,m=a(p);if(!h.dragGroup){var _=Rt("g");yt(_,n.cls("djs-drag-group",["no-events"]));var b=e.getActiveLayer();Zt(b,_),h.dragGroup=_}m.forEach(function(A){r.addDragger(A,h.dragGroup)}),g?g=jv([g,s(p)]):g=s(p),nt(g,function(A){e.addMarker(A,_v)}),h.allDraggedElements=g,h.differentParents=k9(p)}),t.on("shape.move.move",YS,function(f){var h=f.context,p=h.dragGroup,g=h.target,m=h.shape.parent,_=h.canExecute;g&&(_==="attach"?u(g,QS):h.canExecute&&g&&g.id!==m.id?u(g,WS):u(g,h.canExecute?KS:ZS)),Br(p,f.dx,f.dy)}),t.on(["shape.move.out","shape.move.cleanup"],function(f){var h=f.context,p=h.target;p&&u(p,null)}),t.on("shape.move.cleanup",function(f){var h=f.context,p=h.allDraggedElements,g=h.dragGroup;nt(p,function(m){e.removeMarker(m,_v)}),g&&We(g)}),this.makeDraggable=l}tA.$inject=["eventBus","canvas","styles","previewSupport"];function j9(t){var e=an(t,function(n){return $e(n)?Ie(t,Zo({id:n.source.id}))&&Ie(t,Zo({id:n.target.id})):!0});return e}function k9(t){return wN(sl(t,function(e){return e.parent&&e.parent.id}))!==1}const z9={__depends__:[pl,lo,mC,Ci,fo,gl],__init__:["move","movePreview"],move:["type",JM],movePreview:["type",tA]};var eA=".djs-palette-toggle",nA=".entry",$9=eA+", "+nA,sm="djs-palette-",H9="shown",um="open",JS="two-column",U9=1e3;function qe(t,e){this._eventBus=t,this._canvas=e;var n=this;t.on("tool-manager.update",function(r){var a=r.tool;n.updateToolHighlight(a)}),t.on("i18n.changed",function(){n._update()}),t.on("diagram.init",function(){n._diagramInitialized=!0,n._rebuild()})}qe.$inject=["eventBus","canvas"];qe.prototype.registerProvider=function(t,e){e||(e=t,t=U9),this._eventBus.on("palette.getProviders",t,function(n){n.providers.push(e)}),this._rebuild()};qe.prototype.getEntries=function(){var t=this._getProviders();return t.reduce(X9,{})};qe.prototype._rebuild=function(){if(this._diagramInitialized){var t=this._getProviders();t.length&&(this._container||this._init(),this._update())}};qe.prototype._init=function(){var t=this,e=this._eventBus,n=this._getParentContainer(),r=this._container=fn(qe.HTML_MARKUP);n.appendChild(r),yr(n).add(sm+H9),ti.bind(r,$9,"click",function(a){var s=a.delegateTarget;if(Cm(s,eA))return t.toggle();t.trigger("click",a)}),qt.bind(r,"mousedown",function(a){a.stopPropagation()}),ti.bind(r,nA,"dragstart",function(a){t.trigger("dragstart",a)}),e.on("canvas.resized",this._layoutChanged,this),e.fire("palette.create",{container:r})};qe.prototype._getProviders=function(t){var e=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(e),e.providers};qe.prototype._toggleState=function(t){t=t||{};var e=this._getParentContainer(),n=this._container,r=this._eventBus,a,s=yr(n),u=yr(e);"twoColumn"in t?a=t.twoColumn:a=this._needsCollapse(e.clientHeight,this._entries||{}),s.toggle(JS,a),u.toggle(sm+JS,a),"open"in t&&(s.toggle(um,t.open),u.toggle(sm+um,t.open)),r.fire("palette.changed",{twoColumn:a,open:this.isOpen()})};qe.prototype._update=function(){var t=on(".djs-palette-entries",this._container),e=this._entries=this.getEntries();Sm(t),nt(e,function(n,r){var a=n.group||"default",s=on("[data-group="+_0(a)+"]",t);s||(s=fn('<div class="group"></div>'),hr(s,"data-group",a),t.appendChild(s));var u=n.html||(n.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),l=fn(u);if(s.appendChild(l),!n.separator&&(hr(l,"data-action",r),n.title&&hr(l,"title",n.title),n.className&&F9(l,n.className),n.imageUrl)){var f=fn("<img>");hr(f,"src",n.imageUrl),l.appendChild(f)}}),this.open()};qe.prototype.trigger=function(t,e,n){var r,a,s=e.delegateTarget||e.target;return s?(r=hr(s,"data-action"),a=e.originalEvent||e,this.triggerEntry(r,t,a,n)):e.preventDefault()};qe.prototype.triggerEntry=function(t,e,n,r){var a=this._entries,s,u;if(s=a[t],!!s&&(u=s.action,this._eventBus.fire("palette.trigger",{entry:s,event:n})!==!1)){if(En(u)){if(e==="click")return u(n,r)}else if(u[e])return u[e](n,r);n.preventDefault()}};qe.prototype._layoutChanged=function(){this._toggleState({})};qe.prototype._needsCollapse=function(t,e){var n=50,r=Object.keys(e).length*46;return t<r+n};qe.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})};qe.prototype.open=function(){this._toggleState({open:!0})};qe.prototype.toggle=function(){this.isOpen()?this.close():this.open()};qe.prototype.isActiveTool=function(t){return t&&this._activeTool===t};qe.prototype.updateToolHighlight=function(t){var e,n;this._toolsContainer||(e=on(".djs-palette-entries",this._container),this._toolsContainer=on("[data-group=tools]",e)),n=this._toolsContainer,nt(n.children,function(r){var a=r.getAttribute("data-action");if(a){var s=yr(r);a=a.replace("-tool",""),s.contains("entry")&&a===t?s.add("highlighted-entry"):s.remove("highlighted-entry")}})};qe.prototype.isOpen=function(){return yr(this._container).has(um)};qe.prototype._getParentContainer=function(){return this._canvas.getContainer()};qe.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';function F9(t,e){var n=yr(t),r=re(e)?e:e.split(/\s+/g);r.forEach(function(a){n.add(a)})}function X9(t,e){var n=e.getPaletteEntries();return En(n)?n(t):(nt(n,function(r,a){t[a]=r}),t)}const G9={__init__:["palette"],palette:["type",qe]};var rA="crosshair";function fs(t,e,n,r,a,s,u){this._selection=a,this._dragging=n,this._mouse=u;var l=this,f={create:function(h){var p=e.getActiveLayer(),g;g=h.frame=Rt("rect"),yt(g,{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),Zt(p,g)},update:function(h){var p=h.frame,g=h.bbox;yt(p,{x:g.x,y:g.y,width:g.width,height:g.height})},remove:function(h){h.frame&&We(h.frame)}};s.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),t.on("lasso.selection.end",function(h){var p=h.originalEvent.target;!h.hover&&!(p instanceof SVGElement)||t.once("lasso.selection.ended",function(){l.activateLasso(h.originalEvent,!0)})}),t.on("lasso.end",function(h){var p=xv(h),g=r.filter(function(m){return m});l.select(g,p)}),t.on("lasso.start",function(h){var p=h.context;p.bbox=xv(h),f.create(p)}),t.on("lasso.move",function(h){var p=h.context;p.bbox=xv(h),f.update(p)}),t.on("lasso.cleanup",function(h){var p=h.context;f.remove(p)}),t.on("element.mousedown",1500,function(h){if(d0(h))return l.activateLasso(h.originalEvent),!0})}fs.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"];fs.prototype.activateLasso=function(t,e){this._dragging.init(t,"lasso",{autoActivate:e,cursor:rA,data:{context:{}}})};fs.prototype.activateSelection=function(t,e){this._dragging.init(t,"lasso.selection",{trapClick:!1,autoActivate:e,cursor:rA,data:{context:{}}})};fs.prototype.select=function(t,e){var n=gD(t,e);this._selection.select(KT(n))};fs.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();this.activateSelection(t,!!t)};fs.prototype.isActive=function(){var t=this._dragging.context();return t&&/^lasso/.test(t.prefix)};function xv(t){var e={x:t.x-t.dx,y:t.y-t.dy},n={x:t.x,y:t.y},r;return e.x<=n.x&&e.y<n.y||e.x<n.x&&e.y<=n.y?r={x:e.x,y:e.y,width:n.x-e.x,height:n.y-e.y}:e.x>=n.x&&e.y<n.y||e.x>n.x&&e.y<=n.y?r={x:n.x,y:e.y,width:e.x-n.x,height:n.y-e.y}:e.x<=n.x&&e.y>n.y||e.x<n.x&&e.y>=n.y?r={x:e.x,y:n.y,width:n.x-e.x,height:e.y-n.y}:e.x>=n.x&&e.y>n.y||e.x>n.x&&e.y>=n.y?r={x:n.x,y:n.y,width:e.x-n.x,height:e.y-n.y}:r={x:n.x,y:n.y,width:0,height:0},r}const q9={__depends__:[up,vl],__init__:["lassoTool"],lassoTool:["type",fs]};var Ev=1500,iA="grab";function Mu(t,e,n,r,a,s){this._dragging=n,this._mouse=s;var u=this,l=r.get("keyboard",!1);a.registerTool("hand",{tool:"hand",dragging:"hand.move"}),t.on("element.mousedown",Ev,function(f){if(Wc(f))return u.activateMove(f.originalEvent,!0),!1}),l&&l.addListener(Ev,function(f){if(!(!tT(f.keyEvent)||u.isActive())){var h=u._mouse.getLastMoveEvent();u.activateMove(h,!!h)}},"keyboard.keydown"),l&&l.addListener(Ev,function(f){!tT(f.keyEvent)||!u.isActive()||u.toggle()},"keyboard.keyup"),t.on("hand.end",function(f){var h=f.originalEvent.target;if(!f.hover&&!(h instanceof SVGElement))return!1;t.once("hand.ended",function(){u.activateMove(f.originalEvent,{reactivate:!0})})}),t.on("hand.move.move",function(f){var h=e.viewbox().scale;e.scroll({dx:f.dx*h,dy:f.dy*h})}),t.on("hand.move.end",function(f){var h=f.context,p=h.reactivate;return!Wc(f)&&p&&t.once("hand.move.ended",function(g){u.activateHand(g.originalEvent,!0,!0)}),!1})}Mu.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"];Mu.prototype.activateMove=function(t,e,n){typeof e=="object"&&(n=e,e=!1),this._dragging.init(t,"hand.move",{autoActivate:e,cursor:iA,data:{context:n||{}}})};Mu.prototype.activateHand=function(t,e,n){this._dragging.init(t,"hand",{trapClick:!1,autoActivate:e,cursor:iA,data:{context:{reactivate:n}}})};Mu.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();this.activateHand(t,!!t)};Mu.prototype.isActive=function(){var t=this._dragging.context();return t?/^(hand|hand\.move)$/.test(t.prefix):!1};function tT(t){return Pr("Space",t)}const V9={__depends__:[up,vl],__init__:["handTool"],handTool:["type",Mu]};var eT="connect-ok",nT="connect-not-ok";function Au(t,e,n,r,a,s,u){var l=this;this._dragging=e,this._rules=s,this._mouse=u,a.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),t.on("global-connect.hover",function(f){var h=f.context,p=f.hover,g=h.canStartConnect=l.canStartConnect(p);g!==null&&(h.startTarget=p,r.addMarker(p,g?eT:nT))}),t.on(["global-connect.out","global-connect.cleanup"],function(f){var h=f.context.startTarget,p=f.context.canStartConnect;h&&r.removeMarker(h,p?eT:nT)}),t.on(["global-connect.ended"],function(f){var h=f.context,p=h.startTarget,g={x:f.x,y:f.y},m=l.canStartConnect(p);if(m)return t.once("element.out",function(){t.once(["connect.ended","connect.canceled"],function(){t.fire("global-connect.drag.ended")}),n.start(null,p,g)}),!1})}Au.$inject=["eventBus","dragging","connect","canvas","toolManager","rules","mouse"];Au.prototype.start=function(t,e){this._dragging.init(t,"global-connect",{autoActivate:e,trapClick:!1,data:{context:{}}})};Au.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();return this.start(t,!!t)};Au.prototype.isActive=function(){var t=this._dragging.context();return t&&/^global-connect/.test(t.prefix)};Au.prototype.canStartConnect=function(t){return this._rules.allowed("connection.start",{source:t})};const Y9={__depends__:[b0,Ci,fo,up,vl],globalConnect:["type",Au]};function Z0(t,e,n,r,a,s,u,l){this._create=e,this._elementFactory=n,this._spaceTool=r,this._lassoTool=a,this._handTool=s,this._globalConnect=u,this._translate=l,t.registerProvider(this)}Z0.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"];Z0.prototype.getPaletteEntries=function(t){var e={},n=this._create,r=this._elementFactory,a=this._spaceTool,s=this._lassoTool,u=this._handTool,l=this._globalConnect,f=this._translate;function h(p,g,m,_,b){function A(T){var E=r.createShape(ct({type:p},b));n.start(T,E)}var R=p.replace(/^dcr:/,"");return{group:g,className:m,title:_||f("Create {type}",{type:R}),action:{dragstart:A,click:A}}}return ct(e,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:f("Activate the hand tool"),action:{click:function(p){u.activateHand(p)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:f("Activate the lasso tool"),action:{click:function(p){s.activateSelection(p)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:f("Activate the create/remove space tool"),action:{click:function(p){a.activateSelection(p)}}},"tool-separator":{group:"tools",separator:!0},"create-object":h("dcr:Event","dcr-elements","od-icon-object",f("Create a DCR Event"),{attrs:{included:!0,pending:!1,executed:!1,enabled:!1}}),"object-linker":{group:"dcr-elements",className:"bpmn-icon-connection",title:f("Create a DCR Relation"),action:{click:function(p){l.start(p)}}},"create-subprocess":h("dcr:SubProcess","dcr-elements","bpmn-icon-subprocess-expanded",f("Create a Single-Instance SubProcess"),{attrs:{included:!0,pending:!1,executed:!1,enabled:!1}}),"create-nesting":h("dcr:Nesting","dcr-elements","od-text-box-nesting",f("Create a Nesting"))}),e};const K9={__depends__:[G9,rp,IM,q9,V9,Y9,Jh],__init__:["paletteProvider"],paletteProvider:["type",Z0]};var dd={exports:{}},rT;function Z9(){return rT||(rT=1,typeof Object.create=="function"?dd.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:dd.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}}),dd.exports}var W9=Z9();const Q9=aa(W9);var eh={exports:{}};/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */var J9=eh.exports,iT;function tI(){return iT||(iT=1,function(t,e){(function(n,r){t.exports=r(n)})(typeof ru<"u"?ru:J9,function(n){if(n.CSS&&n.CSS.escape)return n.CSS.escape;var r=function(a){if(arguments.length==0)throw new TypeError("`CSS.escape` requires an argument.");for(var s=String(a),u=s.length,l=-1,f,h="",p=s.charCodeAt(0);++l<u;){if(f=s.charCodeAt(l),f==0){h+="�";continue}if(f>=1&&f<=31||f==127||l==0&&f>=48&&f<=57||l==1&&f>=48&&f<=57&&p==45){h+="\\"+f.toString(16)+" ";continue}if(l==0&&u==1&&f==45){h+="\\"+s.charAt(l);continue}if(f>=128||f==45||f==95||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122){h+=s.charAt(l);continue}h+="\\"+s.charAt(l)}return h};return n.CSS||(n.CSS={}),n.CSS.escape=r,r})}(eh)),eh.exports}var eI=tI();const oT=aa(eI);var nI=250;function W0(t,e,n,r,a){ve.call(this,t);function s(l){var f=l.canExecute.replacements;nt(f,function(h){var p=h.oldElementId,g={type:h.newElementType};if(!l.visualReplacements[p]){var m=e.get(p);ct(g,{x:m.x,y:m.y});var _=n.createShape(g);r.addShape(_,m.parent);var b=on('[data-element-id="'+oT(m.id)+'"]',l.dragGroup);b&&yt(b,{display:"none"});var A=a.addDragger(_,l.dragGroup);l.visualReplacements[p]=A,r.removeShape(_)}})}function u(l){var f=l.visualReplacements;nt(f,function(h,p){var g=on('[data-element-id="'+oT(p)+'"]',l.dragGroup);g&&yt(g,{display:"inline"}),h.remove(),f[p]&&delete f[p]})}t.on("shape.move.move",nI,function(l){var f=l.context,h=f.canExecute;f.visualReplacements||(f.visualReplacements={}),h&&h.replacements?s(f):u(f)})}W0.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"];Q9(W0,ve);const rI={__depends__:[gl],__init__:["dcrReplacePreview"],dcrReplacePreview:["type",W0]};function va(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}va.prototype.getSnapOrigin=function(t){return this._snapOrigins[t]};va.prototype.setSnapOrigin=function(t,e){this._snapOrigins[t]=e,this._snapLocations.indexOf(t)===-1&&this._snapLocations.push(t)};va.prototype.addDefaultSnap=function(t,e){var n=this._defaultSnaps[t];n||(n=this._defaultSnaps[t]=[]),n.push(e)};va.prototype.getSnapLocations=function(){return this._snapLocations};va.prototype.setSnapLocations=function(t){this._snapLocations=t};va.prototype.pointsForTarget=function(t){var e=t.id||t,n=this._targets[e];return n||(n=this._targets[e]=new xp,n.initDefaults(this._defaultSnaps)),n};function xp(){this._snapValues={}}xp.prototype.add=function(t,e){var n=this._snapValues[t];n||(n=this._snapValues[t]={x:[],y:[]}),n.x.indexOf(e.x)===-1&&n.x.push(e.x),n.y.indexOf(e.y)===-1&&n.y.push(e.y)};xp.prototype.snap=function(t,e,n,r){var a=this._snapValues[e];return a&&J8(t[n],a[n],r)};xp.prototype.initDefaults=function(t){var e=this;nt(t||{},function(n,r){nt(n,function(a){e.add(r,a)})})};var iI=1250;function Mi(t,e,n){var r=this;this._elementRegistry=t,e.on(["create.start","shape.move.start"],function(a){r.initSnap(a)}),e.on(["create.move","create.end","shape.move.move","shape.move.end"],iI,function(a){var s=a.context,u=s.shape,l=s.snapContext,f=s.target;if(!(a.originalEvent&&gr(a.originalEvent))&&!(Jc(a)||!f)){var h=l.pointsForTarget(f);h.initialized||(h=r.addSnapTargetPoints(h,u,f),h.initialized=!0),n.snap(a,h)}}),e.on(["create.cleanup","shape.move.cleanup"],function(){n.hide()})}Mi.$inject=["elementRegistry","eventBus","snapping"];Mi.prototype.initSnap=function(t){var e=this._elementRegistry,n=t.context,r=n.shape,a=n.snapContext;a||(a=n.snapContext=new va);var s;e.get(r.id)?s=Qo(r,t):s={x:t.x+Qo(r).x,y:t.y+Qo(r).y};var u={x:s.x-r.width/2,y:s.y-r.height/2},l={x:s.x+r.width/2,y:s.y+r.height/2};return a.setSnapOrigin("mid",{x:s.x-t.x,y:s.y-t.y}),vr(r)||(a.setSnapOrigin("top-left",{x:u.x-t.x,y:u.y-t.y}),a.setSnapOrigin("bottom-right",{x:l.x-t.x,y:l.y-t.y})),a};Mi.prototype.addSnapTargetPoints=function(t,e,n){var r=this.getSnapTargets(e,n);return nt(r,function(a){if(vr(a)){vr(e)&&t.add("mid",Qo(a));return}if($e(a)){if(a.waypoints.length<3)return;var s=a.waypoints.slice(1,-1);nt(s,function(u){t.add("mid",u)});return}t.add("mid",Qo(a))}),!Vt(e.x)||!Vt(e.y)||this._elementRegistry.get(e.id)&&t.add("mid",Qo(e)),t};Mi.prototype.getSnapTargets=function(t,e){return XC(e).filter(function(n){return!oI(n)})};function oI(t){return!!t.hidden}function Ou(t){t.invoke(Mi,this)}we(Ou,Mi);Ou.$inject=["injector"];Ou.prototype.initSnap=function(t){return Mi.prototype.initSnap.call(this,t)};Ou.prototype.addSnapTargetPoints=function(t,e,n){return Mi.prototype.addSnapTargetPoints.call(this,t,e,n)};Ou.prototype.getSnapTargets=function(t,e){return Mi.prototype.getSnapTargets.call(this,t,e)};var aI=1250;function Al(t,e){var n=this;t.on(["resize.start"],function(r){n.initSnap(r)}),t.on(["resize.move","resize.end"],aI,function(r){var a=r.context,s=a.shape,u=s.parent,l=a.direction,f=a.snapContext;if(!(r.originalEvent&&gr(r.originalEvent))&&!Jc(r)){var h=f.pointsForTarget(u);h.initialized||(h=n.addSnapTargetPoints(h,s,u,l),h.initialized=!0),cI(l)&&dr(r,"x",r.x),lI(l)&&dr(r,"y",r.y),e.snap(r,h)}}),t.on(["resize.cleanup"],function(){e.hide()})}Al.prototype.initSnap=function(t){var e=t.context,n=e.shape,r=e.direction,a=e.snapContext;a||(a=e.snapContext=new va);var s=oA(n,r);return a.setSnapOrigin("corner",{x:s.x-t.x,y:s.y-t.y}),a};Al.prototype.addSnapTargetPoints=function(t,e,n,r){var a=this.getSnapTargets(e,n);return nt(a,function(s){t.add("corner",e6(s)),t.add("corner",t6(s))}),t.add("corner",oA(e,r)),t};Al.$inject=["eventBus","snapping"];Al.prototype.getSnapTargets=function(t,e){return XC(e).filter(function(n){return!sI(n,t)&&!$e(n)&&!uI(n)&&!vr(n)})};function oA(t,e){var n=ye(t),r=ce(t),a={x:n.x,y:n.y};return e.indexOf("n")!==-1?a.y=r.top:e.indexOf("s")!==-1&&(a.y=r.bottom),e.indexOf("e")!==-1?a.x=r.right:e.indexOf("w")!==-1&&(a.x=r.left),a}function sI(t,e){return t.host===e}function uI(t){return!!t.hidden}function cI(t){return t==="n"||t==="s"}function lI(t){return t==="e"||t==="w"}var fI=7,dI=1e3;function ma(t){this._canvas=t,this._asyncHide=WT(Gn(this.hide,this),dI)}ma.$inject=["canvas"];ma.prototype.snap=function(t,e){var n=t.context,r=n.snapContext,a=r.getSnapLocations(),s={x:Jc(t,"x"),y:Jc(t,"y")};nt(a,function(u){var l=r.getSnapOrigin(u),f={x:t.x+l.x,y:t.y+l.y};if(nt(["x","y"],function(h){var p;s[h]||(p=e.snap(f,u,h,fI),p!==void 0&&(s[h]={value:p,originValue:p-l[h]}))}),s.x&&s.y)return!1}),this.showSnapLine("vertical",s.x&&s.x.value),this.showSnapLine("horizontal",s.y&&s.y.value),nt(["x","y"],function(u){var l=s[u];An(l)&&dr(t,u,l.originValue)})};ma.prototype._createLine=function(t){var e=this._canvas.getLayer("snap"),n=Rt("path");return yt(n,{d:"M0,0 L0,0"}),le(n).add("djs-snap-line"),Zt(e,n),{update:function(r){Vt(r)?t==="horizontal"?yt(n,{d:"M-100000,"+r+" L+100000,"+r,display:""}):yt(n,{d:"M "+r+",-100000 L "+r+", +100000",display:""}):yt(n,{display:"none"})}}};ma.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}};ma.prototype.showSnapLine=function(t,e){var n=this.getSnapLine(t);n&&n.update(e),this._asyncHide()};ma.prototype.getSnapLine=function(t){return this._snapLines||this._createSnapLines(),this._snapLines[t]};ma.prototype.hide=function(){nt(this._snapLines,function(t){t.update()})};const hI={__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",Mi],resizeSnapping:["type",Al],snapping:["type",ma]};var pI=1250,gI=10,aT=20,aA=["x","y"];function sA(t){t.on(["connect.hover","connect.move","connect.end"],pI,function(e){var n=e.context,r=n.canExecute,a=n.start,s=n.hover;e.originalEvent&&gr(e.originalEvent)||(n.initialConnectionStart||(n.initialConnectionStart=n.connectionStart),r&&s&&yI(e,s,xI()),s&&_I(r,["dcr:Relation"])&&(n.connectionStart=Qo(a),dn(s,["dcr:Event"])&&vI(e,s)))})}sA.$inject=["eventBus"];function yI(t,e,n){aA.forEach(function(r){var a=uA(r,e);t[r]<e[r]+n?dr(t,r,e[r]+n):t[r]>e[r]+a-n&&dr(t,r,e[r]+a-n)})}function vI(t,e){var n=Qo(e);aA.forEach(function(r){EI(t,e,r)&&dr(t,r,n[r])})}function mI(t,e){return t&&t.type===e}function _I(t,e){return zh(e,function(n){return mI(t,n)})}function uA(t,e){return t==="x"?e.width:e.height}function xI(){return gI}function EI(t,e,n){return t[n]>e[n]+aT&&t[n]<e[n]+uA(n,e)-aT}const bI={__depends__:[hI],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",sA],createMoveSnapping:["type",Ou]};var Ep,Le,cA,Ka,sT,lA,cm,fA,Q0,lm,fm,tl={},dA=[],wI=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J0=Array.isArray;function Vo(t,e){for(var n in e)t[n]=e[n];return t}function t1(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function hA(t,e,n){var r,a,s,u={};for(s in e)s=="key"?r=e[s]:s=="ref"?a=e[s]:u[s]=e[s];if(arguments.length>2&&(u.children=arguments.length>3?Ep.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)u[s]===void 0&&(u[s]=t.defaultProps[s]);return nh(t,u,r,a,null)}function nh(t,e,n,r,a){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:a??++cA,__i:-1,__u:0};return a==null&&Le.vnode!=null&&Le.vnode(s),s}function bp(t){return t.children}function rh(t,e){this.props=t,this.context=e}function lu(t,e){if(e==null)return t.__?lu(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?lu(t):null}function pA(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return pA(t)}}function uT(t){(!t.__d&&(t.__d=!0)&&Ka.push(t)&&!Oh.__r++||sT!==Le.debounceRendering)&&((sT=Le.debounceRendering)||lA)(Oh)}function Oh(){var t,e,n,r,a,s,u,l;for(Ka.sort(cm);t=Ka.shift();)t.__d&&(e=Ka.length,r=void 0,s=(a=(n=t).__v).__e,u=[],l=[],n.__P&&((r=Vo({},a)).__v=a.__v+1,Le.vnode&&Le.vnode(r),e1(n.__P,r,a,n.__n,n.__P.namespaceURI,32&a.__u?[s]:null,u,s??lu(a),!!(32&a.__u),l),r.__v=a.__v,r.__.__k[r.__i]=r,vA(u,r,l),r.__e!=s&&pA(r)),Ka.length>e&&Ka.sort(cm));Oh.__r=0}function gA(t,e,n,r,a,s,u,l,f,h,p){var g,m,_,b,A,R,T=r&&r.__k||dA,E=e.length;for(f=SI(n,e,T,f,E),g=0;g<E;g++)(_=n.__k[g])!=null&&(m=_.__i===-1?tl:T[_.__i]||tl,_.__i=g,R=e1(t,_,m,a,s,u,l,f,h,p),b=_.__e,_.ref&&m.ref!=_.ref&&(m.ref&&n1(m.ref,null,_),p.push(_.ref,_.__c||b,_)),A==null&&b!=null&&(A=b),4&_.__u||m.__k===_.__k?f=yA(_,f,t):typeof _.type=="function"&&R!==void 0?f=R:b&&(f=b.nextSibling),_.__u&=-7);return n.__e=A,f}function SI(t,e,n,r,a){var s,u,l,f,h,p=n.length,g=p,m=0;for(t.__k=new Array(a),s=0;s<a;s++)(u=e[s])!=null&&typeof u!="boolean"&&typeof u!="function"?(f=s+m,(u=t.__k[s]=typeof u=="string"||typeof u=="number"||typeof u=="bigint"||u.constructor==String?nh(null,u,null,null,null):J0(u)?nh(bp,{children:u},null,null,null):u.constructor===void 0&&u.__b>0?nh(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):u).__=t,u.__b=t.__b+1,l=null,(h=u.__i=TI(u,n,f,g))!==-1&&(g--,(l=n[h])&&(l.__u|=2)),l==null||l.__v===null?(h==-1&&m--,typeof u.type!="function"&&(u.__u|=4)):h!=f&&(h==f-1?m--:h==f+1?m++:(h>f?m--:m++,u.__u|=4))):t.__k[s]=null;if(g)for(s=0;s<p;s++)(l=n[s])!=null&&!(2&l.__u)&&(l.__e==r&&(r=lu(l)),mA(l,l));return r}function yA(t,e,n){var r,a;if(typeof t.type=="function"){for(r=t.__k,a=0;r&&a<r.length;a++)r[a]&&(r[a].__=t,e=yA(r[a],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=lu(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function TI(t,e,n,r){var a,s,u=t.key,l=t.type,f=e[n];if(f===null||f&&u==f.key&&l===f.type&&!(2&f.__u))return n;if(r>(f!=null&&!(2&f.__u)?1:0))for(a=n-1,s=n+1;a>=0||s<e.length;){if(a>=0){if((f=e[a])&&!(2&f.__u)&&u==f.key&&l===f.type)return a;a--}if(s<e.length){if((f=e[s])&&!(2&f.__u)&&u==f.key&&l===f.type)return s;s++}}return-1}function cT(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||wI.test(e)?n:n+"px"}function hd(t,e,n,r,a){var s;t:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||cT(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||cT(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(fA,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=Q0,t.addEventListener(e,s?fm:lm,s)):t.removeEventListener(e,s?fm:lm,s);else{if(a=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function lT(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=Q0++;else if(e.t<n.u)return;return n(Le.event?Le.event(e):e)}}}function e1(t,e,n,r,a,s,u,l,f,h){var p,g,m,_,b,A,R,T,E,v,w,M,C,P,B,S,z,F=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(f=!!(32&n.__u),s=[l=e.__e=n.__e]),(p=Le.__b)&&p(e);t:if(typeof F=="function")try{if(T=e.props,E="prototype"in F&&F.prototype.render,v=(p=F.contextType)&&r[p.__c],w=p?v?v.props.value:p.__:r,n.__c?R=(g=e.__c=n.__c).__=g.__E:(E?e.__c=g=new F(T,w):(e.__c=g=new rh(T,w),g.constructor=F,g.render=MI),v&&v.sub(g),g.props=T,g.state||(g.state={}),g.context=w,g.__n=r,m=g.__d=!0,g.__h=[],g._sb=[]),E&&g.__s==null&&(g.__s=g.state),E&&F.getDerivedStateFromProps!=null&&(g.__s==g.state&&(g.__s=Vo({},g.__s)),Vo(g.__s,F.getDerivedStateFromProps(T,g.__s))),_=g.props,b=g.state,g.__v=e,m)E&&F.getDerivedStateFromProps==null&&g.componentWillMount!=null&&g.componentWillMount(),E&&g.componentDidMount!=null&&g.__h.push(g.componentDidMount);else{if(E&&F.getDerivedStateFromProps==null&&T!==_&&g.componentWillReceiveProps!=null&&g.componentWillReceiveProps(T,w),!g.__e&&(g.shouldComponentUpdate!=null&&g.shouldComponentUpdate(T,g.__s,w)===!1||e.__v==n.__v)){for(e.__v!=n.__v&&(g.props=T,g.state=g.__s,g.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(G){G&&(G.__=e)}),M=0;M<g._sb.length;M++)g.__h.push(g._sb[M]);g._sb=[],g.__h.length&&u.push(g);break t}g.componentWillUpdate!=null&&g.componentWillUpdate(T,g.__s,w),E&&g.componentDidUpdate!=null&&g.__h.push(function(){g.componentDidUpdate(_,b,A)})}if(g.context=w,g.props=T,g.__P=t,g.__e=!1,C=Le.__r,P=0,E){for(g.state=g.__s,g.__d=!1,C&&C(e),p=g.render(g.props,g.state,g.context),B=0;B<g._sb.length;B++)g.__h.push(g._sb[B]);g._sb=[]}else do g.__d=!1,C&&C(e),p=g.render(g.props,g.state,g.context),g.state=g.__s;while(g.__d&&++P<25);g.state=g.__s,g.getChildContext!=null&&(r=Vo(Vo({},r),g.getChildContext())),E&&!m&&g.getSnapshotBeforeUpdate!=null&&(A=g.getSnapshotBeforeUpdate(_,b)),l=gA(t,J0(S=p!=null&&p.type===bp&&p.key==null?p.props.children:p)?S:[S],e,n,r,a,s,u,l,f,h),g.base=e.__e,e.__u&=-161,g.__h.length&&u.push(g),R&&(g.__E=g.__=null)}catch(G){if(e.__v=null,f||s!=null)if(G.then){for(e.__u|=f?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;s[s.indexOf(l)]=null,e.__e=l}else for(z=s.length;z--;)t1(s[z]);else e.__e=n.__e,e.__k=n.__k;Le.__e(G,e,n)}else s==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):l=e.__e=CI(n.__e,e,n,r,a,s,u,f,h);return(p=Le.diffed)&&p(e),128&e.__u?void 0:l}function vA(t,e,n){for(var r=0;r<n.length;r++)n1(n[r],n[++r],n[++r]);Le.__c&&Le.__c(e,t),t.some(function(a){try{t=a.__h,a.__h=[],t.some(function(s){s.call(a)})}catch(s){Le.__e(s,a.__v)}})}function CI(t,e,n,r,a,s,u,l,f){var h,p,g,m,_,b,A,R=n.props,T=e.props,E=e.type;if(E=="svg"?a="http://www.w3.org/2000/svg":E=="math"?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),s!=null){for(h=0;h<s.length;h++)if((_=s[h])&&"setAttribute"in _==!!E&&(E?_.localName==E:_.nodeType==3)){t=_,s[h]=null;break}}if(t==null){if(E==null)return document.createTextNode(T);t=document.createElementNS(a,E,T.is&&T),l&&(Le.__m&&Le.__m(e,s),l=!1),s=null}if(E===null)R===T||l&&t.data===T||(t.data=T);else{if(s=s&&Ep.call(t.childNodes),R=n.props||tl,!l&&s!=null)for(R={},h=0;h<t.attributes.length;h++)R[(_=t.attributes[h]).name]=_.value;for(h in R)if(_=R[h],h!="children"){if(h=="dangerouslySetInnerHTML")g=_;else if(!(h in T)){if(h=="value"&&"defaultValue"in T||h=="checked"&&"defaultChecked"in T)continue;hd(t,h,null,_,a)}}for(h in T)_=T[h],h=="children"?m=_:h=="dangerouslySetInnerHTML"?p=_:h=="value"?b=_:h=="checked"?A=_:l&&typeof _!="function"||R[h]===_||hd(t,h,_,R[h],a);if(p)l||g&&(p.__html===g.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(g&&(t.innerHTML=""),gA(t,J0(m)?m:[m],e,n,r,E=="foreignObject"?"http://www.w3.org/1999/xhtml":a,s,u,s?s[0]:n.__k&&lu(n,0),l,f),s!=null)for(h=s.length;h--;)t1(s[h]);l||(h="value",E=="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[h]||E=="progress"&&!b||E=="option"&&b!==R[h])&&hd(t,h,b,R[h],a),h="checked",A!==void 0&&A!==t[h]&&hd(t,h,A,R[h],a))}return t}function n1(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(a){Le.__e(a,n)}}function mA(t,e,n){var r,a;if(Le.unmount&&Le.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||n1(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){Le.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(a=0;a<r.length;a++)r[a]&&mA(r[a],e,n||typeof t.type!="function");n||t1(t.__e),t.__c=t.__=t.__e=void 0}function MI(t,e,n){return this.constructor(t,n)}function _A(t,e,n){var r,a,s,u;e==document&&(e=document.documentElement),Le.__&&Le.__(t,e),a=(r=!1)?null:e.__k,s=[],u=[],e1(e,t=e.__k=hA(bp,null,[t]),a||tl,tl,e.namespaceURI,a?null:e.firstChild?Ep.call(e.childNodes):null,s,a?a.__e:e.firstChild,r,u),vA(s,t,u)}Ep=dA.slice,Le={__e:function(t,e,n,r){for(var a,s,u;e=e.__;)if((a=e.__c)&&!a.__)try{if((s=a.constructor)&&s.getDerivedStateFromError!=null&&(a.setState(s.getDerivedStateFromError(t)),u=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(t,r||{}),u=a.__d),u)return a.__E=a}catch(l){t=l}throw t}},cA=0,rh.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Vo({},this.state),typeof t=="function"&&(t=t(Vo({},n),this.props)),t&&Vo(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),uT(this))},rh.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),uT(this))},rh.prototype.render=bp,Ka=[],lA=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,cm=function(t,e){return t.__v.__b-e.__v.__b},Oh.__r=0,fA=/(PointerCapture)$|Capture$/i,Q0=0,lm=lT(!1),fm=lT(!0);var xA=function(t,e,n,r){var a;e[0]=0;for(var s=1;s<e.length;s++){var u=e[s++],l=e[s]?(e[0]|=u?1:2,n[e[s++]]):e[++s];u===3?r[0]=l:u===4?r[1]=Object.assign(r[1]||{},l):u===5?(r[1]=r[1]||{})[e[++s]]=l:u===6?r[1][e[++s]]+=l+"":u?(a=t.apply(l,xA(t,l,n,["",null])),r.push(a),l[0]?e[0]|=2:(e[s-2]=0,e[s]=a)):r.push(l)}return r},fT=new Map;function AI(t){var e=fT.get(this);return e||(e=new Map,fT.set(this,e)),(e=xA(this,e.get(t)||(e.set(t,e=function(n){for(var r,a,s=1,u="",l="",f=[0],h=function(m){s===1&&(m||(u=u.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?f.push(0,m,u):s===3&&(m||u)?(f.push(3,m,u),s=2):s===2&&u==="..."&&m?f.push(4,m,0):s===2&&u&&!m?f.push(5,0,!0,u):s>=5&&((u||!m&&s===5)&&(f.push(s,0,u,a),s=6),m&&(f.push(s,m,0,a),s=6)),u=""},p=0;p<n.length;p++){p&&(s===1&&h(),h(p));for(var g=0;g<n[p].length;g++)r=n[p][g],s===1?r==="<"?(h(),f=[f],s=3):u+=r:s===4?u==="--"&&r===">"?(s=1,u=""):u=r+u[0]:l?r===l?l="":u+=r:r==='"'||r==="'"?l=r:r===">"?(h(),s=1):s&&(r==="="?(s=5,a=u,u=""):r==="/"&&(s<5||n[p][g+1]===">")?(h(),s===3&&(f=f[0]),s=f,(f=f[0]).push(2,0,s),s=0):r===" "||r==="	"||r===`
`||r==="\r"?(h(),s=2):u+=r),s===3&&u==="!--"&&(s=4,f=f[0])}return h(),f}(t)),e),arguments,[])).length>1?e:e[0]}var Ze=AI.bind(hA),fu,Ge,bv,dT,el=0,EA=[],Ye=Le,hT=Ye.__b,pT=Ye.__r,gT=Ye.diffed,yT=Ye.__c,vT=Ye.unmount,mT=Ye.__;function wp(t,e){Ye.__h&&Ye.__h(Ge,t,el||e),el=0;var n=Ge.__H||(Ge.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function wv(t){return el=1,OI(bA,t)}function OI(t,e,n){var r=wp(fu++,2);if(r.t=t,!r.__c&&(r.__=[bA(void 0,e),function(l){var f=r.__N?r.__N[0]:r.__[0],h=r.t(f,l);f!==h&&(r.__N=[h,r.__[1]],r.__c.setState({}))}],r.__c=Ge,!Ge.u)){var a=function(l,f,h){if(!r.__c.__H)return!0;var p=r.__c.__H.__.filter(function(m){return!!m.__c});if(p.every(function(m){return!m.__N}))return!s||s.call(this,l,f,h);var g=r.__c.props!==l;return p.forEach(function(m){if(m.__N){var _=m.__[0];m.__=m.__N,m.__N=void 0,_!==m.__[0]&&(g=!0)}}),s&&s.call(this,l,f,h)||g};Ge.u=!0;var s=Ge.shouldComponentUpdate,u=Ge.componentWillUpdate;Ge.componentWillUpdate=function(l,f,h){if(this.__e){var p=s;s=void 0,a(l,f,h),s=p}u&&u.call(this,l,f,h)},Ge.shouldComponentUpdate=a}return r.__N||r.__}function Sv(t,e){var n=wp(fu++,3);!Ye.__s&&i1(n.__H,e)&&(n.__=t,n.i=e,Ge.__H.__h.push(n))}function Rh(t,e){var n=wp(fu++,4);!Ye.__s&&i1(n.__H,e)&&(n.__=t,n.i=e,Ge.__h.push(n))}function r1(t){return el=5,nl(function(){return{current:t}},[])}function nl(t,e){var n=wp(fu++,7);return i1(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function nu(t,e){return el=8,nl(function(){return t},e)}function RI(){for(var t;t=EA.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ih),t.__H.__h.forEach(dm),t.__H.__h=[]}catch(e){t.__H.__h=[],Ye.__e(e,t.__v)}}Ye.__b=function(t){Ge=null,hT&&hT(t)},Ye.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),mT&&mT(t,e)},Ye.__r=function(t){pT&&pT(t),fu=0;var e=(Ge=t.__c).__H;e&&(bv===Ge?(e.__h=[],Ge.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(ih),e.__h.forEach(dm),e.__h=[],fu=0)),bv=Ge},Ye.diffed=function(t){gT&&gT(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(EA.push(e)!==1&&dT===Ye.requestAnimationFrame||((dT=Ye.requestAnimationFrame)||NI)(RI)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),bv=Ge=null},Ye.__c=function(t,e){e.some(function(n){try{n.__h.forEach(ih),n.__h=n.__h.filter(function(r){return!r.__||dm(r)})}catch(r){e.some(function(a){a.__h&&(a.__h=[])}),e=[],Ye.__e(r,n.__v)}}),yT&&yT(t,e)},Ye.unmount=function(t){vT&&vT(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{ih(r)}catch(a){e=a}}),n.__H=void 0,e&&Ye.__e(e,n.__v))};var _T=typeof requestAnimationFrame=="function";function NI(t){var e,n=function(){clearTimeout(r),_T&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);_T&&(e=requestAnimationFrame(n))}function ih(t){var e=Ge,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Ge=e}function dm(t){var e=Ge;t.__c=t.__(),Ge=e}function i1(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function bA(t,e){return typeof e=="function"?e(t):e}function wA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=wA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Nh(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=wA(t))&&(r&&(r+=" "),r+=e);return r}function DI(t){const{entry:e,selected:n,onMouseEnter:r,onMouseLeave:a,onAction:s}=t;return Ze`
    <li
      class=${Nh("entry",{selected:n})}
      data-id=${e.id}
      title=${e.title||e.label}
      onClick=${s}
      onMouseEnter=${r}
      onMouseLeave=${a}
      onDragStart=${u=>s(u,e,"dragstart")}
      draggable=${!0}
    >
      <div class="djs-popup-entry-content">
        <span
          class=${Nh("djs-popup-entry-name",e.className)}
        >
          ${e.imageUrl&&Ze`<img class="djs-popup-entry-icon" src=${e.imageUrl} alt="" />`||e.imageHtml&&Ze`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:e.imageHtml}} />`}

          ${e.label?Ze`
            <span class="djs-popup-label">
              ${e.label}
            </span>
          `:null}
        </span>
        ${e.description&&Ze`
          <span
            class="djs-popup-entry-description"
            title=${e.description}
          >
            ${e.description}
          </span>
        `}
      </div>
      ${e.documentationRef&&Ze`
        <div class="djs-popup-entry-docs">
          <a
            href="${e.documentationRef}"
            onClick=${u=>u.stopPropagation()}
            title="Open element documentation"
            target="_blank"
            rel="noopener"
          >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z" fill="#818798"/>
            </svg>
          </a>
        </div>
      `}
    </li>
  `}function LI(t){const{selectedEntry:e,setSelectedEntry:n,entries:r,...a}=t,s=r1(),u=nl(()=>PI(r),[r]);return Rh(()=>{const l=s.current;if(!l)return;const f=l.querySelector(".selected");f&&BI(f)},[e]),Ze`
    <div class="djs-popup-results" ref=${s}>
      ${u.map(l=>Ze`
        ${l.name&&Ze`
          <div key=${l.id} class="entry-header" title=${l.name}>
            ${l.name}
          </div>
        `}
        <ul class="djs-popup-group" data-group=${l.id}>
          ${l.entries.map(f=>Ze`
            <${DI}
              key=${f.id}
              entry=${f}
              selected=${f===e}
              onMouseEnter=${()=>n(f)}
              onMouseLeave=${()=>n(null)}
              ...${a}
            />
          `)}
        </ul>
      `)}
    </div>
  `}function PI(t){const e=[],n=s=>e.find(u=>s.id===u.id),r=s=>!!n(s),a=s=>typeof s=="string"?{id:s}:s;return t.forEach(s=>{const u=s.group?a(s.group):{id:"default"};r(u)?n(u).entries.push(s):e.push({...u,entries:[s]})}),e}function BI(t){typeof t.scrollIntoViewIfNeeded=="function"?t.scrollIntoViewIfNeeded():t.scrollIntoView({scrollMode:"if-needed",block:"nearest"})}function II(t){const{onClose:e,onSelect:n,className:r,headerEntries:a,position:s,title:u,width:l,scale:f,search:h,entries:p,onOpened:g,onClosed:m}=t,_=nl(()=>_n(h)?p.length>5:!1,[h,p]),b=r1(),[A,R]=wv(""),T=nu((F,G)=>{if(!_)return F;const q=dt=>{if(!G)return(dt.rank||0)>=0;const At=[dt.description||"",dt.label||"",dt.search||""].join("---").toLowerCase();return G.toLowerCase().split(/\s/g).every(it=>At.includes(it))};return F.filter(q)},[_]),[E,v]=wv(T(p,A)),[w,M]=wv(E[0]),C=nu(F=>{(!w||!F.includes(w))&&M(F[0]),v(F)},[w,v,M]);Sv(()=>{C(T(p,A))},[A,p]),Sv(()=>{const F=G=>{if(G.key==="Escape")return G.preventDefault(),e()};return document.documentElement.addEventListener("keydown",F),()=>{document.documentElement.removeEventListener("keydown",F)}},[]),Rh(()=>{b.current&&b.current.focus()},[]);const P=nu(F=>{let q=E.indexOf(w)+F;q<0&&(q=E.length-1),q>=E.length&&(q=0),M(E[q])},[E,w,M]),B=nu(F=>{if(F.key==="Enter"&&w)return n(F,w);if(F.key==="ArrowUp"||F.key==="Tab"&&F.shiftKey)return P(-1),F.preventDefault();if(F.key==="ArrowDown"||F.key==="Tab")return P(1),F.preventDefault()},[n,e,w,P]),S=nu(F=>{Cm(F.target,"input")&&R(()=>F.target.value)},[R]);Sv(()=>(g(),()=>{m()}),[]);const z=nl(()=>u||a.length>0,[u,a]);return Ze`
    <${xT}
      onClose=${e}
      onKeyup=${S}
      onKeydown=${B}
      className=${r}
      position=${s}
      width=${l}
      scale=${f}
    >
      ${z&&Ze`
        <div class="djs-popup-header">
          <h3 class="djs-popup-title" title=${u}>${u}</h3>
          ${a.map(F=>Ze`
            <span
              class=${kI(F,F===w)}
              onClick=${G=>n(G,F)}
              title=${F.title||F.label}
              data-id=${F.id}
              onMouseEnter=${()=>M(F)}
              onMouseLeave=${()=>M(null)}
            >
            ${F.imageUrl&&Ze`<img class="djs-popup-entry-icon" src=${F.imageUrl} alt="" />`||F.imageHtml&&Ze`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:F.imageHtml}} />`}

              ${F.label?Ze`
                <span class="djs-popup-label">${F.label}</span>
              `:null}
            </span>
          `)}
        </div>
      `}
      ${p.length>0&&Ze`
        <div class="djs-popup-body">

          ${_&&Ze`
          <div class="djs-popup-search">
            <svg class="djs-popup-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
            </svg>
            <input
                ref=${b}
                type="text"
              />
          </div>
          `}

          <${LI}
            entries=${E}
            selectedEntry=${w}
            setSelectedEntry=${M}
            onAction=${n}
          />
        </div>
        ${E.length===0&&Ze`
          <div class="djs-popup-no-results">No matching entries found.</div>
        `}
      `}
    </${xT}>
  `}function xT(t){const{onClose:e,onKeydown:n,onKeyup:r,className:a,children:s,position:u}=t,l=r1(),f=nu(h=>{oo(h.target,".djs-popup",!0)||e()},[e]);return Rh(()=>{if(typeof u!="function")return;const h=l.current,p=u(h);h.style.left=`${p.x}px`,h.style.top=`${p.y}px`},[l.current,u]),Rh(()=>{l.current&&l.current.focus()},[]),Ze`
    <div
      class="djs-popup-backdrop"
      onClick=${f}
    >
      <div
        class=${Nh("djs-popup",a)}
        style=${jI(t)}
        onKeydown=${n}
        onKeyup=${r}
        ref=${l}
        tabIndex="-1"
      >
        ${s}
      </div>
    </div>
  `}function jI(t){return{transform:`scale(${t.scale})`,width:`${t.width}px`}}function kI(t,e){return Nh("entry",t.className,t.active?"active":"",t.disabled?"disabled":"",e?"selected":"")}var zI="data-id",SA=["contextPad.close","canvas.viewbox.changing","commandStack.changed"],$I=1e3;function He(t,e,n){this._eventBus=e,this._canvas=n,this._current=null;var r=_n(t&&t.scale)?t.scale:{min:1,max:1.5};this._config={scale:r},e.on("diagram.destroy",()=>{this.close()}),e.on("element.changed",a=>{const s=this.isOpen()&&this._current.target;a.element===s&&this._render()})}He.$inject=["config.popupMenu","eventBus","canvas"];He.prototype._render=function(){const{position:t,className:e,entries:n,headerEntries:r,options:a}=this._current,s=Object.entries(n).map(([g,m])=>({id:g,...m})),u=Object.entries(r).map(([g,m])=>({id:g,...m})),l=t&&(g=>this._ensureVisible(g,t)),f=this._updateScale(this._current.container);_A(Ze`
      <${II}
        onClose=${g=>this.close(g)}
        onSelect=${(g,m,_)=>this.trigger(g,m,_)}
        position=${l}
        className=${e}
        entries=${s}
        headerEntries=${u}
        scale=${f}
        onOpened=${this._onOpened.bind(this)}
        onClosed=${this._onClosed.bind(this)}
        ...${{...a}}
      />
    `,this._current.container)};He.prototype.open=function(t,e,n,r){if(!t)throw new Error("target is missing");if(!e)throw new Error("providers for <"+e+"> not found");if(!n)throw new Error("position is missing");this.isOpen()&&this.close();const{entries:a,headerEntries:s}=this._getContext(t,e);this._current={position:n,className:e,target:t,entries:a,headerEntries:s,container:this._createContainer({provider:e}),options:r},this._emit("open"),this._bindAutoClose(),this._render()};He.prototype._getContext=function(t,e){const n=this._getProviders(e);if(!n||!n.length)throw new Error("provider for <"+e+"> not found");const r=this._getEntries(t,n),a=this._getHeaderEntries(t,n);return{entries:r,headerEntries:a,empty:!(Object.keys(r).length||Object.keys(a).length)}};He.prototype.close=function(){this.isOpen()&&(this._emit("close"),this.reset(),this._current=null)};He.prototype.reset=function(){const t=this._current.container;_A(null,t),Si(t)};He.prototype._emit=function(t,e){this._eventBus.fire(`popupMenu.${t}`,e)};He.prototype._onOpened=function(){this._emit("opened")};He.prototype._onClosed=function(){this._emit("closed")};He.prototype._createContainer=function(t){var e=this._canvas,n=e.getContainer();const r=fn(`<div class="djs-popup-parent djs-scrollable" data-popup=${t.provider}></div>`);return n.appendChild(r),r};He.prototype._bindAutoClose=function(){this._eventBus.once(SA,this.close,this)};He.prototype._unbindAutoClose=function(){this._eventBus.off(SA,this.close,this)};He.prototype._updateScale=function(){var t=this._canvas.zoom(),e=this._config.scale,n,r,a=t;return e!==!0&&(e===!1?(n=1,r=1):(n=e.min,r=e.max),_n(n)&&t<n&&(a=n),_n(r)&&t>r&&(a=r)),a};He.prototype._ensureVisible=function(t,e){var n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect(),a={},s=e.x,u=e.y;return e.x+r.width>n.width&&(a.x=!0),e.y+r.height>n.height&&(a.y=!0),a.x&&a.y?(s=e.x-r.width,u=e.y-r.height):a.x?(s=e.x-r.width,u=e.y):a.y&&e.y<r.height?(s=e.x,u=10):a.y&&(s=e.x,u=e.y-r.height),e.y<n.top&&(u=e.y+r.height),{x:s,y:u}};He.prototype.isEmpty=function(t,e){if(!t)throw new Error("target is missing");if(!e)throw new Error("provider ID is missing");const n=this._getProviders(e);return!n||!n.length?!0:this._getContext(t,e).empty};He.prototype.registerProvider=function(t,e,n){n||(n=e,e=$I),this._eventBus.on("popupMenu.getProviders."+t,e,function(r){r.providers.push(n)})};He.prototype._getProviders=function(t){var e=this._eventBus.createEvent({type:"popupMenu.getProviders."+t,providers:[]});return this._eventBus.fire(e),e.providers};He.prototype._getEntries=function(t,e){var n={};return nt(e,function(r){if(!r.getPopupMenuEntries){nt(r.getEntries(t),function(s){var u=s.id;if(!u)throw new Error("entry ID is missing");n[u]=ro(s,["id"])});return}var a=r.getPopupMenuEntries(t);En(a)?n=a(n):nt(a,function(s,u){n[u]=s})}),n};He.prototype._getHeaderEntries=function(t,e){var n={};return nt(e,function(r){if(!r.getPopupMenuHeaderEntries){if(!r.getHeaderEntries)return;nt(r.getHeaderEntries(t),function(s){var u=s.id;if(!u)throw new Error("entry ID is missing");n[u]=ro(s,["id"])});return}var a=r.getPopupMenuHeaderEntries(t);En(a)?n=a(n):nt(a,function(s,u){n[u]=s})}),n};He.prototype.isOpen=function(){return!!this._current};He.prototype.trigger=function(t,e,n="click"){if(t.preventDefault(),!e){let a=oo(t.delegateTarget||t.target,".entry",!0),s=hr(a,zI);e={id:s,...this._getEntry(s)}}const r=e.action;if(this._emit("trigger",{entry:e,event:t})!==!1){if(En(r)){if(n==="click")return r(t,e)}else if(r[n])return r[n](t,e)}};He.prototype._getEntry=function(t){var e=this._current.entries[t]||this._current.headerEntries[t];if(!e)throw new Error("entry not found");return e};const HI={__init__:["popupMenu"],popupMenu:["type",He]};function ds(t,e,n,r,a,s,u){this._popupMenu=t,this._modeling=e,this._moddle=n,this._dcrReplace=r,this._rules=a,this._translate=s,this._dcrRules=u,this.register()}ds.$inject=["popupMenu","modeling","moddle","dcrReplace","rules","translate","dcrRules"];ds.prototype.getHeaderEntries=function(t){const e=t.businessObject.get("pending")||!1,n=t.businessObject.get("included")||!1,r=t.businessObject.get("executed")||!1,a=t.businessObject.get("multi-instance")||!1;let s=[];return(!te(t,"dcr:SubProcess")||!a)&&s.push({id:"toggle-pending-state",className:"od-text-box-pending",title:"Pending State",active:e,action:(u,l)=>{this._modeling.updateProperties(t,{pending:!e})},loopType:"Pending"},{id:"toggle-included-state",className:"od-text-box-included",title:"Included State",active:n,action:(u,l)=>{this._modeling.updateProperties(t,{included:!n})},loopType:"Included"},{id:"toggle-executed-state",className:"od-text-box-executed",title:"Executed State",active:r,action:(u,l)=>{this._modeling.updateProperties(t,{executed:!r})},loopType:"Executed"}),s};ds.prototype.getEntries=function(t){const e=t.businessObject.get("multi-instance")||!1,n=t.children.some(r=>te(r,"dcr:Nesting"));return te(t,"dcr:SubProcess")&&(e||te(t.parent,"dcr:DcrGraph"))&&(!e||!n)?[{id:"toggle-multi-instance-state",label:`Change to ${e?"Single":"Multi"}-Instance SubProcess`,action:(r,a)=>{this._modeling.updateProperties(t,{"multi-instance":!e})}}]:[]};ds.prototype._createMenuEntry=function(t,e,n){var r=this._translate,a=this._postitReplace.replaceElement,s=function(){return a(e,t.target)};n=n||s;var u={label:r(t.label),className:t.className,id:t.actionName,action:n};return u};ds.prototype._createMenuEntry=function(t,e,n){this._translate,this._dcrReplace.replaceElement};ds.prototype.register=function(){this._popupMenu.registerProvider("dcr-object-popup",this)};function hs(t,e,n,r,a,s,u){this._popupMenu=t,this._modeling=e,this._moddle=n,this._dcrReplace=r,this._rules=a,this._translate=s,this._dcrRules=u,this.register()}hs.$inject=["popupMenu","modeling","moddle","dcrReplace","rules","translate","dcrRules"];hs.prototype.getHeaderEntries=function(t){const e=t.businessObject.get("pending")||!1,n=!!(t.businessObject.get("included")||t.businessObject.get("included")===void 0),r=t.businessObject.get("executed")||!1;let a=this;return[{id:"toggle-pending-state",className:"od-text-box-pending",title:"Pending State",active:e,action:(u,l)=>{a._modeling.updateProperties(t,{pending:!e}),t.children.forEach(f=>{a._modeling.updateProperties(f,{pending:!e})})},loopType:"Pending"},{id:"toggle-included-state",className:"od-text-box-included",title:"Included State",active:n,action:(u,l)=>{a._modeling.updateProperties(t,{included:!n}),t.children.forEach(f=>{a._modeling.updateProperties(f,{included:!n})})},loopType:"Included"},{id:"toggle-executed-state",className:"od-text-box-executed",title:"Executed State",active:r,action:(u,l)=>{a._modeling.updateProperties(t,{executed:!r}),t.children.forEach(f=>{a._modeling.updateProperties(f,{executed:!r})})},loopType:"Executed"}]};hs.prototype.getEntries=function(t){return[]};hs.prototype._createMenuEntry=function(t,e,n){var r=this._translate,a=this._postitReplace.replaceElement,s=function(){return a(e,t.target)};n=n||s;var u={label:r(t.label),className:t.className,id:t.actionName,action:n};return u};hs.prototype._createMenuEntry=function(t,e,n){this._translate,this._dcrReplace.replaceElement};hs.prototype.register=function(){this._popupMenu.registerProvider("dcr-nesting-popup",this)};function Ol(t,e,n,r,a,s,u){this._popupMenu=t,this._modeling=e,this._moddle=n,this._dcrReplace=r,this._rules=a,this._translate=s,this._dcrRules=u,this.register()}Ol.$inject=["popupMenu","modeling","moddle","dcrReplace","rules","translate","dcrRules"];Ol.prototype.getHeaderEntries=function(t){return[]};Ol.prototype.getEntries=function(t){t.businessObject.get("type");let e=this;return[{id:"toggle-condition-flow",label:"Condition Relation",flowType:"condition",action:(r,a)=>{e._modeling.updateProperties(t,{type:a.flowType})}},{id:"toggle-response-flow",label:"Response Relation",flowType:"response",action:(r,a)=>{e._modeling.updateProperties(t,{type:a.flowType})}},{id:"toggle-include-flow",label:"Include Relation",flowType:"include",action:(r,a)=>{e._modeling.updateProperties(t,{type:a.flowType})}},{id:"toggle-exclude-flow",label:"Exclude Relation",flowType:"exclude",action:(r,a)=>{e._modeling.updateProperties(t,{type:a.flowType})}},{id:"toggle-milestone-flow",label:"Milestone Relation",flowType:"milestone",action:(r,a)=>{e._modeling.updateProperties(t,{type:a.flowType})}},{id:"toggle-spawn-flow",label:"Spawn Relation",flowType:"spawn",action:(r,a)=>{e._modeling.updateProperties(t,{type:a.flowType})}}].filter(r=>e._dcrRules.isLinkAllowed(t,r.flowType))};Ol.prototype.register=function(){this._popupMenu.registerProvider("dcr-link-popup",this)};const UI={__depends__:[HI,DM],__init__:["subProcessPopupProvide","relationPopupProvider","nestingPopupProvider"],subProcessPopupProvide:["type",ds],nestingPopupProvider:["type",hs],relationPopupProvider:["type",Ol]},FI={__depends__:[],__init__:["dcrSettings"],dcrSettings:["type",nC]};var XI=`<?xml version="1.0" encoding="UTF-8"?>
<dcr:definitions xmlns:dcr="http://tk/schema/dcr" xmlns:dcrDi="http://tk/schema/dcrDi">
    <dcr:dcrGraph id="Board_debug" />
    <dcrDi:dcrRootBoard id="RootBoard_debug">
        <dcrDi:dcrPlane id="Plane_debug" boardElement="Board_debug" />
    </dcrDi:dcrRootBoard>
</dcr:definitions>`;function bi(t){hl.call(this,t)}we(bi,hl);bi.Viewer=la;bi.NavigatedViewer=Qc;bi.prototype.createDiagram=function(){return this.importXML(XI)};bi.prototype._interactionModules=[SC,AC,T8,NC];bi.prototype._modelingModules=[mP,M8,L8,r6,b0,c6,M6,JC,rp,k6,hP,pP,wP,jP,N9,z9,K9,rI,pM,bI,UI,FI];bi.prototype._modules=[].concat(la.prototype._modules,bi.prototype._interactionModules,bi.prototype._modelingModules);const TA=`<?xml version="1.0" encoding="UTF-8"?>
<dcr:definitions xmlns:dcr="http://tk/schema/dcr" xmlns:dcrDi="http://tk/schema/dcrDi" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC">
    <dcr:dcrGraph id="dcrGraph">
    </dcr:dcrGraph>
    <dcrDi:dcrRootBoard id="RootBoard">
        <dcrDi:dcrPlane id="Plane" boardElement="Board">
        </dcrDi:dcrPlane>
    </dcrDi:dcrRootBoard>
</dcr:definitions>`,o1=({modelerRef:t,override:e})=>(Qt.useEffect(()=>{let n;if(!t.current){n=new bi(e?{container:document.getElementById("canvas"),keyboard:{bindTo:window},additionalModules:[{palette:["value",null],paletteProvider:["value",null],bendpoints:["value",null],move:["value",null],keyboard:["value",null],keyboardMove:["value",null],keyboardMoveSelection:["value",null],keyboardBindings:["value",null],labelEditing:["value",null],labelEditingProvider:["value",null]}]}:{container:document.getElementById("canvas"),keyboard:{bindTo:window}});const r=Math.random();n.importXML(TA).then(()=>{if(t.current=n,e){const a=u0(t.current.getElementRegistry());e.graphRef.current={initial:a,current:{...a,marking:su(a.marking)}},n.getSelection().select([]),n.setSimulating(!0),n.updateRendering(a),n.on("element.click",u=>{e.overrideOnclick(u),n.getSelection().select([])})}}).catch(a=>console.log(r,`
                This error happens in development because the component is mounted twice due to Strict Mode. 
                This means that the async importXML call of the first mount returns this error, 
                since the corresponding modeler has since been destroyed by cleanup. 
                I.e. it should be harmless
            `,a))}return()=>{n==null||n.destroy(),t.current=null}},[]),st.jsx("div",{className:e!=null&&e.canvasClassName?e.canvasClassName:"",id:"canvas"}));var tr=function(){return tr=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},tr.apply(this,arguments)};function Dh(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,s;r<a;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var De="-ms-",Kc="-moz-",Te="-webkit-",CA="comm",Sp="rule",a1="decl",GI="@import",MA="@keyframes",qI="@layer",AA=Math.abs,s1=String.fromCharCode,hm=Object.assign;function VI(t,e){return mn(t,0)^45?(((e<<2^mn(t,0))<<2^mn(t,1))<<2^mn(t,2))<<2^mn(t,3):0}function OA(t){return t.trim()}function Zi(t,e){return(t=e.exec(t))?t[0]:t}function ue(t,e,n){return t.replace(e,n)}function oh(t,e,n){return t.indexOf(e,n)}function mn(t,e){return t.charCodeAt(e)|0}function du(t,e,n){return t.slice(e,n)}function xi(t){return t.length}function RA(t){return t.length}function Uc(t,e){return e.push(t),t}function YI(t,e){return t.map(e).join("")}function ET(t,e){return t.filter(function(n){return!Zi(n,e)})}var Tp=1,hu=1,NA=0,$r=0,rn=0,Ru="";function Cp(t,e,n,r,a,s,u,l){return{value:t,root:e,parent:n,type:r,props:a,children:s,line:Tp,column:hu,length:u,return:"",siblings:l}}function qo(t,e){return hm(Cp("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function tu(t){for(;t.root;)t=qo(t.root,{children:[t]});Uc(t,t.siblings)}function KI(){return rn}function ZI(){return rn=$r>0?mn(Ru,--$r):0,hu--,rn===10&&(hu=1,Tp--),rn}function ei(){return rn=$r<NA?mn(Ru,$r++):0,hu++,rn===10&&(hu=1,Tp++),rn}function Qa(){return mn(Ru,$r)}function ah(){return $r}function Mp(t,e){return du(Ru,t,e)}function pm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function WI(t){return Tp=hu=1,NA=xi(Ru=t),$r=0,[]}function QI(t){return Ru="",t}function Tv(t){return OA(Mp($r-1,gm(t===91?t+2:t===40?t+1:t)))}function JI(t){for(;(rn=Qa())&&rn<33;)ei();return pm(t)>2||pm(rn)>3?"":" "}function t7(t,e){for(;--e&&ei()&&!(rn<48||rn>102||rn>57&&rn<65||rn>70&&rn<97););return Mp(t,ah()+(e<6&&Qa()==32&&ei()==32))}function gm(t){for(;ei();)switch(rn){case t:return $r;case 34:case 39:t!==34&&t!==39&&gm(rn);break;case 40:t===41&&gm(t);break;case 92:ei();break}return $r}function e7(t,e){for(;ei()&&t+rn!==57;)if(t+rn===84&&Qa()===47)break;return"/*"+Mp(e,$r-1)+"*"+s1(t===47?t:ei())}function n7(t){for(;!pm(Qa());)ei();return Mp(t,$r)}function r7(t){return QI(sh("",null,null,null,[""],t=WI(t),0,[0],t))}function sh(t,e,n,r,a,s,u,l,f){for(var h=0,p=0,g=u,m=0,_=0,b=0,A=1,R=1,T=1,E=0,v="",w=a,M=s,C=r,P=v;R;)switch(b=E,E=ei()){case 40:if(b!=108&&mn(P,g-1)==58){oh(P+=ue(Tv(E),"&","&\f"),"&\f",AA(h?l[h-1]:0))!=-1&&(T=-1);break}case 34:case 39:case 91:P+=Tv(E);break;case 9:case 10:case 13:case 32:P+=JI(b);break;case 92:P+=t7(ah()-1,7);continue;case 47:switch(Qa()){case 42:case 47:Uc(i7(e7(ei(),ah()),e,n,f),f);break;default:P+="/"}break;case 123*A:l[h++]=xi(P)*T;case 125*A:case 59:case 0:switch(E){case 0:case 125:R=0;case 59+p:T==-1&&(P=ue(P,/\f/g,"")),_>0&&xi(P)-g&&Uc(_>32?wT(P+";",r,n,g-1,f):wT(ue(P," ","")+";",r,n,g-2,f),f);break;case 59:P+=";";default:if(Uc(C=bT(P,e,n,h,p,a,l,v,w=[],M=[],g,s),s),E===123)if(p===0)sh(P,e,C,C,w,s,g,l,M);else switch(m===99&&mn(P,3)===110?100:m){case 100:case 108:case 109:case 115:sh(t,C,C,r&&Uc(bT(t,C,C,0,0,a,l,v,a,w=[],g,M),M),a,M,g,l,r?w:M);break;default:sh(P,C,C,C,[""],M,0,l,M)}}h=p=_=0,A=T=1,v=P="",g=u;break;case 58:g=1+xi(P),_=b;default:if(A<1){if(E==123)--A;else if(E==125&&A++==0&&ZI()==125)continue}switch(P+=s1(E),E*A){case 38:T=p>0?1:(P+="\f",-1);break;case 44:l[h++]=(xi(P)-1)*T,T=1;break;case 64:Qa()===45&&(P+=Tv(ei())),m=Qa(),p=g=xi(v=P+=n7(ah())),E++;break;case 45:b===45&&xi(P)==2&&(A=0)}}return s}function bT(t,e,n,r,a,s,u,l,f,h,p,g){for(var m=a-1,_=a===0?s:[""],b=RA(_),A=0,R=0,T=0;A<r;++A)for(var E=0,v=du(t,m+1,m=AA(R=u[A])),w=t;E<b;++E)(w=OA(R>0?_[E]+" "+v:ue(v,/&\f/g,_[E])))&&(f[T++]=w);return Cp(t,e,n,a===0?Sp:l,f,h,p,g)}function i7(t,e,n,r){return Cp(t,e,n,CA,s1(KI()),du(t,2,-2),0,r)}function wT(t,e,n,r,a){return Cp(t,e,n,a1,du(t,0,r),du(t,r+1,-1),r,a)}function DA(t,e,n){switch(VI(t,e)){case 5103:return Te+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Te+t+t;case 4789:return Kc+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Te+t+Kc+t+De+t+t;case 5936:switch(mn(t,e+11)){case 114:return Te+t+De+ue(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Te+t+De+ue(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Te+t+De+ue(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Te+t+De+t+t;case 6165:return Te+t+De+"flex-"+t+t;case 5187:return Te+t+ue(t,/(\w+).+(:[^]+)/,Te+"box-$1$2"+De+"flex-$1$2")+t;case 5443:return Te+t+De+"flex-item-"+ue(t,/flex-|-self/g,"")+(Zi(t,/flex-|baseline/)?"":De+"grid-row-"+ue(t,/flex-|-self/g,""))+t;case 4675:return Te+t+De+"flex-line-pack"+ue(t,/align-content|flex-|-self/g,"")+t;case 5548:return Te+t+De+ue(t,"shrink","negative")+t;case 5292:return Te+t+De+ue(t,"basis","preferred-size")+t;case 6060:return Te+"box-"+ue(t,"-grow","")+Te+t+De+ue(t,"grow","positive")+t;case 4554:return Te+ue(t,/([^-])(transform)/g,"$1"+Te+"$2")+t;case 6187:return ue(ue(ue(t,/(zoom-|grab)/,Te+"$1"),/(image-set)/,Te+"$1"),t,"")+t;case 5495:case 3959:return ue(t,/(image-set\([^]*)/,Te+"$1$`$1");case 4968:return ue(ue(t,/(.+:)(flex-)?(.*)/,Te+"box-pack:$3"+De+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Te+t+t;case 4200:if(!Zi(t,/flex-|baseline/))return De+"grid-column-align"+du(t,e)+t;break;case 2592:case 3360:return De+ue(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,a){return e=a,Zi(r.props,/grid-\w+-end/)})?~oh(t+(n=n[e].value),"span",0)?t:De+ue(t,"-start","")+t+De+"grid-row-span:"+(~oh(n,"span",0)?Zi(n,/\d+/):+Zi(n,/\d+/)-+Zi(t,/\d+/))+";":De+ue(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Zi(r.props,/grid-\w+-start/)})?t:De+ue(ue(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ue(t,/(.+)-inline(.+)/,Te+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(xi(t)-1-e>6)switch(mn(t,e+1)){case 109:if(mn(t,e+4)!==45)break;case 102:return ue(t,/(.+:)(.+)-([^]+)/,"$1"+Te+"$2-$3$1"+Kc+(mn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~oh(t,"stretch",0)?DA(ue(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return ue(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,a,s,u,l,f,h){return De+a+":"+s+h+(u?De+a+"-span:"+(l?f:+f-+s)+h:"")+t});case 4949:if(mn(t,e+6)===121)return ue(t,":",":"+Te)+t;break;case 6444:switch(mn(t,mn(t,14)===45?18:11)){case 120:return ue(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Te+(mn(t,14)===45?"inline-":"")+"box$3$1"+Te+"$2$3$1"+De+"$2box$3")+t;case 100:return ue(t,":",":"+De)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ue(t,"scroll-","scroll-snap-")+t}return t}function Lh(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function o7(t,e,n,r){switch(t.type){case qI:if(t.children.length)break;case GI:case a1:return t.return=t.return||t.value;case CA:return"";case MA:return t.return=t.value+"{"+Lh(t.children,r)+"}";case Sp:if(!xi(t.value=t.props.join(",")))return""}return xi(n=Lh(t.children,r))?t.return=t.value+"{"+n+"}":""}function a7(t){var e=RA(t);return function(n,r,a,s){for(var u="",l=0;l<e;l++)u+=t[l](n,r,a,s)||"";return u}}function s7(t){return function(e){e.root||(e=e.return)&&t(e)}}function u7(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case a1:t.return=DA(t.value,t.length,n);return;case MA:return Lh([qo(t,{value:ue(t.value,"@","@"+Te)})],r);case Sp:if(t.length)return YI(n=t.props,function(a){switch(Zi(a,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":tu(qo(t,{props:[ue(a,/:(read-\w+)/,":"+Kc+"$1")]})),tu(qo(t,{props:[a]})),hm(t,{props:ET(n,r)});break;case"::placeholder":tu(qo(t,{props:[ue(a,/:(plac\w+)/,":"+Te+"input-$1")]})),tu(qo(t,{props:[ue(a,/:(plac\w+)/,":"+Kc+"$1")]})),tu(qo(t,{props:[ue(a,/:(plac\w+)/,De+"input-$1")]})),tu(qo(t,{props:[a]})),hm(t,{props:ET(n,r)});break}return""})}}var c7={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},lr={},pu=typeof process<"u"&&lr!==void 0&&(lr.REACT_APP_SC_ATTR||lr.SC_ATTR)||"data-styled",LA="active",PA="data-styled-version",Ap="6.1.15",u1=`/*!sc*/
`,Ph=typeof window<"u"&&"HTMLElement"in window,l7=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&lr!==void 0&&lr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&lr.REACT_APP_SC_DISABLE_SPEEDY!==""?lr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&lr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&lr!==void 0&&lr.SC_DISABLE_SPEEDY!==void 0&&lr.SC_DISABLE_SPEEDY!==""&&lr.SC_DISABLE_SPEEDY!=="false"&&lr.SC_DISABLE_SPEEDY),Op=Object.freeze([]),gu=Object.freeze({});function f7(t,e,n){return n===void 0&&(n=gu),t.theme!==n.theme&&t.theme||e||n.theme}var BA=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),d7=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,h7=/(^-|-$)/g;function ST(t){return t.replace(d7,"-").replace(h7,"")}var p7=/(a)(d)/gi,pd=52,TT=function(t){return String.fromCharCode(t+(t>25?39:97))};function ym(t){var e,n="";for(e=Math.abs(t);e>pd;e=e/pd|0)n=TT(e%pd)+n;return(TT(e%pd)+n).replace(p7,"$1-$2")}var Cv,IA=5381,iu=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},jA=function(t){return iu(IA,t)};function g7(t){return ym(jA(t)>>>0)}function y7(t){return t.displayName||t.name||"Component"}function Mv(t){return typeof t=="string"&&!0}var kA=typeof Symbol=="function"&&Symbol.for,zA=kA?Symbol.for("react.memo"):60115,v7=kA?Symbol.for("react.forward_ref"):60112,m7={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_7={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},$A={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},x7=((Cv={})[v7]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Cv[zA]=$A,Cv);function CT(t){return("type"in(e=t)&&e.type.$$typeof)===zA?$A:"$$typeof"in t?x7[t.$$typeof]:m7;var e}var E7=Object.defineProperty,b7=Object.getOwnPropertyNames,MT=Object.getOwnPropertySymbols,w7=Object.getOwnPropertyDescriptor,S7=Object.getPrototypeOf,AT=Object.prototype;function HA(t,e,n){if(typeof e!="string"){if(AT){var r=S7(e);r&&r!==AT&&HA(t,r,n)}var a=b7(e);MT&&(a=a.concat(MT(e)));for(var s=CT(t),u=CT(e),l=0;l<a.length;++l){var f=a[l];if(!(f in _7||n&&n[f]||u&&f in u||s&&f in s)){var h=w7(e,f);try{E7(t,f,h)}catch{}}}}return t}function yu(t){return typeof t=="function"}function c1(t){return typeof t=="object"&&"styledComponentId"in t}function Wa(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function OT(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function rl(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function vm(t,e,n){if(n===void 0&&(n=!1),!n&&!rl(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=vm(t[r],e[r]);else if(rl(e))for(var r in e)t[r]=vm(t[r],e[r]);return t}function l1(t,e){Object.defineProperty(t,"toString",{value:e})}function Rl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var T7=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,a=r.length,s=a;e>=s;)if((s<<=1)<0)throw Rl(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var u=a;u<s;u++)this.groupSizes[u]=0}for(var l=this.indexOfGroup(e+1),f=(u=0,n.length);u<f;u++)this.tag.insertRule(l,n[u])&&(this.groupSizes[e]++,l++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),a=r+n;this.groupSizes[e]=0;for(var s=r;s<a;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],a=this.indexOfGroup(e),s=a+r,u=a;u<s;u++)n+="".concat(this.tag.getRule(u)).concat(u1);return n},t}(),uh=new Map,Bh=new Map,ch=1,gd=function(t){if(uh.has(t))return uh.get(t);for(;Bh.has(ch);)ch++;var e=ch++;return uh.set(t,e),Bh.set(e,t),e},C7=function(t,e){ch=e+1,uh.set(t,e),Bh.set(e,t)},M7="style[".concat(pu,"][").concat(PA,'="').concat(Ap,'"]'),A7=new RegExp("^".concat(pu,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),O7=function(t,e,n){for(var r,a=n.split(","),s=0,u=a.length;s<u;s++)(r=a[s])&&t.registerName(e,r)},R7=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(u1),a=[],s=0,u=r.length;s<u;s++){var l=r[s].trim();if(l){var f=l.match(A7);if(f){var h=0|parseInt(f[1],10),p=f[2];h!==0&&(C7(p,h),O7(t,p,f[3]),t.getTag().insertRules(h,a)),a.length=0}else a.push(l)}}},RT=function(t){for(var e=document.querySelectorAll(M7),n=0,r=e.length;n<r;n++){var a=e[n];a&&a.getAttribute(pu)!==LA&&(R7(t,a),a.parentNode&&a.parentNode.removeChild(a))}};function N7(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var UA=function(t){var e=document.head,n=t||e,r=document.createElement("style"),a=function(l){var f=Array.from(l.querySelectorAll("style[".concat(pu,"]")));return f[f.length-1]}(n),s=a!==void 0?a.nextSibling:null;r.setAttribute(pu,LA),r.setAttribute(PA,Ap);var u=N7();return u&&r.setAttribute("nonce",u),n.insertBefore(r,s),r},D7=function(){function t(e){this.element=UA(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,a=0,s=r.length;a<s;a++){var u=r[a];if(u.ownerNode===n)return u}throw Rl(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),L7=function(){function t(e){this.element=UA(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),P7=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),NT=Ph,B7={isServer:!Ph,useCSSOMInjection:!l7},FA=function(){function t(e,n,r){e===void 0&&(e=gu),n===void 0&&(n={});var a=this;this.options=tr(tr({},B7),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Ph&&NT&&(NT=!1,RT(this)),l1(this,function(){return function(s){for(var u=s.getTag(),l=u.length,f="",h=function(g){var m=function(T){return Bh.get(T)}(g);if(m===void 0)return"continue";var _=s.names.get(m),b=u.getGroup(g);if(_===void 0||!_.size||b.length===0)return"continue";var A="".concat(pu,".g").concat(g,'[id="').concat(m,'"]'),R="";_!==void 0&&_.forEach(function(T){T.length>0&&(R+="".concat(T,","))}),f+="".concat(b).concat(A,'{content:"').concat(R,'"}').concat(u1)},p=0;p<l;p++)h(p);return f}(a)})}return t.registerId=function(e){return gd(e)},t.prototype.rehydrate=function(){!this.server&&Ph&&RT(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(tr(tr({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,a=n.target;return n.isServer?new P7(a):r?new D7(a):new L7(a)}(this.options),new T7(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(gd(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(gd(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(gd(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),I7=/&/g,j7=/^\s*\/\/.*$/gm;function XA(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=XA(n.children,e)),n})}function k7(t){var e,n,r,a=gu,s=a.options,u=s===void 0?gu:s,l=a.plugins,f=l===void 0?Op:l,h=function(m,_,b){return b.startsWith(n)&&b.endsWith(n)&&b.replaceAll(n,"").length>0?".".concat(e):m},p=f.slice();p.push(function(m){m.type===Sp&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(I7,n).replace(r,h))}),u.prefix&&p.push(u7),p.push(o7);var g=function(m,_,b,A){_===void 0&&(_=""),b===void 0&&(b=""),A===void 0&&(A="&"),e=A,n=_,r=new RegExp("\\".concat(n,"\\b"),"g");var R=m.replace(j7,""),T=r7(b||_?"".concat(b," ").concat(_," { ").concat(R," }"):R);u.namespace&&(T=XA(T,u.namespace));var E=[];return Lh(T,a7(p.concat(s7(function(v){return E.push(v)})))),E};return g.hash=f.length?f.reduce(function(m,_){return _.name||Rl(15),iu(m,_.name)},IA).toString():"",g}var z7=new FA,mm=k7(),GA=Jt.createContext({shouldForwardProp:void 0,styleSheet:z7,stylis:mm});GA.Consumer;Jt.createContext(void 0);function DT(){return Qt.useContext(GA)}var $7=function(){function t(e,n){var r=this;this.inject=function(a,s){s===void 0&&(s=mm);var u=r.name+s.hash;a.hasNameForId(r.id,u)||a.insertRules(r.id,u,s(r.rules,u,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,l1(this,function(){throw Rl(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=mm),this.name+e.hash},t}(),H7=function(t){return t>="A"&&t<="Z"};function LT(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;H7(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var qA=function(t){return t==null||t===!1||t===""},VA=function(t){var e,n,r=[];for(var a in t){var s=t[a];t.hasOwnProperty(a)&&!qA(s)&&(Array.isArray(s)&&s.isCss||yu(s)?r.push("".concat(LT(a),":"),s,";"):rl(s)?r.push.apply(r,Dh(Dh(["".concat(a," {")],VA(s),!1),["}"],!1)):r.push("".concat(LT(a),": ").concat((e=a,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in c7||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Ja(t,e,n,r){if(qA(t))return[];if(c1(t))return[".".concat(t.styledComponentId)];if(yu(t)){if(!yu(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var a=t(e);return Ja(a,e,n,r)}var s;return t instanceof $7?n?(t.inject(n,r),[t.getName(r)]):[t]:rl(t)?VA(t):Array.isArray(t)?Array.prototype.concat.apply(Op,t.map(function(u){return Ja(u,e,n,r)})):[t.toString()]}function U7(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(yu(n)&&!c1(n))return!1}return!0}var F7=jA(Ap),X7=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&U7(e),this.componentId=n,this.baseHash=iu(F7,n),this.baseStyle=r,FA.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var a=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))a=Wa(a,this.staticRulesId);else{var s=OT(Ja(this.rules,e,n,r)),u=ym(iu(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,u)){var l=r(s,".".concat(u),void 0,this.componentId);n.insertRules(this.componentId,u,l)}a=Wa(a,u),this.staticRulesId=u}else{for(var f=iu(this.baseHash,r.hash),h="",p=0;p<this.rules.length;p++){var g=this.rules[p];if(typeof g=="string")h+=g;else if(g){var m=OT(Ja(g,e,n,r));f=iu(f,m+p),h+=m}}if(h){var _=ym(f>>>0);n.hasNameForId(this.componentId,_)||n.insertRules(this.componentId,_,r(h,".".concat(_),void 0,this.componentId)),a=Wa(a,_)}}return a},t}(),YA=Jt.createContext(void 0);YA.Consumer;var Av={};function G7(t,e,n){var r=c1(t),a=t,s=!Mv(t),u=e.attrs,l=u===void 0?Op:u,f=e.componentId,h=f===void 0?function(w,M){var C=typeof w!="string"?"sc":ST(w);Av[C]=(Av[C]||0)+1;var P="".concat(C,"-").concat(g7(Ap+C+Av[C]));return M?"".concat(M,"-").concat(P):P}(e.displayName,e.parentComponentId):f,p=e.displayName,g=p===void 0?function(w){return Mv(w)?"styled.".concat(w):"Styled(".concat(y7(w),")")}(t):p,m=e.displayName&&e.componentId?"".concat(ST(e.displayName),"-").concat(e.componentId):e.componentId||h,_=r&&a.attrs?a.attrs.concat(l).filter(Boolean):l,b=e.shouldForwardProp;if(r&&a.shouldForwardProp){var A=a.shouldForwardProp;if(e.shouldForwardProp){var R=e.shouldForwardProp;b=function(w,M){return A(w,M)&&R(w,M)}}else b=A}var T=new X7(n,m,r?a.componentStyle:void 0);function E(w,M){return function(C,P,B){var S=C.attrs,z=C.componentStyle,F=C.defaultProps,G=C.foldedComponentIds,q=C.styledComponentId,dt=C.target,At=Jt.useContext(YA),it=DT(),gt=C.shouldForwardProp||it.shouldForwardProp,Nt=f7(P,At,F)||gu,zt=function(wt,Et,I){for(var L,Z=tr(tr({},Et),{className:void 0,theme:I}),H=0;H<wt.length;H+=1){var bt=yu(L=wt[H])?L(Z):L;for(var Ot in bt)Z[Ot]=Ot==="className"?Wa(Z[Ot],bt[Ot]):Ot==="style"?tr(tr({},Z[Ot]),bt[Ot]):bt[Ot]}return Et.className&&(Z.className=Wa(Z.className,Et.className)),Z}(S,P,Nt),K=zt.as||dt,X={};for(var Q in zt)zt[Q]===void 0||Q[0]==="$"||Q==="as"||Q==="theme"&&zt.theme===Nt||(Q==="forwardedAs"?X.as=zt.forwardedAs:gt&&!gt(Q,K)||(X[Q]=zt[Q]));var at=function(wt,Et){var I=DT(),L=wt.generateAndInjectStyles(Et,I.styleSheet,I.stylis);return L}(z,zt),rt=Wa(G,q);return at&&(rt+=" "+at),zt.className&&(rt+=" "+zt.className),X[Mv(K)&&!BA.has(K)?"class":"className"]=rt,B&&(X.ref=B),Qt.createElement(K,X)}(v,w,M)}E.displayName=g;var v=Jt.forwardRef(E);return v.attrs=_,v.componentStyle=T,v.displayName=g,v.shouldForwardProp=b,v.foldedComponentIds=r?Wa(a.foldedComponentIds,a.styledComponentId):"",v.styledComponentId=m,v.target=r?a.target:t,Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(w){this._foldedDefaultProps=r?function(M){for(var C=[],P=1;P<arguments.length;P++)C[P-1]=arguments[P];for(var B=0,S=C;B<S.length;B++)vm(M,S[B],!0);return M}({},a.defaultProps,w):w}}),l1(v,function(){return".".concat(v.styledComponentId)}),s&&HA(v,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),v}function PT(t,e){for(var n=[t[0]],r=0,a=e.length;r<a;r+=1)n.push(e[r],t[r+1]);return n}var BT=function(t){return Object.assign(t,{isCss:!0})};function q7(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(yu(t)||rl(t))return BT(Ja(PT(Op,Dh([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Ja(r):BT(Ja(PT(r,e)))}function _m(t,e,n){if(n===void 0&&(n=gu),!e)throw Rl(1,e);var r=function(a){for(var s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];return t(e,n,q7.apply(void 0,Dh([a],s,!1)))};return r.attrs=function(a){return _m(t,e,tr(tr({},n),{attrs:Array.prototype.concat(n.attrs,a).filter(Boolean)}))},r.withConfig=function(a){return _m(t,e,tr(tr({},n),a))},r}var KA=function(t){return _m(G7,t)},Yt=KA;BA.forEach(function(t){Yt[t]=KA(t)});var lh={exports:{}},V7=lh.exports,IT;function Y7(){return IT||(IT=1,function(t,e){(function(n,r){r()})(V7,function(){function n(h,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function r(h,p,g){var m=new XMLHttpRequest;m.open("GET",h),m.responseType="blob",m.onload=function(){f(m.response,p,g)},m.onerror=function(){console.error("could not download file")},m.send()}function a(h){var p=new XMLHttpRequest;p.open("HEAD",h,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function s(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(p)}}var u=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ru=="object"&&ru.global===ru?ru:void 0,l=u.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=u.saveAs||(typeof window!="object"||window!==u?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(h,p,g){var m=u.URL||u.webkitURL,_=document.createElement("a");p=p||h.name||"download",_.download=p,_.rel="noopener",typeof h=="string"?(_.href=h,_.origin===location.origin?s(_):a(_.href)?r(h,p,g):s(_,_.target="_blank")):(_.href=m.createObjectURL(h),setTimeout(function(){m.revokeObjectURL(_.href)},4e4),setTimeout(function(){s(_)},0))}:"msSaveOrOpenBlob"in navigator?function(h,p,g){if(p=p||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(n(h,g),p);else if(a(h))r(h,p,g);else{var m=document.createElement("a");m.href=h,m.target="_blank",setTimeout(function(){s(m)})}}:function(h,p,g,m){if(m=m||open("","_blank"),m&&(m.document.title=m.document.body.innerText="downloading..."),typeof h=="string")return r(h,p,g);var _=h.type==="application/octet-stream",b=/constructor/i.test(u.HTMLElement)||u.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||_&&b||l)&&typeof FileReader<"u"){var R=new FileReader;R.onloadend=function(){var v=R.result;v=A?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=v:location=v,m=null},R.readAsDataURL(h)}else{var T=u.URL||u.webkitURL,E=T.createObjectURL(h);m?m.location=E:location.href=E,m=null,setTimeout(function(){T.revokeObjectURL(E)},4e4)}});u.saveAs=f.saveAs=f,t.exports=f})}(lh)),lh.exports}var xm=Y7();const Ih=({fileCallback:t,accept:e,children:n})=>{const r=Qt.useId();function a(u){return new Promise((l,f)=>{window.FileReader||(window.alert("Looks like you use an older browser that does not support drag and drop. Try using a modern browser such as Chrome, Firefox or Internet Explorer > 10."),f()),u||f();var h=new FileReader;h.onload=function(p){var g=p.target.result;l(g)},h.readAsText(u)})}const s=u=>{u.target.files.length>0&&a(u.target.files[0]).then(l=>t(l))};return console.log(e),st.jsxs(st.Fragment,{children:[st.jsx("input",{type:"file",accept:e||"",style:{display:"none"},id:r,onChange:s}),st.jsx("label",{htmlFor:r,children:n})]})};var ZA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jT=Jt.createContext&&Jt.createContext(ZA),K7=["attr","size","title"];function Z7(t,e){if(t==null)return{};var n=W7(t,e),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)r=s[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function W7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jh(){return jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jh.apply(this,arguments)}function kT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kT(Object(n),!0).forEach(function(r){Q7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q7(t,e,n){return e=J7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J7(t){var e=tj(t,"string");return typeof e=="symbol"?e:e+""}function tj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WA(t){return t&&t.map((e,n)=>Jt.createElement(e.tag,kh({key:n},e.attr),WA(e.child)))}function Yn(t){return e=>Jt.createElement(ej,jh({attr:kh({},t.attr)},e),WA(t.child))}function ej(t){var e=n=>{var{attr:r,size:a,title:s}=t,u=Z7(t,K7),l=a||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),Jt.createElement("svg",jh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,u,{className:f,style:kh(kh({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Jt.createElement("title",null,s),t.children)};return jT!==void 0?Jt.createElement(jT.Consumer,null,n=>e(n)):e(ZA)}function nj(t){return Yn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m10 15.586-3.293-3.293-1.414 1.414L10 18.414l9.707-9.707-1.414-1.414z"},child:[]}]})(t)}function rj(t){return Yn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m12 16 4-5h-3V4h-2v7H8z"},child:[]},{tag:"path",attr:{d:"M20 18H4v-7H2v7c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2v-7h-2v7z"},child:[]}]})(t)}function ij(t){return Yn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 4H8v4H4v2h6zM8 20h2v-6H4v2h4zm12-6h-6v6h2v-4h4zm0-6h-4V4h-2v6h6z"},child:[]}]})(t)}function oj(t){return Yn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 5h5V3H3v7h2zm5 14H5v-5H3v7h7zm11-5h-2v5h-5v2h7zm-2-4h2V3h-7v2h5z"},child:[]}]})(t)}function f1(t){return Yn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 13h1v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7h1a1 1 0 0 0 .707-1.707l-9-9a.999.999 0 0 0-1.414 0l-9 9A1 1 0 0 0 3 13zm7 7v-5h4v5h-4zm2-15.586 6 6V15l.001 5H16v-5c0-1.103-.897-2-2-2h-4c-1.103 0-2 .897-2 2v5H6v-9.586l6-6z"},child:[]}]})(t)}function QA(t){return Yn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.999 1.993C6.486 1.994 2 6.48 1.999 11.994c0 5.514 4.486 10 10.001 10 5.514-.001 10-4.487 10-10 0-5.514-4.486-10-10.001-10.001zM12 19.994c-4.412 0-8.001-3.589-8.001-8 .001-4.411 3.59-8 8-8.001C16.411 3.994 20 7.583 20 11.994c0 4.41-3.589 7.999-8 8z"},child:[]},{tag:"path",attr:{d:"m12.012 7.989-4.005 4.005 4.005 4.004v-3.004h3.994v-2h-3.994z"},child:[]}]})(t)}function aj(t){return Yn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"},child:[]}]})(t)}function sj(t){return Yn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 11h-6V5h-2v6H5v2h6v6h2v-6h6z"},child:[]}]})(t)}function uj(t){return Yn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 4C9.243 4 7 6.243 7 9h2c0-1.654 1.346-3 3-3s3 1.346 3 3c0 1.069-.454 1.465-1.481 2.255-.382.294-.813.626-1.226 1.038C10.981 13.604 10.995 14.897 11 15v2h2v-2.009c0-.024.023-.601.707-1.284.32-.32.682-.598 1.031-.867C15.798 12.024 17 11.1 17 9c0-2.757-2.243-5-5-5zm-1 14h2v2h-2z"},child:[]}]})(t)}function cj(t){return Yn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 21h14a2 2 0 0 0 2-2V8a1 1 0 0 0-.29-.71l-4-4A1 1 0 0 0 16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2zm10-2H9v-5h6zM13 7h-2V5h2zM5 5h2v4h8V5h.59L19 8.41V19h-2v-5a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v5H5z"},child:[]}]})(t)}function lj(t){return Yn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11 15h2V9h3l-4-5-4 5h3z"},child:[]},{tag:"path",attr:{d:"M20 18H4v-7H2v7c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2v-7h-2v7z"},child:[]}]})(t)}function Nl(t){return Yn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m16.192 6.344-4.243 4.242-4.242-4.242-1.414 1.414L10.535 12l-4.242 4.242 1.414 1.414 4.242-4.242 4.243 4.242 1.414-1.414L13.364 12l4.242-4.242z"},child:[]}]})(t)}function fj(t){return Yn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 9c-1.626 0-3 1.374-3 3s1.374 3 3 3 3-1.374 3-3-1.374-3-3-3z"},child:[]},{tag:"path",attr:{d:"M20 5h-2.586l-2.707-2.707A.996.996 0 0 0 14 2h-4a.996.996 0 0 0-.707.293L6.586 5H4c-1.103 0-2 .897-2 2v11c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V7c0-1.103-.897-2-2-2zm-8 12c-2.71 0-5-2.29-5-5s2.29-5 5-5 5 2.29 5 5-2.29 5-5 5z"},child:[]}]})(t)}function dj(t){return Yn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 13h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1zm-1 7a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v4zm10 0a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-7a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v7zm1-10h6a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1z"},child:[]}]})(t)}function d1(t){return Yn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M2.165 19.551c.186.28.499.449.835.449h15c.4 0 .762-.238.919-.606l3-7A.998.998 0 0 0 21 11h-1V8c0-1.103-.897-2-2-2h-6.655L8.789 4H4c-1.103 0-2 .897-2 2v13h.007a1 1 0 0 0 .158.551zM18 8v3H6c-.4 0-.762.238-.919.606L4 14.129V8h14z"},child:[]}]})(t)}const hj=Yt(aj)`
    border-radius: 50%;
    padding: 5px;
    font-size: 30px;
    height: 30px;
    width: 30px;
    color: ${t=>t.open?"White":"Black"};
    background-color: ${t=>t.open?"Black":"White"};
    cursor: pointer;
`,pj=Yt.div`
    position: fixed;
    top: 0;
    right: 0;
    height: 100vh;
    width: 30rem;
    box-shadow: 0px 0px 5px 0px grey;
    display: flex;
    flex-direction: column;
    padding-top: 5rem;
    padding-bottom: 5rem;
    font-size: 20px;
    background-color: white;
    justify-content: space-between;
    box-sizing: border-box;
    overflow: scroll;
`,gj=Yt.li`
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    padding: 1rem;
    cursor: pointer;
    &:hover {
        color: white;
        background-color: Gainsboro;
    }
    & > svg {
        font-size: 25px;
    }
`,yj=Yt.li`
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    cursor: pointer;
    & > svg {
        font-size: 25px;
    }
`,vj=t=>t.icon!==void 0,h1=({elements:t,bottomElements:e,open:n,setOpen:r})=>{const a=(s,u)=>{if(vj(s)){const{icon:l,text:f,onClick:h}=s;return st.jsxs(gj,{onClick:h,children:[st.jsx(st.Fragment,{children:l}),st.jsx(st.Fragment,{children:f})]},u)}else return st.jsx(yj,{children:s.element},u)};return st.jsxs(st.Fragment,{children:[n?st.jsxs(pj,{children:[st.jsx("ul",{children:t.map((s,u)=>a(s,u))}),e&&st.jsx("ul",{children:e.map((s,u)=>a(s,u+t.length))})]}):null,st.jsx(hj,{onClick:()=>r(!n),open:n})]})},mj=Yt.div`
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    opacity: 0.5;
    background-color: black;
`,_j=Yt.div`
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: white;
    opacity: 1;
`,xj=Yt(Nl)`
    position: absolute;
    top: 0;
    right: 0;
    margin: 1rem;
    font-size: 30px;
    color: grey;
    cursor: pointer;
    &:hover {
        color: black
    }
`,Ej=({close:t,children:e})=>st.jsxs(st.Fragment,{children:[st.jsx(mj,{}),st.jsxs(_j,{children:[st.jsx(xj,{onClick:t}),e]})]}),p1=Yt.div`
    display: flex;
    flex-direction: ${t=>t.direction?t.direction:""};
    justify-content: ${t=>t.$justify?t.$justify:""};
`;var bj=function(){return Jt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Jt.createElement("g",{transform:"translate(.077 .077)"},Jt.createElement("g",null,Jt.createElement("path",{fill:"none",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M3.719 7.884L6.235 10.4l3.032-3.032 2.774-2.774"}))))},wj=Jt.memo(bj),Sj=function(){return Jt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Jt.createElement("g",{transform:"translate(.077 .077)"},Jt.createElement("g",null,Jt.createElement("path",{fill:"#fff",d:"M10.915 9.98l2.853-2.846a.666.666 0 00-.942-.942L9.979 9.044 7.133 6.191a.666.666 0 00-.942.942L9.044 9.98 6.19 12.826a.666.666 0 10.942.942l2.846-2.853 2.846 2.853a.666.666 0 10.942-.942z",transform:"translate(-2.017 -2.018)"}))))},JA=Jt.memo(Sj),Tj=function(){return Jt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Jt.createElement("g",{transform:"translate(-1533 -39)"},Jt.createElement("g",{fill:"#fff",transform:"translate(-.358 -1.639)"},Jt.createElement("circle",{cx:"1.134",cy:"1.134",r:"1.134",transform:"rotate(180 771.246 22.823)"}),Jt.createElement("path",{d:"M1 0a1 1 0 00-1 1v5a1 1 0 002 0V1a1 1 0 00-1-1z",transform:"rotate(180 771.17 26.882)"}))))},Cj=Jt.memo(Tj),Mj=function(){return Jt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Jt.createElement("g",{transform:"rotate(180 774.5 27.5)"},Jt.createElement("g",{fill:"#fff",transform:"translate(-.358 -1.639)"},Jt.createElement("circle",{cx:"1.134",cy:"1.134",r:"1.134",transform:"rotate(180 771.246 22.823)"}),Jt.createElement("path",{d:"M1 0a1 1 0 00-1 1v5a1 1 0 002 0V1a1 1 0 00-1-1z",transform:"rotate(180 771.17 26.882)"}))))},Aj=Jt.memo(Mj),Oj=function(e){var n=e.type;switch(n){case"error":return Jt.createElement(JA,null);case"info":return Jt.createElement(Cj,null);case"warning":return Jt.createElement(Aj,null);default:return Jt.createElement(wj,null)}};function tO(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",n==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}}var Rj=`:root {
  --toast-default: #8b1dd0;
  --toast-success: #27d0b2;
  --toast-error: #c52965;
  --toast-info: #004eff;
  --toast-warning: #d0761d;
  --toast-black: #221d26;
  --toast-white: #ffffff;
}

.toast {
  padding: 15px;
  min-width: 300px;
  max-width: 400px;
  color: var(--toast-white);
  display: flex;
  align-items: flex-start;
  line-height: 1.6;
  font-size: 14px;
  border-radius: 15px;
}

.toast.default {
  background-color: var(--toast-default);
}

.toast.success {
  background-color: var(--toast-success);
}

.toast.error {
  background-color: var(--toast-error);
}

.toast.info {
  background-color: var(--toast-info);
}

.toast.warning {
  background-color: var(--toast-warning);
}

.toast .content {
  flex: 1;
}

.toast .content p {
  padding: 0;
  margin: 0;
}

.toast .close {
  margin-left: 10px;
  width: 22px;
  height: 22px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(255, 255, 255, 0);
  transition: all 100ms ease-in-out;
  border-radius: 8px;
  cursor: pointer;
}

.toast .close:hover {
  background-color: rgba(255, 255, 255, 0.2);
}

.toast .icon {
  margin-right: 10px;
  width: 22px;
  height: 22px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(255, 255, 255, 0.2);
  border-radius: 8px;
}
`;tO(Rj);var Nj=function(e){var n=e.id,r=e.content,a=e.type,s=e.config;s=s===void 0?{}:s;var u=s.backgroundColor,l=s.color,f=e.onClose;return Jt.createElement("div",{className:"toast "+a,style:{backgroundColor:u}},Jt.createElement("div",{className:"icon"},Oj({type:a})),Jt.createElement("div",{className:"content"},Jt.createElement("p",{style:{color:l}},r)),Jt.createElement("div",{className:"close",onClick:function(){return f(n)}},Jt.createElement(JA,null)))};function ta(){return ta=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ta.apply(this,arguments)}var Dj={toasts:[]},Lj=function(e,n){switch(n.type){case"ADD":return ta({},e,{toasts:[].concat(e.toasts,[n.toast])});case"REMOVE":return ta({},e,{toasts:[].concat(e.toasts.filter(function(r){return r.id!==n.id}))});case"REMOVE_ALL":return ta({},e,{toasts:[]});default:throw new Error}},Pj=function(){var e=Qt.useReducer(Lj,Dj),n=e[0],r=e[1];return ta({},n,{dispatch:r})},ts=function(){var t=new Map;return{on:function(n,r){t.has(n)||t.set(n,[]),t.get(n).push(r)},emit:function(n,r){t.has(n)&&t.get(n).forEach(function(a){return a(r)})},off:function(){t.clear()}}}(),Bj=function(e){var n=e.content,r=e.type,a=e.config;return{id:Math.random().toString(36).substr(2,10),content:n,type:r,config:a}},ea;(function(t){t.SHOW="show",t.HIDE="hide",t.HIDE_ALL="hideAll"})(ea||(ea={}));var Ij=function(e){var n=e.dispatch,r=e.delay;ts.on(ea.SHOW,function(a){n({type:"ADD",toast:a}),r&&setTimeout(function(){n({type:"REMOVE",id:a.id})},r)}),ts.on(ea.HIDE,function(a){return n({type:"REMOVE",id:a})}),ts.on(ea.HIDE_ALL,function(){return n({type:"REMOVE_ALL"})})},jj=`.toastContainer {
  overflow: hidden;
  overflow-x: auto;
  display: grid;
  grid-gap: 20px;
  position: fixed;
  user-select: none;
}

.top-left {
  top: 20px;
  left: 20px;
}

.top-center {
  top: 20px;
  left: 50%;
  transform: translate(-50%, 0);
}

.top-right {
  top: 20px;
  right: 20px;
}

.bottom-left {
  bottom: 20px;
  left: 20px;
}

.bottom-center {
  bottom: 20px;
  left: 50%;
  transform: translate(-50%, 0);
}

.bottom-right {
  bottom: 20px;
  right: 20px;
}
`;tO(jj);var kj=function(e){var n=e.position,r=n===void 0?"bottom-left":n,a=e.delay,s=Pj(),u=s.toasts,l=s.dispatch;Qt.useEffect(function(){return Ij({dispatch:l,delay:a}),function(){ts.off()}},[l,a]);var f=Qt.useCallback(function(h){ts.emit(ea.HIDE,h)},[]);return Jt.createElement("div",{className:"toastContainer "+r},u.map(function(h){return Jt.createElement(Nj,Object.assign({key:h.id},h,{onClose:f}))}))},Dl=function(e){var n=ta({},e);return ts.emit(ea.SHOW,Bj(ta({},n)))},Xn=function(e,n){return Dl({content:e,type:"default",config:n})};Xn.success=function(t,e){return Dl({content:t,type:"success",config:e})};Xn.error=function(t,e){return Dl({content:t,type:"error",config:e})};Xn.info=function(t,e){return Dl({content:t,type:"info",config:e})};Xn.warn=function(t,e){return Dl({content:t,type:"warning",config:e})};Xn.hideAll=function(){return ts.emit(ea.HIDE_ALL)};const zj=Yt.div`
    margin: 2rem;
`,$j=Yt.div`
    height: 20rem;
    width: 20rem;
    margin: 0.5rem;
    padding: 0.5rem;
    &:hover {
        background: Gainsboro
    }
    border-radius: 10px;
    cursor: pointer;
`,Hj=Yt.img`
    height: auto;
    width: 100%;
`,Uj=Yt.h3`
    text-align: center;
    margin: 0 0 1rem 0;
`,Fj=({examplesData:t,setExamplesOpen:e,openCustomXML:n,openDCRXML:r,setLoading:a})=>{const[s,u]=Qt.useState(""),l=f=>{confirm("Are you sure? This will override your current diagram!")&&(console.log(document.body.style.cursor),a(!0),fetch("examples/diagrams/"+f+".xml").then(h=>{if(!h.ok)Xn.error("Failed to fetch example...");else return h.text()}).then(h=>{a(!1),h?(h.includes("<?xml")?n(h):r(h),e(!1)):Xn.error("Unable to load example...")}).catch(h=>{console.log(h)}))};return st.jsx(st.Fragment,{children:st.jsxs(Ej,{close:()=>e(!1),children:[st.jsxs(zj,{children:[st.jsx("h1",{children:"Examples"}),st.jsx("p",{children:"Choose an example to to view it in the editor. Warning this will override your current diagram!"}),st.jsx("p",{children:"Search examples:"}),st.jsx("input",{type:"text",onChange:f=>u(f.target.value)})]}),st.jsx(p1,{direction:"row",$justify:"space-around",children:t.map(f=>{if(f.toLowerCase().includes(s.toLowerCase()))return st.jsxs($j,{onClick:()=>l(f),children:[st.jsx(Uj,{children:f}),st.jsx(Hj,{src:`examples/images/${f}.svg`})]},f)})})]})})},Xj=Yt.div`
    position: fixed;
    top: 0;
    right: 0;
    overflow: hidden;
    display: flex;
    & > svg {
        margin: 0.5rem;
        z-index: 0;
        border: 2px solid black;
        border-radius: 50%;
        padding: 5px;
        font-size: 30px;
        height: 30px;
        width: 30px;
        cursor: pointer;
        &:hover {
          box-shadow: 0px 0px 5px 0px grey;
        }
    }
`,g1=({children:t})=>st.jsx(Xj,{children:t}),Gj=Yt.label`
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
`,eO=Yt.div`
  position: relative;
  width: 60px;
  height: 28px;
  background: #b3b3b3;
  border-radius: 32px;
  padding: 4px;
  transition: 300ms all;

  &:before {
    transition: 300ms all;
    content: "";
    position: absolute;
    width: 28px;
    height: 28px;
    border-radius: 35px;
    top: 50%;
    left: 4px;
    background: white;
    transform: translate(0, -50%);
  }
`,qj=Yt.input`
  display: none;

  &:checked + ${eO} {
    background: black;

    &:before {
      transform: translate(32px, -50%);
    }
  }
`,y1=({initChecked:t,onChange:e})=>{const[n,r]=Qt.useState(t),a=s=>{e(s),r(s.target.checked)};return st.jsxs(Gj,{children:[st.jsx(qj,{checked:n,type:"checkbox",onChange:a}),st.jsx(eO,{})]})},Vj=Yt.select`
    padding: 0.5rem;
    font-size: 20px;
    background-color: white;
    border: 2px solid gainsboro;
    cursor: pointer;
    &:hover {
        background-color: gainsboro;
        color: white;
    }
`,v1=({options:t,onChange:e})=>st.jsx("form",{children:st.jsx(Vj,{onChange:n=>e(n.target.value),children:t.map(n=>st.jsx("option",{value:n.value,children:n.title},n.value))})}),m1=t=>typeof t=="boolean"||["default","newMarkers","proposedMarkers"].includes(t);function Em(){return Em=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Em.apply(null,arguments)}var nO=["shift","alt","meta","mod","ctrl"],Yj={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function Yo(t){return(t&&Yj[t]||t||"").trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function Kj(t){return nO.includes(t)}function Ov(t,e){return e===void 0&&(e=","),t.split(e)}function Rv(t,e,n){e===void 0&&(e="+");var r=t.toLocaleLowerCase().split(e).map(function(u){return Yo(u)}),a={alt:r.includes("alt"),ctrl:r.includes("ctrl")||r.includes("control"),shift:r.includes("shift"),meta:r.includes("meta"),mod:r.includes("mod")},s=r.filter(function(u){return!nO.includes(u)});return Em({},a,{keys:s,description:n,hotkey:t})}(function(){typeof document<"u"&&(document.addEventListener("keydown",function(t){t.key!==void 0&&rO([Yo(t.key),Yo(t.code)])}),document.addEventListener("keyup",function(t){t.key!==void 0&&iO([Yo(t.key),Yo(t.code)])})),typeof window<"u"&&window.addEventListener("blur",function(){Ko.clear()})})();var Ko=new Set;function _1(t){return Array.isArray(t)}function Zj(t,e){e===void 0&&(e=",");var n=_1(t)?t:t.split(e);return n.every(function(r){return Ko.has(r.trim().toLowerCase())})}function rO(t){var e=Array.isArray(t)?t:[t];Ko.has("meta")&&Ko.forEach(function(n){return!Kj(n)&&Ko.delete(n.toLowerCase())}),e.forEach(function(n){return Ko.add(n.toLowerCase())})}function iO(t){var e=Array.isArray(t)?t:[t];t==="meta"?Ko.clear():e.forEach(function(n){return Ko.delete(n.toLowerCase())})}function Wj(t,e,n){(typeof n=="function"&&n(t,e)||n===!0)&&t.preventDefault()}function Qj(t,e,n){return typeof n=="function"?n(t,e):n===!0||n===void 0}function Jj(t){return oO(t,["input","textarea","select"])}function oO(t,e){e===void 0&&(e=!1);var n=t.target,r=t.composed,a=null;return tk(n)&&r?a=t.composedPath()[0]&&t.composedPath()[0].tagName:a=n&&n.tagName,_1(e)?!!(a&&e&&e.some(function(s){var u;return s.toLowerCase()===((u=a)==null?void 0:u.toLowerCase())})):!!(a&&e&&e)}function tk(t){return!!t.tagName&&!t.tagName.startsWith("-")&&t.tagName.includes("-")}function ek(t,e){return t.length===0&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):e?t.some(function(n){return e.includes(n)})||t.includes("*"):!0}var nk=function(e,n,r){r===void 0&&(r=!1);var a=n.alt,s=n.meta,u=n.mod,l=n.shift,f=n.ctrl,h=n.keys,p=e.key,g=e.code,m=e.ctrlKey,_=e.metaKey,b=e.shiftKey,A=e.altKey,R=Yo(g),T=p.toLowerCase();if(!(h!=null&&h.includes(R))&&!(h!=null&&h.includes(T))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(R))return!1;if(!r){if(a===!A&&T!=="alt"||l===!b&&T!=="shift")return!1;if(u){if(!_&&!m)return!1}else if(s===!_&&T!=="meta"&&T!=="os"||f===!m&&T!=="ctrl"&&T!=="control")return!1}return h&&h.length===1&&(h.includes(T)||h.includes(R))?!0:h?Zj(h):!h},rk=Qt.createContext(void 0),ik=function(){return Qt.useContext(rk)};function aO(t,e){return t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(t).length===Object.keys(e).length&&Object.keys(t).reduce(function(n,r){return n&&aO(t[r],e[r])},!0):t===e}var ok=Qt.createContext({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),ak=function(){return Qt.useContext(ok)};function sk(t){var e=Qt.useRef(void 0);return aO(e.current,t)||(e.current=t),e.current}var zT=function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},uk=typeof window<"u"?Qt.useLayoutEffect:Qt.useEffect;function ck(t,e,n,r){var a=Qt.useState(null),s=a[0],u=a[1],l=Qt.useRef(!1),f=n instanceof Array?r instanceof Array?void 0:r:n,h=_1(t)?t.join(f==null?void 0:f.splitKey):t,p=n instanceof Array?n:r instanceof Array?r:void 0,g=Qt.useCallback(e,p??[]),m=Qt.useRef(g);p?m.current=g:m.current=e;var _=sk(f),b=ak(),A=b.enabledScopes,R=ik();return uk(function(){if(!((_==null?void 0:_.enabled)===!1||!ek(A,_==null?void 0:_.scopes))){var T=function(C,P){var B;if(P===void 0&&(P=!1),!(Jj(C)&&!oO(C,_==null?void 0:_.enableOnFormTags))){if(s!==null){var S=s.getRootNode();if((S instanceof Document||S instanceof ShadowRoot)&&S.activeElement!==s&&!s.contains(S.activeElement)){zT(C);return}}(B=C.target)!=null&&B.isContentEditable&&!(_!=null&&_.enableOnContentEditable)||Ov(h,_==null?void 0:_.splitKey).forEach(function(z){var F,G=Rv(z,_==null?void 0:_.combinationKey);if(nk(C,G,_==null?void 0:_.ignoreModifiers)||(F=G.keys)!=null&&F.includes("*")){if(_!=null&&_.ignoreEventWhen!=null&&_.ignoreEventWhen(C)||P&&l.current)return;if(Wj(C,G,_==null?void 0:_.preventDefault),!Qj(C,G,_==null?void 0:_.enabled)){zT(C);return}m.current(C,G),P||(l.current=!0)}})}},E=function(C){C.key!==void 0&&(rO(Yo(C.code)),((_==null?void 0:_.keydown)===void 0&&(_==null?void 0:_.keyup)!==!0||_!=null&&_.keydown)&&T(C))},v=function(C){C.key!==void 0&&(iO(Yo(C.code)),l.current=!1,_!=null&&_.keyup&&T(C,!0))},w=s||(f==null?void 0:f.document)||document;return w.addEventListener("keyup",v),w.addEventListener("keydown",E),R&&Ov(h,_==null?void 0:_.splitKey).forEach(function(M){return R.addHotkey(Rv(M,_==null?void 0:_.combinationKey,_==null?void 0:_.description))}),function(){w.removeEventListener("keyup",v),w.removeEventListener("keydown",E),R&&Ov(h,_==null?void 0:_.splitKey).forEach(function(M){return R.removeHotkey(Rv(M,_==null?void 0:_.combinationKey,_==null?void 0:_.description))})}}},[s,h,_,A]),u}const x1=()=>{const[t,e]=Qt.useState(!1);return Qt.useEffect(()=>{function n(){e(!!document.fullscreenElement)}return document.addEventListener("fullscreenchange",n),()=>document.removeEventListener("fullscreenchange",n)},[]),t?st.jsx(ij,{title:"Exit Fullscreen",onClick:()=>{document.exitFullscreen(),e(!1)}}):st.jsx(oj,{title:"Enter Fullscreen",onClick:()=>{document.documentElement.requestFullscreen(),e(!0)}})},lk=Yt.div`
  width: 100%;
  & > label > svg {
    font-size: 25px;
  }
  & > label {
    padding: 1rem;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    cursor: pointer;
  }
  &:hover {
      color: white;
      background-color: Gainsboro;
  } 
`,$T=Yt.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  width: 100%;
  padding: 1rem;
  cursor: default;
`,HT=Yt.label`
  margin-top: auto;
  margin-bottom: auto;
`,fk=Yt.div`
    z-index: 1000;
    position: fixed;
    height: 100%;
    width: 100%;
    top: 0;
    left: 0;
    cursor: wait;
`,dk=Yt.input`
  position: fixed;
  top: 0;
  left: 50%;
  text-align: center;
  z-index: 5;
  margin-top: 0.5rem;
  transform: translateX(-50%);
  font-size: 30px;
  width: fit-content;
  background: transparent;
  appearance: none;
  border: none;
  &:focus {
    outline: 2px dashed black;
  }
`,UT="DCR-JS Graph",hk=({setState:t,savedGraphs:e,setSavedGraphs:n})=>{const[r,a]=Qt.useState(!1),[s,u]=Qt.useState([]),[l,f]=Qt.useState(!1),[h,p]=Qt.useState(!1),g=Qt.useRef(null),[m,_]=Qt.useState(UT),[b,A]=Qt.useState(""),R=()=>{var P;let C=!0;e[m]&&m!==b&&(C=confirm(`This will overwrite the previously saved graph '${m}'. Are you sure you wish to continue?`)),C&&(p(!0),(P=g.current)==null||P.saveXML({format:!1}).then(B=>{const S={...e};S[m]=B.xml,A(m),n(S),p(!1),Xn.success("Graph saved!")}))};ck("ctrl+s",R,{preventDefault:!0}),Qt.useEffect(()=>{fetch("examples/generated_examples.txt").then(C=>{if(!C.ok)throw new Error("Failed to fetch examples status code: "+C.status);return C.text()}).then(C=>{let P=C.split(`
`);P.pop(),P=P.map(B=>B.split(".").slice(0,-1).join(".")),u(P)})},[]);const T=(C,P)=>{P&&P(C).then(B=>{_(UT),A("")}).catch(B=>{console.log(B),Xn.error("Unable to parse XML...")})},E=async()=>{if(!g.current)return;const C=await g.current.saveXML({format:!0}),P=new Blob([C.xml]);xm.saveAs(P,"dcr-board.xml")},v=async()=>{if(!g.current)return;const C=await g.current.saveSVG(),P=new Blob([C.svg]);xm.saveAs(P,"dcr-board.svg")},w=[{icon:st.jsx(sj,{}),text:"New Diagram",onClick:()=>{var C;T(TA,(C=g.current)==null?void 0:C.importXML),f(!1)}},{icon:st.jsx(cj,{}),text:"Save Graph",onClick:()=>{R(),f(!1)}},{element:st.jsx(lk,{children:st.jsxs(Ih,{accept:"text/xml",fileCallback:C=>{var P;T(C,(P=g.current)==null?void 0:P.importXML),f(!1)},children:[st.jsx(d1,{}),st.jsx(st.Fragment,{children:"Editor XML"})]})})},{icon:st.jsx(rj,{}),text:"Download Editor XML",onClick:()=>{E(),f(!1)}},{icon:st.jsx(fj,{}),text:"Download SVG",onClick:()=>{v(),f(!1)}},{icon:st.jsx(dj,{}),text:"Examples",onClick:()=>{f(!1),a(!0)}}],M=[{element:st.jsxs($T,{children:[st.jsx(y1,{initChecked:!0,onChange:C=>{var P;return(P=g.current)==null?void 0:P.setSetting("blackRelations",!C.target.checked)}}),st.jsx(HT,{children:"Coloured Relations"})]})},{element:st.jsxs($T,{children:[st.jsx(v1,{options:[{title:"Default",value:"default"},{title:"Proposed",value:"proposedMarkers"},{title:"New",value:"newMarkers"}],onChange:C=>{var P;return m1(C)&&((P=g.current)==null?void 0:P.setSetting("markerNotation",C))}}),st.jsx(HT,{children:"Relation Notation"})]})}];return st.jsxs(st.Fragment,{children:[st.jsx(dk,{value:m,onChange:C=>_(C.target.value)}),h&&st.jsx(fk,{}),st.jsx(o1,{modelerRef:g}),st.jsxs(g1,{children:[st.jsx(x1,{}),st.jsx(f1,{onClick:()=>t(es.Home)}),st.jsx(h1,{elements:w,bottomElements:M,open:l,setOpen:f})]}),r&&st.jsx(Fj,{examplesData:s,openCustomXML:C=>{var P;return T(C,(P=g.current)==null?void 0:P.importCustomXML)},openDCRXML:C=>{var P;return T(C,(P=g.current)==null?void 0:P.importDCRPortalXML)},setExamplesOpen:a,setLoading:p})]})},pk=Yt.h1`
    font-size: 100px;
    text-align: center;
`,Nv=Yt.div`
    display: flex;
    flex-direction: column;
    border-radius: 50%;
    width: 30rem;
    height: 30rem;
    color: white;
    cursor: pointer;
    &:hover {
        background-color: black;
    }
`,Dv=Yt.img`
    width: 20rem;
    height: 20rem;
    background-color: gainsboro;
    border-radius: 50%;
    margin: auto;
`,Lv=Yt.label`
    text-align: center;
    font-size: 40px;
    margin-top: 1rem;
`,gk=({setState:t})=>st.jsxs(st.Fragment,{children:[st.jsx(pk,{children:"DCR-JS"}),st.jsxs(p1,{direction:"row",$justify:"space-around",children:[st.jsxs(Nv,{onClick:()=>t(es.Modeler),children:[st.jsxs(Lv,{children:[st.jsx("br",{}),"Modeling"]}),st.jsx(Dv,{src:"icons/modeling.svg"})]}),st.jsxs(Nv,{onClick:()=>t(es.Simulator),children:[st.jsxs(Lv,{children:[st.jsx("br",{}),"Simulation"]}),st.jsx(Dv,{src:"icons/simulation.svg"})]}),st.jsxs(Nv,{onClick:()=>t(es.Conformance),children:[st.jsxs(Lv,{children:["Conformance ",st.jsx("br",{})," Checking"]}),st.jsx(Dv,{src:"icons/conformance.svg"})]})]})]}),Pv=Yt.button`
    align-items: center;
    padding: 8px;
    border: 1px solid black;
    border-radius: 5px;
    background: Gainsboro;
    box-shadow: 0px 2px 2px 0 rgba(0, 0, 0, 0.1);
`,yk=Yt.div`
  width: 100%;
  & > label > svg {
    font-size: 25px;
  }
  & > label {
    padding: 1rem;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    cursor: pointer;
  }
  &:hover {
      color: white;
      background-color: Gainsboro;
  } 
`,FT=Yt.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  width: 100%;
  padding: 1rem;
  cursor: default;
`,vk=Yt.label`
    padding: 1rem;
`,XT=Yt.label`
  margin-top: auto;
  margin-bottom: auto;
`,mk=Yt.div`
    position: fixed;
    top: 0;
    left: 0;
    height: 100vh;
    width: 30rem;
    box-shadow: ${t=>t.$traceSelected?"none":"0px 0px 5px 0px grey"};
    display: flex;
    flex-direction: column;
    padding-top: 1rem;
    padding-bottom: 1rem;
    font-size: 20px;
    background-color: white;
    box-sizing: border-box;
    overflow: scroll;
    z-index: 5;
`,_k=Yt.div`
    position: fixed;
    top: 0;
    left: 30rem;
    height: 100vh;
    box-shadow: 0px 0 5px 0px grey;
    display: flex;
    flex-direction: column;
    padding-top: 1rem;
    padding-bottom: 1rem;
    font-size: 20px;
    background-color: gainsboro;
    box-sizing: border-box;
    overflow: scroll;
`,xk=Yt.input`
    font-size: 30px;
    width: fit-content;
    background: transparent;
    appearance: none;
    border: none;
    margin-bottom: 0.5rem;
    &:focus {
      outline: 2px dashed black;
    }
`,Ek=Yt.li`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  width: 100%;
  padding: 0.5rem 1rem 0.5rem 1rem;
  cursor: ${t=>t.$simulating?"default":"pointer"};
  box-sizing: border-box;
  color: ${t=>t.$selected?"white":"black"};
  background-color: ${t=>t.$selected?"gainsboro":"white"};

  ${t=>t.$simulating?"":`&:hover {
      color: white;
      background-color: Gainsboro;
  }`}

  & > svg {
    color: white;
    border-radius: 50%;
  }
`,bk=Yt.h1`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  font-size: 30px;
  font-weight: normal;
  margin: 1rem;
`,wk=Yt(Nl)`
  display: block;
  height: 30px;
  width: 30px;
  margin: auto;
  margin-left: 1rem;
  margin-right: 1rem;
  cursor: pointer;
  &:hover {
    color: white;
  }
`,Sk=Yt.li`
  width: 100%;
  padding: 0.5rem 1rem 0.5rem 1rem;
  box-sizing: border-box;
`,Tk=({setState:t,savedGraphs:e})=>{const n=Qt.useRef(null),r=Qt.useRef(null),[a,s]=Qt.useState(!1),[u,l]=Qt.useState(null),[f,h]=Qt.useState({name:"Unnamed Event Log",traces:[]}),p=Qt.useRef(!1),g=Qt.useRef(null),m=(C,P)=>{C.includes('multi-instance="true"')?Xn.error("Multi-instance subprocesses not supported..."):(f.traces.length===0||confirm("This will override your current event log! Do you wish to continue?"))&&P&&P(C).then(B=>{if(n.current&&r.current){const S=u0(n.current.getElementRegistry());r.current={initial:S,current:{...S,marking:su(S.marking)}},n.current.updateRendering(S),h({name:"Unnamed Event Log",traces:[]}),p.current=!1,g.current=null,l(null)}}).catch(B=>{console.log(B),Xn.error("Unable to parse XML...")})},_=(C,P)=>{if(P.events.has(C))return P;let B=null;return P.subProcesses.forEach(S=>{let z=_(C,S);z&&(B=z)}),B};function b(C){var P=C.businessObject.description;return P==null||P===""?"Executed Unnamed event":"Executed  "+P}function A(C){var P=C.businessObject.description;return(P==null||P==="")&&(P="Unnamed event"),P.toString()}const R=(C,P)=>{var F;const B=C.id;(F=C.businessObject)==null||F.description;let S=_(B,P);if(!S)return{msg:"Event not found in graph",executedEvent:""};const z=s0(B,P,S);return z.enabled?(sC(B,P,S),{msg:b(C),executedEvent:A(C)}):{msg:z.msg,executedEvent:""}},T=C=>{if(!p.current||!g.current||!n.current||!r.current)return;const P=R(C.element,r.current.current);console.log(P),P.executedEvent!==""&&(g.current.trace.push(P.executedEvent),l({traceId:"Trace "+g.current.traceId,trace:[...g.current.trace]})),n.current.updateRendering(r.current.current)},E=()=>{r.current&&n.current&&(r.current.current={...r.current.initial,marking:su(r.current.initial.marking)},n.current.updateRendering(r.current.current))},v=()=>{var S;if(!n.current||!r.current)return;const C={events:(S=r.current)==null?void 0:S.initial.events,traces:{}};for(const z of f.traces)C.traces[z.traceId]=z.trace;const P=U5(C),B=new Blob([P]);xm.saveAs(B,`${f.name}.xes`)},w=[{element:st.jsx(yk,{children:st.jsxs(Ih,{accept:"text/xml",fileCallback:C=>{var P;m(C,(P=n.current)==null?void 0:P.importXML),s(!1)},children:[st.jsx(d1,{}),st.jsx(st.Fragment,{children:"Editor XML"})]})})},{element:st.jsx(vk,{children:"Saved Graphs:"})},...Object.keys(e).map(C=>({icon:st.jsx(QA,{}),text:C,onClick:()=>{var P;m(e[C],(P=n.current)==null?void 0:P.importXML),s(!1)}}))],M=[{element:st.jsxs(FT,{children:[st.jsx(y1,{initChecked:!0,onChange:C=>{var P;return(P=n.current)==null?void 0:P.setSetting("blackRelations",!C.target.checked)}}),st.jsx(XT,{children:"Coloured Relations"})]})},{element:st.jsxs(FT,{children:[st.jsx(v1,{options:[{title:"Default",value:"default"},{title:"Proposed",value:"proposedMarkers"},{title:"New",value:"newMarkers"}],onChange:C=>{var P;return m1(C)&&((P=n.current)==null?void 0:P.setSetting("markerNotation",C))}}),st.jsx(XT,{children:"Relation Notation"})]})}];return st.jsxs(st.Fragment,{children:[st.jsx(o1,{modelerRef:n,override:{graphRef:r,overrideOnclick:T,canvasClassName:"simulating"}}),st.jsxs(mk,{$traceSelected:u!==null,children:[st.jsx(xk,{value:f.name,onChange:C=>h({...f,name:C.target.value})}),f.traces.map(({trace:C,traceId:P})=>st.jsx(Ek,{$simulating:p.current,$selected:u!==null&&u.traceId===P,onClick:()=>{p.current||l({trace:C,traceId:P})},children:P},P)),st.jsxs(p1,{direction:"row",$justify:"space-around",children:[st.jsx(Pv,{disabled:p.current,onClick:()=>{p.current=!0;const C=f.traces.length;h({...f,traces:[...f.traces,{traceId:"Trace "+C,trace:[]}]}),l({traceId:"Trace "+C,trace:[]}),g.current={traceId:C,trace:[]}},children:"Add new trace"}),st.jsx(Pv,{disabled:p.current,onClick:v,children:"Export log"})]})]}),u&&st.jsxs(_k,{children:[st.jsxs(bk,{children:[u.traceId,st.jsx(wk,{onClick:()=>{p.current&&(console.log("trying to remove trace: ",u.traceId),h({...f,traces:f.traces.filter(C=>C.traceId!==u.traceId)})),p.current=!1,l(null),E()}})]}),st.jsx("ul",{children:u.trace.map((C,P)=>st.jsx(Sk,{children:C},C+P))}),p.current&&st.jsx(Pv,{onClick:()=>{var C;if((C=r.current)!=null&&C.current)if(aC(r.current.current)&&g.current){p.current=!1;const P={...f,traces:[...f.traces]};P.traces[g.current.traceId].trace=g.current.trace,l(null),E()}else Xn.warn("Graphs is not accepting...")},children:"Finalize trace"})]}),st.jsxs(g1,{children:[st.jsx(x1,{}),st.jsx(f1,{onClick:()=>t(es.Home)}),st.jsx(h1,{elements:w,open:a,bottomElements:M,setOpen:s})]})]})},GT=Yt.div`
  width: 100%;
  & > label > svg {
    font-size: 25px;
  }
  & > label {
    padding: 1rem;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    cursor: pointer;
  }
  &:hover {
      color: white;
      background-color: Gainsboro;
  } 
`,qT=Yt.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  width: 100%;
  padding: 1rem;
  cursor: default;
`,Bv=Yt.label`
  margin-top: auto;
  margin-bottom: auto;
`,Ck=Yt.label`
    padding: 1rem;
`,Mk=Yt.div`
    position: fixed;
    top: 0;
    left: 0;
    height: 100vh;
    width: 30rem;
    box-shadow: ${t=>t.$traceSelected?"none":"0px 0px 5px 0px grey"};
    display: flex;
    flex-direction: column;
    padding-top: 1rem;
    padding-bottom: 1rem;
    font-size: 20px;
    background-color: white;
    box-sizing: border-box;
    overflow: scroll;
    z-index: 5;
`,Ak=Yt.div`
    position: fixed;
    top: 0;
    left: 30rem;
    height: 100vh;
    box-shadow: 0px 0 5px 0px grey;
    display: flex;
    flex-direction: column;
    padding-top: 1rem;
    padding-bottom: 1rem;
    font-size: 20px;
    background-color: gainsboro;
    box-sizing: border-box;
    overflow: scroll;
`,Ok=Yt.li`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  width: 100%;
  padding: 0.5rem 1rem 0.5rem 1rem;
  cursor: pointer;
  box-sizing: border-box;
  color: ${t=>t.$selected?"white":"black"};
  background-color: ${t=>t.$selected?"gainsboro":"white"};

  &:hover {
      color: white;
      background-color: Gainsboro;
  } 

  & > svg {
    color: white;
    border-radius: 50%;
  }
`,VT=Yt.h1`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  font-size: 30px;
  font-weight: normal;
  margin: 1rem;
`,Rk=Yt(Nl)`
  display: block;
  height: 30px;
  width: 30px;
  margin: auto;
  margin-left: 1rem;
  margin-right: 0;
  cursor: pointer;
  &:hover {
    color: gainsboro;
  }
`,Nk=Yt(Nl)`
  display: block;
  height: 30px;
  width: 30px;
  margin: auto;
  margin-left: 1rem;
  margin-right: 1rem;
  cursor: pointer;
  &:hover {
    color: white;
  }
`,Dk=Yt.li`
  width: 100%;
  padding: 0.5rem 1rem 0.5rem 1rem;
  box-sizing: border-box;
`,Lk=Yt.div`
    display: flex;
    flex-direction: row;

    & > svg {
    display: block;
    color: white;
    border-radius: 50%;
    margin: auto;
    margin-right: 1rem;
    margin-left: 0.5rem;
  }
`,Iv=t=>{switch(t){case void 0:return st.jsx(uj,{style:{backgroundColor:"orange"}});case!0:return st.jsx(nj,{style:{backgroundColor:"green"}});case!1:return st.jsx(Nl,{style:{backgroundColor:"red"}})}},Pk=({savedGraphs:t,setState:e})=>{const[n,r]=Qt.useState(!1),a=Qt.useRef(null),s=Qt.useRef(null),[u,l]=Qt.useState([]),[f,h]=Qt.useState(null),{positiveCount:p,negativeCount:g}=Qt.useMemo(()=>{let R=0,T=0;for(const E of u)E.isPositive!==void 0&&E.isPositive?R++:T++;return{positiveCount:R,negativeCount:T}},[u]),m=(R,T)=>{R.includes("dcr:subProces")?Xn.error("Subprocesses not supported..."):T&&T(R).then(E=>{if(a.current&&s.current){const v=u0(a.current.getElementRegistry());if(s.current={initial:v,current:{...v,marking:su(v.marking)}},u){const w=u.map(({traceId:M,trace:C})=>({traceId:M,trace:C,isPositive:xh(v,C)}));l(w)}}}).catch(E=>{console.log(E),Xn.error("Unable to parse XML...")})},_=R=>{try{const T=H5(R),E=Object.keys(T.traces).map(v=>{const w=T.traces[v];return{traceId:v,trace:w,isPositive:s.current?xh(s.current.initial,w):void 0}});l(E)}catch(T){console.log(T),Xn.error("Cannot parse log...")}},b=[{element:st.jsx(GT,{children:st.jsxs(Ih,{accept:"text/xml",fileCallback:R=>{var T;m(R,(T=a.current)==null?void 0:T.importXML),r(!1)},children:[st.jsx(d1,{}),st.jsx(st.Fragment,{children:"Editor XML"})]})})},{element:st.jsx(GT,{children:st.jsxs(Ih,{accept:".xes",fileCallback:R=>{_(R),r(!1)},children:[st.jsx(lj,{}),st.jsx(st.Fragment,{children:"Upload Log"})]})})},{element:st.jsx(Ck,{children:"Saved Graphs:"})},...Object.keys(t).map(R=>({icon:st.jsx(QA,{}),text:R,onClick:()=>{var T;m(t[R],(T=a.current)==null?void 0:T.importXML),r(!1)}}))],A=[{element:st.jsxs(qT,{children:[st.jsx(y1,{initChecked:!0,onChange:R=>{var T;return(T=a.current)==null?void 0:T.setSetting("blackRelations",!R.target.checked)}}),st.jsx(Bv,{children:"Coloured Relations"})]})},{element:st.jsxs(qT,{children:[st.jsx(v1,{options:[{title:"Default",value:"default"},{title:"Proposed",value:"proposedMarkers"},{title:"New",value:"newMarkers"}],onChange:R=>{var T;return m1(R)&&((T=a.current)==null?void 0:T.setSetting("markerNotation",R))}}),st.jsx(Bv,{children:"Relation Notation"})]})}];return st.jsxs(st.Fragment,{children:[st.jsx(o1,{modelerRef:a,override:{graphRef:s,overrideOnclick:()=>null,canvasClassName:"conformance"}}),u.length>0&&st.jsxs(Mk,{$traceSelected:f!==null,children:[st.jsxs(VT,{children:["Traces:",st.jsxs(Lk,{children:[p,Iv(!0),g,Iv(!1)]}),st.jsx(Rk,{onClick:()=>l([])})]}),st.jsx("ul",{children:u.map(({traceId:R,trace:T,isPositive:E})=>st.jsxs(Ok,{$selected:f!==null&&f.traceId===R,onClick:()=>h({trace:T,traceId:R}),children:[st.jsx(Bv,{children:R}),Iv(E)]},R))})]}),f&&st.jsxs(Ak,{children:[st.jsxs(VT,{children:[f.traceId,st.jsx(Nk,{onClick:()=>h(null)})]}),st.jsx("ul",{children:f.trace.map((R,T)=>st.jsx(Dk,{children:R},R+T))})]}),st.jsxs(g1,{children:[st.jsx(x1,{}),st.jsx(f1,{onClick:()=>e(es.Home)}),st.jsx(h1,{elements:b,open:n,bottomElements:A,setOpen:r})]})]})};var es=(t=>(t[t.Modeler=0]="Modeler",t[t.Home=1]="Home",t[t.Simulator=2]="Simulator",t[t.Conformance=3]="Conformance",t))(es||{});const Bk=()=>{const[t,e]=Qt.useState(1),[n,r]=Qt.useState({"Sample Graph":`<?xml version="1.0" encoding="UTF-8"?>
<dcr:definitions xmlns:dcr="http://tk/schema/dcr" xmlns:dcrDi="http://tk/schema/dcrDi" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC">
  <dcr:dcrGraph id="dcrGraph">
    <dcr:event id="Event_01rzn5e" role="Test" description="" included="true" executed="false" pending="false" enabled="false" />
    <dcr:event id="Event_1yttgtd" description="" included="true" executed="false" pending="false" enabled="false" />
    <dcr:event id="Event_1z0kins" description="" included="true" executed="false" pending="false" enabled="false" />
    <dcr:event id="Event_0mj6wyy" description="" included="true" executed="false" pending="false" enabled="false" />
    <dcr:relation id="Relation_0u8jox9" type="condition" sourceRef="Event_1z0kins" targetRef="Event_0mj6wyy" />
    <dcr:relation id="Relation_0x8gslb" type="include" sourceRef="Event_01rzn5e" targetRef="Event_1yttgtd" />
  </dcr:dcrGraph>
  <dcrDi:dcrRootBoard id="RootBoard">
    <dcrDi:dcrPlane id="Plane" boardElement="dcrGraph">
      <dcrDi:relation id="Relation_0u8jox9_di" boardElement="Relation_0u8jox9">
        <dcrDi:waypoint x="730" y="1045" />
        <dcrDi:waypoint x="885" y="1045" />
        <dcrDi:waypoint x="885" y="995" />
        <dcrDi:waypoint x="1040" y="995" />
      </dcrDi:relation>
      <dcrDi:relation id="Relation_0x8gslb_di" boardElement="Relation_0x8gslb">
        <dcrDi:waypoint x="480" y="655" />
        <dcrDi:waypoint x="660" y="655" />
        <dcrDi:waypoint x="660" y="685" />
        <dcrDi:waypoint x="840" y="685" />
      </dcrDi:relation>
      <dcrDi:dcrShape id="Event_01rzn5e_di" boardElement="Event_01rzn5e">
        <dc:Bounds x="350" y="580" width="130" height="150" />
      </dcrDi:dcrShape>
      <dcrDi:dcrShape id="Event_1yttgtd_di" boardElement="Event_1yttgtd">
        <dc:Bounds x="840" y="610" width="130" height="150" />
      </dcrDi:dcrShape>
      <dcrDi:dcrShape id="Event_1z0kins_di" boardElement="Event_1z0kins">
        <dc:Bounds x="600" y="970" width="130" height="150" />
      </dcrDi:dcrShape>
      <dcrDi:dcrShape id="Event_0mj6wyy_di" boardElement="Event_0mj6wyy">
        <dc:Bounds x="1040" y="920" width="130" height="150" />
      </dcrDi:dcrShape>
    </dcrDi:dcrPlane>
  </dcrDi:dcrRootBoard>
</dcr:definitions>`});switch(t){case 0:return st.jsx(hk,{savedGraphs:n,setSavedGraphs:r,setState:e});case 1:return st.jsx(gk,{setState:e,savedGraphs:n,setSavedGraphs:r});case 2:return st.jsx(Tk,{setState:e,savedGraphs:n,setSavedGraphs:r});case 3:return st.jsx(Pk,{setState:e,savedGraphs:n,setSavedGraphs:r})}};vN.createRoot(document.getElementById("root")).render(st.jsxs(Qt.StrictMode,{children:[st.jsx(Bk,{}),st.jsx(kj,{position:"top-right"})]}));
